var sx=Object.defineProperty;var ox=(n,e,t)=>e in n?sx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ef=(n,e,t)=>ox(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ob={exports:{}},ip={},Pb={exports:{}},Hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=Symbol.for("react.element"),ax=Symbol.for("react.portal"),lx=Symbol.for("react.fragment"),ux=Symbol.for("react.strict_mode"),cx=Symbol.for("react.profiler"),hx=Symbol.for("react.provider"),fx=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),mx=Symbol.for("react.memo"),gx=Symbol.for("react.lazy"),i2=Symbol.iterator;function yx(n){return n===null||typeof n!="object"?null:(n=i2&&n[i2]||n["@@iterator"],typeof n=="function"?n:null)}var Lb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Db={};function fc(n,e,t){this.props=n,this.context=e,this.refs=Db,this.updater=t||Lb}fc.prototype.isReactComponent={};fc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};fc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Ib(){}Ib.prototype=fc.prototype;function dg(n,e,t){this.props=n,this.context=e,this.refs=Db,this.updater=t||Lb}var pg=dg.prototype=new Ib;pg.constructor=dg;Rb(pg,fc.prototype);pg.isPureReactComponent=!0;var s2=Array.isArray,Fb=Object.prototype.hasOwnProperty,mg={current:null},Bb={key:!0,ref:!0,__self:!0,__source:!0};function zb(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Fb.call(e,r)&&!Bb.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];s.children=u}if(n&&n.defaultProps)for(r in l=n.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Nh,type:n,key:i,ref:o,props:s,_owner:mg.current}}function bx(n,e){return{$$typeof:Nh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function gg(n){return typeof n=="object"&&n!==null&&n.$$typeof===Nh}function vx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var o2=/\/+/g;function Kp(n,e){return typeof n=="object"&&n!==null&&n.key!=null?vx(""+n.key):e.toString(36)}function Kf(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Nh:case ax:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+Kp(o,0):r,s2(s)?(t="",n!=null&&(t=n.replace(o2,"$&/")+"/"),Kf(s,e,t,"",function(a){return a})):s!=null&&(gg(s)&&(s=bx(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(o2,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",s2(n))for(var l=0;l<n.length;l++){i=n[l];var u=r+Kp(i,l);o+=Kf(i,e,t,u,s)}else if(u=yx(n),typeof u=="function")for(n=u.call(n),l=0;!(i=n.next()).done;)i=i.value,u=r+Kp(i,l++),o+=Kf(i,e,t,u,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rf(n,e,t){if(n==null)return n;var r=[],s=0;return Kf(n,r,"","",function(i){return e.call(t,i,s++)}),r}function wx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var es={current:null},Zf={transition:null},xx={ReactCurrentDispatcher:es,ReactCurrentBatchConfig:Zf,ReactCurrentOwner:mg};function Ub(){throw Error("act(...) is not supported in production builds of React.")}Hr.Children={map:rf,forEach:function(n,e,t){rf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return rf(n,function(){e++}),e},toArray:function(n){return rf(n,function(e){return e})||[]},only:function(n){if(!gg(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Hr.Component=fc;Hr.Fragment=lx;Hr.Profiler=cx;Hr.PureComponent=dg;Hr.StrictMode=ux;Hr.Suspense=px;Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xx;Hr.act=Ub;Hr.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Rb({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mg.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(u in e)Fb.call(e,u)&&!Bb.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Nh,type:n.type,key:s,ref:i,props:r,_owner:o}};Hr.createContext=function(n){return n={$$typeof:fx,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:hx,_context:n},n.Consumer=n};Hr.createElement=zb;Hr.createFactory=function(n){var e=zb.bind(null,n);return e.type=n,e};Hr.createRef=function(){return{current:null}};Hr.forwardRef=function(n){return{$$typeof:dx,render:n}};Hr.isValidElement=gg;Hr.lazy=function(n){return{$$typeof:gx,_payload:{_status:-1,_result:n},_init:wx}};Hr.memo=function(n,e){return{$$typeof:mx,type:n,compare:e===void 0?null:e}};Hr.startTransition=function(n){var e=Zf.transition;Zf.transition={};try{n()}finally{Zf.transition=e}};Hr.unstable_act=Ub;Hr.useCallback=function(n,e){return es.current.useCallback(n,e)};Hr.useContext=function(n){return es.current.useContext(n)};Hr.useDebugValue=function(){};Hr.useDeferredValue=function(n){return es.current.useDeferredValue(n)};Hr.useEffect=function(n,e){return es.current.useEffect(n,e)};Hr.useId=function(){return es.current.useId()};Hr.useImperativeHandle=function(n,e,t){return es.current.useImperativeHandle(n,e,t)};Hr.useInsertionEffect=function(n,e){return es.current.useInsertionEffect(n,e)};Hr.useLayoutEffect=function(n,e){return es.current.useLayoutEffect(n,e)};Hr.useMemo=function(n,e){return es.current.useMemo(n,e)};Hr.useReducer=function(n,e,t){return es.current.useReducer(n,e,t)};Hr.useRef=function(n){return es.current.useRef(n)};Hr.useState=function(n){return es.current.useState(n)};Hr.useSyncExternalStore=function(n,e,t){return es.current.useSyncExternalStore(n,e,t)};Hr.useTransition=function(){return es.current.useTransition()};Hr.version="18.3.1";Pb.exports=Hr;var Te=Pb.exports;const ma=fg(Te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x=Te,Sx=Symbol.for("react.element"),kx=Symbol.for("react.fragment"),Cx=Object.prototype.hasOwnProperty,Tx=_x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ax={key:!0,ref:!0,__self:!0,__source:!0};function qb(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Cx.call(e,r)&&!Ax.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Sx,type:n,key:i,ref:o,props:s,_owner:Tx.current}}ip.Fragment=kx;ip.jsx=qb;ip.jsxs=qb;Ob.exports=ip;var Z=Ob.exports,$b={exports:{}},Ns={},Hb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(x,S){var A=x.length;x.push(S);t:for(;0<A;){var B=A-1>>>1,M=x[B];if(0<s(M,S))x[B]=S,x[A]=M,A=B;else break t}}function t(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var S=x[0],A=x.pop();if(A!==S){x[0]=A;t:for(var B=0,M=x.length,H=M>>>1;B<H;){var V=2*(B+1)-1,tt=x[V],F=V+1,J=x[F];if(0>s(tt,A))F<M&&0>s(J,tt)?(x[B]=J,x[F]=A,B=F):(x[B]=tt,x[V]=A,B=V);else if(F<M&&0>s(J,A))x[B]=J,x[F]=A,B=F;else break t}}return S}function s(x,S){var A=x.sortIndex-S.sortIndex;return A!==0?A:x.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],a=[],c=1,d=null,f=3,h=!1,p=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(x){for(var S=t(a);S!==null;){if(S.callback===null)r(a);else if(S.startTime<=x)r(a),S.sortIndex=S.expirationTime,e(u,S);else break;S=t(a)}}function C(x){if(y=!1,w(x),!p)if(t(u)!==null)p=!0,v(j);else{var S=t(a);S!==null&&_(C,S.startTime-x)}}function j(x,S){p=!1,y&&(y=!1,g(P),P=-1),h=!0;var A=f;try{for(w(S),d=t(u);d!==null&&(!(d.expirationTime>S)||x&&!z());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var M=B(d.expirationTime<=S);S=n.unstable_now(),typeof M=="function"?d.callback=M:d===t(u)&&r(u),w(S)}else r(u);d=t(u)}if(d!==null)var H=!0;else{var V=t(a);V!==null&&_(C,V.startTime-S),H=!1}return H}finally{d=null,f=A,h=!1}}var I=!1,q=null,P=-1,U=5,W=-1;function z(){return!(n.unstable_now()-W<U)}function R(){if(q!==null){var x=n.unstable_now();W=x;var S=!0;try{S=q(!0,x)}finally{S?T():(I=!1,q=null)}}else I=!1}var T;if(typeof b=="function")T=function(){b(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,k=E.port2;E.port1.onmessage=R,T=function(){k.postMessage(null)}}else T=function(){m(R,0)};function v(x){q=x,I||(I=!0,T())}function _(x,S){P=m(function(){x(n.unstable_now())},S)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(x){x.callback=null},n.unstable_continueExecution=function(){p||h||(p=!0,v(j))},n.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<x?Math.floor(1e3/x):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(x){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var A=f;f=S;try{return x()}finally{f=A}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var A=f;f=x;try{return S()}finally{f=A}},n.unstable_scheduleCallback=function(x,S,A){var B=n.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?B+A:B):A=B,x){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=A+M,x={id:c++,callback:S,priorityLevel:x,startTime:A,expirationTime:M,sortIndex:-1},A>B?(x.sortIndex=A,e(a,x),t(u)===null&&x===t(a)&&(y?(g(P),P=-1):y=!0,_(C,A-B))):(x.sortIndex=M,e(u,x),p||h||(p=!0,v(j))),x},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(x){var S=f;return function(){var A=f;f=S;try{return x.apply(this,arguments)}finally{f=A}}}})(Wb);Hb.exports=Wb;var Mx=Hb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=Te,Es=Mx;function De(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vb=new Set,oh={};function lu(n,e){ic(n,e),ic(n+"Capture",e)}function ic(n,e){for(oh[n]=e,n=0;n<e.length;n++)Vb.add(e[n])}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X0=Object.prototype.hasOwnProperty,Ex=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a2={},l2={};function Nx(n){return X0.call(l2,n)?!0:X0.call(a2,n)?!1:Ex.test(n)?l2[n]=!0:(a2[n]=!0,!1)}function Ox(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Px(n,e,t,r){if(e===null||typeof e>"u"||Ox(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rs(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Mi[n]=new rs(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Mi[e]=new rs(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Mi[n]=new rs(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Mi[n]=new rs(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Mi[n]=new rs(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Mi[n]=new rs(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Mi[n]=new rs(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Mi[n]=new rs(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Mi[n]=new rs(n,5,!1,n.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function bg(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(yg,bg);Mi[e]=new rs(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(yg,bg);Mi[e]=new rs(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(yg,bg);Mi[e]=new rs(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Mi[n]=new rs(n,1,!1,n.toLowerCase(),null,!1,!1)});Mi.xlinkHref=new rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Mi[n]=new rs(n,1,!1,n.toLowerCase(),null,!0,!0)});function vg(n,e,t,r){var s=Mi.hasOwnProperty(e)?Mi[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Px(e,t,s,r)&&(t=null),r||s===null?Nx(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Oa=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Y0=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Yb=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),K0=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),il=Symbol.for("react.lazy"),Gb=Symbol.for("react.offscreen"),u2=Symbol.iterator;function jc(n){return n===null||typeof n!="object"?null:(n=u2&&n[u2]||n["@@iterator"],typeof n=="function"?n:null)}var On=Object.assign,Zp;function Uc(n){if(Zp===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Zp=e&&e[1]||""}return`
`+Zp+n}var Jp=!1;function Qp(n,e){if(!n||Jp)return"";Jp=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(n,[],e)}else{try{e.call()}catch(a){r=a}n.call(e.prototype)}else{try{throw Error()}catch(a){r=a}n()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var s=a.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=l);break}}}finally{Jp=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Uc(n):""}function Lx(n){switch(n.tag){case 5:return Uc(n.type);case 16:return Uc("Lazy");case 13:return Uc("Suspense");case 19:return Uc("SuspenseList");case 0:case 2:case 15:return n=Qp(n.type,!1),n;case 11:return n=Qp(n.type.render,!1),n;case 1:return n=Qp(n.type,!0),n;default:return""}}function Z0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Eu:return"Fragment";case ju:return"Portal";case Y0:return"Profiler";case wg:return"StrictMode";case G0:return"Suspense";case K0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Yb:return(n.displayName||"Context")+".Consumer";case Xb:return(n._context.displayName||"Context")+".Provider";case xg:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _g:return e=n.displayName||null,e!==null?e:Z0(n.type)||"Memo";case il:e=n._payload,n=n._init;try{return Z0(n(e))}catch{}}return null}function Rx(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z0(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Kb(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dx(n){var e=Kb(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sf(n){n._valueTracker||(n._valueTracker=Dx(n))}function Zb(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Kb(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function yd(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function J0(n,e){var t=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function c2(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=vl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jb(n,e){e=e.checked,e!=null&&vg(n,"checked",e,!1)}function Q0(n,e){Jb(n,e);var t=vl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?tm(n,e.type,t):e.hasOwnProperty("defaultValue")&&tm(n,e.type,vl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function h2(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function tm(n,e,t){(e!=="number"||yd(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var qc=Array.isArray;function Wu(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+vl(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function em(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function f2(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(De(92));if(qc(t)){if(1<t.length)throw Error(De(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:vl(t)}}function Qb(n,e){var t=vl(e.value),r=vl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function d2(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tv(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tv(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var of,ev=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(of=of||document.createElement("div"),of.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=of.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ah(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ix=["Webkit","ms","Moz","O"];Object.keys(Vc).forEach(function(n){Ix.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Vc[e]=Vc[n]})});function rv(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Vc.hasOwnProperty(n)&&Vc[n]?(""+e).trim():e+"px"}function nv(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=rv(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var Fx=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nm(n,e){if(e){if(Fx[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function im(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function Sg(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var om=null,Vu=null,Xu=null;function p2(n){if(n=Lh(n)){if(typeof om!="function")throw Error(De(280));var e=n.stateNode;e&&(e=up(e),om(n.stateNode,n.type,e))}}function iv(n){Vu?Xu?Xu.push(n):Xu=[n]:Vu=n}function sv(){if(Vu){var n=Vu,e=Xu;if(Xu=Vu=null,p2(n),e)for(n=0;n<e.length;n++)p2(e[n])}}function ov(n,e){return n(e)}function av(){}var t0=!1;function lv(n,e,t){if(t0)return n(e,t);t0=!0;try{return ov(n,e,t)}finally{t0=!1,(Vu!==null||Xu!==null)&&(av(),sv())}}function lh(n,e){var t=n.stateNode;if(t===null)return null;var r=up(t);if(r===null)return null;t=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break t;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(De(231,e,typeof t));return t}var am=!1;if(ka)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){am=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{am=!1}function Bx(n,e,t,r,s,i,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(t,a)}catch(c){this.onError(c)}}var Xc=!1,bd=null,vd=!1,lm=null,zx={onError:function(n){Xc=!0,bd=n}};function Ux(n,e,t,r,s,i,o,l,u){Xc=!1,bd=null,Bx.apply(zx,arguments)}function qx(n,e,t,r,s,i,o,l,u){if(Ux.apply(this,arguments),Xc){if(Xc){var a=bd;Xc=!1,bd=null}else throw Error(De(198));vd||(vd=!0,lm=a)}}function uu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function uv(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function m2(n){if(uu(n)!==n)throw Error(De(188))}function $x(n){var e=n.alternate;if(!e){if(e=uu(n),e===null)throw Error(De(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return m2(s),n;if(i===r)return m2(s),e;i=i.sibling}throw Error(De(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===t){o=!0,t=s,r=i;break}if(l===r){o=!0,r=s,t=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===t){o=!0,t=i,r=s;break}if(l===r){o=!0,r=i,t=s;break}l=l.sibling}if(!o)throw Error(De(189))}}if(t.alternate!==r)throw Error(De(190))}if(t.tag!==3)throw Error(De(188));return t.stateNode.current===t?n:e}function cv(n){return n=$x(n),n!==null?hv(n):null}function hv(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=hv(n);if(e!==null)return e;n=n.sibling}return null}var fv=Es.unstable_scheduleCallback,g2=Es.unstable_cancelCallback,Hx=Es.unstable_shouldYield,Wx=Es.unstable_requestPaint,$n=Es.unstable_now,Vx=Es.unstable_getCurrentPriorityLevel,kg=Es.unstable_ImmediatePriority,dv=Es.unstable_UserBlockingPriority,wd=Es.unstable_NormalPriority,Xx=Es.unstable_LowPriority,pv=Es.unstable_IdlePriority,sp=null,Wo=null;function Yx(n){if(Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(sp,n,void 0,(n.current.flags&128)===128)}catch{}}var To=Math.clz32?Math.clz32:Zx,Gx=Math.log,Kx=Math.LN2;function Zx(n){return n>>>=0,n===0?32:31-(Gx(n)/Kx|0)|0}var af=64,lf=4194304;function $c(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xd(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~s;l!==0?r=$c(l):(i&=o,i!==0&&(r=$c(i)))}else o=t&~s,o!==0?r=$c(o):i!==0&&(r=$c(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-To(e),s=1<<t,r|=n[t],e&=~s;return r}function Jx(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qx(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-To(i),l=1<<o,u=s[o];u===-1?(!(l&t)||l&r)&&(s[o]=Jx(l,e)):u<=e&&(n.expiredLanes|=l),i&=~l}}function um(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mv(){var n=af;return af<<=1,!(af&4194240)&&(af=64),n}function e0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Oh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-To(e),n[e]=t}function t4(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-To(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function Cg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-To(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var un=0;function gv(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yv,Tg,bv,vv,wv,cm=!1,uf=[],hl=null,fl=null,dl=null,uh=new Map,ch=new Map,ol=[],e4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(n,e){switch(n){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":uh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(e.pointerId)}}function Nc(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lh(e),e!==null&&Tg(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function r4(n,e,t,r,s){switch(e){case"focusin":return hl=Nc(hl,n,e,t,r,s),!0;case"dragenter":return fl=Nc(fl,n,e,t,r,s),!0;case"mouseover":return dl=Nc(dl,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return uh.set(i,Nc(uh.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ch.set(i,Nc(ch.get(i)||null,n,e,t,r,s)),!0}return!1}function xv(n){var e=Wl(n.target);if(e!==null){var t=uu(e);if(t!==null){if(e=t.tag,e===13){if(e=uv(t),e!==null){n.blockedOn=e,wv(n.priority,function(){bv(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=hm(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);sm=r,t.target.dispatchEvent(r),sm=null}else return e=Lh(t),e!==null&&Tg(e),n.blockedOn=t,!1;e.shift()}return!0}function b2(n,e,t){Jf(n)&&t.delete(e)}function n4(){cm=!1,hl!==null&&Jf(hl)&&(hl=null),fl!==null&&Jf(fl)&&(fl=null),dl!==null&&Jf(dl)&&(dl=null),uh.forEach(b2),ch.forEach(b2)}function Oc(n,e){n.blockedOn===e&&(n.blockedOn=null,cm||(cm=!0,Es.unstable_scheduleCallback(Es.unstable_NormalPriority,n4)))}function hh(n){function e(s){return Oc(s,n)}if(0<uf.length){Oc(uf[0],n);for(var t=1;t<uf.length;t++){var r=uf[t];r.blockedOn===n&&(r.blockedOn=null)}}for(hl!==null&&Oc(hl,n),fl!==null&&Oc(fl,n),dl!==null&&Oc(dl,n),uh.forEach(e),ch.forEach(e),t=0;t<ol.length;t++)r=ol[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ol.length&&(t=ol[0],t.blockedOn===null);)xv(t),t.blockedOn===null&&ol.shift()}var Yu=Oa.ReactCurrentBatchConfig,_d=!0;function i4(n,e,t,r){var s=un,i=Yu.transition;Yu.transition=null;try{un=1,Ag(n,e,t,r)}finally{un=s,Yu.transition=i}}function s4(n,e,t,r){var s=un,i=Yu.transition;Yu.transition=null;try{un=4,Ag(n,e,t,r)}finally{un=s,Yu.transition=i}}function Ag(n,e,t,r){if(_d){var s=hm(n,e,t,r);if(s===null)h0(n,e,r,Sd,t),y2(n,r);else if(r4(s,n,e,t,r))r.stopPropagation();else if(y2(n,r),e&4&&-1<e4.indexOf(n)){for(;s!==null;){var i=Lh(s);if(i!==null&&yv(i),i=hm(n,e,t,r),i===null&&h0(n,e,r,Sd,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else h0(n,e,r,null,t)}}var Sd=null;function hm(n,e,t,r){if(Sd=null,n=Sg(r),n=Wl(n),n!==null)if(e=uu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=uv(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Sd=n,null}function _v(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vx()){case kg:return 1;case dv:return 4;case wd:case Xx:return 16;case pv:return 536870912;default:return 16}default:return 16}}var ll=null,Mg=null,Qf=null;function Sv(){if(Qf)return Qf;var n,e=Mg,t=e.length,r,s="value"in ll?ll.value:ll.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Qf=s.slice(n,1<r?1-r:void 0)}function td(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function cf(){return!0}function v2(){return!1}function Os(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cf:v2,this.isPropagationStopped=v2,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),e}var dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=Os(dc),Ph=On({},dc,{view:0,detail:0}),o4=Os(Ph),r0,n0,Pc,op=On({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Pc&&(Pc&&n.type==="mousemove"?(r0=n.screenX-Pc.screenX,n0=n.screenY-Pc.screenY):n0=r0=0,Pc=n),r0)},movementY:function(n){return"movementY"in n?n.movementY:n0}}),w2=Os(op),a4=On({},op,{dataTransfer:0}),l4=Os(a4),u4=On({},Ph,{relatedTarget:0}),i0=Os(u4),c4=On({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),h4=Os(c4),f4=On({},dc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),d4=Os(f4),p4=On({},dc,{data:0}),x2=Os(p4),m4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b4(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=y4[n])?!!e[n]:!1}function Eg(){return b4}var v4=On({},Ph,{key:function(n){if(n.key){var e=m4[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=td(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?g4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(n){return n.type==="keypress"?td(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?td(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),w4=Os(v4),x4=On({},op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_2=Os(x4),_4=On({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),S4=Os(_4),k4=On({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),C4=Os(k4),T4=On({},op,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A4=Os(T4),M4=[9,13,27,32],Ng=ka&&"CompositionEvent"in window,Yc=null;ka&&"documentMode"in document&&(Yc=document.documentMode);var j4=ka&&"TextEvent"in window&&!Yc,kv=ka&&(!Ng||Yc&&8<Yc&&11>=Yc),S2=" ",k2=!1;function Cv(n,e){switch(n){case"keyup":return M4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nu=!1;function E4(n,e){switch(n){case"compositionend":return Tv(e);case"keypress":return e.which!==32?null:(k2=!0,S2);case"textInput":return n=e.data,n===S2&&k2?null:n;default:return null}}function N4(n,e){if(Nu)return n==="compositionend"||!Ng&&Cv(n,e)?(n=Sv(),Qf=Mg=ll=null,Nu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kv&&e.locale!=="ko"?null:e.data;default:return null}}var O4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!O4[n.type]:e==="textarea"}function Av(n,e,t,r){iv(r),e=kd(e,"onChange"),0<e.length&&(t=new jg("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Gc=null,fh=null;function P4(n){Fv(n,0)}function ap(n){var e=Lu(n);if(Zb(e))return n}function L4(n,e){if(n==="change")return e}var Mv=!1;if(ka){var s0;if(ka){var o0="oninput"in document;if(!o0){var T2=document.createElement("div");T2.setAttribute("oninput","return;"),o0=typeof T2.oninput=="function"}s0=o0}else s0=!1;Mv=s0&&(!document.documentMode||9<document.documentMode)}function A2(){Gc&&(Gc.detachEvent("onpropertychange",jv),fh=Gc=null)}function jv(n){if(n.propertyName==="value"&&ap(fh)){var e=[];Av(e,fh,n,Sg(n)),lv(P4,e)}}function R4(n,e,t){n==="focusin"?(A2(),Gc=e,fh=t,Gc.attachEvent("onpropertychange",jv)):n==="focusout"&&A2()}function D4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ap(fh)}function I4(n,e){if(n==="click")return ap(e)}function F4(n,e){if(n==="input"||n==="change")return ap(e)}function B4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jo=typeof Object.is=="function"?Object.is:B4;function dh(n,e){if(jo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!X0.call(e,s)||!jo(n[s],e[s]))return!1}return!0}function M2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function j2(n,e){var t=M2(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}t:{for(;t;){if(t.nextSibling){t=t.nextSibling;break t}t=t.parentNode}t=void 0}t=M2(t)}}function Ev(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Ev(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Nv(){for(var n=window,e=yd();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=yd(n.document)}return e}function Og(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function z4(n){var e=Nv(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Ev(t.ownerDocument.documentElement,t)){if(r!==null&&Og(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=j2(t,i);var o=j2(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var U4=ka&&"documentMode"in document&&11>=document.documentMode,Ou=null,fm=null,Kc=null,dm=!1;function E2(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;dm||Ou==null||Ou!==yd(r)||(r=Ou,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kc&&dh(Kc,r)||(Kc=r,r=kd(fm,"onSelect"),0<r.length&&(e=new jg("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Ou)))}function hf(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Pu={animationend:hf("Animation","AnimationEnd"),animationiteration:hf("Animation","AnimationIteration"),animationstart:hf("Animation","AnimationStart"),transitionend:hf("Transition","TransitionEnd")},a0={},Ov={};ka&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function lp(n){if(a0[n])return a0[n];if(!Pu[n])return n;var e=Pu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Ov)return a0[n]=e[t];return n}var Pv=lp("animationend"),Lv=lp("animationiteration"),Rv=lp("animationstart"),Dv=lp("transitionend"),Iv=new Map,N2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cl(n,e){Iv.set(n,e),lu(e,[n])}for(var l0=0;l0<N2.length;l0++){var u0=N2[l0],q4=u0.toLowerCase(),$4=u0[0].toUpperCase()+u0.slice(1);Cl(q4,"on"+$4)}Cl(Pv,"onAnimationEnd");Cl(Lv,"onAnimationIteration");Cl(Rv,"onAnimationStart");Cl("dblclick","onDoubleClick");Cl("focusin","onFocus");Cl("focusout","onBlur");Cl(Dv,"onTransitionEnd");ic("onMouseEnter",["mouseout","mouseover"]);ic("onMouseLeave",["mouseout","mouseover"]);ic("onPointerEnter",["pointerout","pointerover"]);ic("onPointerLeave",["pointerout","pointerover"]);lu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lu("onBeforeInput",["compositionend","keypress","textInput","paste"]);lu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function O2(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,qx(r,e,void 0,n),n.currentTarget=null}function Fv(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;t:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break t;O2(s,l,a),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break t;O2(s,l,a),i=u}}}if(vd)throw n=lm,vd=!1,lm=null,n}function _n(n,e){var t=e[bm];t===void 0&&(t=e[bm]=new Set);var r=n+"__bubble";t.has(r)||(Bv(e,n,2,!1),t.add(r))}function c0(n,e,t){var r=0;e&&(r|=4),Bv(t,n,r,e)}var ff="_reactListening"+Math.random().toString(36).slice(2);function ph(n){if(!n[ff]){n[ff]=!0,Vb.forEach(function(t){t!=="selectionchange"&&(H4.has(t)||c0(t,!1,n),c0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ff]||(e[ff]=!0,c0("selectionchange",!1,e))}}function Bv(n,e,t,r){switch(_v(e)){case 1:var s=i4;break;case 4:s=s4;break;default:s=Ag}t=s.bind(null,e,t,n),s=void 0,!am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function h0(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)t:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Wl(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue t}l=l.parentNode}}r=r.return}lv(function(){var a=i,c=Sg(t),d=[];t:{var f=Iv.get(n);if(f!==void 0){var h=jg,p=n;switch(n){case"keypress":if(td(t)===0)break t;case"keydown":case"keyup":h=w4;break;case"focusin":p="focus",h=i0;break;case"focusout":p="blur",h=i0;break;case"beforeblur":case"afterblur":h=i0;break;case"click":if(t.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=w2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=l4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=S4;break;case Pv:case Lv:case Rv:h=h4;break;case Dv:h=C4;break;case"scroll":h=o4;break;case"wheel":h=A4;break;case"copy":case"cut":case"paste":h=d4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_2}var y=(e&4)!==0,m=!y&&n==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var b=a,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=lh(b,g),C!=null&&y.push(mh(b,C,w)))),m)break;b=b.return}0<y.length&&(f=new h(f,p,null,t,c),d.push({event:f,listeners:y}))}}if(!(e&7)){t:{if(f=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",f&&t!==sm&&(p=t.relatedTarget||t.fromElement)&&(Wl(p)||p[Ca]))break t;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=t.relatedTarget||t.toElement,h=a,p=p?Wl(p):null,p!==null&&(m=uu(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=a),h!==p)){if(y=w2,C="onMouseLeave",g="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=_2,C="onPointerLeave",g="onPointerEnter",b="pointer"),m=h==null?f:Lu(h),w=p==null?f:Lu(p),f=new y(C,b+"leave",h,t,c),f.target=m,f.relatedTarget=w,C=null,Wl(c)===a&&(y=new y(g,b+"enter",p,t,c),y.target=w,y.relatedTarget=m,C=y),m=C,h&&p)e:{for(y=h,g=p,b=0,w=y;w;w=wu(w))b++;for(w=0,C=g;C;C=wu(C))w++;for(;0<b-w;)y=wu(y),b--;for(;0<w-b;)g=wu(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break e;y=wu(y),g=wu(g)}y=null}else y=null;h!==null&&P2(d,f,h,y,!1),p!==null&&m!==null&&P2(d,m,p,y,!0)}}t:{if(f=a?Lu(a):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var j=L4;else if(C2(f))if(Mv)j=F4;else{j=D4;var I=R4}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=I4);if(j&&(j=j(n,a))){Av(d,j,t,c);break t}I&&I(n,f,a),n==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&tm(f,"number",f.value)}switch(I=a?Lu(a):window,n){case"focusin":(C2(I)||I.contentEditable==="true")&&(Ou=I,fm=a,Kc=null);break;case"focusout":Kc=fm=Ou=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,E2(d,t,c);break;case"selectionchange":if(U4)break;case"keydown":case"keyup":E2(d,t,c)}var q;if(Ng)t:{switch(n){case"compositionstart":var P="onCompositionStart";break t;case"compositionend":P="onCompositionEnd";break t;case"compositionupdate":P="onCompositionUpdate";break t}P=void 0}else Nu?Cv(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(kv&&t.locale!=="ko"&&(Nu||P!=="onCompositionStart"?P==="onCompositionEnd"&&Nu&&(q=Sv()):(ll=c,Mg="value"in ll?ll.value:ll.textContent,Nu=!0)),I=kd(a,P),0<I.length&&(P=new x2(P,n,null,t,c),d.push({event:P,listeners:I}),q?P.data=q:(q=Tv(t),q!==null&&(P.data=q)))),(q=j4?E4(n,t):N4(n,t))&&(a=kd(a,"onBeforeInput"),0<a.length&&(c=new x2("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:a}),c.data=q))}Fv(d,e)})}function mh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function kd(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lh(n,t),i!=null&&r.unshift(mh(n,i,s)),i=lh(n,e),i!=null&&r.push(mh(n,i,s))),n=n.return}return r}function wu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function P2(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var l=t,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,s?(u=lh(t,i),u!=null&&o.unshift(mh(t,u,l))):s||(u=lh(t,i),u!=null&&o.push(mh(t,u,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var W4=/\r\n?/g,V4=/\u0000|\uFFFD/g;function L2(n){return(typeof n=="string"?n:""+n).replace(W4,`
`).replace(V4,"")}function df(n,e,t){if(e=L2(e),L2(n)!==e&&t)throw Error(De(425))}function Cd(){}var pm=null,mm=null;function gm(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,X4=typeof clearTimeout=="function"?clearTimeout:void 0,R2=typeof Promise=="function"?Promise:void 0,Y4=typeof queueMicrotask=="function"?queueMicrotask:typeof R2<"u"?function(n){return R2.resolve(null).then(n).catch(G4)}:ym;function G4(n){setTimeout(function(){throw n})}function f0(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),hh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);hh(e)}function pl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function D2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var pc=Math.random().toString(36).slice(2),Uo="__reactFiber$"+pc,gh="__reactProps$"+pc,Ca="__reactContainer$"+pc,bm="__reactEvents$"+pc,K4="__reactListeners$"+pc,Z4="__reactHandles$"+pc;function Wl(n){var e=n[Uo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ca]||t[Uo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=D2(n);n!==null;){if(t=n[Uo])return t;n=D2(n)}return e}n=t,t=n.parentNode}return null}function Lh(n){return n=n[Uo]||n[Ca],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Lu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(De(33))}function up(n){return n[gh]||null}var vm=[],Ru=-1;function Tl(n){return{current:n}}function kn(n){0>Ru||(n.current=vm[Ru],vm[Ru]=null,Ru--)}function wn(n,e){Ru++,vm[Ru]=n.current,n.current=e}var wl={},Wi=Tl(wl),fs=Tl(!1),eu=wl;function sc(n,e){var t=n.type.contextTypes;if(!t)return wl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function ds(n){return n=n.childContextTypes,n!=null}function Td(){kn(fs),kn(Wi)}function I2(n,e,t){if(Wi.current!==wl)throw Error(De(168));wn(Wi,e),wn(fs,t)}function zv(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(De(108,Rx(n)||"Unknown",s));return On({},t,r)}function Ad(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||wl,eu=Wi.current,wn(Wi,n),wn(fs,fs.current),!0}function F2(n,e,t){var r=n.stateNode;if(!r)throw Error(De(169));t?(n=zv(n,e,eu),r.__reactInternalMemoizedMergedChildContext=n,kn(fs),kn(Wi),wn(Wi,n)):kn(fs),wn(fs,t)}var da=null,cp=!1,d0=!1;function Uv(n){da===null?da=[n]:da.push(n)}function J4(n){cp=!0,Uv(n)}function Al(){if(!d0&&da!==null){d0=!0;var n=0,e=un;try{var t=da;for(un=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}da=null,cp=!1}catch(s){throw da!==null&&(da=da.slice(n+1)),fv(kg,Al),s}finally{un=e,d0=!1}}return null}var Du=[],Iu=0,Md=null,jd=0,Xs=[],Ys=0,ru=null,ya=1,ba="";function zl(n,e){Du[Iu++]=jd,Du[Iu++]=Md,Md=n,jd=e}function qv(n,e,t){Xs[Ys++]=ya,Xs[Ys++]=ba,Xs[Ys++]=ru,ru=n;var r=ya;n=ba;var s=32-To(r)-1;r&=~(1<<s),t+=1;var i=32-To(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ya=1<<32-To(e)+s|t<<s|r,ba=i+n}else ya=1<<i|t<<s|r,ba=n}function Pg(n){n.return!==null&&(zl(n,1),qv(n,1,0))}function Lg(n){for(;n===Md;)Md=Du[--Iu],Du[Iu]=null,jd=Du[--Iu],Du[Iu]=null;for(;n===ru;)ru=Xs[--Ys],Xs[Ys]=null,ba=Xs[--Ys],Xs[Ys]=null,ya=Xs[--Ys],Xs[Ys]=null}var js=null,As=null,An=!1,_o=null;function $v(n,e){var t=Zs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function B2(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,js=n,As=pl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,js=n,As=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ru!==null?{id:ya,overflow:ba}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,js=n,As=null,!0):!1;default:return!1}}function wm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xm(n){if(An){var e=As;if(e){var t=e;if(!B2(n,e)){if(wm(n))throw Error(De(418));e=pl(t.nextSibling);var r=js;e&&B2(n,e)?$v(r,t):(n.flags=n.flags&-4097|2,An=!1,js=n)}}else{if(wm(n))throw Error(De(418));n.flags=n.flags&-4097|2,An=!1,js=n}}}function z2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;js=n}function pf(n){if(n!==js)return!1;if(!An)return z2(n),An=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!gm(n.type,n.memoizedProps)),e&&(e=As)){if(wm(n))throw Hv(),Error(De(418));for(;e;)$v(n,e),e=pl(e.nextSibling)}if(z2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(De(317));t:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){As=pl(n.nextSibling);break t}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}As=null}}else As=js?pl(n.stateNode.nextSibling):null;return!0}function Hv(){for(var n=As;n;)n=pl(n.nextSibling)}function oc(){As=js=null,An=!1}function Rg(n){_o===null?_o=[n]:_o.push(n)}var Q4=Oa.ReactCurrentBatchConfig;function Lc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(De(309));var r=t.stateNode}if(!r)throw Error(De(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(De(284));if(!t._owner)throw Error(De(290,n))}return n}function mf(n,e){throw n=Object.prototype.toString.call(e),Error(De(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function U2(n){var e=n._init;return e(n._payload)}function Wv(n){function e(g,b){if(n){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function t(g,b){if(!n)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function s(g,b){return g=bl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function l(g,b,w,C){return b===null||b.tag!==6?(b=w0(w,g.mode,C),b.return=g,b):(b=s(b,w),b.return=g,b)}function u(g,b,w,C){var j=w.type;return j===Eu?c(g,b,w.props.children,C,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===il&&U2(j)===b.type)?(C=s(b,w.props),C.ref=Lc(g,b,w),C.return=g,C):(C=ad(w.type,w.key,w.props,null,g.mode,C),C.ref=Lc(g,b,w),C.return=g,C)}function a(g,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=x0(w,g.mode,C),b.return=g,b):(b=s(b,w.children||[]),b.return=g,b)}function c(g,b,w,C,j){return b===null||b.tag!==7?(b=Jl(w,g.mode,C,j),b.return=g,b):(b=s(b,w),b.return=g,b)}function d(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=w0(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nf:return w=ad(b.type,b.key,b.props,null,g.mode,w),w.ref=Lc(g,null,b),w.return=g,w;case ju:return b=x0(b,g.mode,w),b.return=g,b;case il:var C=b._init;return d(g,C(b._payload),w)}if(qc(b)||jc(b))return b=Jl(b,g.mode,w,null),b.return=g,b;mf(g,b)}return null}function f(g,b,w,C){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(g,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:return w.key===j?u(g,b,w,C):null;case ju:return w.key===j?a(g,b,w,C):null;case il:return j=w._init,f(g,b,j(w._payload),C)}if(qc(w)||jc(w))return j!==null?null:c(g,b,w,C,null);mf(g,w)}return null}function h(g,b,w,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,l(b,g,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case nf:return g=g.get(C.key===null?w:C.key)||null,u(b,g,C,j);case ju:return g=g.get(C.key===null?w:C.key)||null,a(b,g,C,j);case il:var I=C._init;return h(g,b,w,I(C._payload),j)}if(qc(C)||jc(C))return g=g.get(w)||null,c(b,g,C,j,null);mf(b,C)}return null}function p(g,b,w,C){for(var j=null,I=null,q=b,P=b=0,U=null;q!==null&&P<w.length;P++){q.index>P?(U=q,q=null):U=q.sibling;var W=f(g,q,w[P],C);if(W===null){q===null&&(q=U);break}n&&q&&W.alternate===null&&e(g,q),b=i(W,b,P),I===null?j=W:I.sibling=W,I=W,q=U}if(P===w.length)return t(g,q),An&&zl(g,P),j;if(q===null){for(;P<w.length;P++)q=d(g,w[P],C),q!==null&&(b=i(q,b,P),I===null?j=q:I.sibling=q,I=q);return An&&zl(g,P),j}for(q=r(g,q);P<w.length;P++)U=h(q,g,P,w[P],C),U!==null&&(n&&U.alternate!==null&&q.delete(U.key===null?P:U.key),b=i(U,b,P),I===null?j=U:I.sibling=U,I=U);return n&&q.forEach(function(z){return e(g,z)}),An&&zl(g,P),j}function y(g,b,w,C){var j=jc(w);if(typeof j!="function")throw Error(De(150));if(w=j.call(w),w==null)throw Error(De(151));for(var I=j=null,q=b,P=b=0,U=null,W=w.next();q!==null&&!W.done;P++,W=w.next()){q.index>P?(U=q,q=null):U=q.sibling;var z=f(g,q,W.value,C);if(z===null){q===null&&(q=U);break}n&&q&&z.alternate===null&&e(g,q),b=i(z,b,P),I===null?j=z:I.sibling=z,I=z,q=U}if(W.done)return t(g,q),An&&zl(g,P),j;if(q===null){for(;!W.done;P++,W=w.next())W=d(g,W.value,C),W!==null&&(b=i(W,b,P),I===null?j=W:I.sibling=W,I=W);return An&&zl(g,P),j}for(q=r(g,q);!W.done;P++,W=w.next())W=h(q,g,P,W.value,C),W!==null&&(n&&W.alternate!==null&&q.delete(W.key===null?P:W.key),b=i(W,b,P),I===null?j=W:I.sibling=W,I=W);return n&&q.forEach(function(R){return e(g,R)}),An&&zl(g,P),j}function m(g,b,w,C){if(typeof w=="object"&&w!==null&&w.type===Eu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nf:t:{for(var j=w.key,I=b;I!==null;){if(I.key===j){if(j=w.type,j===Eu){if(I.tag===7){t(g,I.sibling),b=s(I,w.props.children),b.return=g,g=b;break t}}else if(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===il&&U2(j)===I.type){t(g,I.sibling),b=s(I,w.props),b.ref=Lc(g,I,w),b.return=g,g=b;break t}t(g,I);break}else e(g,I);I=I.sibling}w.type===Eu?(b=Jl(w.props.children,g.mode,C,w.key),b.return=g,g=b):(C=ad(w.type,w.key,w.props,null,g.mode,C),C.ref=Lc(g,b,w),C.return=g,g=C)}return o(g);case ju:t:{for(I=w.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){t(g,b.sibling),b=s(b,w.children||[]),b.return=g,g=b;break t}else{t(g,b);break}else e(g,b);b=b.sibling}b=x0(w,g.mode,C),b.return=g,g=b}return o(g);case il:return I=w._init,m(g,b,I(w._payload),C)}if(qc(w))return p(g,b,w,C);if(jc(w))return y(g,b,w,C);mf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(t(g,b.sibling),b=s(b,w),b.return=g,g=b):(t(g,b),b=w0(w,g.mode,C),b.return=g,g=b),o(g)):t(g,b)}return m}var ac=Wv(!0),Vv=Wv(!1),Ed=Tl(null),Nd=null,Fu=null,Dg=null;function Ig(){Dg=Fu=Nd=null}function Fg(n){var e=Ed.current;kn(Ed),n._currentValue=e}function _m(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Gu(n,e){Nd=n,Dg=Fu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(hs=!0),n.firstContext=null)}function to(n){var e=n._currentValue;if(Dg!==n)if(n={context:n,memoizedValue:e,next:null},Fu===null){if(Nd===null)throw Error(De(308));Fu=n,Nd.dependencies={lanes:0,firstContext:n}}else Fu=Fu.next=n;return e}var Vl=null;function Bg(n){Vl===null?Vl=[n]:Vl.push(n)}function Xv(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,Bg(e)):(t.next=s.next,s.next=t),e.interleaved=t,Ta(n,r)}function Ta(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var sl=!1;function zg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yv(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function xa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ml(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Kr&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ta(n,t)}return s=r.interleaved,s===null?(e.next=e,Bg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ta(n,t)}function ed(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Cg(n,t)}}function q2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Od(n,e,t,r){var s=n.updateQueue;sl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?i=a:o.next=a,o=u;var c=n.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=a:l.next=a,c.lastBaseUpdate=u))}if(i!==null){var d=s.baseState;o=0,c=a=u=null,l=i;do{var f=l.lane,h=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var p=n,y=l;switch(f=e,h=t,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break t}d=p;break t;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break t;d=On({},d,f);break t;case 2:sl=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(a=c=h,u=d):c=c.next=h,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(u=d),s.baseState=u,s.firstBaseUpdate=a,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);iu|=o,n.lanes=o,n.memoizedState=d}}function $2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(De(191,s));s.call(r)}}}var Rh={},Vo=Tl(Rh),yh=Tl(Rh),bh=Tl(Rh);function Xl(n){if(n===Rh)throw Error(De(174));return n}function Ug(n,e){switch(wn(bh,e),wn(yh,n),wn(Vo,Rh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=rm(e,n)}kn(Vo),wn(Vo,e)}function lc(){kn(Vo),kn(yh),kn(bh)}function Gv(n){Xl(bh.current);var e=Xl(Vo.current),t=rm(e,n.type);e!==t&&(wn(yh,n),wn(Vo,t))}function qg(n){yh.current===n&&(kn(Vo),kn(yh))}var En=Tl(0);function Pd(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p0=[];function $g(){for(var n=0;n<p0.length;n++)p0[n]._workInProgressVersionPrimary=null;p0.length=0}var rd=Oa.ReactCurrentDispatcher,m0=Oa.ReactCurrentBatchConfig,nu=0,Nn=null,oi=null,yi=null,Ld=!1,Zc=!1,vh=0,t6=0;function Di(){throw Error(De(321))}function Hg(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!jo(n[t],e[t]))return!1;return!0}function Wg(n,e,t,r,s,i){if(nu=i,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rd.current=n===null||n.memoizedState===null?i6:s6,n=t(r,s),Zc){i=0;do{if(Zc=!1,vh=0,25<=i)throw Error(De(301));i+=1,yi=oi=null,e.updateQueue=null,rd.current=o6,n=t(r,s)}while(Zc)}if(rd.current=Rd,e=oi!==null&&oi.next!==null,nu=0,yi=oi=Nn=null,Ld=!1,e)throw Error(De(300));return n}function Vg(){var n=vh!==0;return vh=0,n}function Bo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Nn.memoizedState=yi=n:yi=yi.next=n,yi}function eo(){if(oi===null){var n=Nn.alternate;n=n!==null?n.memoizedState:null}else n=oi.next;var e=yi===null?Nn.memoizedState:yi.next;if(e!==null)yi=e,oi=n;else{if(n===null)throw Error(De(310));oi=n,n={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},yi===null?Nn.memoizedState=yi=n:yi=yi.next=n}return yi}function wh(n,e){return typeof e=="function"?e(n):e}function g0(n){var e=eo(),t=e.queue;if(t===null)throw Error(De(311));t.lastRenderedReducer=n;var r=oi,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,a=i;do{var c=a.lane;if((nu&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:n(r,a.action);else{var d={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=d,o=r):u=u.next=d,Nn.lanes|=c,iu|=c}a=a.next}while(a!==null&&a!==i);u===null?o=r:u.next=l,jo(r,e.memoizedState)||(hs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,Nn.lanes|=i,iu|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function y0(n){var e=eo(),t=e.queue;if(t===null)throw Error(De(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);jo(i,e.memoizedState)||(hs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function Kv(){}function Zv(n,e){var t=Nn,r=eo(),s=e(),i=!jo(r.memoizedState,s);if(i&&(r.memoizedState=s,hs=!0),r=r.queue,Xg(t5.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||yi!==null&&yi.memoizedState.tag&1){if(t.flags|=2048,xh(9,Qv.bind(null,t,r,s,e),void 0,null),vi===null)throw Error(De(349));nu&30||Jv(t,e,s)}return s}function Jv(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Qv(n,e,t,r){e.value=t,e.getSnapshot=r,e5(e)&&r5(n)}function t5(n,e,t){return t(function(){e5(e)&&r5(n)})}function e5(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!jo(n,t)}catch{return!0}}function r5(n){var e=Ta(n,1);e!==null&&Ao(e,n,1,-1)}function H2(n){var e=Bo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:n},e.queue=n,n=n.dispatch=n6.bind(null,Nn,n),[e.memoizedState,n]}function xh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function n5(){return eo().memoizedState}function nd(n,e,t,r){var s=Bo();Nn.flags|=n,s.memoizedState=xh(1|e,t,void 0,r===void 0?null:r)}function hp(n,e,t,r){var s=eo();r=r===void 0?null:r;var i=void 0;if(oi!==null){var o=oi.memoizedState;if(i=o.destroy,r!==null&&Hg(r,o.deps)){s.memoizedState=xh(e,t,i,r);return}}Nn.flags|=n,s.memoizedState=xh(1|e,t,i,r)}function W2(n,e){return nd(8390656,8,n,e)}function Xg(n,e){return hp(2048,8,n,e)}function i5(n,e){return hp(4,2,n,e)}function s5(n,e){return hp(4,4,n,e)}function o5(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function a5(n,e,t){return t=t!=null?t.concat([n]):null,hp(4,4,o5.bind(null,e,n),t)}function Yg(){}function l5(n,e){var t=eo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function u5(n,e){var t=eo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function c5(n,e,t){return nu&21?(jo(t,e)||(t=mv(),Nn.lanes|=t,iu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,hs=!0),n.memoizedState=t)}function e6(n,e){var t=un;un=t!==0&&4>t?t:4,n(!0);var r=m0.transition;m0.transition={};try{n(!1),e()}finally{un=t,m0.transition=r}}function h5(){return eo().memoizedState}function r6(n,e,t){var r=yl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},f5(n))d5(e,t);else if(t=Xv(n,e,t,r),t!==null){var s=Qi();Ao(t,n,r,s),p5(t,e,r)}}function n6(n,e,t){var r=yl(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(f5(n))d5(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,t);if(s.hasEagerState=!0,s.eagerState=l,jo(l,o)){var u=e.interleaved;u===null?(s.next=s,Bg(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}t=Xv(n,e,s,r),t!==null&&(s=Qi(),Ao(t,n,r,s),p5(t,e,r))}}function f5(n){var e=n.alternate;return n===Nn||e!==null&&e===Nn}function d5(n,e){Zc=Ld=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function p5(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Cg(n,t)}}var Rd={readContext:to,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useInsertionEffect:Di,useLayoutEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useMutableSource:Di,useSyncExternalStore:Di,useId:Di,unstable_isNewReconciler:!1},i6={readContext:to,useCallback:function(n,e){return Bo().memoizedState=[n,e===void 0?null:e],n},useContext:to,useEffect:W2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,nd(4194308,4,o5.bind(null,e,n),t)},useLayoutEffect:function(n,e){return nd(4194308,4,n,e)},useInsertionEffect:function(n,e){return nd(4,2,n,e)},useMemo:function(n,e){var t=Bo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Bo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=r6.bind(null,Nn,n),[r.memoizedState,n]},useRef:function(n){var e=Bo();return n={current:n},e.memoizedState=n},useState:H2,useDebugValue:Yg,useDeferredValue:function(n){return Bo().memoizedState=n},useTransition:function(){var n=H2(!1),e=n[0];return n=e6.bind(null,n[1]),Bo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Nn,s=Bo();if(An){if(t===void 0)throw Error(De(407));t=t()}else{if(t=e(),vi===null)throw Error(De(349));nu&30||Jv(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,W2(t5.bind(null,r,i,n),[n]),r.flags|=2048,xh(9,Qv.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Bo(),e=vi.identifierPrefix;if(An){var t=ba,r=ya;t=(r&~(1<<32-To(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=vh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=t6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},s6={readContext:to,useCallback:l5,useContext:to,useEffect:Xg,useImperativeHandle:a5,useInsertionEffect:i5,useLayoutEffect:s5,useMemo:u5,useReducer:g0,useRef:n5,useState:function(){return g0(wh)},useDebugValue:Yg,useDeferredValue:function(n){var e=eo();return c5(e,oi.memoizedState,n)},useTransition:function(){var n=g0(wh)[0],e=eo().memoizedState;return[n,e]},useMutableSource:Kv,useSyncExternalStore:Zv,useId:h5,unstable_isNewReconciler:!1},o6={readContext:to,useCallback:l5,useContext:to,useEffect:Xg,useImperativeHandle:a5,useInsertionEffect:i5,useLayoutEffect:s5,useMemo:u5,useReducer:y0,useRef:n5,useState:function(){return y0(wh)},useDebugValue:Yg,useDeferredValue:function(n){var e=eo();return oi===null?e.memoizedState=n:c5(e,oi.memoizedState,n)},useTransition:function(){var n=y0(wh)[0],e=eo().memoizedState;return[n,e]},useMutableSource:Kv,useSyncExternalStore:Zv,useId:h5,unstable_isNewReconciler:!1};function bo(n,e){if(n&&n.defaultProps){e=On({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Sm(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:On({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var fp={isMounted:function(n){return(n=n._reactInternals)?uu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Qi(),s=yl(n),i=xa(r,s);i.payload=e,t!=null&&(i.callback=t),e=ml(n,i,s),e!==null&&(Ao(e,n,s,r),ed(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Qi(),s=yl(n),i=xa(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=ml(n,i,s),e!==null&&(Ao(e,n,s,r),ed(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Qi(),r=yl(n),s=xa(t,r);s.tag=2,e!=null&&(s.callback=e),e=ml(n,s,r),e!==null&&(Ao(e,n,r,t),ed(e,n,r))}};function V2(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!dh(t,r)||!dh(s,i):!0}function m5(n,e,t){var r=!1,s=wl,i=e.contextType;return typeof i=="object"&&i!==null?i=to(i):(s=ds(e)?eu:Wi.current,r=e.contextTypes,i=(r=r!=null)?sc(n,s):wl),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fp,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function X2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&fp.enqueueReplaceState(e,e.state,null)}function km(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},zg(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=to(i):(i=ds(e)?eu:Wi.current,s.context=sc(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sm(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fp.enqueueReplaceState(s,s.state,null),Od(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function uc(n,e){try{var t="",r=e;do t+=Lx(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function b0(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function Cm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var a6=typeof WeakMap=="function"?WeakMap:Map;function g5(n,e,t){t=xa(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Id||(Id=!0,Rm=r),Cm(n,e)},t}function y5(n,e,t){t=xa(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Cm(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Cm(n,e),typeof r!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Y2(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new a6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=x6.bind(null,n,e,t),e.then(n,n))}function G2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function K2(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=xa(-1,1),e.tag=2,ml(t,e,1))),t.lanes|=1),n)}var l6=Oa.ReactCurrentOwner,hs=!1;function Ki(n,e,t,r){e.child=n===null?Vv(e,null,t,r):ac(e,n.child,t,r)}function Z2(n,e,t,r,s){t=t.render;var i=e.ref;return Gu(e,s),r=Wg(n,e,t,r,i,s),t=Vg(),n!==null&&!hs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Aa(n,e,s)):(An&&t&&Pg(e),e.flags|=1,Ki(n,e,r,s),e.child)}function J2(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!r1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,b5(n,e,i,r,s)):(n=ad(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:dh,t(o,r)&&n.ref===e.ref)return Aa(n,e,s)}return e.flags|=1,n=bl(i,r),n.ref=e.ref,n.return=e,e.child=n}function b5(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(dh(i,r)&&n.ref===e.ref)if(hs=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(hs=!0);else return e.lanes=n.lanes,Aa(n,e,s)}return Tm(n,e,t,r,s)}function v5(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(zu,Ts),Ts|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,wn(zu,Ts),Ts|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,wn(zu,Ts),Ts|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,wn(zu,Ts),Ts|=r;return Ki(n,e,s,t),e.child}function w5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Tm(n,e,t,r,s){var i=ds(t)?eu:Wi.current;return i=sc(e,i),Gu(e,s),t=Wg(n,e,t,r,i,s),r=Vg(),n!==null&&!hs?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Aa(n,e,s)):(An&&r&&Pg(e),e.flags|=1,Ki(n,e,t,s),e.child)}function Q2(n,e,t,r,s){if(ds(t)){var i=!0;Ad(e)}else i=!1;if(Gu(e,s),e.stateNode===null)id(n,e),m5(e,t,r),km(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,a=t.contextType;typeof a=="object"&&a!==null?a=to(a):(a=ds(t)?eu:Wi.current,a=sc(e,a));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&X2(e,o,r,a),sl=!1;var f=e.memoizedState;o.state=f,Od(e,r,o,s),u=e.memoizedState,l!==r||f!==u||fs.current||sl?(typeof c=="function"&&(Sm(e,t,c,r),u=e.memoizedState),(l=sl||V2(e,t,l,r,f,u,a))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yv(n,e),l=e.memoizedProps,a=e.type===e.elementType?l:bo(e.type,l),o.props=a,d=e.pendingProps,f=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=to(u):(u=ds(t)?eu:Wi.current,u=sc(e,u));var h=t.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==u)&&X2(e,o,r,u),sl=!1,f=e.memoizedState,o.state=f,Od(e,r,o,s);var p=e.memoizedState;l!==d||f!==p||fs.current||sl?(typeof h=="function"&&(Sm(e,t,h,r),p=e.memoizedState),(a=sl||V2(e,t,a,r,f,p,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Am(n,e,t,r,i,s)}function Am(n,e,t,r,s,i){w5(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&F2(e,t,!1),Aa(n,e,i);r=e.stateNode,l6.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=ac(e,n.child,null,i),e.child=ac(e,null,l,i)):Ki(n,e,l,i),e.memoizedState=r.state,s&&F2(e,t,!0),e.child}function x5(n){var e=n.stateNode;e.pendingContext?I2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&I2(n,e.context,!1),Ug(n,e.containerInfo)}function ty(n,e,t,r,s){return oc(),Rg(s),e.flags|=256,Ki(n,e,t,r),e.child}var Mm={dehydrated:null,treeContext:null,retryLane:0};function jm(n){return{baseLanes:n,cachePool:null,transitions:null}}function _5(n,e,t){var r=e.pendingProps,s=En.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),wn(En,s&1),n===null)return xm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mp(o,r,0,null),n=Jl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=jm(t),e.memoizedState=Mm,n):Gg(e,o));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return u6(n,e,o,r,l,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=bl(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=bl(l,i):(i=Jl(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?jm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=Mm,r}return i=n.child,n=i.sibling,r=bl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Gg(n,e){return e=mp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gf(n,e,t,r){return r!==null&&Rg(r),ac(e,n.child,null,t),n=Gg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function u6(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=b0(Error(De(422))),gf(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mp({mode:"visible",children:r.children},s,0,null),i=Jl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ac(e,n.child,null,o),e.child.memoizedState=jm(o),e.memoizedState=Mm,i);if(!(e.mode&1))return gf(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(De(419)),r=b0(i,r,void 0),gf(n,e,o,r)}if(l=(o&n.childLanes)!==0,hs||l){if(r=vi,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ta(n,s),Ao(r,n,s,-1))}return e1(),r=b0(Error(De(421))),gf(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=_6.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,As=pl(s.nextSibling),js=e,An=!0,_o=null,n!==null&&(Xs[Ys++]=ya,Xs[Ys++]=ba,Xs[Ys++]=ru,ya=n.id,ba=n.overflow,ru=e),e=Gg(e,r.children),e.flags|=4096,e)}function ey(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),_m(n.return,e,t)}function v0(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function S5(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ki(n,e,r.children,t),r=En.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ey(n,t,e);else if(n.tag===19)ey(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(wn(En,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Pd(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),v0(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Pd(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}v0(e,!0,t,null,i);break;case"together":v0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function id(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Aa(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),iu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(De(153));if(e.child!==null){for(n=e.child,t=bl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=bl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function c6(n,e,t){switch(e.tag){case 3:x5(e),oc();break;case 5:Gv(e);break;case 1:ds(e.type)&&Ad(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;wn(Ed,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wn(En,En.current&1),e.flags|=128,null):t&e.child.childLanes?_5(n,e,t):(wn(En,En.current&1),n=Aa(n,e,t),n!==null?n.sibling:null);wn(En,En.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return S5(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wn(En,En.current),r)break;return null;case 22:case 23:return e.lanes=0,v5(n,e,t)}return Aa(n,e,t)}var k5,Em,C5,T5;k5=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Em=function(){};C5=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,Xl(Vo.current);var i=null;switch(t){case"input":s=J0(n,s),r=J0(n,r),i=[];break;case"select":s=On({},s,{value:void 0}),r=On({},r,{value:void 0}),i=[];break;case"textarea":s=em(n,s),r=em(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Cd)}nm(t,r);var o;t=null;for(a in s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style"){var l=s[a];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oh.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(l=s!=null?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(i||(i=[]),i.push(a,t)),t=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(oh.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&_n("scroll",n),i||l===u||(i=[])):(i=i||[]).push(a,u))}t&&(i=i||[]).push("style",t);var a=i;(e.updateQueue=a)&&(e.flags|=4)}};T5=function(n,e,t,r){t!==r&&(e.flags|=4)};function Rc(n,e){if(!An)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ii(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function h6(n,e,t){var r=e.pendingProps;switch(Lg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(e),null;case 1:return ds(e.type)&&Td(),Ii(e),null;case 3:return r=e.stateNode,lc(),kn(fs),kn(Wi),$g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(pf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_o!==null&&(Fm(_o),_o=null))),Em(n,e),Ii(e),null;case 5:qg(e);var s=Xl(bh.current);if(t=e.type,n!==null&&e.stateNode!=null)C5(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return Ii(e),null}if(n=Xl(Vo.current),pf(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[Uo]=e,r[gh]=i,n=(e.mode&1)!==0,t){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(s=0;s<Hc.length;s++)_n(Hc[s],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":c2(r,i),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_n("invalid",r);break;case"textarea":f2(r,i),_n("invalid",r)}nm(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&df(r.textContent,l,n),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&df(r.textContent,l,n),s=["children",""+l]):oh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&_n("scroll",r)}switch(t){case"input":sf(r),h2(r,i,!0);break;case"textarea":sf(r),d2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tv(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Uo]=e,n[gh]=r,k5(n,e,!1,!1),e.stateNode=n;t:{switch(o=im(t,r),t){case"dialog":_n("cancel",n),_n("close",n),s=r;break;case"iframe":case"object":case"embed":_n("load",n),s=r;break;case"video":case"audio":for(s=0;s<Hc.length;s++)_n(Hc[s],n);s=r;break;case"source":_n("error",n),s=r;break;case"img":case"image":case"link":_n("error",n),_n("load",n),s=r;break;case"details":_n("toggle",n),s=r;break;case"input":c2(n,r),s=J0(n,r),_n("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=On({},r,{value:void 0}),_n("invalid",n);break;case"textarea":f2(n,r),s=em(n,r),_n("invalid",n);break;default:s=r}nm(t,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?nv(n,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ev(n,u)):i==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&ah(n,u):typeof u=="number"&&ah(n,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oh.hasOwnProperty(i)?u!=null&&i==="onScroll"&&_n("scroll",n):u!=null&&vg(n,i,u,o))}switch(t){case"input":sf(n),h2(n,r,!1);break;case"textarea":sf(n),d2(n);break;case"option":r.value!=null&&n.setAttribute("value",""+vl(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?Wu(n,!!r.multiple,i,!1):r.defaultValue!=null&&Wu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Cd)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ii(e),null;case 6:if(n&&e.stateNode!=null)T5(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(t=Xl(bh.current),Xl(Vo.current),pf(e)){if(r=e.stateNode,t=e.memoizedProps,r[Uo]=e,(i=r.nodeValue!==t)&&(n=js,n!==null))switch(n.tag){case 3:df(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&df(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Uo]=e,e.stateNode=r}return Ii(e),null;case 13:if(kn(En),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(An&&As!==null&&e.mode&1&&!(e.flags&128))Hv(),oc(),e.flags|=98560,i=!1;else if(i=pf(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(De(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[Uo]=e}else oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ii(e),i=!1}else _o!==null&&(Fm(_o),_o=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||En.current&1?ai===0&&(ai=3):e1())),e.updateQueue!==null&&(e.flags|=4),Ii(e),null);case 4:return lc(),Em(n,e),n===null&&ph(e.stateNode.containerInfo),Ii(e),null;case 10:return Fg(e.type._context),Ii(e),null;case 17:return ds(e.type)&&Td(),Ii(e),null;case 19:if(kn(En),i=e.memoizedState,i===null)return Ii(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Rc(i,!1);else{if(ai!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Pd(n),o!==null){for(e.flags|=128,Rc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return wn(En,En.current&1|2),e.child}n=n.sibling}i.tail!==null&&$n()>cc&&(e.flags|=128,r=!0,Rc(i,!1),e.lanes=4194304)}else{if(!r)if(n=Pd(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Rc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!An)return Ii(e),null}else 2*$n()-i.renderingStartTime>cc&&t!==1073741824&&(e.flags|=128,r=!0,Rc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$n(),e.sibling=null,t=En.current,wn(En,r?t&1|2:t&1),e):(Ii(e),null);case 22:case 23:return t1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ts&1073741824&&(Ii(e),e.subtreeFlags&6&&(e.flags|=8192)):Ii(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function f6(n,e){switch(Lg(e),e.tag){case 1:return ds(e.type)&&Td(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return lc(),kn(fs),kn(Wi),$g(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return qg(e),null;case 13:if(kn(En),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(De(340));oc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return kn(En),null;case 4:return lc(),null;case 10:return Fg(e.type._context),null;case 22:case 23:return t1(),null;case 24:return null;default:return null}}var yf=!1,qi=!1,d6=typeof WeakSet=="function"?WeakSet:Set,ir=null;function Bu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Bn(n,e,r)}else t.current=null}function Nm(n,e,t){try{t()}catch(r){Bn(n,e,r)}}var ry=!1;function p6(n,e){if(pm=_d,n=Nv(),Og(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else t:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break t}var o=0,l=-1,u=-1,a=0,c=0,d=n,f=null;e:for(;;){for(var h;d!==t||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===n)break e;if(f===t&&++a===s&&(l=o),f===i&&++c===r&&(u=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(mm={focusedElem:n,selectionRange:t},_d=!1,ir=e;ir!==null;)if(e=ir,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ir=n;else for(;ir!==null;){e=ir;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,m=p.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:bo(e.type,y),m);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(C){Bn(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,ir=n;break}ir=e.return}return p=ry,ry=!1,p}function Jc(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nm(e,t,i)}s=s.next}while(s!==r)}}function dp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Om(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function A5(n){var e=n.alternate;e!==null&&(n.alternate=null,A5(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Uo],delete e[gh],delete e[bm],delete e[K4],delete e[Z4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function M5(n){return n.tag===5||n.tag===3||n.tag===4}function ny(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||M5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pm(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Cd));else if(r!==4&&(n=n.child,n!==null))for(Pm(n,e,t),n=n.sibling;n!==null;)Pm(n,e,t),n=n.sibling}function Lm(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Lm(n,e,t),n=n.sibling;n!==null;)Lm(n,e,t),n=n.sibling}var Ci=null,wo=!1;function Qa(n,e,t){for(t=t.child;t!==null;)j5(n,e,t),t=t.sibling}function j5(n,e,t){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(sp,t)}catch{}switch(t.tag){case 5:qi||Bu(t,e);case 6:var r=Ci,s=wo;Ci=null,Qa(n,e,t),Ci=r,wo=s,Ci!==null&&(wo?(n=Ci,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ci.removeChild(t.stateNode));break;case 18:Ci!==null&&(wo?(n=Ci,t=t.stateNode,n.nodeType===8?f0(n.parentNode,t):n.nodeType===1&&f0(n,t),hh(n)):f0(Ci,t.stateNode));break;case 4:r=Ci,s=wo,Ci=t.stateNode.containerInfo,wo=!0,Qa(n,e,t),Ci=r,wo=s;break;case 0:case 11:case 14:case 15:if(!qi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nm(t,e,o),s=s.next}while(s!==r)}Qa(n,e,t);break;case 1:if(!qi&&(Bu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(l){Bn(t,e,l)}Qa(n,e,t);break;case 21:Qa(n,e,t);break;case 22:t.mode&1?(qi=(r=qi)||t.memoizedState!==null,Qa(n,e,t),qi=r):Qa(n,e,t);break;default:Qa(n,e,t)}}function iy(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new d6),e.forEach(function(r){var s=S6.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function fo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,l=o;t:for(;l!==null;){switch(l.tag){case 5:Ci=l.stateNode,wo=!1;break t;case 3:Ci=l.stateNode.containerInfo,wo=!0;break t;case 4:Ci=l.stateNode.containerInfo,wo=!0;break t}l=l.return}if(Ci===null)throw Error(De(160));j5(i,o,s),Ci=null,wo=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(a){Bn(s,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)E5(e,n),e=e.sibling}function E5(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fo(e,n),Io(n),r&4){try{Jc(3,n,n.return),dp(3,n)}catch(y){Bn(n,n.return,y)}try{Jc(5,n,n.return)}catch(y){Bn(n,n.return,y)}}break;case 1:fo(e,n),Io(n),r&512&&t!==null&&Bu(t,t.return);break;case 5:if(fo(e,n),Io(n),r&512&&t!==null&&Bu(t,t.return),n.flags&32){var s=n.stateNode;try{ah(s,"")}catch(y){Bn(n,n.return,y)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,l=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jb(s,i),im(l,o);var a=im(l,i);for(o=0;o<u.length;o+=2){var c=u[o],d=u[o+1];c==="style"?nv(s,d):c==="dangerouslySetInnerHTML"?ev(s,d):c==="children"?ah(s,d):vg(s,c,d,a)}switch(l){case"input":Q0(s,i);break;case"textarea":Qb(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Wu(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wu(s,!!i.multiple,i.defaultValue,!0):Wu(s,!!i.multiple,i.multiple?[]:"",!1))}s[gh]=i}catch(y){Bn(n,n.return,y)}}break;case 6:if(fo(e,n),Io(n),r&4){if(n.stateNode===null)throw Error(De(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(y){Bn(n,n.return,y)}}break;case 3:if(fo(e,n),Io(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{hh(e.containerInfo)}catch(y){Bn(n,n.return,y)}break;case 4:fo(e,n),Io(n);break;case 13:fo(e,n),Io(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jg=$n())),r&4&&iy(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(qi=(a=qi)||c,fo(e,n),qi=a):fo(e,n),Io(n),r&8192){if(a=n.memoizedState!==null,(n.stateNode.isHidden=a)&&!c&&n.mode&1)for(ir=n,c=n.child;c!==null;){for(d=ir=c;ir!==null;){switch(f=ir,h=f.child,f.tag){case 0:case 11:case 14:case 15:Jc(4,f,f.return);break;case 1:Bu(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Bn(r,t,y)}}break;case 5:Bu(f,f.return);break;case 22:if(f.memoizedState!==null){oy(d);continue}}h!==null?(h.return=f,ir=h):oy(d)}c=c.sibling}t:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,a?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=rv("display",o))}catch(y){Bn(n,n.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=a?"":d.memoizedProps}catch(y){Bn(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fo(e,n),Io(n),r&4&&iy(n);break;case 21:break;default:fo(e,n),Io(n)}}function Io(n){var e=n.flags;if(e&2){try{t:{for(var t=n.return;t!==null;){if(M5(t)){var r=t;break t}t=t.return}throw Error(De(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ah(s,""),r.flags&=-33);var i=ny(n);Lm(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ny(n);Pm(n,l,o);break;default:throw Error(De(161))}}catch(u){Bn(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function m6(n,e,t){ir=n,N5(n)}function N5(n,e,t){for(var r=(n.mode&1)!==0;ir!==null;){var s=ir,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yf;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||qi;l=yf;var a=qi;if(yf=o,(qi=u)&&!a)for(ir=s;ir!==null;)o=ir,u=o.child,o.tag===22&&o.memoizedState!==null?ay(s):u!==null?(u.return=o,ir=u):ay(s);for(;i!==null;)ir=i,N5(i),i=i.sibling;ir=s,yf=l,qi=a}sy(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ir=i):sy(n)}}function sy(n){for(;ir!==null;){var e=ir;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qi||dp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qi)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:bo(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$2(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}$2(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}qi||e.flags&512&&Om(e)}catch(f){Bn(e,e.return,f)}}if(e===n){ir=null;break}if(t=e.sibling,t!==null){t.return=e.return,ir=t;break}ir=e.return}}function oy(n){for(;ir!==null;){var e=ir;if(e===n){ir=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ir=t;break}ir=e.return}}function ay(n){for(;ir!==null;){var e=ir;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{dp(4,e)}catch(u){Bn(e,t,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Bn(e,s,u)}}var i=e.return;try{Om(e)}catch(u){Bn(e,i,u)}break;case 5:var o=e.return;try{Om(e)}catch(u){Bn(e,o,u)}}}catch(u){Bn(e,e.return,u)}if(e===n){ir=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ir=l;break}ir=e.return}}var g6=Math.ceil,Dd=Oa.ReactCurrentDispatcher,Kg=Oa.ReactCurrentOwner,Js=Oa.ReactCurrentBatchConfig,Kr=0,vi=null,ei=null,Ai=0,Ts=0,zu=Tl(0),ai=0,_h=null,iu=0,pp=0,Zg=0,Qc=null,us=null,Jg=0,cc=1/0,fa=null,Id=!1,Rm=null,gl=null,bf=!1,ul=null,Fd=0,th=0,Dm=null,sd=-1,od=0;function Qi(){return Kr&6?$n():sd!==-1?sd:sd=$n()}function yl(n){return n.mode&1?Kr&2&&Ai!==0?Ai&-Ai:Q4.transition!==null?(od===0&&(od=mv()),od):(n=un,n!==0||(n=window.event,n=n===void 0?16:_v(n.type)),n):1}function Ao(n,e,t,r){if(50<th)throw th=0,Dm=null,Error(De(185));Oh(n,t,r),(!(Kr&2)||n!==vi)&&(n===vi&&(!(Kr&2)&&(pp|=t),ai===4&&al(n,Ai)),ps(n,r),t===1&&Kr===0&&!(e.mode&1)&&(cc=$n()+500,cp&&Al()))}function ps(n,e){var t=n.callbackNode;Qx(n,e);var r=xd(n,n===vi?Ai:0);if(r===0)t!==null&&g2(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&g2(t),e===1)n.tag===0?J4(ly.bind(null,n)):Uv(ly.bind(null,n)),Y4(function(){!(Kr&6)&&Al()}),t=null;else{switch(gv(r)){case 1:t=kg;break;case 4:t=dv;break;case 16:t=wd;break;case 536870912:t=pv;break;default:t=wd}t=B5(t,O5.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function O5(n,e){if(sd=-1,od=0,Kr&6)throw Error(De(327));var t=n.callbackNode;if(Ku()&&n.callbackNode!==t)return null;var r=xd(n,n===vi?Ai:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Bd(n,r);else{e=r;var s=Kr;Kr|=2;var i=L5();(vi!==n||Ai!==e)&&(fa=null,cc=$n()+500,Zl(n,e));do try{v6();break}catch(l){P5(n,l)}while(!0);Ig(),Dd.current=i,Kr=s,ei!==null?e=0:(vi=null,Ai=0,e=ai)}if(e!==0){if(e===2&&(s=um(n),s!==0&&(r=s,e=Im(n,s))),e===1)throw t=_h,Zl(n,0),al(n,r),ps(n,$n()),t;if(e===6)al(n,r);else{if(s=n.current.alternate,!(r&30)&&!y6(s)&&(e=Bd(n,r),e===2&&(i=um(n),i!==0&&(r=i,e=Im(n,i))),e===1))throw t=_h,Zl(n,0),al(n,r),ps(n,$n()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:Ul(n,us,fa);break;case 3:if(al(n,r),(r&130023424)===r&&(e=Jg+500-$n(),10<e)){if(xd(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Qi(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=ym(Ul.bind(null,n,us,fa),e);break}Ul(n,us,fa);break;case 4:if(al(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-To(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$n()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g6(r/1960))-r,10<r){n.timeoutHandle=ym(Ul.bind(null,n,us,fa),r);break}Ul(n,us,fa);break;case 5:Ul(n,us,fa);break;default:throw Error(De(329))}}}return ps(n,$n()),n.callbackNode===t?O5.bind(null,n):null}function Im(n,e){var t=Qc;return n.current.memoizedState.isDehydrated&&(Zl(n,e).flags|=256),n=Bd(n,e),n!==2&&(e=us,us=t,e!==null&&Fm(e)),n}function Fm(n){us===null?us=n:us.push.apply(us,n)}function y6(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!jo(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function al(n,e){for(e&=~Zg,e&=~pp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-To(e),r=1<<t;n[t]=-1,e&=~r}}function ly(n){if(Kr&6)throw Error(De(327));Ku();var e=xd(n,0);if(!(e&1))return ps(n,$n()),null;var t=Bd(n,e);if(n.tag!==0&&t===2){var r=um(n);r!==0&&(e=r,t=Im(n,r))}if(t===1)throw t=_h,Zl(n,0),al(n,e),ps(n,$n()),t;if(t===6)throw Error(De(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ul(n,us,fa),ps(n,$n()),null}function Qg(n,e){var t=Kr;Kr|=1;try{return n(e)}finally{Kr=t,Kr===0&&(cc=$n()+500,cp&&Al())}}function su(n){ul!==null&&ul.tag===0&&!(Kr&6)&&Ku();var e=Kr;Kr|=1;var t=Js.transition,r=un;try{if(Js.transition=null,un=1,n)return n()}finally{un=r,Js.transition=t,Kr=e,!(Kr&6)&&Al()}}function t1(){Ts=zu.current,kn(zu)}function Zl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,X4(t)),ei!==null)for(t=ei.return;t!==null;){var r=t;switch(Lg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:lc(),kn(fs),kn(Wi),$g();break;case 5:qg(r);break;case 4:lc();break;case 13:kn(En);break;case 19:kn(En);break;case 10:Fg(r.type._context);break;case 22:case 23:t1()}t=t.return}if(vi=n,ei=n=bl(n.current,null),Ai=Ts=e,ai=0,_h=null,Zg=pp=iu=0,us=Qc=null,Vl!==null){for(e=0;e<Vl.length;e++)if(t=Vl[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}Vl=null}return n}function P5(n,e){do{var t=ei;try{if(Ig(),rd.current=Rd,Ld){for(var r=Nn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ld=!1}if(nu=0,yi=oi=Nn=null,Zc=!1,vh=0,Kg.current=null,t===null||t.return===null){ai=1,_h=e,ei=null;break}t:{var i=n,o=t.return,l=t,u=e;if(e=Ai,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=G2(o);if(h!==null){h.flags&=-257,K2(h,o,l,i,e),h.mode&1&&Y2(i,a,e),e=h,u=a;var p=e.updateQueue;if(p===null){var y=new Set;y.add(u),e.updateQueue=y}else p.add(u);break t}else{if(!(e&1)){Y2(i,a,e),e1();break t}u=Error(De(426))}}else if(An&&l.mode&1){var m=G2(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),K2(m,o,l,i,e),Rg(uc(u,l));break t}}i=u=uc(u,l),ai!==4&&(ai=2),Qc===null?Qc=[i]:Qc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=g5(i,u,e);q2(i,g);break t;case 1:l=u;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gl===null||!gl.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=y5(i,l,e);q2(i,C);break t}}i=i.return}while(i!==null)}D5(t)}catch(j){e=j,ei===t&&t!==null&&(ei=t=t.return);continue}break}while(!0)}function L5(){var n=Dd.current;return Dd.current=Rd,n===null?Rd:n}function e1(){(ai===0||ai===3||ai===2)&&(ai=4),vi===null||!(iu&268435455)&&!(pp&268435455)||al(vi,Ai)}function Bd(n,e){var t=Kr;Kr|=2;var r=L5();(vi!==n||Ai!==e)&&(fa=null,Zl(n,e));do try{b6();break}catch(s){P5(n,s)}while(!0);if(Ig(),Kr=t,Dd.current=r,ei!==null)throw Error(De(261));return vi=null,Ai=0,ai}function b6(){for(;ei!==null;)R5(ei)}function v6(){for(;ei!==null&&!Hx();)R5(ei)}function R5(n){var e=F5(n.alternate,n,Ts);n.memoizedProps=n.pendingProps,e===null?D5(n):ei=e,Kg.current=null}function D5(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=f6(t,e),t!==null){t.flags&=32767,ei=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ai=6,ei=null;return}}else if(t=h6(t,e,Ts),t!==null){ei=t;return}if(e=e.sibling,e!==null){ei=e;return}ei=e=n}while(e!==null);ai===0&&(ai=5)}function Ul(n,e,t){var r=un,s=Js.transition;try{Js.transition=null,un=1,w6(n,e,t,r)}finally{Js.transition=s,un=r}return null}function w6(n,e,t,r){do Ku();while(ul!==null);if(Kr&6)throw Error(De(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(De(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(t4(n,i),n===vi&&(ei=vi=null,Ai=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||bf||(bf=!0,B5(wd,function(){return Ku(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Js.transition,Js.transition=null;var o=un;un=1;var l=Kr;Kr|=4,Kg.current=null,p6(n,t),E5(t,n),z4(mm),_d=!!pm,mm=pm=null,n.current=t,m6(t),Wx(),Kr=l,un=o,Js.transition=i}else n.current=t;if(bf&&(bf=!1,ul=n,Fd=s),i=n.pendingLanes,i===0&&(gl=null),Yx(t.stateNode),ps(n,$n()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Id)throw Id=!1,n=Rm,Rm=null,n;return Fd&1&&n.tag!==0&&Ku(),i=n.pendingLanes,i&1?n===Dm?th++:(th=0,Dm=n):th=0,Al(),null}function Ku(){if(ul!==null){var n=gv(Fd),e=Js.transition,t=un;try{if(Js.transition=null,un=16>n?16:n,ul===null)var r=!1;else{if(n=ul,ul=null,Fd=0,Kr&6)throw Error(De(331));var s=Kr;for(Kr|=4,ir=n.current;ir!==null;){var i=ir,o=i.child;if(ir.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(ir=a;ir!==null;){var c=ir;switch(c.tag){case 0:case 11:case 15:Jc(8,c,i)}var d=c.child;if(d!==null)d.return=c,ir=d;else for(;ir!==null;){c=ir;var f=c.sibling,h=c.return;if(A5(c),c===a){ir=null;break}if(f!==null){f.return=h,ir=f;break}ir=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(y!==null)}}ir=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ir=o;else t:for(;ir!==null;){if(i=ir,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ir=g;break t}ir=i.return}}var b=n.current;for(ir=b;ir!==null;){o=ir;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ir=w;else t:for(o=b;ir!==null;){if(l=ir,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dp(9,l)}}catch(j){Bn(l,l.return,j)}if(l===o){ir=null;break t}var C=l.sibling;if(C!==null){C.return=l.return,ir=C;break t}ir=l.return}}if(Kr=s,Al(),Wo&&typeof Wo.onPostCommitFiberRoot=="function")try{Wo.onPostCommitFiberRoot(sp,n)}catch{}r=!0}return r}finally{un=t,Js.transition=e}}return!1}function uy(n,e,t){e=uc(t,e),e=g5(n,e,1),n=ml(n,e,1),e=Qi(),n!==null&&(Oh(n,1,e),ps(n,e))}function Bn(n,e,t){if(n.tag===3)uy(n,n,t);else for(;e!==null;){if(e.tag===3){uy(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gl===null||!gl.has(r))){n=uc(t,n),n=y5(e,n,1),e=ml(e,n,1),n=Qi(),e!==null&&(Oh(e,1,n),ps(e,n));break}}e=e.return}}function x6(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Qi(),n.pingedLanes|=n.suspendedLanes&t,vi===n&&(Ai&t)===t&&(ai===4||ai===3&&(Ai&130023424)===Ai&&500>$n()-Jg?Zl(n,0):Zg|=t),ps(n,e)}function I5(n,e){e===0&&(n.mode&1?(e=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):e=1);var t=Qi();n=Ta(n,e),n!==null&&(Oh(n,e,t),ps(n,t))}function _6(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),I5(n,t)}function S6(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),I5(n,t)}var F5;F5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||fs.current)hs=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return hs=!1,c6(n,e,t);hs=!!(n.flags&131072)}else hs=!1,An&&e.flags&1048576&&qv(e,jd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;id(n,e),n=e.pendingProps;var s=sc(e,Wi.current);Gu(e,t),s=Wg(null,e,r,n,s,t);var i=Vg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ds(r)?(i=!0,Ad(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,zg(e),s.updater=fp,e.stateNode=s,s._reactInternals=e,km(e,r,n,t),e=Am(null,e,r,!0,i,t)):(e.tag=0,An&&i&&Pg(e),Ki(null,e,s,t),e=e.child),e;case 16:r=e.elementType;t:{switch(id(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=C6(r),n=bo(r,n),s){case 0:e=Tm(null,e,r,n,t);break t;case 1:e=Q2(null,e,r,n,t);break t;case 11:e=Z2(null,e,r,n,t);break t;case 14:e=J2(null,e,r,bo(r.type,n),t);break t}throw Error(De(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),Tm(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),Q2(n,e,r,s,t);case 3:t:{if(x5(e),n===null)throw Error(De(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Yv(n,e),Od(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=uc(Error(De(423)),e),e=ty(n,e,r,t,s);break t}else if(r!==s){s=uc(Error(De(424)),e),e=ty(n,e,r,t,s);break t}else for(As=pl(e.stateNode.containerInfo.firstChild),js=e,An=!0,_o=null,t=Vv(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(oc(),r===s){e=Aa(n,e,t);break t}Ki(n,e,r,t)}e=e.child}return e;case 5:return Gv(e),n===null&&xm(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,gm(r,s)?o=null:i!==null&&gm(r,i)&&(e.flags|=32),w5(n,e),Ki(n,e,o,t),e.child;case 6:return n===null&&xm(e),null;case 13:return _5(n,e,t);case 4:return Ug(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ac(e,null,r,t):Ki(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),Z2(n,e,r,s,t);case 7:return Ki(n,e,e.pendingProps,t),e.child;case 8:return Ki(n,e,e.pendingProps.children,t),e.child;case 12:return Ki(n,e,e.pendingProps.children,t),e.child;case 10:t:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,wn(Ed,r._currentValue),r._currentValue=o,i!==null)if(jo(i.value,o)){if(i.children===s.children&&!fs.current){e=Aa(n,e,t);break t}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=xa(-1,t&-t),u.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}i.lanes|=t,u=i.alternate,u!==null&&(u.lanes|=t),_m(i.return,t,e),l.lanes|=t;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(De(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),_m(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ki(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Gu(e,t),s=to(s),r=r(s),e.flags|=1,Ki(n,e,r,t),e.child;case 14:return r=e.type,s=bo(r,e.pendingProps),s=bo(r.type,s),J2(n,e,r,s,t);case 15:return b5(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),id(n,e),e.tag=1,ds(r)?(n=!0,Ad(e)):n=!1,Gu(e,t),m5(e,r,s),km(e,r,s,t),Am(null,e,r,!0,n,t);case 19:return S5(n,e,t);case 22:return v5(n,e,t)}throw Error(De(156,e.tag))};function B5(n,e){return fv(n,e)}function k6(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(n,e,t,r){return new k6(n,e,t,r)}function r1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function C6(n){if(typeof n=="function")return r1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===xg)return 11;if(n===_g)return 14}return 2}function bl(n,e){var t=n.alternate;return t===null?(t=Zs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ad(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")r1(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case Eu:return Jl(t.children,s,i,e);case wg:o=8,s|=8;break;case Y0:return n=Zs(12,t,e,s|2),n.elementType=Y0,n.lanes=i,n;case G0:return n=Zs(13,t,e,s),n.elementType=G0,n.lanes=i,n;case K0:return n=Zs(19,t,e,s),n.elementType=K0,n.lanes=i,n;case Gb:return mp(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Xb:o=10;break t;case Yb:o=9;break t;case xg:o=11;break t;case _g:o=14;break t;case il:o=16,r=null;break t}throw Error(De(130,n==null?n:typeof n,""))}return e=Zs(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function Jl(n,e,t,r){return n=Zs(7,n,r,e),n.lanes=t,n}function mp(n,e,t,r){return n=Zs(22,n,r,e),n.elementType=Gb,n.lanes=t,n.stateNode={isHidden:!1},n}function w0(n,e,t){return n=Zs(6,n,null,e),n.lanes=t,n}function x0(n,e,t){return e=Zs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function T6(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e0(0),this.expirationTimes=e0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function n1(n,e,t,r,s,i,o,l,u){return n=new T6(n,e,t,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Zs(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(i),n}function A6(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function z5(n){if(!n)return wl;n=n._reactInternals;t:{if(uu(n)!==n||n.tag!==1)throw Error(De(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(ds(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(De(171))}if(n.tag===1){var t=n.type;if(ds(t))return zv(n,t,e)}return e}function U5(n,e,t,r,s,i,o,l,u){return n=n1(t,r,!0,n,s,i,o,l,u),n.context=z5(null),t=n.current,r=Qi(),s=yl(t),i=xa(r,s),i.callback=e!=null?e:null,ml(t,i,s),n.current.lanes=s,Oh(n,s,r),ps(n,r),n}function gp(n,e,t,r){var s=e.current,i=Qi(),o=yl(s);return t=z5(t),e.context===null?e.context=t:e.pendingContext=t,e=xa(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ml(s,e,o),n!==null&&(Ao(n,s,o,i),ed(n,s,o)),o}function zd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function cy(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function i1(n,e){cy(n,e),(n=n.alternate)&&cy(n,e)}function M6(){return null}var q5=typeof reportError=="function"?reportError:function(n){console.error(n)};function s1(n){this._internalRoot=n}yp.prototype.render=s1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(De(409));gp(n,e,null,null)};yp.prototype.unmount=s1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;su(function(){gp(null,n,null,null)}),e[Ca]=null}};function yp(n){this._internalRoot=n}yp.prototype.unstable_scheduleHydration=function(n){if(n){var e=vv();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ol.length&&e!==0&&e<ol[t].priority;t++);ol.splice(t,0,n),t===0&&xv(n)}};function o1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hy(){}function j6(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var a=zd(o);i.call(a)}}var o=U5(e,r,n,0,null,!1,!1,"",hy);return n._reactRootContainer=o,n[Ca]=o.current,ph(n.nodeType===8?n.parentNode:n),su(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var a=zd(u);l.call(a)}}var u=n1(n,0,!1,null,null,!1,!1,"",hy);return n._reactRootContainer=u,n[Ca]=u.current,ph(n.nodeType===8?n.parentNode:n),su(function(){gp(e,u,t,r)}),u}function vp(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=zd(o);l.call(u)}}gp(e,o,n,s)}else o=j6(t,e,n,s,r);return zd(o)}yv=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=$c(e.pendingLanes);t!==0&&(Cg(e,t|1),ps(e,$n()),!(Kr&6)&&(cc=$n()+500,Al()))}break;case 13:su(function(){var r=Ta(n,1);if(r!==null){var s=Qi();Ao(r,n,1,s)}}),i1(n,1)}};Tg=function(n){if(n.tag===13){var e=Ta(n,134217728);if(e!==null){var t=Qi();Ao(e,n,134217728,t)}i1(n,134217728)}};bv=function(n){if(n.tag===13){var e=yl(n),t=Ta(n,e);if(t!==null){var r=Qi();Ao(t,n,e,r)}i1(n,e)}};vv=function(){return un};wv=function(n,e){var t=un;try{return un=n,e()}finally{un=t}};om=function(n,e,t){switch(e){case"input":if(Q0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=up(r);if(!s)throw Error(De(90));Zb(r),Q0(r,s)}}}break;case"textarea":Qb(n,t);break;case"select":e=t.value,e!=null&&Wu(n,!!t.multiple,e,!1)}};ov=Qg;av=su;var E6={usingClientEntryPoint:!1,Events:[Lh,Lu,up,iv,sv,Qg]},Dc={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N6={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=cv(n),n===null?null:n.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||M6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{sp=vf.inject(N6),Wo=vf}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;Ns.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o1(e))throw Error(De(200));return A6(n,e,null,t)};Ns.createRoot=function(n,e){if(!o1(n))throw Error(De(299));var t=!1,r="",s=q5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=n1(n,1,!1,null,null,t,!1,r,s),n[Ca]=e.current,ph(n.nodeType===8?n.parentNode:n),new s1(e)};Ns.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(De(188)):(n=Object.keys(n).join(","),Error(De(268,n)));return n=cv(e),n=n===null?null:n.stateNode,n};Ns.flushSync=function(n){return su(n)};Ns.hydrate=function(n,e,t){if(!bp(e))throw Error(De(200));return vp(null,n,e,!0,t)};Ns.hydrateRoot=function(n,e,t){if(!o1(n))throw Error(De(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=q5;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=U5(e,null,n,1,t!=null?t:null,s,!1,i,o),n[Ca]=e.current,ph(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new yp(e)};Ns.render=function(n,e,t){if(!bp(e))throw Error(De(200));return vp(null,n,e,!1,t)};Ns.unmountComponentAtNode=function(n){if(!bp(n))throw Error(De(40));return n._reactRootContainer?(su(function(){vp(null,null,n,!1,function(){n._reactRootContainer=null,n[Ca]=null})}),!0):!1};Ns.unstable_batchedUpdates=Qg;Ns.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!bp(t))throw Error(De(200));if(n==null||n._reactInternals===void 0)throw Error(De(38));return vp(n,e,t,!1,r)};Ns.version="18.3.1-next-f1338f8080-20240426";function $5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($5)}catch(n){console.error(n)}}$5(),$b.exports=Ns;var O6=$b.exports,H5,fy=O6;H5=fy.createRoot,fy.hydrateRoot;const dy=n=>{let e;const t=new Set,r=(a,c)=>{const d=typeof a=="function"?a(e):a;if(!Object.is(d,e)){const f=e;e=(c!=null?c:typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(h=>h(e,f))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:a=>(t.add(a),()=>t.delete(a))},u=e=n(r,s,l);return l},P6=n=>n?dy(n):dy,L6=n=>n;function R6(n,e=L6){const t=ma.useSyncExternalStore(n.subscribe,ma.useCallback(()=>e(n.getState()),[n,e]),ma.useCallback(()=>e(n.getInitialState()),[n,e]));return ma.useDebugValue(t),t}const py=n=>{const e=P6(n),t=r=>R6(e,r);return Object.assign(t,e),t},a1=n=>n?py(n):py,ki=[];for(let n=0;n<256;++n)ki.push((n+256).toString(16).slice(1));function D6(n,e=0){return(ki[n[e+0]]+ki[n[e+1]]+ki[n[e+2]]+ki[n[e+3]]+"-"+ki[n[e+4]]+ki[n[e+5]]+"-"+ki[n[e+6]]+ki[n[e+7]]+"-"+ki[n[e+8]]+ki[n[e+9]]+"-"+ki[n[e+10]]+ki[n[e+11]]+ki[n[e+12]]+ki[n[e+13]]+ki[n[e+14]]+ki[n[e+15]]).toLowerCase()}let _0;const I6=new Uint8Array(16);function F6(){if(!_0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_0=crypto.getRandomValues.bind(crypto)}return _0(I6)}const B6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),my={randomUUID:B6};function ga(n,e,t){var s,i,o;if(my.randomUUID&&!n)return my.randomUUID();n=n||{};const r=(o=(i=n.random)!=null?i:(s=n.rng)==null?void 0:s.call(n))!=null?o:F6();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,D6(r)}const z6={show:!0,color:"#cccccc",thickness:1,highlight5:!0,highlight10:!0,highlight5Color:"#999999",highlight10Color:"#666666"},W5={width:50,height:50,gaugeH:1,gaugeV:1,gridLines:z6,showNumbers:!0},S0={darkMode:!0,units:"metric",handedness:"right",defaultGridWidth:50,defaultGridHeight:50,defaultGaugeH:1,defaultGaugeV:1};function U6(n,e){const t=[];for(let r=0;r<e;r++){t[r]=[];for(let s=0;s<n;s++)t[r][s]={colorId:null,symbolId:null}}return{cells:t}}function q6(n,e,t,r=W5){const s=new Date,i={id:n,name:e,chartType:t,createdAt:s,updatedAt:s,settings:r,palette:[]};return t==="freeform"?i.freeform={layers:[{id:"layer-1",name:"Layer 1",visible:!0,locked:!1,symbols:[]}],activeLayerId:"layer-1"}:i.grid=U6(r.width,r.height),i}var V5={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(qr,function(){var t=function(D,X){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,rt){Q.__proto__=rt}||function(Q,rt){for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(Q[ot]=rt[ot])})(D,X)},r=function(){return(r=Object.assign||function(D){for(var X,Q=1,rt=arguments.length;Q<rt;Q++)for(var ot in X=arguments[Q])Object.prototype.hasOwnProperty.call(X,ot)&&(D[ot]=X[ot]);return D}).apply(this,arguments)};function s(D,X,Q){for(var rt,ot=0,ht=X.length;ot<ht;ot++)!rt&&ot in X||((rt=rt||Array.prototype.slice.call(X,0,ot))[ot]=X[ot]);return D.concat(rt||Array.prototype.slice.call(X))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qr,o=Object.keys,l=Array.isArray;function u(D,X){return typeof X!="object"||o(X).forEach(function(Q){D[Q]=X[Q]}),D}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var a=Object.getPrototypeOf,c={}.hasOwnProperty;function d(D,X){return c.call(D,X)}function f(D,X){typeof X=="function"&&(X=X(a(D))),(typeof Reflect>"u"?o:Reflect.ownKeys)(X).forEach(function(Q){p(D,Q,X[Q])})}var h=Object.defineProperty;function p(D,X,Q,rt){h(D,X,u(Q&&d(Q,"get")&&typeof Q.get=="function"?{get:Q.get,set:Q.set,configurable:!0}:{value:Q,configurable:!0,writable:!0},rt))}function y(D){return{from:function(X){return D.prototype=Object.create(X.prototype),p(D.prototype,"constructor",D),{extend:f.bind(null,D.prototype)}}}}var m=Object.getOwnPropertyDescriptor,g=[].slice;function b(D,X,Q){return g.call(D,X,Q)}function w(D,X){return X(D)}function C(D){if(!D)throw new Error("Assertion Failed")}function j(D){i.setImmediate?setImmediate(D):setTimeout(D,0)}function I(D,X){if(typeof X=="string"&&d(D,X))return D[X];if(!X)return D;if(typeof X!="string"){for(var Q=[],rt=0,ot=X.length;rt<ot;++rt){var ht=I(D,X[rt]);Q.push(ht)}return Q}var wt=X.indexOf(".");if(wt!==-1){var At=D[X.substr(0,wt)];return At==null?void 0:I(At,X.substr(wt+1))}}function q(D,X,Q){if(D&&X!==void 0&&!("isFrozen"in Object&&Object.isFrozen(D)))if(typeof X!="string"&&"length"in X){C(typeof Q!="string"&&"length"in Q);for(var rt=0,ot=X.length;rt<ot;++rt)q(D,X[rt],Q[rt])}else{var ht,wt,At=X.indexOf(".");At!==-1?(ht=X.substr(0,At),(wt=X.substr(At+1))===""?Q===void 0?l(D)&&!isNaN(parseInt(ht))?D.splice(ht,1):delete D[ht]:D[ht]=Q:q(At=!(At=D[ht])||!d(D,ht)?D[ht]={}:At,wt,Q)):Q===void 0?l(D)&&!isNaN(parseInt(X))?D.splice(X,1):delete D[X]:D[X]=Q}}function P(D){var X,Q={};for(X in D)d(D,X)&&(Q[X]=D[X]);return Q}var U=[].concat;function W(D){return U.apply([],D)}var ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map(function(D){return["Int","Uint","Float"].map(function(X){return X+D+"Array"})}))).filter(function(D){return i[D]}),z=new Set(ue.map(function(D){return i[D]})),R=null;function T(D){return R=new WeakMap,D=function X(Q){if(!Q||typeof Q!="object")return Q;var rt=R.get(Q);if(rt)return rt;if(l(Q)){rt=[],R.set(Q,rt);for(var ot=0,ht=Q.length;ot<ht;++ot)rt.push(X(Q[ot]))}else if(z.has(Q.constructor))rt=Q;else{var wt,At=a(Q);for(wt in rt=At===Object.prototype?{}:Object.create(At),R.set(Q,rt),Q)d(Q,wt)&&(rt[wt]=X(Q[wt]))}return rt}(D),R=null,D}var E={}.toString;function k(D){return E.call(D).slice(8,-1)}var v=typeof Symbol<"u"?Symbol.iterator:"@@iterator",_=typeof v=="symbol"?function(D){var X;return D!=null&&(X=D[v])&&X.apply(D)}:function(){return null};function x(D,X){return X=D.indexOf(X),0<=X&&D.splice(X,1),0<=X}var S={};function A(D){var X,Q,rt,ot;if(arguments.length===1){if(l(D))return D.slice();if(this===S&&typeof D=="string")return[D];if(ot=_(D)){for(Q=[];!(rt=ot.next()).done;)Q.push(rt.value);return Q}if(D==null)return[D];if(typeof(X=D.length)!="number")return[D];for(Q=new Array(X);X--;)Q[X]=D[X];return Q}for(X=arguments.length,Q=new Array(X);X--;)Q[X]=arguments[X];return Q}var B=typeof Symbol<"u"?function(D){return D[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},re=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],pi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(re),M={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(D,X){this.name=D,this.message=X}function V(D,X){return D+". Errors: "+Object.keys(X).map(function(Q){return X[Q].toString()}).filter(function(Q,rt,ot){return ot.indexOf(Q)===rt}).join(`
`)}function tt(D,X,Q,rt){this.failures=X,this.failedKeys=rt,this.successCount=Q,this.message=V(D,X)}function F(D,X){this.name="BulkError",this.failures=Object.keys(X).map(function(Q){return X[Q]}),this.failuresByPos=X,this.message=V(D,this.failures)}y(H).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(tt).from(H),y(F).from(H);var J=pi.reduce(function(D,X){return D[X]=X+"Error",D},{}),L=H,N=pi.reduce(function(D,X){var Q=X+"Error";function rt(ot,ht){this.name=Q,ot?typeof ot=="string"?(this.message="".concat(ot).concat(ht?`
 `+ht:""),this.inner=ht||null):typeof ot=="object"&&(this.message="".concat(ot.name," ").concat(ot.message),this.inner=ot):(this.message=M[X]||Q,this.inner=null)}return y(rt).from(L),D[X]=rt,D},{});N.Syntax=SyntaxError,N.Type=TypeError,N.Range=RangeError;var Y=re.reduce(function(D,X){return D[X+"Error"]=N[X],D},{}),nt=pi.reduce(function(D,X){return["Syntax","Type","Range"].indexOf(X)===-1&&(D[X+"Error"]=N[X]),D},{});function lt(){}function st(D){return D}function pt(D,X){return D==null||D===st?X:function(Q){return X(D(Q))}}function ft(D,X){return function(){D.apply(this,arguments),X.apply(this,arguments)}}function it(D,X){return D===lt?X:function(){var Q=D.apply(this,arguments);Q!==void 0&&(arguments[0]=Q);var rt=this.onsuccess,ot=this.onerror;this.onsuccess=null,this.onerror=null;var ht=X.apply(this,arguments);return rt&&(this.onsuccess=this.onsuccess?ft(rt,this.onsuccess):rt),ot&&(this.onerror=this.onerror?ft(ot,this.onerror):ot),ht!==void 0?ht:Q}}function at(D,X){return D===lt?X:function(){D.apply(this,arguments);var Q=this.onsuccess,rt=this.onerror;this.onsuccess=this.onerror=null,X.apply(this,arguments),Q&&(this.onsuccess=this.onsuccess?ft(Q,this.onsuccess):Q),rt&&(this.onerror=this.onerror?ft(rt,this.onerror):rt)}}function bt(D,X){return D===lt?X:function(Q){var rt=D.apply(this,arguments);u(Q,rt);var ot=this.onsuccess,ht=this.onerror;return this.onsuccess=null,this.onerror=null,Q=X.apply(this,arguments),ot&&(this.onsuccess=this.onsuccess?ft(ot,this.onsuccess):ot),ht&&(this.onerror=this.onerror?ft(ht,this.onerror):ht),rt===void 0?Q===void 0?void 0:Q:u(rt,Q)}}function gt(D,X){return D===lt?X:function(){return X.apply(this,arguments)!==!1&&D.apply(this,arguments)}}function St(D,X){return D===lt?X:function(){var Q=D.apply(this,arguments);if(Q&&typeof Q.then=="function"){for(var rt=this,ot=arguments.length,ht=new Array(ot);ot--;)ht[ot]=arguments[ot];return Q.then(function(){return X.apply(rt,ht)})}return X.apply(this,arguments)}}nt.ModifyError=tt,nt.DexieError=H,nt.BulkError=F;var kt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Tt(D){kt=D}var Lt={},Xt=100,ue=typeof Promise>"u"?[]:function(){var D=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[D,a(D),D];var X=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[X,a(X),D]}(),re=ue[0],pi=ue[1],ue=ue[2],pi=pi&&pi.then,ce=re&&re.constructor,de=!!ue,we=function(D,X){ze.push([D,X]),ie&&(queueMicrotask(mr),ie=!1)},Me=!0,ie=!0,Ue=[],me=[],Ce=st,xe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:lt,pgp:!1,env:{},finalize:lt},ne=xe,ze=[],We=0,Or=[];function te(D){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var X=this._PSD=ne;if(typeof D!="function"){if(D!==Lt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ye(this,this._value))}this._state=null,this._value=null,++X.ref,function Q(rt,ot){try{ot(function(ht){if(rt._state===null){if(ht===rt)throw new TypeError("A promise cannot be resolved with itself.");var wt=rt._lib&&jr();ht&&typeof ht.then=="function"?Q(rt,function(At,Nt){ht instanceof te?ht._then(At,Nt):ht.then(At,Nt)}):(rt._state=!0,rt._value=ht,Ve(rt)),wt&&rr()}},Ye.bind(null,rt))}catch(ht){Ye(rt,ht)}}(this,D)}var Sr={get:function(){var D=ne,X=sr;function Q(rt,ot){var ht=this,wt=!D.global&&(D!==ne||X!==sr),At=wt&&!He(),Nt=new te(function(Et,Ht){er(ht,new br(en(rt,D,wt,At),en(ot,D,wt,At),Et,Ht,D))});return this._consoleTask&&(Nt._consoleTask=this._consoleTask),Nt}return Q.prototype=Lt,Q},set:function(D){p(this,"then",D&&D.prototype===Lt?Sr:{get:function(){return D},set:Sr.set})}};function br(D,X,Q,rt,ot){this.onFulfilled=typeof D=="function"?D:null,this.onRejected=typeof X=="function"?X:null,this.resolve=Q,this.reject=rt,this.psd=ot}function Ye(D,X){var Q,rt;me.push(X),D._state===null&&(Q=D._lib&&jr(),X=Ce(X),D._state=!1,D._value=X,rt=D,Ue.some(function(ot){return ot._value===rt._value})||Ue.push(rt),Ve(D),Q&&rr())}function Ve(D){var X=D._listeners;D._listeners=[];for(var Q=0,rt=X.length;Q<rt;++Q)er(D,X[Q]);var ot=D._PSD;--ot.ref||ot.finalize(),We===0&&(++We,we(function(){--We==0&&Be()},[]))}function er(D,X){if(D._state!==null){var Q=D._state?X.onFulfilled:X.onRejected;if(Q===null)return(D._state?X.resolve:X.reject)(D._value);++X.psd.ref,++We,we(cr,[Q,D,X])}else D._listeners.push(X)}function cr(D,X,Q){try{var rt,ot=X._value;!X._state&&me.length&&(me=[]),rt=kt&&X._consoleTask?X._consoleTask.run(function(){return D(ot)}):D(ot),X._state||me.indexOf(ot)!==-1||function(ht){for(var wt=Ue.length;wt;)if(Ue[--wt]._value===ht._value)return Ue.splice(wt,1)}(X),Q.resolve(rt)}catch(ht){Q.reject(ht)}finally{--We==0&&Be(),--Q.psd.ref||Q.psd.finalize()}}function mr(){Rr(xe,function(){jr()&&rr()})}function jr(){var D=Me;return ie=Me=!1,D}function rr(){var D,X,Q;do for(;0<ze.length;)for(D=ze,ze=[],Q=D.length,X=0;X<Q;++X){var rt=D[X];rt[0].apply(null,rt[1])}while(0<ze.length);ie=Me=!0}function Be(){var D=Ue;Ue=[],D.forEach(function(rt){rt._PSD.onunhandled.call(null,rt._value,rt)});for(var X=Or.slice(0),Q=X.length;Q;)X[--Q]()}function Nr(D){return new te(Lt,!1,D)}function qe(D,X){var Q=ne;return function(){var rt=jr(),ot=ne;try{return fr(Q,!0),D.apply(this,arguments)}catch(ht){X&&X(ht)}finally{fr(ot,!1),rt&&rr()}}}f(te.prototype,{then:Sr,_then:function(D,X){er(this,new br(null,null,D,X,ne))},catch:function(D){if(arguments.length===1)return this.then(null,D);var X=D,Q=arguments[1];return typeof X=="function"?this.then(null,function(rt){return(rt instanceof X?Q:Nr)(rt)}):this.then(null,function(rt){return(rt&&rt.name===X?Q:Nr)(rt)})},finally:function(D){return this.then(function(X){return te.resolve(D()).then(function(){return X})},function(X){return te.resolve(D()).then(function(){return Nr(X)})})},timeout:function(D,X){var Q=this;return D<1/0?new te(function(rt,ot){var ht=setTimeout(function(){return ot(new N.Timeout(X))},D);Q.then(rt,ot).finally(clearTimeout.bind(null,ht))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(te.prototype,Symbol.toStringTag,"Dexie.Promise"),xe.env=Xr(),f(te,{all:function(){var D=A.apply(null,arguments).map(hr);return new te(function(X,Q){D.length===0&&X([]);var rt=D.length;D.forEach(function(ot,ht){return te.resolve(ot).then(function(wt){D[ht]=wt,--rt||X(D)},Q)})})},resolve:function(D){return D instanceof te?D:D&&typeof D.then=="function"?new te(function(X,Q){D.then(X,Q)}):new te(Lt,!0,D)},reject:Nr,race:function(){var D=A.apply(null,arguments).map(hr);return new te(function(X,Q){D.map(function(rt){return te.resolve(rt).then(X,Q)})})},PSD:{get:function(){return ne},set:function(D){return ne=D}},totalEchoes:{get:function(){return sr}},newPSD:Je,usePSD:Rr,scheduler:{get:function(){return we},set:function(D){we=D}},rejectionMapper:{get:function(){return Ce},set:function(D){Ce=D}},follow:function(D,X){return new te(function(Q,rt){return Je(function(ot,ht){var wt=ne;wt.unhandleds=[],wt.onunhandled=ht,wt.finalize=ft(function(){var At,Nt=this;At=function(){Nt.unhandleds.length===0?ot():ht(Nt.unhandleds[0])},Or.push(function Et(){At(),Or.splice(Or.indexOf(Et),1)}),++We,we(function(){--We==0&&Be()},[])},wt.finalize),D()},X,Q,rt)})}}),ce&&(ce.allSettled&&p(te,"allSettled",function(){var D=A.apply(null,arguments).map(hr);return new te(function(X){D.length===0&&X([]);var Q=D.length,rt=new Array(Q);D.forEach(function(ot,ht){return te.resolve(ot).then(function(wt){return rt[ht]={status:"fulfilled",value:wt}},function(wt){return rt[ht]={status:"rejected",reason:wt}}).then(function(){return--Q||X(rt)})})})}),ce.any&&typeof AggregateError<"u"&&p(te,"any",function(){var D=A.apply(null,arguments).map(hr);return new te(function(X,Q){D.length===0&&Q(new AggregateError([]));var rt=D.length,ot=new Array(rt);D.forEach(function(ht,wt){return te.resolve(ht).then(function(At){return X(At)},function(At){ot[wt]=At,--rt||Q(new AggregateError(ot))})})})}),ce.withResolvers&&(te.withResolvers=ce.withResolvers));var Mt={awaits:0,echoes:0,id:0},qt=0,ee=[],Ae=0,sr=0,Le=0;function Je(D,X,Q,rt){var ot=ne,ht=Object.create(ot);return ht.parent=ot,ht.ref=0,ht.global=!1,ht.id=++Le,xe.env,ht.env=de?{Promise:te,PromiseProp:{value:te,configurable:!0,writable:!0},all:te.all,race:te.race,allSettled:te.allSettled,any:te.any,resolve:te.resolve,reject:te.reject}:{},X&&u(ht,X),++ot.ref,ht.finalize=function(){--this.parent.ref||this.parent.finalize()},rt=Rr(ht,D,Q,rt),ht.ref===0&&ht.finalize(),rt}function Ke(){return Mt.id||(Mt.id=++qt),++Mt.awaits,Mt.echoes+=Xt,Mt.id}function He(){return!!Mt.awaits&&(--Mt.awaits==0&&(Mt.id=0),Mt.echoes=Mt.awaits*Xt,!0)}function hr(D){return Mt.echoes&&D&&D.constructor===ce?(Ke(),D.then(function(X){return He(),X},function(X){return He(),Lr(X)})):D}function lr(){var D=ee[ee.length-1];ee.pop(),fr(D,!1)}function fr(D,X){var Q,rt=ne;(X?!Mt.echoes||Ae++&&D===ne:!Ae||--Ae&&D===ne)||queueMicrotask(X?(function(ot){++sr,Mt.echoes&&--Mt.echoes!=0||(Mt.echoes=Mt.awaits=Mt.id=0),ee.push(ne),fr(ot,!0)}).bind(null,D):lr),D!==ne&&(ne=D,rt===xe&&(xe.env=Xr()),de&&(Q=xe.env.Promise,X=D.env,(rt.global||D.global)&&(Object.defineProperty(i,"Promise",X.PromiseProp),Q.all=X.all,Q.race=X.race,Q.resolve=X.resolve,Q.reject=X.reject,X.allSettled&&(Q.allSettled=X.allSettled),X.any&&(Q.any=X.any))))}function Xr(){var D=i.Promise;return de?{Promise:D,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:D.all,race:D.race,allSettled:D.allSettled,any:D.any,resolve:D.resolve,reject:D.reject}:{}}function Rr(D,X,Q,rt,ot){var ht=ne;try{return fr(D,!0),X(Q,rt,ot)}finally{fr(ht,!1)}}function en(D,X,Q,rt){return typeof D!="function"?D:function(){var ot=ne;Q&&Ke(),fr(X,!0);try{return D.apply(this,arguments)}finally{fr(ot,!1),rt&&queueMicrotask(He)}}}function Qr(D){Promise===ce&&Mt.echoes===0?Ae===0?D():enqueueNativeMicroTask(D):setTimeout(D,0)}(""+pi).indexOf("[native code]")===-1&&(Ke=He=lt);var Lr=te.reject,xt="",Yt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",he="String expected.",ge=[],Ze="__dbnames",Ne="readonly",Re="readwrite";function Ar(D,X){return D?X?function(){return D.apply(this,arguments)&&X.apply(this,arguments)}:D:X}var wr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function kr(D){return typeof D!="string"||/\./.test(D)?function(X){return X}:function(X){return X[D]===void 0&&D in X&&delete(X=T(X))[D],X}}function ur(){throw N.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Qe(D,X){try{var Q=gr(D),rt=gr(X);if(Q!==rt)return Q==="Array"?1:rt==="Array"?-1:Q==="binary"?1:rt==="binary"?-1:Q==="string"?1:rt==="string"?-1:Q==="Date"?1:rt!=="Date"?NaN:-1;switch(Q){case"number":case"Date":case"string":return X<D?1:D<X?-1:0;case"binary":return function(ot,ht){for(var wt=ot.length,At=ht.length,Nt=wt<At?wt:At,Et=0;Et<Nt;++Et)if(ot[Et]!==ht[Et])return ot[Et]<ht[Et]?-1:1;return wt===At?0:wt<At?-1:1}($r(D),$r(X));case"Array":return function(ot,ht){for(var wt=ot.length,At=ht.length,Nt=wt<At?wt:At,Et=0;Et<Nt;++Et){var Ht=Qe(ot[Et],ht[Et]);if(Ht!==0)return Ht}return wt===At?0:wt<At?-1:1}(D,X)}}catch{}return NaN}function gr(D){var X=typeof D;return X!="object"?X:ArrayBuffer.isView(D)?"binary":(D=k(D),D==="ArrayBuffer"?"binary":D)}function $r(D){return D instanceof Uint8Array?D:ArrayBuffer.isView(D)?new Uint8Array(D.buffer,D.byteOffset,D.byteLength):new Uint8Array(D)}function Yr(D,X,Q){var rt=D.schema.yProps;return rt?(X&&0<Q.numFailures&&(X=X.filter(function(ot,ht){return!Q.failures[ht]})),Promise.all(rt.map(function(ot){return ot=ot.updatesTable,X?D.db.table(ot).where("k").anyOf(X).delete():D.db.table(ot).clear()})).then(function(){return Q})):Q}var rn=(Tn.prototype.execute=function(D){var X=this["@@propmod"];if(X.add!==void 0){var Q=X.add;if(l(Q))return s(s([],l(D)?D:[],!0),Q).sort();if(typeof Q=="number")return(Number(D)||0)+Q;if(typeof Q=="bigint")try{return BigInt(D)+Q}catch{return BigInt(0)+Q}throw new TypeError("Invalid term ".concat(Q))}if(X.remove!==void 0){var rt=X.remove;if(l(rt))return l(D)?D.filter(function(ot){return!rt.includes(ot)}).sort():[];if(typeof rt=="number")return Number(D)-rt;if(typeof rt=="bigint")try{return BigInt(D)-rt}catch{return BigInt(0)-rt}throw new TypeError("Invalid subtrahend ".concat(rt))}return Q=(Q=X.replacePrefix)===null||Q===void 0?void 0:Q[0],Q&&typeof D=="string"&&D.startsWith(Q)?X.replacePrefix[1]+D.substring(Q.length):D},Tn);function Tn(D){this["@@propmod"]=D}function ci(D,X){for(var Q=o(X),rt=Q.length,ot=!1,ht=0;ht<rt;++ht){var wt=Q[ht],At=X[wt],Nt=I(D,wt);At instanceof rn?(q(D,wt,At.execute(Nt)),ot=!0):Nt!==At&&(q(D,wt,At),ot=!0)}return ot}var Pn=(zr.prototype._trans=function(D,X,Q){var rt=this._tx||ne.trans,ot=this.name,ht=kt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(D==="readonly"?"read":"write"," ").concat(this.name));function wt(Et,Ht,jt){if(!jt.schema[ot])throw new N.NotFound("Table "+ot+" not part of transaction");return X(jt.idbtrans,jt)}var At=jr();try{var Nt=rt&&rt.db._novip===this.db._novip?rt===ne.trans?rt._promise(D,wt,Q):Je(function(){return rt._promise(D,wt,Q)},{trans:rt,transless:ne.transless||ne}):function Et(Ht,jt,$t,Pt){if(Ht.idbdb&&(Ht._state.openComplete||ne.letThrough||Ht._vip)){var zt=Ht._createTransaction(jt,$t,Ht._dbSchema);try{zt.create(),Ht._state.PR1398_maxLoop=3}catch(Bt){return Bt.name===J.InvalidState&&Ht.isOpen()&&0<--Ht._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ht.close({disableAutoOpen:!1}),Ht.open().then(function(){return Et(Ht,jt,$t,Pt)})):Lr(Bt)}return zt._promise(jt,function(Bt,Wt){return Je(function(){return ne.trans=zt,Pt(Bt,Wt,zt)})}).then(function(Bt){if(jt==="readwrite")try{zt.idbtrans.commit()}catch{}return jt==="readonly"?Bt:zt._completion.then(function(){return Bt})})}if(Ht._state.openComplete)return Lr(new N.DatabaseClosed(Ht._state.dbOpenError));if(!Ht._state.isBeingOpened){if(!Ht._state.autoOpen)return Lr(new N.DatabaseClosed);Ht.open().catch(lt)}return Ht._state.dbReadyPromise.then(function(){return Et(Ht,jt,$t,Pt)})}(this.db,D,[this.name],wt);return ht&&(Nt._consoleTask=ht,Nt=Nt.catch(function(Et){return console.trace(Et),Lr(Et)})),Nt}finally{At&&rr()}},zr.prototype.get=function(D,X){var Q=this;return D&&D.constructor===Object?this.where(D).first(X):D==null?Lr(new N.Type("Invalid argument to Table.get()")):this._trans("readonly",function(rt){return Q.core.get({trans:rt,key:D}).then(function(ot){return Q.hook.reading.fire(ot)})}).then(X)},zr.prototype.where=function(D){if(typeof D=="string")return new this.db.WhereClause(this,D);if(l(D))return new this.db.WhereClause(this,"[".concat(D.join("+"),"]"));var X=o(D);if(X.length===1)return this.where(X[0]).equals(D[X[0]]);var Q=this.schema.indexes.concat(this.schema.primKey).filter(function(At){if(At.compound&&X.every(function(Et){return 0<=At.keyPath.indexOf(Et)})){for(var Nt=0;Nt<X.length;++Nt)if(X.indexOf(At.keyPath[Nt])===-1)return!1;return!0}return!1}).sort(function(At,Nt){return At.keyPath.length-Nt.keyPath.length})[0];if(Q&&this.db._maxKey!==xt){var ht=Q.keyPath.slice(0,X.length);return this.where(ht).equals(ht.map(function(Nt){return D[Nt]}))}!Q&&kt&&console.warn("The query ".concat(JSON.stringify(D)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(X.join("+"),"]"));var rt=this.schema.idxByName;function ot(At,Nt){return Qe(At,Nt)===0}var wt=X.reduce(function(jt,Nt){var Et=jt[0],Ht=jt[1],jt=rt[Nt],$t=D[Nt];return[Et||jt,Et||!jt?Ar(Ht,jt&&jt.multi?function(Pt){return Pt=I(Pt,Nt),l(Pt)&&Pt.some(function(zt){return ot($t,zt)})}:function(Pt){return ot($t,I(Pt,Nt))}):Ht]},[null,null]),ht=wt[0],wt=wt[1];return ht?this.where(ht.name).equals(D[ht.keyPath]).filter(wt):Q?this.filter(wt):this.where(X).equals("")},zr.prototype.filter=function(D){return this.toCollection().and(D)},zr.prototype.count=function(D){return this.toCollection().count(D)},zr.prototype.offset=function(D){return this.toCollection().offset(D)},zr.prototype.limit=function(D){return this.toCollection().limit(D)},zr.prototype.each=function(D){return this.toCollection().each(D)},zr.prototype.toArray=function(D){return this.toCollection().toArray(D)},zr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},zr.prototype.orderBy=function(D){return new this.db.Collection(new this.db.WhereClause(this,l(D)?"[".concat(D.join("+"),"]"):D))},zr.prototype.reverse=function(){return this.toCollection().reverse()},zr.prototype.mapToClass=function(D){var X,Q=this.db,rt=this.name;function ot(){return X!==null&&X.apply(this,arguments)||this}(this.schema.mappedClass=D).prototype instanceof ur&&(function(Nt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Class extends value "+String(Et)+" is not a constructor or null");function Ht(){this.constructor=Nt}t(Nt,Et),Nt.prototype=Et===null?Object.create(Et):(Ht.prototype=Et.prototype,new Ht)}(ot,X=D),Object.defineProperty(ot.prototype,"db",{get:function(){return Q},enumerable:!1,configurable:!0}),ot.prototype.table=function(){return rt},D=ot);for(var ht=new Set,wt=D.prototype;wt;wt=a(wt))Object.getOwnPropertyNames(wt).forEach(function(Nt){return ht.add(Nt)});function At(Nt){if(!Nt)return Nt;var Et,Ht=Object.create(D.prototype);for(Et in Nt)if(!ht.has(Et))try{Ht[Et]=Nt[Et]}catch{}return Ht}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=At,this.hook("reading",At),D},zr.prototype.defineClass=function(){return this.mapToClass(function(D){u(this,D)})},zr.prototype.add=function(D,X){var Q=this,rt=this.schema.primKey,ot=rt.auto,ht=rt.keyPath,wt=D;return ht&&ot&&(wt=kr(ht)(D)),this._trans("readwrite",function(At){return Q.core.mutate({trans:At,type:"add",keys:X!=null?[X]:null,values:[wt]})}).then(function(At){return At.numFailures?te.reject(At.failures[0]):At.lastResult}).then(function(At){if(ht)try{q(D,ht,At)}catch{}return At})},zr.prototype.upsert=function(D,X){var Q=this,rt=this.schema.primKey.keyPath;return this._trans("readwrite",function(ot){return Q.core.get({trans:ot,key:D}).then(function(ht){var wt=ht!=null?ht:{};return ci(wt,X),rt&&q(wt,rt,D),Q.core.mutate({trans:ot,type:"put",values:[wt],keys:[D],upsert:!0,updates:{keys:[D],changeSpecs:[X]}}).then(function(At){return At.numFailures?te.reject(At.failures[0]):!!ht})})})},zr.prototype.update=function(D,X){return typeof D!="object"||l(D)?this.where(":id").equals(D).modify(X):(D=I(D,this.schema.primKey.keyPath),D===void 0?Lr(new N.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(D).modify(X))},zr.prototype.put=function(D,X){var Q=this,rt=this.schema.primKey,ot=rt.auto,ht=rt.keyPath,wt=D;return ht&&ot&&(wt=kr(ht)(D)),this._trans("readwrite",function(At){return Q.core.mutate({trans:At,type:"put",values:[wt],keys:X!=null?[X]:null})}).then(function(At){return At.numFailures?te.reject(At.failures[0]):At.lastResult}).then(function(At){if(ht)try{q(D,ht,At)}catch{}return At})},zr.prototype.delete=function(D){var X=this;return this._trans("readwrite",function(Q){return X.core.mutate({trans:Q,type:"delete",keys:[D]}).then(function(rt){return Yr(X,[D],rt)}).then(function(rt){return rt.numFailures?te.reject(rt.failures[0]):void 0})})},zr.prototype.clear=function(){var D=this;return this._trans("readwrite",function(X){return D.core.mutate({trans:X,type:"deleteRange",range:wr}).then(function(Q){return Yr(D,null,Q)})}).then(function(X){return X.numFailures?te.reject(X.failures[0]):void 0})},zr.prototype.bulkGet=function(D){var X=this;return this._trans("readonly",function(Q){return X.core.getMany({keys:D,trans:Q}).then(function(rt){return rt.map(function(ot){return X.hook.reading.fire(ot)})})})},zr.prototype.bulkAdd=function(D,X,Q){var rt=this,ot=Array.isArray(X)?X:void 0,ht=(Q=Q||(ot?void 0:X))?Q.allKeys:void 0;return this._trans("readwrite",function(wt){var Et=rt.schema.primKey,At=Et.auto,Et=Et.keyPath;if(Et&&ot)throw new N.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(ot&&ot.length!==D.length)throw new N.InvalidArgument("Arguments objects and keys must have the same length");var Nt=D.length,Et=Et&&At?D.map(kr(Et)):D;return rt.core.mutate({trans:wt,type:"add",keys:ot,values:Et,wantResults:ht}).then(function(zt){var jt=zt.numFailures,$t=zt.results,Pt=zt.lastResult,zt=zt.failures;if(jt===0)return ht?$t:Pt;throw new F("".concat(rt.name,".bulkAdd(): ").concat(jt," of ").concat(Nt," operations failed"),zt)})})},zr.prototype.bulkPut=function(D,X,Q){var rt=this,ot=Array.isArray(X)?X:void 0,ht=(Q=Q||(ot?void 0:X))?Q.allKeys:void 0;return this._trans("readwrite",function(wt){var Et=rt.schema.primKey,At=Et.auto,Et=Et.keyPath;if(Et&&ot)throw new N.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(ot&&ot.length!==D.length)throw new N.InvalidArgument("Arguments objects and keys must have the same length");var Nt=D.length,Et=Et&&At?D.map(kr(Et)):D;return rt.core.mutate({trans:wt,type:"put",keys:ot,values:Et,wantResults:ht}).then(function(zt){var jt=zt.numFailures,$t=zt.results,Pt=zt.lastResult,zt=zt.failures;if(jt===0)return ht?$t:Pt;throw new F("".concat(rt.name,".bulkPut(): ").concat(jt," of ").concat(Nt," operations failed"),zt)})})},zr.prototype.bulkUpdate=function(D){var X=this,Q=this.core,rt=D.map(function(wt){return wt.key}),ot=D.map(function(wt){return wt.changes}),ht=[];return this._trans("readwrite",function(wt){return Q.getMany({trans:wt,keys:rt,cache:"clone"}).then(function(At){var Nt=[],Et=[];D.forEach(function(jt,$t){var Pt=jt.key,zt=jt.changes,Bt=At[$t];if(Bt){for(var Wt=0,Kt=Object.keys(zt);Wt<Kt.length;Wt++){var Qt=Kt[Wt],se=zt[Qt];if(Qt===X.schema.primKey.keyPath){if(Qe(se,Pt)!==0)throw new N.Constraint("Cannot update primary key in bulkUpdate()")}else q(Bt,Qt,se)}ht.push($t),Nt.push(Pt),Et.push(Bt)}});var Ht=Nt.length;return Q.mutate({trans:wt,type:"put",keys:Nt,values:Et,updates:{keys:rt,changeSpecs:ot}}).then(function(jt){var $t=jt.numFailures,Pt=jt.failures;if($t===0)return Ht;for(var zt=0,Bt=Object.keys(Pt);zt<Bt.length;zt++){var Wt,Kt=Bt[zt],Qt=ht[Number(Kt)];Qt!=null&&(Wt=Pt[Kt],delete Pt[Kt],Pt[Qt]=Wt)}throw new F("".concat(X.name,".bulkUpdate(): ").concat($t," of ").concat(Ht," operations failed"),Pt)})})})},zr.prototype.bulkDelete=function(D){var X=this,Q=D.length;return this._trans("readwrite",function(rt){return X.core.mutate({trans:rt,type:"delete",keys:D}).then(function(ot){return Yr(X,D,ot)})}).then(function(wt){var ot=wt.numFailures,ht=wt.lastResult,wt=wt.failures;if(ot===0)return ht;throw new F("".concat(X.name,".bulkDelete(): ").concat(ot," of ").concat(Q," operations failed"),wt)})},zr);function zr(){}function fn(D){function X(wt,At){if(At){for(var Nt=arguments.length,Et=new Array(Nt-1);--Nt;)Et[Nt-1]=arguments[Nt];return Q[wt].subscribe.apply(null,Et),D}if(typeof wt=="string")return Q[wt]}var Q={};X.addEventType=ht;for(var rt=1,ot=arguments.length;rt<ot;++rt)ht(arguments[rt]);return X;function ht(wt,At,Nt){if(typeof wt!="object"){var Et;At=At||gt;var Ht={subscribers:[],fire:Nt=Nt||lt,subscribe:function(jt){Ht.subscribers.indexOf(jt)===-1&&(Ht.subscribers.push(jt),Ht.fire=At(Ht.fire,jt))},unsubscribe:function(jt){Ht.subscribers=Ht.subscribers.filter(function($t){return $t!==jt}),Ht.fire=Ht.subscribers.reduce(At,Nt)}};return Q[wt]=X[wt]=Ht}o(Et=wt).forEach(function(jt){var $t=Et[jt];if(l($t))ht(jt,Et[jt][0],Et[jt][1]);else{if($t!=="asap")throw new N.InvalidArgument("Invalid event config");var Pt=ht(jt,st,function(){for(var zt=arguments.length,Bt=new Array(zt);zt--;)Bt[zt]=arguments[zt];Pt.subscribers.forEach(function(Wt){j(function(){Wt.apply(null,Bt)})})})}})}}function hi(D,X){return y(X).from({prototype:D}),X}function Dr(D,X){return!(D.filter||D.algorithm||D.or)&&(X?D.justLimit:!D.replayFilter)}function Ir(D,X){D.filter=Ar(D.filter,X)}function wi(D,X,Q){var rt=D.replayFilter;D.replayFilter=rt?function(){return Ar(rt(),X())}:X,D.justLimit=Q&&!rt}function ji(D,X){if(D.isPrimKey)return X.primaryKey;var Q=X.getIndexByKeyPath(D.index);if(!Q)throw new N.Schema("KeyPath "+D.index+" on object store "+X.name+" is not indexed");return Q}function Ps(D,X,Q){var rt=ji(D,X.schema);return X.openCursor({trans:Q,values:!D.keysOnly,reverse:D.dir==="prev",unique:!!D.unique,query:{index:rt,range:D.range}})}function Ln(D,X,Q,rt){var ot=D.replayFilter?Ar(D.filter,D.replayFilter()):D.filter;if(D.or){var ht={},wt=function(At,Nt,Et){var Ht,jt;ot&&!ot(Nt,Et,function($t){return Nt.stop($t)},function($t){return Nt.fail($t)})||((jt=""+(Ht=Nt.primaryKey))=="[object ArrayBuffer]"&&(jt=""+new Uint8Array(Ht)),d(ht,jt)||(ht[jt]=!0,X(At,Nt,Et)))};return Promise.all([D.or._iterate(wt,Q),fi(Ps(D,rt,Q),D.algorithm,wt,!D.keysOnly&&D.valueMapper)])}return fi(Ps(D,rt,Q),Ar(D.algorithm,ot),X,!D.keysOnly&&D.valueMapper)}function fi(D,X,Q,rt){var ot=qe(rt?function(ht,wt,At){return Q(rt(ht),wt,At)}:Q);return D.then(function(ht){if(ht)return ht.start(function(){var wt=function(){return ht.continue()};X&&!X(ht,function(At){return wt=At},function(At){ht.stop(At),wt=lt},function(At){ht.fail(At),wt=lt})||ot(ht.value,ht,function(At){return wt=At}),wt()})})}var ns=(Fr.prototype._read=function(D,X){var Q=this._ctx;return Q.error?Q.table._trans(null,Lr.bind(null,Q.error)):Q.table._trans("readonly",D).then(X)},Fr.prototype._write=function(D){var X=this._ctx;return X.error?X.table._trans(null,Lr.bind(null,X.error)):X.table._trans("readwrite",D,"locked")},Fr.prototype._addAlgorithm=function(D){var X=this._ctx;X.algorithm=Ar(X.algorithm,D)},Fr.prototype._iterate=function(D,X){return Ln(this._ctx,D,X,this._ctx.table.core)},Fr.prototype.clone=function(D){var X=Object.create(this.constructor.prototype),Q=Object.create(this._ctx);return D&&u(Q,D),X._ctx=Q,X},Fr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fr.prototype.each=function(D){var X=this._ctx;return this._read(function(Q){return Ln(X,D,Q,X.table.core)})},Fr.prototype.count=function(D){var X=this;return this._read(function(Q){var rt=X._ctx,ot=rt.table.core;if(Dr(rt,!0))return ot.count({trans:Q,query:{index:ji(rt,ot.schema),range:rt.range}}).then(function(wt){return Math.min(wt,rt.limit)});var ht=0;return Ln(rt,function(){return++ht,!1},Q,ot).then(function(){return ht})}).then(D)},Fr.prototype.sortBy=function(D,X){var Q=D.split(".").reverse(),rt=Q[0],ot=Q.length-1;function ht(Nt,Et){return Et?ht(Nt[Q[Et]],Et-1):Nt[rt]}var wt=this._ctx.dir==="next"?1:-1;function At(Nt,Et){return Qe(ht(Nt,ot),ht(Et,ot))*wt}return this.toArray(function(Nt){return Nt.sort(At)}).then(X)},Fr.prototype.toArray=function(D){var X=this;return this._read(function(Q){var rt=X._ctx;if(rt.dir==="next"&&Dr(rt,!0)&&0<rt.limit){var ot=rt.valueMapper,ht=ji(rt,rt.table.core.schema);return rt.table.core.query({trans:Q,limit:rt.limit,values:!0,query:{index:ht,range:rt.range}}).then(function(At){return At=At.result,ot?At.map(ot):At})}var wt=[];return Ln(rt,function(At){return wt.push(At)},Q,rt.table.core).then(function(){return wt})},D)},Fr.prototype.offset=function(D){var X=this._ctx;return D<=0||(X.offset+=D,Dr(X)?wi(X,function(){var Q=D;return function(rt,ot){return Q===0||(Q===1?--Q:ot(function(){rt.advance(Q),Q=0}),!1)}}):wi(X,function(){var Q=D;return function(){return--Q<0}})),this},Fr.prototype.limit=function(D){return this._ctx.limit=Math.min(this._ctx.limit,D),wi(this._ctx,function(){var X=D;return function(Q,rt,ot){return--X<=0&&rt(ot),0<=X}},!0),this},Fr.prototype.until=function(D,X){return Ir(this._ctx,function(Q,rt,ot){return!D(Q.value)||(rt(ot),X)}),this},Fr.prototype.first=function(D){return this.limit(1).toArray(function(X){return X[0]}).then(D)},Fr.prototype.last=function(D){return this.reverse().first(D)},Fr.prototype.filter=function(D){var X;return Ir(this._ctx,function(Q){return D(Q.value)}),(X=this._ctx).isMatch=Ar(X.isMatch,D),this},Fr.prototype.and=function(D){return this.filter(D)},Fr.prototype.or=function(D){return new this.db.WhereClause(this._ctx.table,D,this)},Fr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fr.prototype.desc=function(){return this.reverse()},Fr.prototype.eachKey=function(D){var X=this._ctx;return X.keysOnly=!X.isMatch,this.each(function(Q,rt){D(rt.key,rt)})},Fr.prototype.eachUniqueKey=function(D){return this._ctx.unique="unique",this.eachKey(D)},Fr.prototype.eachPrimaryKey=function(D){var X=this._ctx;return X.keysOnly=!X.isMatch,this.each(function(Q,rt){D(rt.primaryKey,rt)})},Fr.prototype.keys=function(D){var X=this._ctx;X.keysOnly=!X.isMatch;var Q=[];return this.each(function(rt,ot){Q.push(ot.key)}).then(function(){return Q}).then(D)},Fr.prototype.primaryKeys=function(D){var X=this._ctx;if(X.dir==="next"&&Dr(X,!0)&&0<X.limit)return this._read(function(rt){var ot=ji(X,X.table.core.schema);return X.table.core.query({trans:rt,values:!1,limit:X.limit,query:{index:ot,range:X.range}})}).then(function(rt){return rt.result}).then(D);X.keysOnly=!X.isMatch;var Q=[];return this.each(function(rt,ot){Q.push(ot.primaryKey)}).then(function(){return Q}).then(D)},Fr.prototype.uniqueKeys=function(D){return this._ctx.unique="unique",this.keys(D)},Fr.prototype.firstKey=function(D){return this.limit(1).keys(function(X){return X[0]}).then(D)},Fr.prototype.lastKey=function(D){return this.reverse().firstKey(D)},Fr.prototype.distinct=function(){var D=this._ctx,D=D.index&&D.table.schema.idxByName[D.index];if(!D||!D.multi)return this;var X={};return Ir(this._ctx,function(ot){var rt=ot.primaryKey.toString(),ot=d(X,rt);return X[rt]=!0,!ot}),this},Fr.prototype.modify=function(D){var X=this,Q=this._ctx;return this._write(function(rt){var ot=typeof D=="function"?D:function(Bt){return ci(Bt,D)},ht=Q.table.core,Et=ht.schema.primaryKey,wt=Et.outbound,At=Et.extractKey,Nt=200,Et=X.db._options.modifyChunkSize;Et&&(Nt=typeof Et=="object"?Et[ht.name]||Et["*"]||200:Et);function Ht(Bt,Qt){var Kt=Qt.failures,Qt=Qt.numFailures;$t+=Bt-Qt;for(var se=0,fe=o(Kt);se<fe.length;se++){var Oe=fe[se];jt.push(Kt[Oe])}}var jt=[],$t=0,Pt=[],zt=D===io;return X.clone().primaryKeys().then(function(Bt){function Wt(Qt){var se=Math.min(Nt,Bt.length-Qt),fe=Bt.slice(Qt,Qt+se);return(zt?Promise.resolve([]):ht.getMany({trans:rt,keys:fe,cache:"immutable"})).then(function(Oe){var Fe=[],je=[],Ee=wt?[]:null,Ie=zt?fe:[];if(!zt)for(var _e=0;_e<se;++_e){var Pe=Oe[_e],or={value:T(Pe),primKey:Bt[Qt+_e]};ot.call(or,or.value,or)!==!1&&(or.value==null?Ie.push(Bt[Qt+_e]):wt||Qe(At(Pe),At(or.value))===0?(je.push(or.value),wt&&Ee.push(Bt[Qt+_e])):(Ie.push(Bt[Qt+_e]),Fe.push(or.value)))}return Promise.resolve(0<Fe.length&&ht.mutate({trans:rt,type:"add",values:Fe}).then(function(dr){for(var Mr in dr.failures)Ie.splice(parseInt(Mr),1);Ht(Fe.length,dr)})).then(function(){return(0<je.length||Kt&&typeof D=="object")&&ht.mutate({trans:rt,type:"put",keys:Ee,values:je,criteria:Kt,changeSpec:typeof D!="function"&&D,isAdditionalChunk:0<Qt}).then(function(dr){return Ht(je.length,dr)})}).then(function(){return(0<Ie.length||Kt&&zt)&&ht.mutate({trans:rt,type:"delete",keys:Ie,criteria:Kt,isAdditionalChunk:0<Qt}).then(function(dr){return Yr(Q.table,Ie,dr)}).then(function(dr){return Ht(Ie.length,dr)})}).then(function(){return Bt.length>Qt+se&&Wt(Qt+Nt)})})}var Kt=Dr(Q)&&Q.limit===1/0&&(typeof D!="function"||zt)&&{index:Q.index,range:Q.range};return Wt(0).then(function(){if(0<jt.length)throw new tt("Error modifying one or more objects",jt,$t,Pt);return Bt.length})})})},Fr.prototype.delete=function(){var D=this._ctx,X=D.range;return!Dr(D)||D.table.schema.yProps||!D.isPrimKey&&X.type!==3?this.modify(io):this._write(function(Q){var rt=D.table.core.schema.primaryKey,ot=X;return D.table.core.count({trans:Q,query:{index:rt,range:ot}}).then(function(ht){return D.table.core.mutate({trans:Q,type:"deleteRange",range:ot}).then(function(Nt){var At=Nt.failures,Nt=Nt.numFailures;if(Nt)throw new tt("Could not delete some values",Object.keys(At).map(function(Et){return At[Et]}),ht-Nt);return ht-Nt})})})},Fr);function Fr(){}var io=function(D,X){return X.value=null};function di(D,X){return D<X?-1:D===X?0:1}function xi(D,X){return X<D?-1:D===X?0:1}function Mn(D,X,Q){return D=D instanceof vr?new D.Collection(D):D,D._ctx.error=new(Q||TypeError)(X),D}function Ei(D){return new D.Collection(D,function(){return Ls("")}).limit(0)}function xn(D,X,Q,rt){var ot,ht,wt,At,Nt,Et,Ht,jt=Q.length;if(!Q.every(function(zt){return typeof zt=="string"}))return Mn(D,he);function $t(zt){ot=zt==="next"?function(Wt){return Wt.toUpperCase()}:function(Wt){return Wt.toLowerCase()},ht=zt==="next"?function(Wt){return Wt.toLowerCase()}:function(Wt){return Wt.toUpperCase()},wt=zt==="next"?di:xi;var Bt=Q.map(function(Wt){return{lower:ht(Wt),upper:ot(Wt)}}).sort(function(Wt,Kt){return wt(Wt.lower,Kt.lower)});At=Bt.map(function(Wt){return Wt.upper}),Nt=Bt.map(function(Wt){return Wt.lower}),Ht=(Et=zt)==="next"?"":rt}$t("next"),D=new D.Collection(D,function(){return _i(At[0],Nt[jt-1]+rt)}),D._ondirectionchange=function(zt){$t(zt)};var Pt=0;return D._addAlgorithm(function(zt,Bt,Wt){var Kt=zt.key;if(typeof Kt!="string")return!1;var Qt=ht(Kt);if(X(Qt,Nt,Pt))return!0;for(var se=null,fe=Pt;fe<jt;++fe){var Oe=function(Fe,je,Ee,Ie,_e,Pe){for(var or=Math.min(Fe.length,Ie.length),dr=-1,Mr=0;Mr<or;++Mr){var ii=je[Mr];if(ii!==Ie[Mr])return _e(Fe[Mr],Ee[Mr])<0?Fe.substr(0,Mr)+Ee[Mr]+Ee.substr(Mr+1):_e(Fe[Mr],Ie[Mr])<0?Fe.substr(0,Mr)+Ie[Mr]+Ee.substr(Mr+1):0<=dr?Fe.substr(0,dr)+je[dr]+Ee.substr(dr+1):null;_e(Fe[Mr],ii)<0&&(dr=Mr)}return or<Ie.length&&Pe==="next"?Fe+Ee.substr(Fe.length):or<Fe.length&&Pe==="prev"?Fe.substr(0,Ee.length):dr<0?null:Fe.substr(0,dr)+Ie[dr]+Ee.substr(dr+1)}(Kt,Qt,At[fe],Nt[fe],wt,Et);Oe===null&&se===null?Pt=fe+1:(se===null||0<wt(se,Oe))&&(se=Oe)}return Bt(se!==null?function(){zt.continue(se+Ht)}:Wt),!1}),D}function _i(D,X,Q,rt){return{type:2,lower:D,upper:X,lowerOpen:Q,upperOpen:rt}}function Ls(D){return{type:1,lower:D,upper:D}}var vr=(Object.defineProperty(dn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dn.prototype.between=function(D,X,Q,rt){Q=Q!==!1,rt=rt===!0;try{return 0<this._cmp(D,X)||this._cmp(D,X)===0&&(Q||rt)&&(!Q||!rt)?Ei(this):new this.Collection(this,function(){return _i(D,X,!Q,!rt)})}catch{return Mn(this,Yt)}},dn.prototype.equals=function(D){return D==null?Mn(this,Yt):new this.Collection(this,function(){return Ls(D)})},dn.prototype.above=function(D){return D==null?Mn(this,Yt):new this.Collection(this,function(){return _i(D,void 0,!0)})},dn.prototype.aboveOrEqual=function(D){return D==null?Mn(this,Yt):new this.Collection(this,function(){return _i(D,void 0,!1)})},dn.prototype.below=function(D){return D==null?Mn(this,Yt):new this.Collection(this,function(){return _i(void 0,D,!1,!0)})},dn.prototype.belowOrEqual=function(D){return D==null?Mn(this,Yt):new this.Collection(this,function(){return _i(void 0,D)})},dn.prototype.startsWith=function(D){return typeof D!="string"?Mn(this,he):this.between(D,D+xt,!0,!0)},dn.prototype.startsWithIgnoreCase=function(D){return D===""?this.startsWith(D):xn(this,function(X,Q){return X.indexOf(Q[0])===0},[D],xt)},dn.prototype.equalsIgnoreCase=function(D){return xn(this,function(X,Q){return X===Q[0]},[D],"")},dn.prototype.anyOfIgnoreCase=function(){var D=A.apply(S,arguments);return D.length===0?Ei(this):xn(this,function(X,Q){return Q.indexOf(X)!==-1},D,"")},dn.prototype.startsWithAnyOfIgnoreCase=function(){var D=A.apply(S,arguments);return D.length===0?Ei(this):xn(this,function(X,Q){return Q.some(function(rt){return X.indexOf(rt)===0})},D,xt)},dn.prototype.anyOf=function(){var D=this,X=A.apply(S,arguments),Q=this._cmp;try{X.sort(Q)}catch{return Mn(this,Yt)}if(X.length===0)return Ei(this);var rt=new this.Collection(this,function(){return _i(X[0],X[X.length-1])});rt._ondirectionchange=function(ht){Q=ht==="next"?D._ascending:D._descending,X.sort(Q)};var ot=0;return rt._addAlgorithm(function(ht,wt,At){for(var Nt=ht.key;0<Q(Nt,X[ot]);)if(++ot===X.length)return wt(At),!1;return Q(Nt,X[ot])===0||(wt(function(){ht.continue(X[ot])}),!1)}),rt},dn.prototype.notEqual=function(D){return this.inAnyRange([[-1/0,D],[D,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dn.prototype.noneOf=function(){var D=A.apply(S,arguments);if(D.length===0)return new this.Collection(this);try{D.sort(this._ascending)}catch{return Mn(this,Yt)}var X=D.reduce(function(Q,rt){return Q?Q.concat([[Q[Q.length-1][1],rt]]):[[-1/0,rt]]},null);return X.push([D[D.length-1],this.db._maxKey]),this.inAnyRange(X,{includeLowers:!1,includeUppers:!1})},dn.prototype.inAnyRange=function(Kt,X){var Q=this,rt=this._cmp,ot=this._ascending,ht=this._descending,wt=this._min,At=this._max;if(Kt.length===0)return Ei(this);if(!Kt.every(function(Qt){return Qt[0]!==void 0&&Qt[1]!==void 0&&ot(Qt[0],Qt[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",N.InvalidArgument);var Nt=!X||X.includeLowers!==!1,Et=X&&X.includeUppers===!0,Ht,jt=ot;function $t(Qt,se){return jt(Qt[0],se[0])}try{(Ht=Kt.reduce(function(Qt,se){for(var fe=0,Oe=Qt.length;fe<Oe;++fe){var Fe=Qt[fe];if(rt(se[0],Fe[1])<0&&0<rt(se[1],Fe[0])){Fe[0]=wt(Fe[0],se[0]),Fe[1]=At(Fe[1],se[1]);break}}return fe===Oe&&Qt.push(se),Qt},[])).sort($t)}catch{return Mn(this,Yt)}var Pt=0,zt=Et?function(Qt){return 0<ot(Qt,Ht[Pt][1])}:function(Qt){return 0<=ot(Qt,Ht[Pt][1])},Bt=Nt?function(Qt){return 0<ht(Qt,Ht[Pt][0])}:function(Qt){return 0<=ht(Qt,Ht[Pt][0])},Wt=zt,Kt=new this.Collection(this,function(){return _i(Ht[0][0],Ht[Ht.length-1][1],!Nt,!Et)});return Kt._ondirectionchange=function(Qt){jt=Qt==="next"?(Wt=zt,ot):(Wt=Bt,ht),Ht.sort($t)},Kt._addAlgorithm(function(Qt,se,fe){for(var Oe,Fe=Qt.key;Wt(Fe);)if(++Pt===Ht.length)return se(fe),!1;return!zt(Oe=Fe)&&!Bt(Oe)||(Q._cmp(Fe,Ht[Pt][1])===0||Q._cmp(Fe,Ht[Pt][0])===0||se(function(){jt===ot?Qt.continue(Ht[Pt][0]):Qt.continue(Ht[Pt][1])}),!1)}),Kt},dn.prototype.startsWithAnyOf=function(){var D=A.apply(S,arguments);return D.every(function(X){return typeof X=="string"})?D.length===0?Ei(this):this.inAnyRange(D.map(function(X){return[X,X+xt]})):Mn(this,"startsWithAnyOf() only works with strings")},dn);function dn(){}function ri(D){return qe(function(X){return Ni(X),D(X.target.error),!1})}function Ni(D){D.stopPropagation&&D.stopPropagation(),D.preventDefault&&D.preventDefault()}var Oo="storagemutated",Ra="x-storagemutated-1",Vi=fn(null,Oo),jl=(is.prototype._lock=function(){return C(!ne.global),++this._reculock,this._reculock!==1||ne.global||(ne.lockOwnerFor=this),this},is.prototype._unlock=function(){if(C(!ne.global),--this._reculock==0)for(ne.global||(ne.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var D=this._blockedFuncs.shift();try{Rr(D[1],D[0])}catch{}}return this},is.prototype._locked=function(){return this._reculock&&ne.lockOwnerFor!==this},is.prototype.create=function(D){var X=this;if(!this.mode)return this;var Q=this.db.idbdb,rt=this.db._state.dbOpenError;if(C(!this.idbtrans),!D&&!Q)switch(rt&&rt.name){case"DatabaseClosedError":throw new N.DatabaseClosed(rt);case"MissingAPIError":throw new N.MissingAPI(rt.message,rt);default:throw new N.OpenFailed(rt)}if(!this.active)throw new N.TransactionInactive;return C(this._completion._state===null),(D=this.idbtrans=D||(this.db.core||Q).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=qe(function(ot){Ni(ot),X._reject(D.error)}),D.onabort=qe(function(ot){Ni(ot),X.active&&X._reject(new N.Abort(D.error)),X.active=!1,X.on("abort").fire(ot)}),D.oncomplete=qe(function(){X.active=!1,X._resolve(),"mutatedParts"in D&&Vi.storagemutated.fire(D.mutatedParts)}),this},is.prototype._promise=function(D,X,Q){var rt=this;if(D==="readwrite"&&this.mode!=="readwrite")return Lr(new N.ReadOnly("Transaction is readonly"));if(!this.active)return Lr(new N.TransactionInactive);if(this._locked())return new te(function(ht,wt){rt._blockedFuncs.push([function(){rt._promise(D,X,Q).then(ht,wt)},ne])});if(Q)return Je(function(){var ht=new te(function(wt,At){rt._lock();var Nt=X(wt,At,rt);Nt&&Nt.then&&Nt.then(wt,At)});return ht.finally(function(){return rt._unlock()}),ht._lib=!0,ht});var ot=new te(function(ht,wt){var At=X(ht,wt,rt);At&&At.then&&At.then(ht,wt)});return ot._lib=!0,ot},is.prototype._root=function(){return this.parent?this.parent._root():this},is.prototype.waitFor=function(D){var X,Q=this._root(),rt=te.resolve(D);Q._waitingFor?Q._waitingFor=Q._waitingFor.then(function(){return rt}):(Q._waitingFor=rt,Q._waitingQueue=[],X=Q.idbtrans.objectStore(Q.storeNames[0]),function ht(){for(++Q._spinCount;Q._waitingQueue.length;)Q._waitingQueue.shift()();Q._waitingFor&&(X.get(-1/0).onsuccess=ht)}());var ot=Q._waitingFor;return new te(function(ht,wt){rt.then(function(At){return Q._waitingQueue.push(qe(ht.bind(null,At)))},function(At){return Q._waitingQueue.push(qe(wt.bind(null,At)))}).finally(function(){Q._waitingFor===ot&&(Q._waitingFor=null)})})},is.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new N.Abort))},is.prototype.table=function(D){var X=this._memoizedTables||(this._memoizedTables={});if(d(X,D))return X[D];var Q=this.schema[D];if(!Q)throw new N.NotFound("Table "+D+" not part of transaction");return Q=new this.db.Table(D,Q,this),Q.core=this.db.core.table(D),X[D]=Q},is);function is(){}function El(D,X,Q,rt,ot,ht,wt,At){return{name:D,keyPath:X,unique:Q,multi:rt,auto:ot,compound:ht,src:(Q&&!wt?"&":"")+(rt?"*":"")+(ot?"++":"")+fu(X),type:At}}function fu(D){return typeof D=="string"?D:D?"["+[].join.call(D,"+")+"]":""}function Zo(D,X,Q){return{name:D,primKey:X,indexes:Q,mappedClass:null,idxByName:(rt=function(ot){return[ot.name,ot]},Q.reduce(function(ot,ht,wt){return wt=rt(ht,wt),wt&&(ot[wt[0]]=wt[1]),ot},{}))};var rt}var ws=function(D){try{return D.only([[]]),ws=function(){return[[]]},[[]]}catch{return ws=function(){return xt},xt}};function Rs(D){return D==null?function(){}:typeof D=="string"?(X=D).split(".").length===1?function(Q){return Q[X]}:function(Q){return I(Q,X)}:function(Q){return I(Q,D)};var X}function du(D){return[].slice.call(D)}var Jo=0;function so(D){return D==null?":id":typeof D=="string"?D:"[".concat(D.join("+"),"]")}function Da(D,X,Nt){function rt(Wt){if(Wt.type===3)return null;if(Wt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Pt=Wt.lower,zt=Wt.upper,Bt=Wt.lowerOpen,Wt=Wt.upperOpen;return Pt===void 0?zt===void 0?null:X.upperBound(zt,!!Wt):zt===void 0?X.lowerBound(Pt,!!Bt):X.bound(Pt,zt,!!Bt,!!Wt)}function ot($t){var Pt,zt=$t.name;return{name:zt,schema:$t,mutate:function(Bt){var Wt=Bt.trans,Kt=Bt.type,Qt=Bt.keys,se=Bt.values,fe=Bt.range;return new Promise(function(Oe,Fe){Oe=qe(Oe);var je=Wt.objectStore(zt),Ee=je.keyPath==null,Ie=Kt==="put"||Kt==="add";if(!Ie&&Kt!=="delete"&&Kt!=="deleteRange")throw new Error("Invalid operation type: "+Kt);var _e,Pe=(Qt||se||{length:1}).length;if(Qt&&se&&Qt.length!==se.length)throw new Error("Given keys array must have same length as given values array.");if(Pe===0)return Oe({numFailures:0,failures:{},results:[],lastResult:void 0});function or(nn){++ii,Ni(nn)}var dr=[],Mr=[],ii=0;if(Kt==="deleteRange"){if(fe.type===4)return Oe({numFailures:ii,failures:Mr,results:[],lastResult:void 0});fe.type===3?dr.push(_e=je.clear()):dr.push(_e=je.delete(rt(fe)))}else{var Ee=Ie?Ee?[se,Qt]:[se,null]:[Qt,null],xr=Ee[0],Un=Ee[1];if(Ie)for(var Gn=0;Gn<Pe;++Gn)dr.push(_e=Un&&Un[Gn]!==void 0?je[Kt](xr[Gn],Un[Gn]):je[Kt](xr[Gn])),_e.onerror=or;else for(Gn=0;Gn<Pe;++Gn)dr.push(_e=je[Kt](xr[Gn])),_e.onerror=or}function oa(nn){nn=nn.target.result,dr.forEach(function(Kn,Wa){return Kn.error!=null&&(Mr[Wa]=Kn.error)}),Oe({numFailures:ii,failures:Mr,results:Kt==="delete"?Qt:dr.map(function(Kn){return Kn.result}),lastResult:nn})}_e.onerror=function(nn){or(nn),oa(nn)},_e.onsuccess=oa})},getMany:function(Bt){var Wt=Bt.trans,Kt=Bt.keys;return new Promise(function(Qt,se){Qt=qe(Qt);for(var fe,Oe=Wt.objectStore(zt),Fe=Kt.length,je=new Array(Fe),Ee=0,Ie=0,_e=function(dr){dr=dr.target,je[dr._pos]=dr.result,++Ie===Ee&&Qt(je)},Pe=ri(se),or=0;or<Fe;++or)Kt[or]!=null&&((fe=Oe.get(Kt[or]))._pos=or,fe.onsuccess=_e,fe.onerror=Pe,++Ee);Ee===0&&Qt(je)})},get:function(Bt){var Wt=Bt.trans,Kt=Bt.key;return new Promise(function(Qt,se){Qt=qe(Qt);var fe=Wt.objectStore(zt).get(Kt);fe.onsuccess=function(Oe){return Qt(Oe.target.result)},fe.onerror=ri(se)})},query:(Pt=Et,function(Bt){return new Promise(function(Wt,Kt){Wt=qe(Wt);var Qt,se,fe,Ee=Bt.trans,Oe=Bt.values,Fe=Bt.limit,_e=Bt.query,je=Fe===1/0?void 0:Fe,Ie=_e.index,_e=_e.range,Ee=Ee.objectStore(zt),Ie=Ie.isPrimaryKey?Ee:Ee.index(Ie.name),_e=rt(_e);if(Fe===0)return Wt({result:[]});Pt?((je=Oe?Ie.getAll(_e,je):Ie.getAllKeys(_e,je)).onsuccess=function(Pe){return Wt({result:Pe.target.result})},je.onerror=ri(Kt)):(Qt=0,se=!Oe&&"openKeyCursor"in Ie?Ie.openKeyCursor(_e):Ie.openCursor(_e),fe=[],se.onsuccess=function(Pe){var or=se.result;return or?(fe.push(Oe?or.value:or.primaryKey),++Qt===Fe?Wt({result:fe}):void or.continue()):Wt({result:fe})},se.onerror=ri(Kt))})}),openCursor:function(Bt){var Wt=Bt.trans,Kt=Bt.values,Qt=Bt.query,se=Bt.reverse,fe=Bt.unique;return new Promise(function(Oe,Fe){Oe=qe(Oe);var Ie=Qt.index,je=Qt.range,Ee=Wt.objectStore(zt),Ee=Ie.isPrimaryKey?Ee:Ee.index(Ie.name),Ie=se?fe?"prevunique":"prev":fe?"nextunique":"next",_e=!Kt&&"openKeyCursor"in Ee?Ee.openKeyCursor(rt(je),Ie):Ee.openCursor(rt(je),Ie);_e.onerror=ri(Fe),_e.onsuccess=qe(function(Pe){var or,dr,Mr,ii,xr=_e.result;xr?(xr.___id=++Jo,xr.done=!1,or=xr.continue.bind(xr),dr=(dr=xr.continuePrimaryKey)&&dr.bind(xr),Mr=xr.advance.bind(xr),ii=function(){throw new Error("Cursor not stopped")},xr.trans=Wt,xr.stop=xr.continue=xr.continuePrimaryKey=xr.advance=function(){throw new Error("Cursor not started")},xr.fail=qe(Fe),xr.next=function(){var Un=this,Gn=1;return this.start(function(){return Gn--?Un.continue():Un.stop()}).then(function(){return Un})},xr.start=function(Un){function Gn(){if(_e.result)try{Un()}catch(nn){xr.fail(nn)}else xr.done=!0,xr.start=function(){throw new Error("Cursor behind last entry")},xr.stop()}var oa=new Promise(function(nn,Kn){nn=qe(nn),_e.onerror=ri(Kn),xr.fail=Kn,xr.stop=function(Wa){xr.stop=xr.continue=xr.continuePrimaryKey=xr.advance=ii,nn(Wa)}});return _e.onsuccess=qe(function(nn){_e.onsuccess=Gn,Gn()}),xr.continue=or,xr.continuePrimaryKey=dr,xr.advance=Mr,Gn(),oa},Oe(xr)):Oe(null)},Fe)})},count:function(Bt){var Wt=Bt.query,Kt=Bt.trans,Qt=Wt.index,se=Wt.range;return new Promise(function(fe,Oe){var Fe=Kt.objectStore(zt),je=Qt.isPrimaryKey?Fe:Fe.index(Qt.name),Fe=rt(se),je=Fe?je.count(Fe):je.count();je.onsuccess=qe(function(Ee){return fe(Ee.target.result)}),je.onerror=ri(Oe)})}}}var ht,wt,At,Ht=(wt=Nt,At=du((ht=D).objectStoreNames),{schema:{name:ht.name,tables:At.map(function($t){return wt.objectStore($t)}).map(function($t){var Pt=$t.keyPath,Wt=$t.autoIncrement,zt=l(Pt),Bt={},Wt={name:$t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Pt==null,compound:zt,keyPath:Pt,autoIncrement:Wt,unique:!0,extractKey:Rs(Pt)},indexes:du($t.indexNames).map(function(Kt){return $t.index(Kt)}).map(function(fe){var Qt=fe.name,se=fe.unique,Oe=fe.multiEntry,fe=fe.keyPath,Oe={name:Qt,compound:l(fe),keyPath:fe,unique:se,multiEntry:Oe,extractKey:Rs(fe)};return Bt[so(fe)]=Oe}),getIndexByKeyPath:function(Kt){return Bt[so(Kt)]}};return Bt[":id"]=Wt.primaryKey,Pt!=null&&(Bt[so(Pt)]=Wt.primaryKey),Wt})},hasGetAll:0<At.length&&"getAll"in wt.objectStore(At[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Nt=Ht.schema,Et=Ht.hasGetAll,Ht=Nt.tables.map(ot),jt={};return Ht.forEach(function($t){return jt[$t.name]=$t}),{stack:"dbcore",transaction:D.transaction.bind(D),table:function($t){if(!jt[$t])throw new Error("Table '".concat($t,"' not found"));return jt[$t]},MIN_KEY:-1/0,MAX_KEY:ws(X),schema:Nt}}function pu(D,X,Q,rt){var ot=Q.IDBKeyRange;return Q.indexedDB,{dbcore:(rt=Da(X,ot,rt),D.dbcore.reduce(function(ht,wt){return wt=wt.create,r(r({},ht),wt(ht))},rt))}}function Qo(D,rt){var Q=rt.db,rt=pu(D._middlewares,Q,D._deps,rt);D.core=rt.dbcore,D.tables.forEach(function(ot){var ht=ot.name;D.core.schema.tables.some(function(wt){return wt.name===ht})&&(ot.core=D.core.table(ht),D[ht]instanceof D.Table&&(D[ht].core=ot.core))})}function ta(D,X,Q,rt){Q.forEach(function(ot){var ht=rt[ot];X.forEach(function(wt){var At=function Nt(Et,Ht){return m(Et,Ht)||(Et=a(Et))&&Nt(Et,Ht)}(wt,ot);(!At||"value"in At&&At.value===void 0)&&(wt===D.Transaction.prototype||wt instanceof D.Transaction?p(wt,ot,{get:function(){return this.table(ot)},set:function(Nt){h(this,ot,{value:Nt,writable:!0,configurable:!0,enumerable:!0})}}):wt[ot]=new D.Table(ot,ht))})})}function Ia(D,X){X.forEach(function(Q){for(var rt in Q)Q[rt]instanceof D.Table&&delete Q[rt]})}function Ds(D,X){return D._cfg.version-X._cfg.version}function oo(D,X,Q,rt){var ot=D._dbSchema;Q.objectStoreNames.contains("$meta")&&!ot.$meta&&(ot.$meta=Zo("$meta",mu("")[0],[]),D._storeNames.push("$meta"));var ht=D._createTransaction("readwrite",D._storeNames,ot);ht.create(Q),ht._completion.catch(rt);var wt=ht._reject.bind(ht),At=ne.transless||ne;Je(function(){return ne.trans=ht,ne.transless=At,X!==0?(Qo(D,Q),Et=X,((Nt=ht).storeNames.includes("$meta")?Nt.table("$meta").get("version").then(function(Ht){return Ht!=null?Ht:Et}):te.resolve(Et)).then(function(Ht){return $t=Ht,Pt=ht,zt=Q,Bt=[],Ht=(jt=D)._versions,Wt=jt._dbSchema=Ba(0,jt.idbdb,zt),(Ht=Ht.filter(function(Kt){return Kt._cfg.version>=$t})).length!==0?(Ht.forEach(function(Kt){Bt.push(function(){var Qt=Wt,se=Kt._cfg.dbschema;ao(jt,Qt,zt),ao(jt,se,zt),Wt=jt._dbSchema=se;var fe=Is(Qt,se);fe.add.forEach(function(Ie){Xi(zt,Ie[0],Ie[1].primKey,Ie[1].indexes)}),fe.change.forEach(function(Ie){if(Ie.recreate)throw new N.Upgrade("Not yet support for changing primary key");var _e=zt.objectStore(Ie.name);Ie.add.forEach(function(Pe){return Fs(_e,Pe)}),Ie.change.forEach(function(Pe){_e.deleteIndex(Pe.name),Fs(_e,Pe)}),Ie.del.forEach(function(Pe){return _e.deleteIndex(Pe)})});var Oe=Kt._cfg.contentUpgrade;if(Oe&&Kt._cfg.version>$t){Qo(jt,zt),Pt._memoizedTables={};var Fe=P(se);fe.del.forEach(function(Ie){Fe[Ie]=Qt[Ie]}),Ia(jt,[jt.Transaction.prototype]),ta(jt,[jt.Transaction.prototype],o(Fe),Fe),Pt.schema=Fe;var je,Ee=B(Oe);return Ee&&Ke(),fe=te.follow(function(){var Ie;(je=Oe(Pt))&&Ee&&(Ie=He.bind(null,null),je.then(Ie,Ie))}),je&&typeof je.then=="function"?te.resolve(je):fe.then(function(){return je})}}),Bt.push(function(Qt){var se,fe,Oe=Kt._cfg.dbschema;se=Oe,fe=Qt,[].slice.call(fe.db.objectStoreNames).forEach(function(Fe){return se[Fe]==null&&fe.db.deleteObjectStore(Fe)}),Ia(jt,[jt.Transaction.prototype]),ta(jt,[jt.Transaction.prototype],jt._storeNames,jt._dbSchema),Pt.schema=jt._dbSchema}),Bt.push(function(Qt){jt.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(jt.idbdb.version/10)===Kt._cfg.version?(jt.idbdb.deleteObjectStore("$meta"),delete jt._dbSchema.$meta,jt._storeNames=jt._storeNames.filter(function(se){return se!=="$meta"})):Qt.objectStore("$meta").put(Kt._cfg.version,"version"))})}),function Kt(){return Bt.length?te.resolve(Bt.shift()(Pt.idbtrans)).then(Kt):te.resolve()}().then(function(){Fa(Wt,zt)})):te.resolve();var jt,$t,Pt,zt,Bt,Wt}).catch(wt)):(o(ot).forEach(function(Ht){Xi(Q,Ht,ot[Ht].primKey,ot[Ht].indexes)}),Qo(D,Q),void te.follow(function(){return D.on.populate.fire(ht)}).catch(wt));var Nt,Et})}function _c(D,X){Fa(D._dbSchema,X),X.db.version%10!=0||X.objectStoreNames.contains("$meta")||X.db.createObjectStore("$meta").add(Math.ceil(X.db.version/10-1),"version");var Q=Ba(0,D.idbdb,X);ao(D,D._dbSchema,X);for(var rt=0,ot=Is(Q,D._dbSchema).change;rt<ot.length;rt++){var ht=function(wt){if(wt.change.length||wt.recreate)return console.warn("Unable to patch indexes of table ".concat(wt.name," because it has changes on the type of index or primary key.")),{value:void 0};var At=X.objectStore(wt.name);wt.add.forEach(function(Nt){kt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(wt.name,".").concat(Nt.src)),Fs(At,Nt)})}(ot[rt]);if(typeof ht=="object")return ht.value}}function Is(D,X){var Q,rt={del:[],add:[],change:[]};for(Q in D)X[Q]||rt.del.push(Q);for(Q in X){var ot=D[Q],ht=X[Q];if(ot){var wt={name:Q,def:ht,recreate:!1,del:[],add:[],change:[]};if(""+(ot.primKey.keyPath||"")!=""+(ht.primKey.keyPath||"")||ot.primKey.auto!==ht.primKey.auto)wt.recreate=!0,rt.change.push(wt);else{var At=ot.idxByName,Nt=ht.idxByName,Et=void 0;for(Et in At)Nt[Et]||wt.del.push(Et);for(Et in Nt){var Ht=At[Et],jt=Nt[Et];Ht?Ht.src!==jt.src&&wt.change.push(jt):wt.add.push(jt)}(0<wt.del.length||0<wt.add.length||0<wt.change.length)&&rt.change.push(wt)}}else rt.add.push([Q,ht])}return rt}function Xi(D,X,Q,rt){var ot=D.db.createObjectStore(X,Q.keyPath?{keyPath:Q.keyPath,autoIncrement:Q.auto}:{autoIncrement:Q.auto});return rt.forEach(function(ht){return Fs(ot,ht)}),ot}function Fa(D,X){o(D).forEach(function(Q){X.db.objectStoreNames.contains(Q)||(kt&&console.debug("Dexie: Creating missing table",Q),Xi(X,Q,D[Q].primKey,D[Q].indexes))})}function Fs(D,X){D.createIndex(X.name,X.keyPath,{unique:X.unique,multiEntry:X.multi})}function Ba(D,X,Q){var rt={};return b(X.objectStoreNames,0).forEach(function(ot){for(var ht=Q.objectStore(ot),wt=El(fu(Et=ht.keyPath),Et||"",!0,!1,!!ht.autoIncrement,Et&&typeof Et!="string",!0),At=[],Nt=0;Nt<ht.indexNames.length;++Nt){var Ht=ht.index(ht.indexNames[Nt]),Et=Ht.keyPath,Ht=El(Ht.name,Et,!!Ht.unique,!!Ht.multiEntry,!1,Et&&typeof Et!="string",!1);At.push(Ht)}rt[ot]=Zo(ot,wt,At)}),rt}function ao(D,X,Q){for(var rt=Q.db.objectStoreNames,ot=0;ot<rt.length;++ot){var ht=rt[ot],wt=Q.objectStore(ht);D._hasGetAll="getAll"in wt;for(var At=0;At<wt.indexNames.length;++At){var Nt=wt.indexNames[At],Et=wt.index(Nt).keyPath,Ht=typeof Et=="string"?Et:"["+b(Et).join("+")+"]";!X[ht]||(Et=X[ht].idxByName[Ht])&&(Et.name=Nt,delete X[ht].idxByName[Ht],X[ht].idxByName[Nt]=Et)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(D._hasGetAll=!1)}function mu(D){return D.split(",").map(function(X,Q){var ht=X.split(":"),rt=(ot=ht[1])===null||ot===void 0?void 0:ot.trim(),ot=(X=ht[0].trim()).replace(/([&*]|\+\+)/g,""),ht=/^\[/.test(ot)?ot.match(/^\[(.*)\]$/)[1].split("+"):ot;return El(ot,ht||null,/\&/.test(X),/\*/.test(X),/\+\+/.test(X),l(ht),Q===0,rt)})}var Nl=(Bs.prototype._createTableSchema=Zo,Bs.prototype._parseIndexSyntax=mu,Bs.prototype._parseStoresSpec=function(D,X){var Q=this;o(D).forEach(function(rt){if(D[rt]!==null){var ot=Q._parseIndexSyntax(D[rt]),ht=ot.shift();if(!ht)throw new N.Schema("Invalid schema for table "+rt+": "+D[rt]);if(ht.unique=!0,ht.multi)throw new N.Schema("Primary key cannot be multiEntry*");ot.forEach(function(wt){if(wt.auto)throw new N.Schema("Only primary key can be marked as autoIncrement (++)");if(!wt.keyPath)throw new N.Schema("Index must have a name and cannot be an empty string")}),ot=Q._createTableSchema(rt,ht,ot),X[rt]=ot}})},Bs.prototype.stores=function(Q){var X=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,Q):Q;var Q=X._versions,rt={},ot={};return Q.forEach(function(ht){u(rt,ht._cfg.storesSource),ot=ht._cfg.dbschema={},ht._parseStoresSpec(rt,ot)}),X._dbSchema=ot,Ia(X,[X._allTables,X,X.Transaction.prototype]),ta(X,[X._allTables,X,X.Transaction.prototype,this._cfg.tables],o(ot),ot),X._storeNames=o(ot),this},Bs.prototype.upgrade=function(D){return this._cfg.contentUpgrade=St(this._cfg.contentUpgrade||lt,D),this},Bs);function Bs(){}function za(D,X){var Q=D._dbNamesDB;return Q||(Q=D._dbNamesDB=new Pi(Ze,{addons:[],indexedDB:D,IDBKeyRange:X})).version(1).stores({dbnames:"name"}),Q.table("dbnames")}function Po(D){return D&&typeof D.databases=="function"}function ea(D){return Je(function(){return ne.letThrough=!0,D()})}function ra(D){return!("from"in D)}var zn=function(D,X){if(!this){var Q=new zn;return D&&"d"in D&&u(Q,D),Q}u(this,arguments.length?{d:1,from:D,to:1<arguments.length?X:D}:{d:0})};function na(D,X,Q){var rt=Qe(X,Q);if(!isNaN(rt)){if(0<rt)throw RangeError();if(ra(D))return u(D,{from:X,to:Q,d:1});var ot=D.l,rt=D.r;if(Qe(Q,D.from)<0)return ot?na(ot,X,Q):D.l={from:X,to:Q,d:1,l:null,r:null},lo(D);if(0<Qe(X,D.to))return rt?na(rt,X,Q):D.r={from:X,to:Q,d:1,l:null,r:null},lo(D);Qe(X,D.from)<0&&(D.from=X,D.l=null,D.d=rt?rt.d+1:1),0<Qe(Q,D.to)&&(D.to=Q,D.r=null,D.d=D.l?D.l.d+1:1),Q=!D.r,ot&&!D.l&&zs(D,ot),rt&&Q&&zs(D,rt)}}function zs(D,X){ra(X)||function Q(rt,Nt){var ht=Nt.from,wt=Nt.to,At=Nt.l,Nt=Nt.r;na(rt,ht,wt),At&&Q(rt,At),Nt&&Q(rt,Nt)}(D,X)}function Lo(D,X){var Q=Ro(X),rt=Q.next();if(rt.done)return!1;for(var ot=rt.value,ht=Ro(D),wt=ht.next(ot.from),At=wt.value;!rt.done&&!wt.done;){if(Qe(At.from,ot.to)<=0&&0<=Qe(At.to,ot.from))return!0;Qe(ot.from,At.from)<0?ot=(rt=Q.next(At.from)).value:At=(wt=ht.next(ot.from)).value}return!1}function Ro(D){var X=ra(D)?null:{s:0,n:D};return{next:function(Q){for(var rt=0<arguments.length;X;)switch(X.s){case 0:if(X.s=1,rt)for(;X.n.l&&Qe(Q,X.n.from)<0;)X={up:X,n:X.n.l,s:1};else for(;X.n.l;)X={up:X,n:X.n.l,s:1};case 1:if(X.s=2,!rt||Qe(Q,X.n.to)<=0)return{value:X.n,done:!1};case 2:if(X.n.r){X.s=3,X={up:X,n:X.n.r,s:0};continue}case 3:X=X.up}return{done:!0}}}}function lo(D){var X,Q,rt=(((X=D.r)===null||X===void 0?void 0:X.d)||0)-(((Q=D.l)===null||Q===void 0?void 0:Q.d)||0),ot=1<rt?"r":rt<-1?"l":"";ot&&(X=ot=="r"?"l":"r",Q=r({},D),rt=D[ot],D.from=rt.from,D.to=rt.to,D[ot]=rt[ot],Q[ot]=rt[X],(D[X]=Q).d=Ua(Q)),D.d=Ua(D)}function Ua(Q){var X=Q.r,Q=Q.l;return(X?Q?Math.max(X.d,Q.d):X.d:Q?Q.d:0)+1}function G(D,X){return o(X).forEach(function(Q){D[Q]?zs(D[Q],X[Q]):D[Q]=function rt(ot){var ht,wt,At={};for(ht in ot)d(ot,ht)&&(wt=ot[ht],At[ht]=!wt||typeof wt!="object"||z.has(wt.constructor)?wt:rt(wt));return At}(X[Q])}),D}function ut(D,X){return D.all||X.all||Object.keys(D).some(function(Q){return X[Q]&&Lo(X[Q],D[Q])})}f(zn.prototype,((pi={add:function(D){return zs(this,D),this},addKey:function(D){return na(this,D,D),this},addKeys:function(D){var X=this;return D.forEach(function(Q){return na(X,Q,Q)}),this},hasKey:function(D){var X=Ro(this).next(D).value;return X&&Qe(X.from,D)<=0&&0<=Qe(X.to,D)}})[v]=function(){return Ro(this)},pi));var Ct={},Ot={},Gt=!1;function ae(D){G(Ot,D),Gt||(Gt=!0,setTimeout(function(){Gt=!1,ke(Ot,!(Ot={}))},0))}function ke(D,X){X===void 0&&(X=!1);var Q=new Set;if(D.all)for(var rt=0,ot=Object.values(Ct);rt<ot.length;rt++)Ge(wt=ot[rt],D,Q,X);else for(var ht in D){var wt,At=/^idb\:\/\/(.*)\/(.*)\//.exec(ht);At&&(ht=At[1],At=At[2],(wt=Ct["idb://".concat(ht,"/").concat(At)])&&Ge(wt,D,Q,X))}Q.forEach(function(Nt){return Nt()})}function Ge(D,X,Q,rt){for(var ot=[],ht=0,wt=Object.entries(D.queries.query);ht<wt.length;ht++){for(var At=wt[ht],Nt=At[0],Et=[],Ht=0,jt=At[1];Ht<jt.length;Ht++){var $t=jt[Ht];ut(X,$t.obsSet)?$t.subscribers.forEach(function(Wt){return Q.add(Wt)}):rt&&Et.push($t)}rt&&ot.push([Nt,Et])}if(rt)for(var Pt=0,zt=ot;Pt<zt.length;Pt++){var Bt=zt[Pt],Nt=Bt[0],Et=Bt[1];D.queries.query[Nt]=Et}}function pr(D){var X=D._state,Q=D._deps.indexedDB;if(X.isBeingOpened||D.idbdb)return X.dbReadyPromise.then(function(){return X.dbOpenError?Lr(X.dbOpenError):D});X.isBeingOpened=!0,X.dbOpenError=null,X.openComplete=!1;var rt=X.openCanceller,ot=Math.round(10*D.verno),ht=!1;function wt(){if(X.openCanceller!==rt)throw new N.DatabaseClosed("db.open() was cancelled")}function At(){return new te(function($t,Pt){if(wt(),!Q)throw new N.MissingAPI;var zt=D.name,Bt=X.autoSchema||!ot?Q.open(zt):Q.open(zt,ot);if(!Bt)throw new N.MissingAPI;Bt.onerror=ri(Pt),Bt.onblocked=qe(D._fireOnBlocked),Bt.onupgradeneeded=qe(function(Wt){var Kt;Ht=Bt.transaction,X.autoSchema&&!D._options.allowEmptyDB?(Bt.onerror=Ni,Ht.abort(),Bt.result.close(),(Kt=Q.deleteDatabase(zt)).onsuccess=Kt.onerror=qe(function(){Pt(new N.NoSuchDatabase("Database ".concat(zt," doesnt exist")))})):(Ht.onerror=ri(Pt),Wt=Wt.oldVersion>Math.pow(2,62)?0:Wt.oldVersion,jt=Wt<1,D.idbdb=Bt.result,ht&&_c(D,Ht),oo(D,Wt/10,Ht,Pt))},Pt),Bt.onsuccess=qe(function(){Ht=null;var Wt,Kt,Qt,se,fe,Oe=D.idbdb=Bt.result,Fe=b(Oe.objectStoreNames);if(0<Fe.length)try{var je=Oe.transaction((se=Fe).length===1?se[0]:se,"readonly");if(X.autoSchema)Kt=Oe,Qt=je,(Wt=D).verno=Kt.version/10,Qt=Wt._dbSchema=Ba(0,Kt,Qt),Wt._storeNames=b(Kt.objectStoreNames,0),ta(Wt,[Wt._allTables],o(Qt),Qt);else if(ao(D,D._dbSchema,je),((fe=Is(Ba(0,(fe=D).idbdb,je),fe._dbSchema)).add.length||fe.change.some(function(Ee){return Ee.add.length||Ee.change.length}))&&!ht)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Oe.close(),ot=Oe.version+1,ht=!0,$t(At());Qo(D,je)}catch{}ge.push(D),Oe.onversionchange=qe(function(Ee){X.vcFired=!0,D.on("versionchange").fire(Ee)}),Oe.onclose=qe(function(){D.close({disableAutoOpen:!1})}),jt&&(fe=D._deps,je=zt,Oe=fe.indexedDB,fe=fe.IDBKeyRange,Po(Oe)||je===Ze||za(Oe,fe).put({name:je}).catch(lt)),$t()},Pt)}).catch(function($t){switch($t==null?void 0:$t.name){case"UnknownError":if(0<X.PR1398_maxLoop)return X.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),At();break;case"VersionError":if(0<ot)return ot=0,At()}return te.reject($t)})}var Nt,Et=X.dbReadyResolve,Ht=null,jt=!1;return te.race([rt,(typeof navigator>"u"?te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function($t){function Pt(){return indexedDB.databases().finally($t)}Nt=setInterval(Pt,100),Pt()}).finally(function(){return clearInterval(Nt)}):Promise.resolve()).then(At)]).then(function(){return wt(),X.onReadyBeingFired=[],te.resolve(ea(function(){return D.on.ready.fire(D.vip)})).then(function $t(){if(0<X.onReadyBeingFired.length){var Pt=X.onReadyBeingFired.reduce(St,lt);return X.onReadyBeingFired=[],te.resolve(ea(function(){return Pt(D.vip)})).then($t)}})}).finally(function(){X.openCanceller===rt&&(X.onReadyBeingFired=null,X.isBeingOpened=!1)}).catch(function($t){X.dbOpenError=$t;try{Ht&&Ht.abort()}catch{}return rt===X.openCanceller&&D._close(),Lr($t)}).finally(function(){X.openComplete=!0,Et()}).then(function(){var $t;return jt&&($t={},D.tables.forEach(function(Pt){Pt.schema.indexes.forEach(function(zt){zt.name&&($t["idb://".concat(D.name,"/").concat(Pt.name,"/").concat(zt.name)]=new zn(-1/0,[[[]]]))}),$t["idb://".concat(D.name,"/").concat(Pt.name,"/")]=$t["idb://".concat(D.name,"/").concat(Pt.name,"/:dels")]=new zn(-1/0,[[[]]])}),Vi(Oo).fire($t),ke($t,!0)),D})}function Er(D){function X(ht){return D.next(ht)}var Q=ot(X),rt=ot(function(ht){return D.throw(ht)});function ot(ht){return function(Nt){var At=ht(Nt),Nt=At.value;return At.done?Nt:Nt&&typeof Nt.then=="function"?Nt.then(Q,rt):l(Nt)?Promise.all(Nt).then(Q,rt):Q(Nt)}}return ot(X)()}function Cr(D,X,Q){for(var rt=l(D)?D.slice():[D],ot=0;ot<Q;++ot)rt.push(X);return rt}var Wr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(D){return r(r({},D),{table:function(X){var Q=D.table(X),rt=Q.schema,ot={},ht=[];function wt(jt,$t,Pt){var zt=so(jt),Bt=ot[zt]=ot[zt]||[],Wt=jt==null?0:typeof jt=="string"?1:jt.length,Kt=0<$t,Kt=r(r({},Pt),{name:Kt?"".concat(zt,"(virtual-from:").concat(Pt.name,")"):Pt.name,lowLevelIndex:Pt,isVirtual:Kt,keyTail:$t,keyLength:Wt,extractKey:Rs(jt),unique:!Kt&&Pt.unique});return Bt.push(Kt),Kt.isPrimaryKey||ht.push(Kt),1<Wt&&wt(Wt===2?jt[0]:jt.slice(0,Wt-1),$t+1,Pt),Bt.sort(function(Qt,se){return Qt.keyTail-se.keyTail}),Kt}X=wt(rt.primaryKey.keyPath,0,rt.primaryKey),ot[":id"]=[X];for(var At=0,Nt=rt.indexes;At<Nt.length;At++){var Et=Nt[At];wt(Et.keyPath,0,Et)}function Ht(jt){var $t,Pt=jt.query.index;return Pt.isVirtual?r(r({},jt),{query:{index:Pt.lowLevelIndex,range:($t=jt.query.range,Pt=Pt.keyTail,{type:$t.type===1?2:$t.type,lower:Cr($t.lower,$t.lowerOpen?D.MAX_KEY:D.MIN_KEY,Pt),lowerOpen:!0,upper:Cr($t.upper,$t.upperOpen?D.MIN_KEY:D.MAX_KEY,Pt),upperOpen:!0})}}):jt}return r(r({},Q),{schema:r(r({},rt),{primaryKey:X,indexes:ht,getIndexByKeyPath:function(jt){return(jt=ot[so(jt)])&&jt[0]}}),count:function(jt){return Q.count(Ht(jt))},query:function(jt){return Q.query(Ht(jt))},openCursor:function(jt){var $t=jt.query.index,Pt=$t.keyTail,zt=$t.isVirtual,Bt=$t.keyLength;return zt?Q.openCursor(Ht(jt)).then(function(Kt){return Kt&&Wt(Kt)}):Q.openCursor(jt);function Wt(Kt){return Object.create(Kt,{continue:{value:function(Qt){Qt!=null?Kt.continue(Cr(Qt,jt.reverse?D.MAX_KEY:D.MIN_KEY,Pt)):jt.unique?Kt.continue(Kt.key.slice(0,Bt).concat(jt.reverse?D.MIN_KEY:D.MAX_KEY,Pt)):Kt.continue()}},continuePrimaryKey:{value:function(Qt,se){Kt.continuePrimaryKey(Cr(Qt,D.MAX_KEY,Pt),se)}},primaryKey:{get:function(){return Kt.primaryKey}},key:{get:function(){var Qt=Kt.key;return Bt===1?Qt[0]:Qt.slice(0,Bt)}},value:{get:function(){return Kt.value}}})}}})}})}};function pn(D,X,Q,rt){return Q=Q||{},rt=rt||"",o(D).forEach(function(ot){var ht,wt,At;d(X,ot)?(ht=D[ot],wt=X[ot],typeof ht=="object"&&typeof wt=="object"&&ht&&wt?(At=k(ht))!==k(wt)?Q[rt+ot]=X[ot]:At==="Object"?pn(ht,wt,Q,rt+ot+"."):ht!==wt&&(Q[rt+ot]=X[ot]):ht!==wt&&(Q[rt+ot]=X[ot])):Q[rt+ot]=void 0}),o(X).forEach(function(ot){d(D,ot)||(Q[rt+ot]=X[ot])}),Q}function bn(D,X){return X.type==="delete"?X.keys:X.keys||X.values.map(D.extractKey)}var Rn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(D){return r(r({},D),{table:function(X){var Q=D.table(X),rt=Q.schema.primaryKey;return r(r({},Q),{mutate:function(ot){var ht=ne.trans,wt=ht.table(X).hook,At=wt.deleting,Nt=wt.creating,Et=wt.updating;switch(ot.type){case"add":if(Nt.fire===lt)break;return ht._promise("readwrite",function(){return Ht(ot)},!0);case"put":if(Nt.fire===lt&&Et.fire===lt)break;return ht._promise("readwrite",function(){return Ht(ot)},!0);case"delete":if(At.fire===lt)break;return ht._promise("readwrite",function(){return Ht(ot)},!0);case"deleteRange":if(At.fire===lt)break;return ht._promise("readwrite",function(){return function jt($t,Pt,zt){return Q.query({trans:$t,values:!1,query:{index:rt,range:Pt},limit:zt}).then(function(Bt){var Wt=Bt.result;return Ht({type:"delete",keys:Wt,trans:$t}).then(function(Kt){return 0<Kt.numFailures?Promise.reject(Kt.failures[0]):Wt.length<zt?{failures:[],numFailures:0,lastResult:void 0}:jt($t,r(r({},Pt),{lower:Wt[Wt.length-1],lowerOpen:!0}),zt)})})}(ot.trans,ot.range,1e4)},!0)}return Q.mutate(ot);function Ht(jt){var $t,Pt,zt,Bt=ne.trans,Wt=jt.keys||bn(rt,jt);if(!Wt)throw new Error("Keys missing");return(jt=jt.type==="add"||jt.type==="put"?r(r({},jt),{keys:Wt}):r({},jt)).type!=="delete"&&(jt.values=s([],jt.values)),jt.keys&&(jt.keys=s([],jt.keys)),$t=Q,zt=Wt,((Pt=jt).type==="add"?Promise.resolve([]):$t.getMany({trans:Pt.trans,keys:zt,cache:"immutable"})).then(function(Kt){var Qt=Wt.map(function(se,fe){var Oe,Fe,je,Ee=Kt[fe],Ie={onerror:null,onsuccess:null};return jt.type==="delete"?At.fire.call(Ie,se,Ee,Bt):jt.type==="add"||Ee===void 0?(Oe=Nt.fire.call(Ie,se,jt.values[fe],Bt),se==null&&Oe!=null&&(jt.keys[fe]=se=Oe,rt.outbound||q(jt.values[fe],rt.keyPath,se))):(Oe=pn(Ee,jt.values[fe]),(Fe=Et.fire.call(Ie,Oe,se,Ee,Bt))&&(je=jt.values[fe],Object.keys(Fe).forEach(function(_e){d(je,_e)?je[_e]=Fe[_e]:q(je,_e,Fe[_e])}))),Ie});return Q.mutate(jt).then(function(se){for(var fe=se.failures,Oe=se.results,Fe=se.numFailures,se=se.lastResult,je=0;je<Wt.length;++je){var Ee=(Oe||Wt)[je],Ie=Qt[je];Ee==null?Ie.onerror&&Ie.onerror(fe[je]):Ie.onsuccess&&Ie.onsuccess(jt.type==="put"&&Kt[je]?jt.values[je]:Ee)}return{failures:fe,results:Oe,numFailures:Fe,lastResult:se}}).catch(function(se){return Qt.forEach(function(fe){return fe.onerror&&fe.onerror(se)}),Promise.reject(se)})})}}})}})}};function ni(D,X,Q){try{if(!X||X.keys.length<D.length)return null;for(var rt=[],ot=0,ht=0;ot<X.keys.length&&ht<D.length;++ot)Qe(X.keys[ot],D[ht])===0&&(rt.push(Q?T(X.values[ot]):X.values[ot]),++ht);return rt.length===D.length?rt:null}catch{return null}}var Yn={stack:"dbcore",level:-1,create:function(D){return{table:function(X){var Q=D.table(X);return r(r({},Q),{getMany:function(rt){if(!rt.cache)return Q.getMany(rt);var ot=ni(rt.keys,rt.trans._cache,rt.cache==="clone");return ot?te.resolve(ot):Q.getMany(rt).then(function(ht){return rt.trans._cache={keys:rt.keys,values:rt.cache==="clone"?T(ht):ht},ht})},mutate:function(rt){return rt.type!=="add"&&(rt.trans._cache=null),Q.mutate(rt)}})}}}};function ss(D,X){return D.trans.mode==="readonly"&&!!D.subscr&&!D.trans.explicit&&D.trans.db._options.cache!=="disabled"&&!X.schema.primaryKey.outbound}function Oi(D,X){switch(D){case"query":return X.values&&!X.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Us={stack:"dbcore",level:0,name:"Observability",create:function(D){var X=D.schema.name,Q=new zn(D.MIN_KEY,D.MAX_KEY);return r(r({},D),{transaction:function(rt,ot,ht){if(ne.subscr&&ot!=="readonly")throw new N.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ne.querier));return D.transaction(rt,ot,ht)},table:function(rt){var ot=D.table(rt),ht=ot.schema,wt=ht.primaryKey,jt=ht.indexes,At=wt.extractKey,Nt=wt.outbound,Et=wt.autoIncrement&&jt.filter(function(Pt){return Pt.compound&&Pt.keyPath.includes(wt.keyPath)}),Ht=r(r({},ot),{mutate:function(Pt){function zt(_e){return _e="idb://".concat(X,"/").concat(rt,"/").concat(_e),se[_e]||(se[_e]=new zn)}var Bt,Wt,Kt,Qt=Pt.trans,se=Pt.mutatedParts||(Pt.mutatedParts={}),fe=zt(""),Oe=zt(":dels"),Fe=Pt.type,Ie=Pt.type==="deleteRange"?[Pt.range]:Pt.type==="delete"?[Pt.keys]:Pt.values.length<50?[bn(wt,Pt).filter(function(_e){return _e}),Pt.values]:[],je=Ie[0],Ee=Ie[1],Ie=Pt.trans._cache;return l(je)?(fe.addKeys(je),(Ie=Fe==="delete"||je.length===Ee.length?ni(je,Ie):null)||Oe.addKeys(je),(Ie||Ee)&&(Bt=zt,Wt=Ie,Kt=Ee,ht.indexes.forEach(function(_e){var Pe=Bt(_e.name||"");function or(Mr){return Mr!=null?_e.extractKey(Mr):null}function dr(Mr){return _e.multiEntry&&l(Mr)?Mr.forEach(function(ii){return Pe.addKey(ii)}):Pe.addKey(Mr)}(Wt||Kt).forEach(function(Mr,Un){var xr=Wt&&or(Wt[Un]),Un=Kt&&or(Kt[Un]);Qe(xr,Un)!==0&&(xr!=null&&dr(xr),Un!=null&&dr(Un))})}))):je?(Ee={from:(Ee=je.lower)!==null&&Ee!==void 0?Ee:D.MIN_KEY,to:(Ee=je.upper)!==null&&Ee!==void 0?Ee:D.MAX_KEY},Oe.add(Ee),fe.add(Ee)):(fe.add(Q),Oe.add(Q),ht.indexes.forEach(function(_e){return zt(_e.name).add(Q)})),ot.mutate(Pt).then(function(_e){return!je||Pt.type!=="add"&&Pt.type!=="put"||(fe.addKeys(_e.results),Et&&Et.forEach(function(Pe){for(var or=Pt.values.map(function(xr){return Pe.extractKey(xr)}),dr=Pe.keyPath.findIndex(function(xr){return xr===wt.keyPath}),Mr=0,ii=_e.results.length;Mr<ii;++Mr)or[Mr][dr]=_e.results[Mr];zt(Pe.name).addKeys(or)})),Qt.mutatedParts=G(Qt.mutatedParts||{},se),_e})}}),jt=function(zt){var Bt=zt.query,zt=Bt.index,Bt=Bt.range;return[zt,new zn((zt=Bt.lower)!==null&&zt!==void 0?zt:D.MIN_KEY,(Bt=Bt.upper)!==null&&Bt!==void 0?Bt:D.MAX_KEY)]},$t={get:function(Pt){return[wt,new zn(Pt.key)]},getMany:function(Pt){return[wt,new zn().addKeys(Pt.keys)]},count:jt,query:jt,openCursor:jt};return o($t).forEach(function(Pt){Ht[Pt]=function(zt){var Bt=ne.subscr,Wt=!!Bt,Kt=ss(ne,ot)&&Oi(Pt,zt)?zt.obsSet={}:Bt;if(Wt){var Qt=function(Ee){return Ee="idb://".concat(X,"/").concat(rt,"/").concat(Ee),Kt[Ee]||(Kt[Ee]=new zn)},se=Qt(""),fe=Qt(":dels"),Bt=$t[Pt](zt),Wt=Bt[0],Bt=Bt[1];if((Pt==="query"&&Wt.isPrimaryKey&&!zt.values?fe:Qt(Wt.name||"")).add(Bt),!Wt.isPrimaryKey){if(Pt!=="count"){var Oe=Pt==="query"&&Nt&&zt.values&&ot.query(r(r({},zt),{values:!1}));return ot[Pt].apply(this,arguments).then(function(Ee){if(Pt==="query"){if(Nt&&zt.values)return Oe.then(function(or){return or=or.result,se.addKeys(or),Ee});var Ie=zt.values?Ee.result.map(At):Ee.result;(zt.values?se:fe).addKeys(Ie)}else if(Pt==="openCursor"){var _e=Ee,Pe=zt.values;return _e&&Object.create(_e,{key:{get:function(){return fe.addKey(_e.primaryKey),_e.key}},primaryKey:{get:function(){var or=_e.primaryKey;return fe.addKey(or),or}},value:{get:function(){return Pe&&se.addKey(_e.primaryKey),_e.value}}})}return Ee})}fe.add(Q)}}return ot[Pt].apply(this,arguments)}}),Ht}})}};function Ol(D,X,Q){if(Q.numFailures===0)return X;if(X.type==="deleteRange")return null;var rt=X.keys?X.keys.length:"values"in X&&X.values?X.values.length:1;return Q.numFailures===rt?null:(X=r({},X),l(X.keys)&&(X.keys=X.keys.filter(function(ot,ht){return!(ht in Q.failures)})),"values"in X&&l(X.values)&&(X.values=X.values.filter(function(ot,ht){return!(ht in Q.failures)})),X)}function ia(D,X){return Q=D,((rt=X).lower===void 0||(rt.lowerOpen?0<Qe(Q,rt.lower):0<=Qe(Q,rt.lower)))&&(D=D,(X=X).upper===void 0||(X.upperOpen?Qe(D,X.upper)<0:Qe(D,X.upper)<=0));var Q,rt}function qa(D,X,$t,rt,ot,ht){if(!$t||$t.length===0)return D;var wt=X.query.index,At=wt.multiEntry,Nt=X.query.range,Et=rt.schema.primaryKey.extractKey,Ht=wt.extractKey,jt=(wt.lowLevelIndex||wt).extractKey,$t=$t.reduce(function(Pt,zt){var Bt=Pt,Wt=[];if(zt.type==="add"||zt.type==="put")for(var Kt=new zn,Qt=zt.values.length-1;0<=Qt;--Qt){var se,fe=zt.values[Qt],Oe=Et(fe);Kt.hasKey(Oe)||(se=Ht(fe),(At&&l(se)?se.some(function(_e){return ia(_e,Nt)}):ia(se,Nt))&&(Kt.addKey(Oe),Wt.push(fe)))}switch(zt.type){case"add":var Fe=new zn().addKeys(X.values?Pt.map(function(Pe){return Et(Pe)}):Pt),Bt=Pt.concat(X.values?Wt.filter(function(Pe){return Pe=Et(Pe),!Fe.hasKey(Pe)&&(Fe.addKey(Pe),!0)}):Wt.map(function(Pe){return Et(Pe)}).filter(function(Pe){return!Fe.hasKey(Pe)&&(Fe.addKey(Pe),!0)}));break;case"put":var je=new zn().addKeys(zt.values.map(function(Pe){return Et(Pe)}));Bt=Pt.filter(function(Pe){return!je.hasKey(X.values?Et(Pe):Pe)}).concat(X.values?Wt:Wt.map(function(Pe){return Et(Pe)}));break;case"delete":var Ee=new zn().addKeys(zt.keys);Bt=Pt.filter(function(Pe){return!Ee.hasKey(X.values?Et(Pe):Pe)});break;case"deleteRange":var Ie=zt.range;Bt=Pt.filter(function(Pe){return!ia(Et(Pe),Ie)})}return Bt},D);return $t===D?D:($t.sort(function(Pt,zt){return Qe(jt(Pt),jt(zt))||Qe(Et(Pt),Et(zt))}),X.limit&&X.limit<1/0&&($t.length>X.limit?$t.length=X.limit:D.length===X.limit&&$t.length<X.limit&&(ot.dirty=!0)),ht?Object.freeze($t):$t)}function sa(D,X){return Qe(D.lower,X.lower)===0&&Qe(D.upper,X.upper)===0&&!!D.lowerOpen==!!X.lowerOpen&&!!D.upperOpen==!!X.upperOpen}function Pl(D,X){return function(Q,rt,ot,ht){if(Q===void 0)return rt!==void 0?-1:0;if(rt===void 0)return 1;if((rt=Qe(Q,rt))===0){if(ot&&ht)return 0;if(ot)return 1;if(ht)return-1}return rt}(D.lower,X.lower,D.lowerOpen,X.lowerOpen)<=0&&0<=function(Q,rt,ot,ht){if(Q===void 0)return rt!==void 0?1:0;if(rt===void 0)return-1;if((rt=Qe(Q,rt))===0){if(ot&&ht)return 0;if(ot)return-1;if(ht)return 1}return rt}(D.upper,X.upper,D.upperOpen,X.upperOpen)}function Ll(D,X,Q,rt){D.subscribers.add(Q),rt.addEventListener("abort",function(){var ot,ht;D.subscribers.delete(Q),D.subscribers.size===0&&(ot=D,ht=X,setTimeout(function(){ot.subscribers.size===0&&x(ht,ot)},3e3))})}var $a={stack:"dbcore",level:0,name:"Cache",create:function(D){var X=D.schema.name;return r(r({},D),{transaction:function(Q,rt,ot){var ht,wt,At=D.transaction(Q,rt,ot);return rt==="readwrite"&&(wt=(ht=new AbortController).signal,ot=function(Nt){return function(){if(ht.abort(),rt==="readwrite"){for(var Et=new Set,Ht=0,jt=Q;Ht<jt.length;Ht++){var $t=jt[Ht],Pt=Ct["idb://".concat(X,"/").concat($t)];if(Pt){var zt=D.table($t),Bt=Pt.optimisticOps.filter(function(Pe){return Pe.trans===At});if(At._explicit&&Nt&&At.mutatedParts)for(var Wt=0,Kt=Object.values(Pt.queries.query);Wt<Kt.length;Wt++)for(var Qt=0,se=(Fe=Kt[Wt]).slice();Qt<se.length;Qt++)ut((je=se[Qt]).obsSet,At.mutatedParts)&&(x(Fe,je),je.subscribers.forEach(function(Pe){return Et.add(Pe)}));else if(0<Bt.length){Pt.optimisticOps=Pt.optimisticOps.filter(function(Pe){return Pe.trans!==At});for(var fe=0,Oe=Object.values(Pt.queries.query);fe<Oe.length;fe++)for(var Fe,je,Ee,Ie=0,_e=(Fe=Oe[fe]).slice();Ie<_e.length;Ie++)(je=_e[Ie]).res!=null&&At.mutatedParts&&(Nt&&!je.dirty?(Ee=Object.isFrozen(je.res),Ee=qa(je.res,je.req,Bt,zt,je,Ee),je.dirty?(x(Fe,je),je.subscribers.forEach(function(Pe){return Et.add(Pe)})):Ee!==je.res&&(je.res=Ee,je.promise=te.resolve({result:Ee}))):(je.dirty&&x(Fe,je),je.subscribers.forEach(function(Pe){return Et.add(Pe)})))}}}Et.forEach(function(Pe){return Pe()})}}},At.addEventListener("abort",ot(!1),{signal:wt}),At.addEventListener("error",ot(!1),{signal:wt}),At.addEventListener("complete",ot(!0),{signal:wt})),At},table:function(Q){var rt=D.table(Q),ot=rt.schema.primaryKey;return r(r({},rt),{mutate:function(ht){var wt=ne.trans;if(ot.outbound||wt.db._options.cache==="disabled"||wt.explicit||wt.idbtrans.mode!=="readwrite")return rt.mutate(ht);var At=Ct["idb://".concat(X,"/").concat(Q)];return At?(wt=rt.mutate(ht),ht.type!=="add"&&ht.type!=="put"||!(50<=ht.values.length||bn(ot,ht).some(function(Nt){return Nt==null}))?(At.optimisticOps.push(ht),ht.mutatedParts&&ae(ht.mutatedParts),wt.then(function(Nt){0<Nt.numFailures&&(x(At.optimisticOps,ht),(Nt=Ol(0,ht,Nt))&&At.optimisticOps.push(Nt),ht.mutatedParts&&ae(ht.mutatedParts))}),wt.catch(function(){x(At.optimisticOps,ht),ht.mutatedParts&&ae(ht.mutatedParts)})):wt.then(function(Nt){var Et=Ol(0,r(r({},ht),{values:ht.values.map(function(Ht,jt){var $t;return Nt.failures[jt]?Ht:(Ht=($t=ot.keyPath)!==null&&$t!==void 0&&$t.includes(".")?T(Ht):r({},Ht),q(Ht,ot.keyPath,Nt.results[jt]),Ht)})}),Nt);At.optimisticOps.push(Et),queueMicrotask(function(){return ht.mutatedParts&&ae(ht.mutatedParts)})}),wt):rt.mutate(ht)},query:function(ht){if(!ss(ne,rt)||!Oi("query",ht))return rt.query(ht);var wt=((Et=ne.trans)===null||Et===void 0?void 0:Et.db._options.cache)==="immutable",jt=ne,At=jt.requery,Nt=jt.signal,Et=function(zt,Bt,Wt,Kt){var Qt=Ct["idb://".concat(zt,"/").concat(Bt)];if(!Qt)return[];if(!(Bt=Qt.queries[Wt]))return[null,!1,Qt,null];var se=Bt[(Kt.query?Kt.query.index.name:null)||""];if(!se)return[null,!1,Qt,null];switch(Wt){case"query":var fe=se.find(function(Oe){return Oe.req.limit===Kt.limit&&Oe.req.values===Kt.values&&sa(Oe.req.query.range,Kt.query.range)});return fe?[fe,!0,Qt,se]:[se.find(function(Oe){return("limit"in Oe.req?Oe.req.limit:1/0)>=Kt.limit&&(!Kt.values||Oe.req.values)&&Pl(Oe.req.query.range,Kt.query.range)}),!1,Qt,se];case"count":return fe=se.find(function(Oe){return sa(Oe.req.query.range,Kt.query.range)}),[fe,!!fe,Qt,se]}}(X,Q,"query",ht),Ht=Et[0],jt=Et[1],$t=Et[2],Pt=Et[3];return Ht&&jt?Ht.obsSet=ht.obsSet:(jt=rt.query(ht).then(function(zt){var Bt=zt.result;if(Ht&&(Ht.res=Bt),wt){for(var Wt=0,Kt=Bt.length;Wt<Kt;++Wt)Object.freeze(Bt[Wt]);Object.freeze(Bt)}else zt.result=T(Bt);return zt}).catch(function(zt){return Pt&&Ht&&x(Pt,Ht),Promise.reject(zt)}),Ht={obsSet:ht.obsSet,promise:jt,subscribers:new Set,type:"query",req:ht,dirty:!1},Pt?Pt.push(Ht):(Pt=[Ht],($t=$t||(Ct["idb://".concat(X,"/").concat(Q)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ht.query.index.name||""]=Pt)),Ll(Ht,Pt,At,Nt),Ht.promise.then(function(zt){return{result:qa(zt.result,ht,$t==null?void 0:$t.optimisticOps,rt,Ht,wt)}})}})}})}};function Dn(D,X){return new Proxy(D,{get:function(Q,rt,ot){return rt==="db"?X:Reflect.get(Q,rt,ot)}})}var Pi=(cn.prototype.version=function(D){if(isNaN(D)||D<.1)throw new N.Type("Given version is not a positive number");if(D=Math.round(10*D)/10,this.idbdb||this._state.isBeingOpened)throw new N.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,D);var X=this._versions,Q=X.filter(function(rt){return rt._cfg.version===D})[0];return Q||(Q=new this.Version(D),X.push(Q),X.sort(Ds),Q.stores({}),this._state.autoSchema=!1,Q)},cn.prototype._whenReady=function(D){var X=this;return this.idbdb&&(this._state.openComplete||ne.letThrough||this._vip)?D():new te(function(Q,rt){if(X._state.openComplete)return rt(new N.DatabaseClosed(X._state.dbOpenError));if(!X._state.isBeingOpened){if(!X._state.autoOpen)return void rt(new N.DatabaseClosed);X.open().catch(lt)}X._state.dbReadyPromise.then(Q,rt)}).then(D)},cn.prototype.use=function(D){var X=D.stack,Q=D.create,rt=D.level,ot=D.name;return ot&&this.unuse({stack:X,name:ot}),D=this._middlewares[X]||(this._middlewares[X]=[]),D.push({stack:X,create:Q,level:rt==null?10:rt,name:ot}),D.sort(function(ht,wt){return ht.level-wt.level}),this},cn.prototype.unuse=function(D){var X=D.stack,Q=D.name,rt=D.create;return X&&this._middlewares[X]&&(this._middlewares[X]=this._middlewares[X].filter(function(ot){return rt?ot.create!==rt:!!Q&&ot.name!==Q})),this},cn.prototype.open=function(){var D=this;return Rr(xe,function(){return pr(D)})},cn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var D=this._state,X=ge.indexOf(this);if(0<=X&&ge.splice(X,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}D.isBeingOpened||(D.dbReadyPromise=new te(function(Q){D.dbReadyResolve=Q}),D.openCanceller=new te(function(Q,rt){D.cancelOpen=rt}))},cn.prototype.close=function(Q){var X=(Q===void 0?{disableAutoOpen:!0}:Q).disableAutoOpen,Q=this._state;X?(Q.isBeingOpened&&Q.cancelOpen(new N.DatabaseClosed),this._close(),Q.autoOpen=!1,Q.dbOpenError=new N.DatabaseClosed):(this._close(),Q.autoOpen=this._options.autoOpen||Q.isBeingOpened,Q.openComplete=!1,Q.dbOpenError=null)},cn.prototype.delete=function(D){var X=this;D===void 0&&(D={disableAutoOpen:!0});var Q=0<arguments.length&&typeof arguments[0]!="object",rt=this._state;return new te(function(ot,ht){function wt(){X.close(D);var At=X._deps.indexedDB.deleteDatabase(X.name);At.onsuccess=qe(function(){var Nt,Et,Ht;Nt=X._deps,Et=X.name,Ht=Nt.indexedDB,Nt=Nt.IDBKeyRange,Po(Ht)||Et===Ze||za(Ht,Nt).delete(Et).catch(lt),ot()}),At.onerror=ri(ht),At.onblocked=X._fireOnBlocked}if(Q)throw new N.InvalidArgument("Invalid closeOptions argument to db.delete()");rt.isBeingOpened?rt.dbReadyPromise.then(wt):wt()})},cn.prototype.backendDB=function(){return this.idbdb},cn.prototype.isOpen=function(){return this.idbdb!==null},cn.prototype.hasBeenClosed=function(){var D=this._state.dbOpenError;return D&&D.name==="DatabaseClosed"},cn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},cn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(cn.prototype,"tables",{get:function(){var D=this;return o(this._allTables).map(function(X){return D._allTables[X]})},enumerable:!1,configurable:!0}),cn.prototype.transaction=function(){var D=(function(X,Q,rt){var ot=arguments.length;if(ot<2)throw new N.InvalidArgument("Too few arguments");for(var ht=new Array(ot-1);--ot;)ht[ot-1]=arguments[ot];return rt=ht.pop(),[X,W(ht),rt]}).apply(this,arguments);return this._transaction.apply(this,D)},cn.prototype._transaction=function(D,X,Q){var rt=this,ot=ne.trans;ot&&ot.db===this&&D.indexOf("!")===-1||(ot=null);var ht,wt,At=D.indexOf("?")!==-1;D=D.replace("!","").replace("?","");try{if(wt=X.map(function(Et){if(Et=Et instanceof rt.Table?Et.name:Et,typeof Et!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Et}),D=="r"||D===Ne)ht=Ne;else{if(D!="rw"&&D!=Re)throw new N.InvalidArgument("Invalid transaction mode: "+D);ht=Re}if(ot){if(ot.mode===Ne&&ht===Re){if(!At)throw new N.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");ot=null}ot&&wt.forEach(function(Et){if(ot&&ot.storeNames.indexOf(Et)===-1){if(!At)throw new N.SubTransaction("Table "+Et+" not included in parent transaction.");ot=null}}),At&&ot&&!ot.active&&(ot=null)}}catch(Et){return ot?ot._promise(null,function(Ht,jt){jt(Et)}):Lr(Et)}var Nt=(function Et(Ht,jt,$t,Pt,zt){return te.resolve().then(function(){var Bt=ne.transless||ne,Wt=Ht._createTransaction(jt,$t,Ht._dbSchema,Pt);if(Wt.explicit=!0,Bt={trans:Wt,transless:Bt},Pt)Wt.idbtrans=Pt.idbtrans;else try{Wt.create(),Wt.idbtrans._explicit=!0,Ht._state.PR1398_maxLoop=3}catch(se){return se.name===J.InvalidState&&Ht.isOpen()&&0<--Ht._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ht.close({disableAutoOpen:!1}),Ht.open().then(function(){return Et(Ht,jt,$t,null,zt)})):Lr(se)}var Kt,Qt=B(zt);return Qt&&Ke(),Bt=te.follow(function(){var se;(Kt=zt.call(Wt,Wt))&&(Qt?(se=He.bind(null,null),Kt.then(se,se)):typeof Kt.next=="function"&&typeof Kt.throw=="function"&&(Kt=Er(Kt)))},Bt),(Kt&&typeof Kt.then=="function"?te.resolve(Kt).then(function(se){return Wt.active?se:Lr(new N.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Bt.then(function(){return Kt})).then(function(se){return Pt&&Wt._resolve(),Wt._completion.then(function(){return se})}).catch(function(se){return Wt._reject(se),Lr(se)})})}).bind(null,this,ht,wt,ot,Q);return ot?ot._promise(ht,Nt,"lock"):ne.trans?Rr(ne.transless,function(){return rt._whenReady(Nt)}):this._whenReady(Nt)},cn.prototype.table=function(D){if(!d(this._allTables,D))throw new N.InvalidTable("Table ".concat(D," does not exist"));return this._allTables[D]},cn);function cn(D,X){var Q=this;this._middlewares={},this.verno=0;var rt=cn.dependencies;this._options=X=r({addons:cn.addons,autoOpen:!0,indexedDB:rt.indexedDB,IDBKeyRange:rt.IDBKeyRange,cache:"cloned"},X),this._deps={indexedDB:X.indexedDB,IDBKeyRange:X.IDBKeyRange},rt=X.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var ot,ht,wt,At,Nt,Et={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:lt,dbReadyPromise:null,cancelOpen:lt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:X.autoOpen};Et.dbReadyPromise=new te(function(jt){Et.dbReadyResolve=jt}),Et.openCanceller=new te(function(jt,$t){Et.cancelOpen=$t}),this._state=Et,this.name=D,this.on=fn(this,"populate","blocked","versionchange","close",{ready:[St,lt]}),this.once=function(jt,$t){var Pt=function(){for(var zt=[],Bt=0;Bt<arguments.length;Bt++)zt[Bt]=arguments[Bt];Q.on(jt).unsubscribe(Pt),$t.apply(Q,zt)};return Q.on(jt,Pt)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(jt){return function($t,Pt){cn.vip(function(){var zt,Bt=Q._state;Bt.openComplete?(Bt.dbOpenError||te.resolve().then($t),Pt&&jt($t)):Bt.onReadyBeingFired?(Bt.onReadyBeingFired.push($t),Pt&&jt($t)):(jt($t),zt=Q,Pt||jt(function Wt(){zt.on.ready.unsubscribe($t),zt.on.ready.unsubscribe(Wt)}))})}}),this.Collection=(ot=this,hi(ns.prototype,function(Kt,Wt){this.db=ot;var Pt=wr,zt=null;if(Wt)try{Pt=Wt()}catch(Qt){zt=Qt}var Bt=Kt._ctx,Wt=Bt.table,Kt=Wt.hook.reading.fire;this._ctx={table:Wt,index:Bt.index,isPrimKey:!Bt.index||Wt.schema.primKey.keyPath&&Bt.index===Wt.schema.primKey.name,range:Pt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:zt,or:Bt.or,valueMapper:Kt!==st?Kt:null}})),this.Table=(ht=this,hi(Pn.prototype,function(jt,$t,Pt){this.db=ht,this._tx=Pt,this.name=jt,this.schema=$t,this.hook=ht._allTables[jt]?ht._allTables[jt].hook:fn(null,{creating:[it,lt],reading:[pt,st],updating:[bt,lt],deleting:[at,lt]})})),this.Transaction=(wt=this,hi(jl.prototype,function(jt,$t,Pt,zt,Bt){var Wt=this;jt!=="readonly"&&$t.forEach(function(Kt){Kt=(Kt=Pt[Kt])===null||Kt===void 0?void 0:Kt.yProps,Kt&&($t=$t.concat(Kt.map(function(Qt){return Qt.updatesTable})))}),this.db=wt,this.mode=jt,this.storeNames=$t,this.schema=Pt,this.chromeTransactionDurability=zt,this.idbtrans=null,this.on=fn(this,"complete","error","abort"),this.parent=Bt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new te(function(Kt,Qt){Wt._resolve=Kt,Wt._reject=Qt}),this._completion.then(function(){Wt.active=!1,Wt.on.complete.fire()},function(Kt){var Qt=Wt.active;return Wt.active=!1,Wt.on.error.fire(Kt),Wt.parent?Wt.parent._reject(Kt):Qt&&Wt.idbtrans&&Wt.idbtrans.abort(),Lr(Kt)})})),this.Version=(At=this,hi(Nl.prototype,function(jt){this.db=At,this._cfg={version:jt,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Nt=this,hi(vr.prototype,function(jt,$t,Pt){if(this.db=Nt,this._ctx={table:jt,index:$t===":id"?null:$t,or:Pt},this._cmp=this._ascending=Qe,this._descending=function(zt,Bt){return Qe(Bt,zt)},this._max=function(zt,Bt){return 0<Qe(zt,Bt)?zt:Bt},this._min=function(zt,Bt){return Qe(zt,Bt)<0?zt:Bt},this._IDBKeyRange=Nt._deps.IDBKeyRange,!this._IDBKeyRange)throw new N.MissingAPI})),this.on("versionchange",function(jt){0<jt.newVersion?console.warn("Another connection wants to upgrade database '".concat(Q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(Q.name,"'. Closing db now to resume the delete request.")),Q.close({disableAutoOpen:!1})}),this.on("blocked",function(jt){!jt.newVersion||jt.newVersion<jt.oldVersion?console.warn("Dexie.delete('".concat(Q.name,"') was blocked")):console.warn("Upgrade '".concat(Q.name,"' blocked by other connection holding version ").concat(jt.oldVersion/10))}),this._maxKey=ws(X.IDBKeyRange),this._createTransaction=function(jt,$t,Pt,zt){return new Q.Transaction(jt,$t,Pt,Q._options.chromeTransactionDurability,zt)},this._fireOnBlocked=function(jt){Q.on("blocked").fire(jt),ge.filter(function($t){return $t.name===Q.name&&$t!==Q&&!$t._state.vcFired}).map(function($t){return $t.on("versionchange").fire(jt)})},this.use(Yn),this.use($a),this.use(Us),this.use(Wr),this.use(Rn);var Ht=new Proxy(this,{get:function(jt,$t,Pt){if($t==="_vip")return!0;if($t==="table")return function(Bt){return Dn(Q.table(Bt),Ht)};var zt=Reflect.get(jt,$t,Pt);return zt instanceof Pn?Dn(zt,Ht):$t==="tables"?zt.map(function(Bt){return Dn(Bt,Ht)}):$t==="_createTransaction"?function(){return Dn(zt.apply(this,arguments),Ht)}:zt}});this.vip=Ht,rt.forEach(function(jt){return jt(Q)})}var uo,pi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Li=(Rl.prototype.subscribe=function(D,X,Q){return this._subscribe(D&&typeof D!="function"?D:{next:D,error:X,complete:Q})},Rl.prototype[pi]=function(){return this},Rl);function Rl(D){this._subscribe=D}try{uo={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{uo={indexedDB:null,IDBKeyRange:null}}function Ha(D){var X,Q=!1,rt=new Li(function(ot){var ht=B(D),wt,At=!1,Nt={},Et={},Ht={get closed(){return At},unsubscribe:function(){At||(At=!0,wt&&wt.abort(),jt&&Vi.storagemutated.unsubscribe(Pt))}};ot.start&&ot.start(Ht);var jt=!1,$t=function(){return Qr(zt)},Pt=function(Bt){G(Nt,Bt),ut(Et,Nt)&&$t()},zt=function(){var Bt,Wt,Kt;!At&&uo.indexedDB&&(Nt={},Bt={},wt&&wt.abort(),wt=new AbortController,Kt=function(Qt){var se=jr();try{ht&&Ke();var fe=Je(D,Qt);return fe=ht?fe.finally(He):fe}finally{se&&rr()}}(Wt={subscr:Bt,signal:wt.signal,requery:$t,querier:D,trans:null}),Promise.resolve(Kt).then(function(Qt){Q=!0,X=Qt,At||Wt.signal.aborted||(Nt={},function(se){for(var fe in se)if(d(se,fe))return;return 1}(Et=Bt)||jt||(Vi(Oo,Pt),jt=!0),Qr(function(){return!At&&ot.next&&ot.next(Qt)}))},function(Qt){Q=!1,["DatabaseClosedError","AbortError"].includes(Qt==null?void 0:Qt.name)||At||Qr(function(){At||ot.error&&ot.error(Qt)})}))};return setTimeout($t,0),Ht});return rt.hasValue=function(){return Q},rt.getValue=function(){return X},rt}var qs=Pi;function Ri(D){var X=_s;try{_s=!0,Vi.storagemutated.fire(D),ke(D,!0)}finally{_s=X}}f(qs,r(r({},nt),{delete:function(D){return new qs(D,{addons:[]}).delete()},exists:function(D){return new qs(D,{addons:[]}).open().then(function(X){return X.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(D){try{return X=qs.dependencies,Q=X.indexedDB,X=X.IDBKeyRange,(Po(Q)?Promise.resolve(Q.databases()).then(function(rt){return rt.map(function(ot){return ot.name}).filter(function(ot){return ot!==Ze})}):za(Q,X).toCollection().primaryKeys()).then(D)}catch{return Lr(new N.MissingAPI)}var X,Q},defineClass:function(){return function(D){u(this,D)}},ignoreTransaction:function(D){return ne.trans?Rr(ne.transless,D):D()},vip:ea,async:function(D){return function(){try{var X=Er(D.apply(this,arguments));return X&&typeof X.then=="function"?X:te.resolve(X)}catch(Q){return Lr(Q)}}},spawn:function(D,X,Q){try{var rt=Er(D.apply(Q,X||[]));return rt&&typeof rt.then=="function"?rt:te.resolve(rt)}catch(ot){return Lr(ot)}},currentTransaction:{get:function(){return ne.trans||null}},waitFor:function(D,X){return X=te.resolve(typeof D=="function"?qs.ignoreTransaction(D):D).timeout(X||6e4),ne.trans?ne.trans.waitFor(X):X},Promise:te,debug:{get:function(){return kt},set:function(D){Tt(D)}},derive:y,extend:u,props:f,override:w,Events:fn,on:Vi,liveQuery:Ha,extendObservabilitySet:G,getByKeyPath:I,setByKeyPath:q,delByKeyPath:function(D,X){typeof X=="string"?q(D,X,void 0):"length"in X&&[].map.call(X,function(Q){q(D,Q,void 0)})},shallowClone:P,deepClone:T,getObjectDiff:pn,cmp:Qe,asap:j,minKey:-1/0,addons:[],connections:ge,errnames:J,dependencies:uo,cache:Ct,semVer:"4.2.1",version:"4.2.1".split(".").map(function(D){return parseInt(D)}).reduce(function(D,X,Q){return D+X/Math.pow(10,2*Q)})})),qs.maxKey=ws(qs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Vi(Oo,function(D){_s||(D=new CustomEvent(Ra,{detail:D}),_s=!0,dispatchEvent(D),_s=!1)}),addEventListener(Ra,function(D){D=D.detail,_s||Ri(D)}));var xs,_s=!1,Dl=function(){};return typeof BroadcastChannel<"u"&&((Dl=function(){(xs=new BroadcastChannel(Ra)).onmessage=function(D){return D.data&&Ri(D.data)}})(),typeof xs.unref=="function"&&xs.unref(),Vi(Oo,function(D){_s||xs.postMessage(D)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(D){if(!Pi.disableBfCache&&D.persisted){kt&&console.debug("Dexie: handling persisted pagehide"),xs!=null&&xs.close();for(var X=0,Q=ge;X<Q.length;X++)Q[X].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(D){!Pi.disableBfCache&&D.persisted&&(kt&&console.debug("Dexie: handling persisted pageshow"),Dl(),Ri({all:new zn(-1/0,[[]])}))})),te.rejectionMapper=function(D,X){return!D||D instanceof H||D instanceof TypeError||D instanceof SyntaxError||!D.name||!Y[D.name]?D:(X=new Y[D.name](X||D.message,D),"stack"in D&&p(X,"stack",{get:function(){return this.inner.stack}}),X)},Tt(kt),r(Pi,Object.freeze({__proto__:null,Dexie:Pi,liveQuery:Ha,Entity:ur,cmp:Qe,PropModification:rn,replacePrefix:function(D,X){return new rn({replacePrefix:[D,X]})},add:function(D){return new rn({add:D})},remove:function(D){return new rn({remove:D})},default:Pi,RangeSet:zn,mergeRanges:zs,rangesOverlap:Lo}),{default:Pi}),Pi})})(V5);var $6=V5.exports;const Bm=fg($6),gy=Symbol.for("Dexie"),Ud=globalThis[gy]||(globalThis[gy]=Bm);if(Bm.semVer!==Ud.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Bm.semVer} and ${Ud.semVer}`);const{liveQuery:H6,mergeRanges:Zk,rangesOverlap:Jk,RangeSet:Qk,cmp:t9,Entity:e9,PropModification:r9,replacePrefix:n9,add:i9,remove:s9,DexieYProvider:o9}=Ud;class W6 extends Ud{constructor(){super("stitchfizzle");ef(this,"projects");ef(this,"folders");ef(this,"settings");this.version(1).stores({projects:"id, name, chartType, folderId, createdAt, updatedAt",folders:"id, name, parentId, createdAt",settings:"id"})}}const Qs=new W6;async function V6(n){return Qs.projects.get(n)}async function Sh(n){return n.updatedAt=new Date,Qs.projects.put(n)}async function X6(n){return Qs.projects.delete(n)}async function yy(n){return Qs.folders.put(n)}async function X5(n){await Qs.projects.where("folderId").equals(n).modify({folderId:void 0});const e=await Qs.folders.where("parentId").equals(n).toArray();for(const t of e)await X5(t.id);return Qs.folders.delete(n)}const Y5="app-settings";async function Y6(){const n=await Qs.settings.get(Y5);if(n){const{id:e,...t}=n;return t}}async function by(n){await Qs.settings.put({...n,id:Y5})}const be=a1((n,e)=>({project:null,isDirty:!1,activeTool:"draw",activeColorId:null,activeSymbolId:null,selectedSymbolInstanceId:null,selection:null,zoom:1,panOffset:{x:0,y:0},clipboard:null,undoStack:[],redoStack:[],createProject:(t,r,s=W5)=>{const i=ga(),o=q6(i,t,r,s),l={id:ga(),color:"#4A90D9",name:"Color 1",abbreviation:"C1"};return o.palette=[l],n({project:o,isDirty:!0,activeColorId:l.id,selection:null,zoom:1,panOffset:{x:0,y:0},undoStack:[],redoStack:[]}),Sh(o),o},loadProject:async t=>{var s;const r=await V6(t);return r?(r.settings.showNumbers===void 0&&(r.settings.showNumbers=!0),n({project:r,isDirty:!1,activeColorId:((s=r.palette[0])==null?void 0:s.id)||null,selection:null,zoom:1,panOffset:{x:0,y:0},undoStack:[],redoStack:[]}),!0):!1},saveCurrentProject:async()=>{const{project:t}=e();t&&(await Sh(t),n({isDirty:!1}))},closeProject:()=>{n({project:null,isDirty:!1,activeColorId:null,selection:null,undoStack:[],redoStack:[]})},setCell:(t,r,s,i=null)=>{const{project:o}=e();if(!(o!=null&&o.grid))return;e().pushUndoState();const l=o.grid.cells.map((u,a)=>a===t?u.map((c,d)=>d===r?{colorId:s,symbolId:i!=null?i:c.symbolId}:c):u);n({project:{...o,grid:{cells:l},updatedAt:new Date},isDirty:!0})},setCells:t=>{var i;const{project:r}=e();if(!(r!=null&&r.grid))return;e().pushUndoState();const s=r.grid.cells.map(o=>[...o]);for(const{row:o,col:l,colorId:u,symbolId:a}of t)(i=s[o])!=null&&i[l]&&(s[o][l]={colorId:u,symbolId:a!=null?a:s[o][l].symbolId});n({project:{...r,grid:{cells:s},updatedAt:new Date},isDirty:!0})},fillSelection:t=>{const{project:r,selection:s}=e();if(!(r!=null&&r.grid)||!s)return;const i=[],o=Math.min(s.startRow,s.endRow),l=Math.max(s.startRow,s.endRow),u=Math.min(s.startCol,s.endCol),a=Math.max(s.startCol,s.endCol);for(let c=o;c<=l;c++)for(let d=u;d<=a;d++)i.push({row:c,col:d,colorId:t});e().setCells(i)},setSelection:t=>n({selection:t}),clearSelection:()=>n({selection:null}),copySelection:()=>{var d;const{project:t,selection:r}=e();if(!(t!=null&&t.grid)||!r)return;const s=Math.min(r.startRow,r.endRow),i=Math.max(r.startRow,r.endRow),o=Math.min(r.startCol,r.endCol),u=Math.max(r.startCol,r.endCol)-o+1,a=i-s+1,c=[];for(let f=0;f<a;f++){c[f]=[];for(let h=0;h<u;h++){const p=(d=t.grid.cells[s+f])==null?void 0:d[o+h];c[f][h]=p?{...p}:{colorId:null,symbolId:null}}}n({clipboard:{cells:c,width:u,height:a}})},pasteSelection:()=>{const{project:t,selection:r,clipboard:s}=e();if(!(t!=null&&t.grid)||!r||!s)return;e().pushUndoState();const i=Math.min(r.startRow,r.endRow),o=Math.min(r.startCol,r.endCol),l=t.grid.cells.map(u=>u.map(a=>({...a})));for(let u=0;u<s.height;u++)for(let a=0;a<s.width;a++){const c=i+u,d=o+a;c<t.settings.height&&d<t.settings.width&&(l[c][d]={...s.cells[u][a]})}n({project:{...t,grid:{cells:l},updatedAt:new Date},isDirty:!0})},mirrorSelectionH:()=>{const{project:t,selection:r}=e();if(!(t!=null&&t.grid)||!r)return;e().pushUndoState();const s=Math.min(r.startRow,r.endRow),i=Math.max(r.startRow,r.endRow),o=Math.min(r.startCol,r.endCol),l=Math.max(r.startCol,r.endCol),u=t.grid.cells.map(a=>a.map(c=>({...c})));for(let a=s;a<=i;a++)for(let c=o;c<=l;c++){const d=l-(c-o);u[a][c]={...t.grid.cells[a][d]}}n({project:{...t,grid:{cells:u},updatedAt:new Date},isDirty:!0})},mirrorSelectionV:()=>{const{project:t,selection:r}=e();if(!(t!=null&&t.grid)||!r)return;e().pushUndoState();const s=Math.min(r.startRow,r.endRow),i=Math.max(r.startRow,r.endRow),o=Math.min(r.startCol,r.endCol),l=Math.max(r.startCol,r.endCol),u=t.grid.cells.map(a=>a.map(c=>({...c})));for(let a=s;a<=i;a++)for(let c=o;c<=l;c++){const d=i-(a-s);u[a][c]={...t.grid.cells[d][c]}}n({project:{...t,grid:{cells:u},updatedAt:new Date},isDirty:!0})},addColor:(t,r)=>{const{project:s}=e();if(!s)throw new Error("No project loaded");const i={id:ga(),color:t,name:r||`Color ${s.palette.length+1}`,abbreviation:`C${s.palette.length+1}`};return n({project:{...s,palette:[...s.palette,i],updatedAt:new Date},isDirty:!0}),i},updateColor:(t,r)=>{const{project:s}=e();s&&n({project:{...s,palette:s.palette.map(i=>i.id===t?{...i,...r}:i),updatedAt:new Date},isDirty:!0})},removeColor:t=>{var l;const{project:r,activeColorId:s}=e();if(!r)return;let i=r.grid;i&&(i={cells:i.cells.map(u=>u.map(a=>a.colorId===t?{...a,colorId:null}:a))});const o=r.palette.filter(u=>u.id!==t);n({project:{...r,palette:o,grid:i,updatedAt:new Date},isDirty:!0,activeColorId:s===t?((l=o[0])==null?void 0:l.id)||null:s})},setActiveColor:t=>n({activeColorId:t}),setActiveTool:t=>n({activeTool:t}),setZoom:t=>n({zoom:Math.max(.1,Math.min(10,t))}),setPanOffset:t=>n({panOffset:t}),pushUndoState:()=>{const{project:t,undoStack:r}=e();if(!t)return;const s=JSON.parse(JSON.stringify(t));n({undoStack:[...r.slice(-49),s],redoStack:[]})},undo:()=>{const{undoStack:t,project:r,redoStack:s}=e();if(t.length===0||!r)return;const i=t[t.length-1];n({project:i,undoStack:t.slice(0,-1),redoStack:[...s,JSON.parse(JSON.stringify(r))],isDirty:!0})},redo:()=>{const{redoStack:t,project:r,undoStack:s}=e();if(t.length===0||!r)return;const i=t[t.length-1];n({project:i,redoStack:t.slice(0,-1),undoStack:[...s,JSON.parse(JSON.stringify(r))],isDirty:!0})},insertRow:t=>{const{project:r}=e();if(!(r!=null&&r.grid))return;e().pushUndoState();const s=Array(r.settings.width).fill(null).map(()=>({colorId:null,symbolId:null})),i=[...r.grid.cells];i.splice(t,0,s),n({project:{...r,settings:{...r.settings,height:r.settings.height+1},grid:{cells:i},updatedAt:new Date},isDirty:!0})},deleteRow:t=>{const{project:r}=e();if(!(r!=null&&r.grid)||r.settings.height<=1)return;e().pushUndoState();const s=r.grid.cells.filter((i,o)=>o!==t);n({project:{...r,settings:{...r.settings,height:r.settings.height-1},grid:{cells:s},updatedAt:new Date},isDirty:!0})},insertColumn:t=>{const{project:r}=e();if(!(r!=null&&r.grid))return;e().pushUndoState();const s=r.grid.cells.map(i=>{const o=[...i];return o.splice(t,0,{colorId:null,symbolId:null}),o});n({project:{...r,settings:{...r.settings,width:r.settings.width+1},grid:{cells:s},updatedAt:new Date},isDirty:!0})},deleteColumn:t=>{const{project:r}=e();if(!(r!=null&&r.grid)||r.settings.width<=1)return;e().pushUndoState();const s=r.grid.cells.map(i=>i.filter((o,l)=>l!==t));n({project:{...r,settings:{...r.settings,width:r.settings.width-1},grid:{cells:s},updatedAt:new Date},isDirty:!0})},resizeGrid:(t,r)=>{var l;const{project:s}=e();if(!(s!=null&&s.grid))return;e().pushUndoState();const i=s.grid.cells,o=[];for(let u=0;u<r;u++){o[u]=[];for(let a=0;a<t;a++)(l=i[u])!=null&&l[a]?o[u][a]=i[u][a]:o[u][a]={colorId:null,symbolId:null}}n({project:{...s,settings:{...s.settings,width:t,height:r},grid:{cells:o},updatedAt:new Date},isDirty:!0})},toggleShowNumbers:()=>{const{project:t}=e();t&&n({project:{...t,settings:{...t.settings,showNumbers:!t.settings.showNumbers},updatedAt:new Date},isDirty:!0})},floodFill:(t,r,s)=>{var h,p,y,m;const{project:i}=e();if(!(i!=null&&i.grid))return;const{cells:o}=i.grid,{width:l,height:u}=i.settings,a=(y=(p=(h=o[t])==null?void 0:h[r])==null?void 0:p.colorId)!=null?y:null;if(a===s)return;e().pushUndoState();const c=o.map(g=>g.map(b=>({...b}))),d=new Set,f=[[t,r]];for(;f.length>0;){const[g,b]=f.shift(),w=`${g},${b}`;d.has(w)||g<0||g>=u||b<0||b>=l||((m=c[g][b].colorId)!=null?m:null)!==a||(d.add(w),c[g][b]={...c[g][b],colorId:s},f.push([g-1,b],[g+1,b],[g,b-1],[g,b+1]))}n({project:{...i,grid:{cells:c},updatedAt:new Date},isDirty:!0})},initProgressTracker:()=>{const{project:t}=e();if(!t)return;n({project:{...t,progressTracker:{direction:"horizontal",currentRow:0,darkenMode:"done",brightness:50},updatedAt:new Date},isDirty:!0})},setProgressRow:t=>{const{project:r}=e();if(!(r!=null&&r.progressTracker))return;const s=r.settings.height-1,i=Math.max(0,Math.min(s,t));n({project:{...r,progressTracker:{...r.progressTracker,currentRow:i},updatedAt:new Date},isDirty:!0})},nextProgressRow:()=>{const{project:t,setProgressRow:r}=e();t!=null&&t.progressTracker&&r(t.progressTracker.currentRow+1)},prevProgressRow:()=>{const{project:t,setProgressRow:r}=e();t!=null&&t.progressTracker&&r(t.progressTracker.currentRow-1)},updateProgressSettings:t=>{const{project:r}=e();r!=null&&r.progressTracker&&n({project:{...r,progressTracker:{...r.progressTracker,...t},updatedAt:new Date},isDirty:!0})},clearProgressTracker:()=>{const{project:t}=e();t&&n({project:{...t,progressTracker:void 0,updatedAt:new Date},isDirty:!0})},setActiveSymbol:t=>n({activeSymbolId:t}),setSelectedSymbolInstance:t=>n({selectedSymbolInstanceId:t}),addLayer:()=>{const{project:t}=e();if(!(t!=null&&t.freeform))return null;const r={id:ga(),name:`Layer ${t.freeform.layers.length+1}`,visible:!0,locked:!1,symbols:[]};return n({project:{...t,freeform:{...t.freeform,layers:[...t.freeform.layers,r]},updatedAt:new Date},isDirty:!0}),r},removeLayer:t=>{const{project:r}=e();if(!(r!=null&&r.freeform)||r.freeform.layers.length<=1)return;e().pushUndoState();const s=r.freeform.layers.filter(o=>o.id!==t),i=r.freeform.activeLayerId===t?s[0].id:r.freeform.activeLayerId;n({project:{...r,freeform:{...r.freeform,layers:s,activeLayerId:i},updatedAt:new Date},isDirty:!0})},updateLayer:(t,r)=>{const{project:s}=e();s!=null&&s.freeform&&n({project:{...s,freeform:{...s.freeform,layers:s.freeform.layers.map(i=>i.id===t?{...i,...r}:i)},updatedAt:new Date},isDirty:!0})},setActiveLayer:t=>{const{project:r}=e();r!=null&&r.freeform&&n({project:{...r,freeform:{...r.freeform,activeLayerId:t},updatedAt:new Date},isDirty:!0})},reorderLayers:t=>{const{project:r}=e();if(!(r!=null&&r.freeform))return;const s=new Map(r.freeform.layers.map(o=>[o.id,o])),i=t.map(o=>s.get(o)).filter(Boolean);n({project:{...r,freeform:{...r.freeform,layers:i},updatedAt:new Date},isDirty:!0})},addPlacedSymbol:(t,r,s)=>{var a;const{project:i,activeColorId:o}=e();if(!(i!=null&&i.freeform))return null;e().pushUndoState();const l=i.freeform.layers.find(c=>c.id===i.freeform.activeLayerId);if(!l||l.locked)return null;const u={id:ga(),symbolId:t,colorId:o||((a=i.palette[0])==null?void 0:a.id)||"",x:r,y:s,rotation:0,scale:1};return n({project:{...i,freeform:{...i.freeform,layers:i.freeform.layers.map(c=>c.id===l.id?{...c,symbols:[...c.symbols,u]}:c)},updatedAt:new Date},isDirty:!0,selectedSymbolInstanceId:u.id}),u},removePlacedSymbol:t=>{const{project:r}=e();r!=null&&r.freeform&&(e().pushUndoState(),n({project:{...r,freeform:{...r.freeform,layers:r.freeform.layers.map(s=>({...s,symbols:s.symbols.filter(i=>i.id!==t)}))},updatedAt:new Date},isDirty:!0,selectedSymbolInstanceId:null}))},updatePlacedSymbol:(t,r)=>{const{project:s}=e();s!=null&&s.freeform&&n({project:{...s,freeform:{...s.freeform,layers:s.freeform.layers.map(i=>({...i,symbols:i.symbols.map(o=>o.id===t?{...o,...r}:o)}))},updatedAt:new Date},isDirty:!0})},movePlacedSymbol:(t,r,s)=>{e().updatePlacedSymbol(t,{x:r,y:s})},rotatePlacedSymbol:(t,r)=>{e().updatePlacedSymbol(t,{rotation:r})},scalePlacedSymbol:(t,r)=>{e().updatePlacedSymbol(t,{scale:Math.max(.1,r)})}})),yn=a1((n,e)=>({activeDialog:null,visiblePanels:new Set(["palette"]),sidebarOpen:!1,view:"projects",toasts:[],openDialog:t=>n({activeDialog:t}),closeDialog:()=>n({activeDialog:null}),togglePanel:t=>{const{visiblePanels:r}=e(),s=new Set(r);s.has(t)?s.delete(t):s.add(t),n({visiblePanels:s})},showPanel:t=>{const{visiblePanels:r}=e(),s=new Set(r);s.add(t),n({visiblePanels:s})},hidePanel:t=>{const{visiblePanels:r}=e(),s=new Set(r);s.delete(t),n({visiblePanels:s})},toggleSidebar:()=>n(t=>({sidebarOpen:!t.sidebarOpen})),setSidebarOpen:t=>n({sidebarOpen:t}),setView:t=>n({view:t}),addToast:(t,r="info")=>{const s=Date.now().toString();n(i=>({toasts:[...i.toasts,{id:s,message:t,type:r}]})),setTimeout(()=>{e().removeToast(s)},5e3)},removeToast:t=>{n(r=>({toasts:r.toasts.filter(s=>s.id!==t)}))}})),ou=a1((n,e)=>({settings:S0,loaded:!1,loadSettings:async()=>{const t=await Y6();t?(n({settings:t,loaded:!0}),t.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")):(n({loaded:!0}),document.documentElement.classList.add("dark"))},updateSettings:async t=>{const{settings:r}=e(),s={...r,...t};n({settings:s}),await by(s),"darkMode"in t&&(t.darkMode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},resetSettings:async()=>{n({settings:S0}),await by(S0),document.documentElement.classList.add("dark")},isDarkMode:()=>e().settings.darkMode,toggleDarkMode:async()=>{const{settings:t,updateSettings:r}=e();await r({darkMode:!t.darkMode})}}));function G6(){const n=be(m=>m.project),e=be(m=>m.isDirty),t=be(m=>m.saveCurrentProject),r=be(m=>m.closeProject),s=yn(m=>m.view),i=yn(m=>m.setView),o=yn(m=>m.openDialog),l=yn(m=>m.toggleSidebar),u=ou(m=>m.toggleDarkMode),a=ou(m=>m.isDarkMode),[c,d]=Te.useState(!1),f=async()=>{await t()},h=()=>{e?d(!0):(r(),i("projects"))},p=()=>{d(!1),r(),i("projects")},y=async()=>{await t(),d(!1),r(),i("projects")};return Z.jsxs(Z.Fragment,{children:[Z.jsxs("header",{className:"h-14 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 shrink-0",children:[Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",title:"Toggle sidebar",children:Z.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),Z.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:s==="editor"&&n?Z.jsxs("span",{className:"flex items-center gap-2",children:[Z.jsx("button",{onClick:h,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Back to projects",children:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.name,e&&Z.jsx("span",{className:"text-sm text-gray-400",children:"*"})]}):"StitchFizzle"})]}),Z.jsxs("div",{className:"flex items-center gap-2",children:[s==="editor"&&n&&Z.jsxs(Z.Fragment,{children:[Z.jsx("button",{onClick:f,disabled:!e,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"}),Z.jsx("button",{onClick:()=>o("export"),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:"Export"})]}),Z.jsx("button",{onClick:()=>u(),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",title:"Toggle dark mode",children:a()?Z.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):Z.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:Z.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),Z.jsx("button",{onClick:()=>o("settings"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",title:"Settings",children:Z.jsxs("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),c&&Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md mx-4",children:[Z.jsxs("div",{className:"p-6",children:[Z.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Unsaved Changes"}),Z.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"You have unsaved changes. Would you like to save before leaving?"})]}),Z.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[Z.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),Z.jsx("button",{onClick:p,className:"px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:"Don't Save"}),Z.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save"})]})]})})]})}function K6(){const n=yn(a=>a.sidebarOpen),e=yn(a=>a.view),t=be(a=>a.project),r=be(a=>a.activeTool),s=be(a=>a.setActiveTool),i=be(a=>a.undo),o=be(a=>a.redo),l=be(a=>a.undoStack),u=be(a=>a.redoStack);return n?e==="editor"&&t?Z.jsxs("aside",{className:"w-16 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col items-center py-4 gap-2 shrink-0",children:[Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),active:r==="draw",onClick:()=>s("draw"),title:"Draw (D)"}),Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),active:r==="erase",onClick:()=>s("erase"),title:"Erase (E)"}),Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),active:r==="select",onClick:()=>s("select"),title:"Select (S)"}),Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"})}),active:r==="pan",onClick:()=>s("pan"),title:"Pan (Space)"}),Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),active:r==="eyedropper",onClick:()=>s("eyedropper"),title:"Eyedropper (I)"}),Z.jsx("div",{className:"h-px w-8 bg-gray-200 dark:bg-gray-700 my-2"}),Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),onClick:i,disabled:l.length===0,title:"Undo (Ctrl+Z)"}),Z.jsx(Fl,{icon:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10h-10a8 8 0 00-8 8v2M21 10l-6 6m6-6l-6-6"})}),onClick:o,disabled:u.length===0,title:"Redo (Ctrl+Y)"})]}):Z.jsxs("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col shrink-0",children:[Z.jsxs("nav",{className:"flex-1 p-4",children:[Z.jsx("h2",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Navigation"}),Z.jsxs("ul",{className:"space-y-1",children:[Z.jsx("li",{children:Z.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-left text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"My Charts"]})}),Z.jsx("li",{children:Z.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-left text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Recent"]})})]})]}),Z.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"StitchFizzle v0.1.0"})})]}):null}function Fl({icon:n,active:e,disabled:t,onClick:r,title:s}){return Z.jsx("button",{onClick:r,disabled:t,title:s,className:`
        w-10 h-10 flex items-center justify-center rounded-lg transition-colors
        ${e?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}
        ${t?"opacity-40 cursor-not-allowed":""}
      `,children:n})}function Z6({children:n}){const e=yn(r=>r.toasts),t=yn(r=>r.removeToast);return Z.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[Z.jsx(G6,{}),Z.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[Z.jsx(K6,{}),Z.jsx("main",{className:"flex-1 overflow-auto",children:n})]}),Z.jsx("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-50",children:e.map(r=>Z.jsxs("div",{className:`
              px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-64
              ${r.type==="success"?"bg-green-500 text-white":r.type==="error"?"bg-red-500 text-white":"bg-gray-800 text-white"}
            `,children:[Z.jsx("span",{className:"flex-1",children:r.message}),Z.jsx("button",{onClick:()=>t(r.id),className:"p-1 hover:bg-white/20 rounded",children:Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r.id))})]})}function J6(n,e,t){var r,s;typeof n=="function"?(r=e||[],s=t):(r=[],s=e);var i=ma.useRef({hasResult:!1,result:s,error:null}),o=ma.useReducer(function(a){return a+1},0);o[0];var l=o[1],u=ma.useMemo(function(){var a=typeof n=="function"?n():n;if(!a||typeof a.subscribe!="function")throw n===a?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!i.current.hasResult&&typeof window<"u"&&(typeof a.hasValue!="function"||a.hasValue()))if(typeof a.getValue=="function")i.current.result=a.getValue(),i.current.hasResult=!0;else{var c=a.subscribe(function(d){i.current.result=d,i.current.hasResult=!0});typeof c=="function"?c():c.unsubscribe()}return a},r);if(ma.useDebugValue(i.current.result),ma.useEffect(function(){var a=u.subscribe(function(c){var d=i.current;(d.error!==null||d.result!==c)&&(d.error=null,d.result=c,d.hasResult=!0,l())},function(c){var d=i.current;d.error!==c&&(d.error=c,l())});return typeof a=="function"?a:a.unsubscribe.bind(a)},r),i.current.error)throw i.current.error;return i.current.result}function zm(n,e,t){return J6(function(){return H6(n)},e||[],t)}const qd=[{id:"chain",name:"Chain",abbreviation:"ch",category:"basic",svgPath:"M12 6 C8 6 6 9 6 12 C6 15 8 18 12 18 C16 18 18 15 18 12 C18 9 16 6 12 6 Z"},{id:"slip-stitch",name:"Slip Stitch",abbreviation:"sl st",category:"basic",svgPath:"M12 8 L12 16 M8 12 L16 12"},{id:"single-crochet",name:"Single Crochet",abbreviation:"sc",category:"basic",svgPath:"M12 4 L12 20 M8 8 L16 8"},{id:"half-double",name:"Half Double Crochet",abbreviation:"hdc",category:"basic",svgPath:"M12 4 L12 20 M8 6 L16 6 M10 10 L14 10"},{id:"double-crochet",name:"Double Crochet",abbreviation:"dc",category:"basic",svgPath:"M12 4 L12 20 M8 5 L16 5 M8 9 L16 9"},{id:"treble-crochet",name:"Treble Crochet",abbreviation:"tr",category:"basic",svgPath:"M12 4 L12 20 M8 5 L16 5 M8 8 L16 8 M8 11 L16 11"},{id:"double-treble",name:"Double Treble",abbreviation:"dtr",category:"basic",svgPath:"M12 4 L12 20 M8 5 L16 5 M8 7 L16 7 M8 9 L16 9 M8 11 L16 11"},{id:"bobble",name:"Bobble",abbreviation:"bob",category:"textured",svgPath:"M12 6 C6 6 6 18 12 18 C18 18 18 6 12 6 Z M12 4 L12 6 M12 18 L12 20"},{id:"popcorn",name:"Popcorn",abbreviation:"pc",category:"textured",svgPath:"M12 6 C6 6 6 18 12 18 C18 18 18 6 12 6 Z M12 4 L12 20"},{id:"puff",name:"Puff Stitch",abbreviation:"puff",category:"textured",svgPath:"M8 8 Q12 4 16 8 Q20 12 16 16 Q12 20 8 16 Q4 12 8 8 Z"},{id:"cluster",name:"Cluster",abbreviation:"cl",category:"textured",svgPath:"M8 20 L12 4 L16 20 M6 16 L18 16"},{id:"sc2tog",name:"SC 2 Together",abbreviation:"sc2tog",category:"decrease",svgPath:"M8 20 L12 4 L16 20 M6 8 L18 8"},{id:"dc2tog",name:"DC 2 Together",abbreviation:"dc2tog",category:"decrease",svgPath:"M8 20 L12 4 L16 20 M6 6 L18 6 M6 10 L18 10"},{id:"inc",name:"Increase",abbreviation:"inc",category:"increase",svgPath:"M12 4 L12 20 M6 12 L18 12 M6 8 L18 8"},{id:"filet-open",name:"Open Square (Filet)",abbreviation:"o",category:"filet",svgPath:"M4 4 L20 4 L20 20 L4 20 Z"},{id:"filet-filled",name:"Filled Square (Filet)",abbreviation:"x",category:"filet",svgPath:"M4 4 L20 4 L20 20 L4 20 Z M4 4 L20 20 M20 4 L4 20"},{id:"mosaic-x",name:"Overlay Stitch (Mosaic)",abbreviation:"X",category:"mosaic",svgPath:"M6 6 L18 18 M18 6 L6 18"},{id:"mosaic-dc",name:"DC Overlay (Mosaic)",abbreviation:"DC",category:"mosaic",svgPath:"M12 4 L12 20 M6 6 L18 18 M18 6 L6 18"},{id:"tss",name:"Tunisian Simple Stitch",abbreviation:"Tss",category:"tunisian",svgPath:"M12 4 L12 20"},{id:"tks",name:"Tunisian Knit Stitch",abbreviation:"Tks",category:"tunisian",svgPath:"M8 4 L8 20 M16 4 L16 20 M8 12 L16 12"},{id:"tps",name:"Tunisian Purl Stitch",abbreviation:"Tps",category:"tunisian",svgPath:"M12 4 L12 20 M8 10 C8 14 16 14 16 10"}];function G5(n){return qd.find(e=>e.id===n)}function Q6(){return[...new Set(qd.map(n=>n.category))]}const t_={basic:"Basic Stitches",textured:"Textured Stitches",decrease:"Decreases",increase:"Increases",filet:"Filet Crochet",mosaic:"Mosaic Crochet",tunisian:"Tunisian Crochet"},Zi=150,vy=50;function e_(n){var f;if(n.chartType==="freeform")return r_(n);if(!n.grid||!n.palette.length)return null;const{cells:e}=n.grid,{width:t,height:r}=n.settings,s=document.createElement("canvas");s.width=Zi,s.height=Zi;const i=s.getContext("2d");if(!i)return null;i.fillStyle="#f3f4f6",i.fillRect(0,0,Zi,Zi);const o=Math.max(1,Math.min(Math.floor(Zi/t),Math.floor(Zi/r))),l=o*t,u=o*r,a=Math.floor((Zi-l)/2),c=Math.floor((Zi-u)/2),d=new Map(n.palette.map(h=>[h.id,h.color]));for(let h=0;h<r;h++)for(let p=0;p<t;p++){const y=(f=e[h])==null?void 0:f[p];if(y!=null&&y.colorId){const m=d.get(y.colorId);m&&(i.fillStyle=m,i.fillRect(a+p*o,c+h*o,o,o))}}if(o>=3){i.strokeStyle="rgba(0, 0, 0, 0.1)",i.lineWidth=.5;for(let h=0;h<=t;h++)i.beginPath(),i.moveTo(a+h*o,c),i.lineTo(a+h*o,c+u),i.stroke();for(let h=0;h<=r;h++)i.beginPath(),i.moveTo(a,c+h*o),i.lineTo(a+l,c+h*o),i.stroke()}return s.toDataURL("image/png")}function r_(n){if(!n.freeform)return null;const{layers:e}=n.freeform,{width:t,height:r}=n.settings,s=e.filter(g=>g.visible).flatMap(g=>g.symbols),i=document.createElement("canvas");i.width=Zi,i.height=Zi;const o=i.getContext("2d");if(!o)return null;o.fillStyle="#f3f4f6",o.fillRect(0,0,Zi,Zi);const l=t*vy,u=r*vy,c=Zi-10*2,d=Math.min(c/l,c/u),f=l*d,h=u*d,p=(Zi-f)/2,y=(Zi-h)/2;o.fillStyle="#ffffff",o.fillRect(p,y,f,h),o.strokeStyle="#e5e7eb",o.lineWidth=1,o.strokeRect(p,y,f,h);const m=new Map(n.palette.map(g=>[g.id,g.color]));return s.forEach(g=>{const b=G5(g.symbolId);if(!b)return;const w=m.get(g.colorId)||"#333333",C=p+g.x*d,j=y+g.y*d,I=d*g.scale*1.5;o.save(),o.translate(C,j),o.rotate(g.rotation*Math.PI/180),o.scale(I,I);const q=new Path2D(b.svgPath);o.strokeStyle=w,o.lineWidth=2/I,o.lineCap="round",o.lineJoin="round",o.translate(-12,-12),o.stroke(q),o.restore()}),i.toDataURL("image/png")}const xu=new Map;function n_(n){const e=`${n.id}-${n.updatedAt.getTime()}`;if(xu.has(e))return xu.get(e);const t=e_(n);if(t&&(xu.set(e,t),xu.size>50)){const r=xu.keys().next().value;r&&xu.delete(r)}return t}function i_({selectedFolderId:n,onSelectFolder:e}){const[t,r]=Te.useState(!1),[s,i]=Te.useState(""),[o,l]=Te.useState(null),[u,a]=Te.useState(""),c=zm(()=>Qs.folders.toArray(),[]),d=(c==null?void 0:c.filter(g=>!g.parentId))||[],f=async()=>{if(!s.trim())return;const g={id:ga(),name:s.trim(),parentId:n||void 0,createdAt:new Date};await yy(g),i(""),r(!1)},h=async g=>{if(!u.trim()){l(null);return}const b=c==null?void 0:c.find(w=>w.id===g);b&&await yy({...b,name:u.trim()}),l(null)},p=async(g,b)=>{b.stopPropagation(),confirm("Delete this folder? Projects will be moved to root.")&&(await X5(g),n===g&&e(null))},y=g=>(c==null?void 0:c.filter(b=>b.parentId===g))||[],m=(g,b=0)=>{const w=n===g.id,C=o===g.id,j=y(g.id);return Z.jsxs("div",{children:[Z.jsxs("div",{onClick:()=>e(g.id),className:`flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer group ${w?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,style:{paddingLeft:`${8+b*16}px`},children:[Z.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),C?Z.jsx("input",{type:"text",value:u,onChange:I=>a(I.target.value),onBlur:()=>h(g.id),onKeyDown:I=>{I.key==="Enter"&&h(g.id),I.key==="Escape"&&l(null)},className:"flex-1 px-1 py-0.5 text-sm bg-white dark:bg-gray-700 border border-blue-500 rounded focus:outline-none",autoFocus:!0,onClick:I=>I.stopPropagation()}):Z.jsx("span",{className:"flex-1 text-sm truncate",onDoubleClick:I=>{I.stopPropagation(),l(g.id),a(g.name)},children:g.name}),Z.jsx("button",{onClick:I=>p(g.id,I),className:"p-0.5 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete folder",children:Z.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),j.map(I=>m(I,b+1))]},g.id)};return Z.jsxs("div",{className:"py-2",children:[Z.jsxs("div",{onClick:()=>e(null),className:`flex items-center gap-2 px-2 py-1.5 rounded-lg cursor-pointer ${n===null?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Z.jsx("span",{className:"text-sm font-medium",children:"All Charts"})]}),Z.jsx("div",{className:"mt-1",children:d.map(g=>m(g))}),t?Z.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 mt-1",children:[Z.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),Z.jsx("input",{type:"text",value:s,onChange:g=>i(g.target.value),onBlur:()=>{s.trim()?f():r(!1)},onKeyDown:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&r(!1)},placeholder:"Folder name",className:"flex-1 px-1 py-0.5 text-sm bg-white dark:bg-gray-700 border border-blue-500 rounded focus:outline-none",autoFocus:!0})]}):Z.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-2 py-1.5 mt-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors w-full",children:[Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Z.jsx("span",{className:"text-sm",children:"New Folder"})]})]})}const s_={c2c:"Corner to Corner (C2C)",colorwork:"Colorwork",filet:"Filet Crochet",mosaic:"Overlay Mosaic",freeform:"Freeform",tunisian:"Tunisian"},o_={c2c:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300",colorwork:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",filet:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",mosaic:"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",freeform:"bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300",tunisian:"bg-teal-100 text-teal-700 dark:bg-teal-900 dark:text-teal-300"};function a_(){const[n,e]=Te.useState(""),[t,r]=Te.useState(null),[s,i]=Te.useState(null),o=be(g=>g.loadProject),l=yn(g=>g.setView),u=yn(g=>g.openDialog),a=yn(g=>g.addToast),c=zm(()=>Qs.folders.toArray(),[]),d=zm(async()=>{let b=await Qs.projects.toArray();if(!n&&t!==null&&(b=b.filter(w=>w.folderId===t)),n){const w=n.toLowerCase();b=b.filter(C=>C.name.toLowerCase().includes(w))}return b.sort((w,C)=>new Date(C.updatedAt).getTime()-new Date(w.updatedAt).getTime()),b},[n,t]),f=async g=>{await o(g.id)?l("editor"):a("Failed to open project","error")},h=async(g,b)=>{b.stopPropagation(),confirm(`Are you sure you want to delete "${g.name}"?`)&&(await X6(g.id),a("Project deleted","success"))},p=async(g,b)=>{await Sh({...g,folderId:b}),i(null),a(`Moved to ${b?"folder":"All Charts"}`,"success")},y=g=>new Date(g).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),m=c==null?void 0:c.find(g=>g.id===t);return Z.jsxs("div",{className:"flex h-full",children:[Z.jsxs("div",{className:"w-56 bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-3 flex-shrink-0 overflow-auto",children:[Z.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-2",children:"Folders"}),Z.jsx(i_,{selectedFolderId:t,onSelectFolder:r})]}),Z.jsxs("div",{className:"flex-1 p-6 overflow-auto",children:[Z.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Z.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:m?m.name:"All Charts"}),Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsxs("button",{onClick:()=>u("imageImport"),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Import from image",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Image"]}),Z.jsxs("button",{onClick:()=>u("import"),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Import JSON project",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Import"]}),Z.jsxs("button",{onClick:()=>u("newProject"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Chart"]})]})]}),Z.jsx("div",{className:"mb-6",children:Z.jsxs("div",{className:"relative",children:[Z.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Z.jsx("input",{type:"text",placeholder:"Search charts...",value:n,onChange:g=>e(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-800 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),d===void 0?Z.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading..."}):d.length===0?Z.jsxs("div",{className:"text-center py-12",children:[Z.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),Z.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"No charts yet"}),Z.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first crochet chart to get started"}),Z.jsx("button",{onClick:()=>u("newProject"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Chart"})]}):Z.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(g=>Z.jsxs("div",{onClick:()=>f(g),className:"group bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 cursor-pointer hover:border-blue-500 hover:shadow-md transition-all",children:[Z.jsx(l_,{project:g}),Z.jsxs("div",{className:"flex items-start justify-between gap-2",children:[Z.jsxs("div",{className:"flex-1 min-w-0",children:[Z.jsx("h3",{className:"font-medium text-gray-800 dark:text-white truncate",children:g.name}),Z.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[g.settings.width," x ",g.settings.height]})]}),Z.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[Z.jsxs("div",{className:"relative",children:[Z.jsx("button",{onClick:b=>{b.stopPropagation(),i(s===g.id?null:g.id)},className:"p-1 text-gray-400 hover:text-blue-500",title:"Move to folder",children:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s===g.id&&Z.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 min-w-40 z-50",onClick:b=>b.stopPropagation(),children:[Z.jsx("button",{onClick:()=>p(g,void 0),className:`w-full px-3 py-1.5 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${g.folderId?"text-gray-700 dark:text-gray-200":"text-blue-600 dark:text-blue-400 font-medium"}`,children:"All Charts (Root)"}),c==null?void 0:c.map(b=>Z.jsx("button",{onClick:()=>p(g,b.id),className:`w-full px-3 py-1.5 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ${g.folderId===b.id?"text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-200"}`,children:b.name},b.id))]})]}),Z.jsx("button",{onClick:b=>h(g,b),className:"p-1 text-gray-400 hover:text-red-500",title:"Delete",children:Z.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),Z.jsxs("div",{className:"flex items-center justify-between mt-3",children:[Z.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${o_[g.chartType]}`,children:s_[g.chartType]}),Z.jsx("span",{className:"text-xs text-gray-400",children:y(g.updatedAt)})]})]},g.id))})]})]})}function l_({project:n}){const e=Te.useMemo(()=>n_(n),[n]);return Z.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-700 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:e?Z.jsx("img",{src:e,alt:n.name,className:"w-full h-full object-contain",style:{imageRendering:"pixelated"}}):Z.jsx("svg",{className:"w-12 h-12 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})})}const u_=[{type:"colorwork",name:"Colorwork",description:"Graphgans, pixel designs, tapestry crochet",icon:Z.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",fill:"currentColor",children:[Z.jsx("rect",{x:"4",y:"4",width:"8",height:"8"}),Z.jsx("rect",{x:"12",y:"4",width:"8",height:"8",opacity:"0.5"}),Z.jsx("rect",{x:"20",y:"4",width:"8",height:"8"}),Z.jsx("rect",{x:"4",y:"12",width:"8",height:"8",opacity:"0.5"}),Z.jsx("rect",{x:"12",y:"12",width:"8",height:"8"}),Z.jsx("rect",{x:"20",y:"12",width:"8",height:"8",opacity:"0.5"}),Z.jsx("rect",{x:"4",y:"20",width:"8",height:"8"}),Z.jsx("rect",{x:"12",y:"20",width:"8",height:"8",opacity:"0.5"}),Z.jsx("rect",{x:"20",y:"20",width:"8",height:"8"})]})},{type:"c2c",name:"Corner to Corner (C2C)",description:"Diagonal colorwork, worked corner to corner",icon:Z.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",fill:"currentColor",children:[Z.jsx("rect",{x:"4",y:"4",width:"8",height:"8",transform:"rotate(45 8 8)"}),Z.jsx("rect",{x:"12",y:"12",width:"8",height:"8",transform:"rotate(45 16 16)",opacity:"0.5"}),Z.jsx("rect",{x:"20",y:"20",width:"8",height:"8",transform:"rotate(45 24 24)"})]})},{type:"filet",name:"Filet Crochet",description:"Open and filled squares pattern",icon:Z.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[Z.jsx("rect",{x:"4",y:"4",width:"8",height:"8"}),Z.jsx("rect",{x:"12",y:"4",width:"8",height:"8",fill:"currentColor"}),Z.jsx("rect",{x:"20",y:"4",width:"8",height:"8"}),Z.jsx("rect",{x:"4",y:"12",width:"8",height:"8",fill:"currentColor"}),Z.jsx("rect",{x:"12",y:"12",width:"8",height:"8"}),Z.jsx("rect",{x:"20",y:"12",width:"8",height:"8",fill:"currentColor"}),Z.jsx("rect",{x:"4",y:"20",width:"8",height:"8"}),Z.jsx("rect",{x:"12",y:"20",width:"8",height:"8",fill:"currentColor"}),Z.jsx("rect",{x:"20",y:"20",width:"8",height:"8"})]})},{type:"mosaic",name:"Overlay Mosaic",description:"Two-color rows with overlay stitches",icon:Z.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",fill:"currentColor",children:[Z.jsx("rect",{x:"4",y:"4",width:"24",height:"4"}),Z.jsx("rect",{x:"4",y:"12",width:"24",height:"4",opacity:"0.5"}),Z.jsx("rect",{x:"4",y:"20",width:"24",height:"4"}),Z.jsx("text",{x:"16",y:"18",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"X"})]})},{type:"tunisian",name:"Tunisian",description:"Forward and return pass visualization",icon:Z.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",fill:"currentColor",children:[Z.jsx("rect",{x:"4",y:"6",width:"24",height:"3"}),Z.jsx("rect",{x:"4",y:"11",width:"24",height:"3",opacity:"0.3"}),Z.jsx("rect",{x:"4",y:"16",width:"24",height:"3"}),Z.jsx("rect",{x:"4",y:"21",width:"24",height:"3",opacity:"0.3"})]})},{type:"freeform",name:"Freeform",description:"Place symbols freely, create custom patterns",icon:Z.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 32 32",fill:"currentColor",children:[Z.jsx("circle",{cx:"10",cy:"10",r:"4"}),Z.jsx("circle",{cx:"22",cy:"8",r:"3",opacity:"0.5"}),Z.jsx("circle",{cx:"16",cy:"18",r:"5"}),Z.jsx("circle",{cx:"8",cy:"24",r:"3",opacity:"0.5"}),Z.jsx("circle",{cx:"24",cy:"22",r:"4"})]})}];function c_(){const n=ou(p=>p.settings),e=be(p=>p.createProject),t=yn(p=>p.closeDialog),r=yn(p=>p.setView),s=yn(p=>p.addToast),[i,o]=Te.useState("Untitled Chart"),[l,u]=Te.useState("colorwork"),[a,c]=Te.useState(n.defaultGridWidth),[d,f]=Te.useState(n.defaultGridHeight),h=()=>{if(!i.trim()){s("Please enter a chart name","error");return}e(i.trim(),l,{width:a,height:d,gaugeH:n.defaultGaugeH,gaugeV:n.defaultGaugeV,gridLines:{show:!0,color:"#cccccc",thickness:1,highlight5:!0,highlight10:!0,highlight5Color:"#999999",highlight10Color:"#666666"},showNumbers:!0}),t(),r("editor"),s("Chart created","success")};return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-auto",children:[Z.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[Z.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Create New Chart"}),Z.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:Z.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Z.jsxs("div",{className:"p-6 space-y-6",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chart Name"}),Z.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),className:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter chart name"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chart Type"}),Z.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:u_.map(p=>Z.jsxs("button",{onClick:()=>u(p.type),className:`
                    p-4 rounded-lg border-2 text-left transition-all
                    ${l===p.type?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}
                  `,children:[Z.jsx("div",{className:`mb-2 ${l===p.type?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`,children:p.icon}),Z.jsx("h3",{className:`font-medium text-sm ${l===p.type?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:p.name}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:p.description})]},p.type))})]}),l!=="freeform"&&Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Chart Size"}),Z.jsxs("div",{className:"flex items-center gap-4",children:[Z.jsxs("div",{className:"flex-1",children:[Z.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Width (columns)"}),Z.jsx("input",{type:"number",min:1,max:1e3,value:a,onChange:p=>c(Math.max(1,parseInt(p.target.value)||1)),className:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),Z.jsx("span",{className:"text-gray-400 mt-5",children:"x"}),Z.jsxs("div",{className:"flex-1",children:[Z.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Height (rows)"}),Z.jsx("input",{type:"number",min:1,max:1e3,value:d,onChange:p=>f(Math.max(1,parseInt(p.target.value)||1)),className:"w-full px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),Z.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[Z.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),Z.jsx("button",{onClick:h,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Chart"})]})]})})}function It(n,e,t){return(e=function(r){var s=function(i,o){if(typeof i!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var u=l.call(i,o);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}(r,"string");return typeof s=="symbol"?s:s+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ft(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(t),!0).forEach(function(r){It(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wy(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cn(n,e){if(n==null)return{};var t,r,s=function(o,l){if(o==null)return{};var u={};for(var a in o)if({}.hasOwnProperty.call(o,a)){if(l.indexOf(a)>=0)continue;u[a]=o[a]}return u}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}function Go(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}let xy=class{constructor(){It(this,"browserShadowBlurConstant",1),It(this,"DPI",96),It(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),It(this,"perfLimitSizeTotal",2097152),It(this,"maxCacheSideLimit",4096),It(this,"minCacheSideLimit",256),It(this,"disableStyleCopyPaste",!1),It(this,"enableGLFiltering",!0),It(this,"textureSize",4096),It(this,"forceGLPutImageData",!1),It(this,"cachesBoundsOfCurve",!1),It(this,"fontPaths",{}),It(this,"NUM_FRACTION_DIGITS",4)}};const Zr=new class extends xy{constructor(n){super(),this.configure(n)}configure(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,n)}addFonts(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=Ft(Ft({},this.fontPaths),n)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>{delete this.fontPaths[n]})}clearFonts(){this.fontPaths={}}restoreDefaults(n){const e=new xy,t=(n==null?void 0:n.reduce((r,s)=>(r[s]=e[s],r),{}))||e;this.configure(t)}},xl=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return console[n]("fabric",...t)};let $o=class extends Error{constructor(e,t){super("fabric: ".concat(e),t)}},h_=class extends $o{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}},f_=class{},d_=class extends f_{testPrecision(e,t){const r="precision ".concat(t,` float;
void main(){}`),s=e.createShader(e.FRAGMENT_SHADER);return!!s&&(e.shaderSource(s,r),e.compileShader(s),!!e.getShaderParameter(s,e.COMPILE_STATUS))}queryWebGL(e){const t=e.getContext("webgl");t&&(this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(t,r)),t.getExtension("WEBGL_lose_context").loseContext(),xl("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}};const p_={};let _y;const Yo=()=>_y||(_y={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new d_,dispose(){},copyPasteData:p_}),mc=()=>Yo().document,wp=()=>Yo().window,K5=()=>{var n;return Math.max((n=Zr.devicePixelRatio)!==null&&n!==void 0?n:wp().devicePixelRatio,1)},eh=new class{constructor(){It(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(n){let{fontFamily:e,fontStyle:t,fontWeight:r}=n;e=e.toLowerCase();const s=this.charWidthsCache;s.has(e)||s.set(e,new Map);const i=s.get(e),o="".concat(t.toLowerCase(),"_").concat((r+"").toLowerCase());return i.has(o)||i.set(o,new Map),i.get(o)}clearFontCache(n){n?this.charWidthsCache.delete((n||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(n){const{perfLimitSizeTotal:e}=Zr,t=Math.sqrt(e*n);return[Math.floor(t),Math.floor(e/t)]}},Um="6.9.1";function ld(){}const Dh=Math.PI/2,$d=2*Math.PI,l1=Math.PI/180,ts=Object.freeze([1,0,0,1,0,0]),u1=16,tl=.4477152502,Ur="center",tn="left",ms="top",qm="bottom",qn="right",gs="none",c1=/\r?\n/,Z5="moving",xp="scaling",J5="rotating",h1="rotate",Q5="skewing",kh="resizing",m_="modifyPoly",g_="modifyPath",Hd="changed",_p="scale",bs="scaleX",ro="scaleY",gc="skewX",yc="skewY",li="fill",ys="stroke",Wd="modified",_u="json",k0="svg",nr=new class{constructor(){this[_u]=new Map,this[k0]=new Map}has(n){return this[_u].has(n)}getClass(n){const e=this[_u].get(n);if(!e)throw new $o("No class registered for ".concat(n));return e}setClass(n,e){e?this[_u].set(e,n):(this[_u].set(n.type,n),this[_u].set(n.type.toLowerCase(),n))}getSVGClass(n){return this[k0].get(n)}setSVGClass(n,e){this[k0].set(e!=null?e:n.type.toLowerCase(),n)}},Vd=new class extends Array{remove(n){const e=this.indexOf(n);e>-1&&this.splice(e,1)}cancelAll(){const n=this.splice(0);return n.forEach(e=>e.abort()),n}cancelByCanvas(n){if(!n)return[];const e=this.filter(t=>{var r;return t.target===n||typeof t.target=="object"&&((r=t.target)===null||r===void 0?void 0:r.canvas)===n});return e.forEach(t=>t.abort()),e}cancelByTarget(n){if(!n)return[];const e=this.filter(t=>t.target===n);return e.forEach(t=>t.abort()),e}};let y_=class{constructor(){It(this,"__eventListeners",{})}on(e,t){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[s,i]=r;this.on(s,i)}),()=>this.off(e);if(t){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(t),()=>this.off(r,t)}return()=>!1}once(e,t){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(s=>{let[i,o]=s;r.push(this.once(i,o))}),()=>r.forEach(s=>s())}if(t){const r=this.on(e,function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];t.call(this,...i),r()});return r}return()=>!1}_removeEventListener(e,t){if(this.__eventListeners[e])if(t){const r=this.__eventListeners[e],s=r.indexOf(t);s>-1&&r.splice(s,1)}else this.__eventListeners[e]=[]}off(e,t){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[s,i]=r;this._removeEventListener(s,i)}):this._removeEventListener(e,t)}fire(e,t){var r;if(!this.__eventListeners)return;const s=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(s)for(let i=0;i<s.length;i++)s[i].call(this,t||{})}};const Tu=(n,e)=>{const t=n.indexOf(e);return t!==-1&&n.splice(t,1),n},Ma=n=>{if(n===0)return 1;switch(Math.abs(n)/Dh){case 1:case 3:return 0;case 2:return-1}return Math.cos(n)},ja=n=>{if(n===0)return 0;const e=n/Dh,t=Math.sign(n);switch(e){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(n)};let le=class Gi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}add(e){return new Gi(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Gi(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Gi(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Gi(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Gi(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Gi(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Gi(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Gi(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return t=Math.max(Math.min(1,t),0),new Gi(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)}distanceFrom(e){const t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new Gi(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Gi(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,t){return this.x=e,this.y=t,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const t=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=r}clone(){return new Gi(this.x,this.y)}rotate(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f1;const r=ja(e),s=Ma(e),i=this.subtract(t);return new Gi(i.x*s-i.y*r,i.x*r+i.y*s).add(t)}transform(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Gi(e[0]*this.x+e[2]*this.y+(t?0:e[4]),e[1]*this.x+e[3]*this.y+(t?0:e[5]))}};const f1=new le(0,0),ud=n=>!!n&&Array.isArray(n._objects);function tw(n){class e extends n{constructor(){super(...arguments),It(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const o=this._objects.push(...s);return s.forEach(l=>this._onObjectAdded(l)),o}insertAt(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return this._objects.splice(r,0,...i),i.forEach(l=>this._onObjectAdded(l)),this._objects.length}remove(){const r=this._objects,s=[];for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return o.forEach(u=>{const a=r.indexOf(u);a!==-1&&(r.splice(a,1),s.push(u),this._onObjectRemoved(u))}),s}forEachObject(r){this.getObjects().forEach((s,i,o)=>r(s,i,o))}getObjects(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...s))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,s){return!!this._objects.includes(r)||!!s&&this._objects.some(i=>i instanceof e&&i.contains(r,!0))}complexity(){return this._objects.reduce((r,s)=>r+=s.complexity?s.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(Tu(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(Tu(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,s){if(!r)return!1;const i=this._objects.indexOf(r);if(i!==0){const o=this.findNewLowerIndex(r,i,s);return Tu(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,s){if(!r)return!1;const i=this._objects.indexOf(r);if(i!==this._objects.length-1){const o=this.findNewUpperIndex(r,i,s);return Tu(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,s){return r!==this._objects[s]&&(Tu(this._objects,r),this._objects.splice(s,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,s,i){let o;if(i){o=s;for(let l=s-1;l>=0;--l)if(r.isOverlapping(this._objects[l])){o=l;break}}else o=s-1;return o}findNewUpperIndex(r,s,i){let o;if(i){o=s;for(let l=s+1;l<this._objects.length;++l)if(r.isOverlapping(this._objects[l])){o=l;break}}else o=s+1;return o}collectObjects(r){let{left:s,top:i,width:o,height:l}=r,{includeIntersecting:u=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=[],c=new le(s,i),d=c.add(new le(o,l));for(let f=this._objects.length-1;f>=0;f--){const h=this._objects[f];h.selectable&&h.visible&&(u&&h.intersectsWithRect(c,d)||h.isContainedWithinRect(c,d)||u&&h.containsPoint(c)||u&&h.containsPoint(d))&&a.push(h)}return a}}return e}let ew=class extends y_{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const t in e)this.set(t,e[t])}_setObject(e){for(const t in e)this._set(t,e[t])}set(e,t){return typeof e=="object"?this._setObject(e):this._set(e,t),this}_set(e,t){this[e]=t}toggle(e){const t=this.get(e);return typeof t=="boolean"&&this.set(e,!t),this}get(e){return this[e]}};function cd(n){return wp().requestAnimationFrame(n)}function b_(n){return wp().cancelAnimationFrame(n)}let v_=0;const _l=()=>v_++,Ea=()=>{const n=mc().createElement("canvas");if(!n||n.getContext===void 0)throw new $o("Failed to create `canvas` element");return n},w_=()=>mc().createElement("img"),no=n=>{const e=Ea();return e.width=n.width,e.height=n.height,e},rw=(n,e,t)=>n.toDataURL("image/".concat(e),t),nw=(n,e,t)=>new Promise((r,s)=>{n.toBlob(r,"image/".concat(e),t)}),Xn=n=>n*l1,Na=n=>n/l1,x_=n=>n.every((e,t)=>e===ts[t]),ls=(n,e,t)=>new le(n).transform(e,t),ko=n=>{const e=1/(n[0]*n[3]-n[1]*n[2]),t=[e*n[3],-e*n[1],-e*n[2],e*n[0],0,0],{x:r,y:s}=new le(n[4],n[5]).transform(t,!0);return t[4]=-r,t[5]=-s,t},Ti=(n,e,t)=>[n[0]*e[0]+n[2]*e[1],n[1]*e[0]+n[3]*e[1],n[0]*e[2]+n[2]*e[3],n[1]*e[2]+n[3]*e[3],t?0:n[0]*e[4]+n[2]*e[5]+n[4],t?0:n[1]*e[4]+n[3]*e[5]+n[5]],d1=(n,e)=>n.reduceRight((t,r)=>r&&t?Ti(r,t,e):r||t,void 0)||ts.concat(),iw=n=>{let[e,t]=n;return Math.atan2(t,e)},Xd=n=>{const e=iw(n),t=Math.pow(n[0],2)+Math.pow(n[1],2),r=Math.sqrt(t),s=(n[0]*n[3]-n[2]*n[1])/r,i=Math.atan2(n[0]*n[2]+n[1]*n[3],t);return{angle:Na(e),scaleX:r,scaleY:s,skewX:Na(i),skewY:0,translateX:n[4]||0,translateY:n[5]||0}},Ih=function(n){return[1,0,0,1,n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function bc(){let{angle:n=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:t=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Xn(n),s=Ma(r),i=ja(r);return[s,i,-i,s,e?e-(s*e-i*t):0,t?t-(i*e+s*t):0]}const p1=function(n){return[n,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,0,0]},sw=n=>Math.tan(Xn(n)),ow=n=>[1,0,sw(n),1,0,0],aw=n=>[1,sw(n),0,1,0,0],Sp=n=>{let{scaleX:e=1,scaleY:t=1,flipX:r=!1,flipY:s=!1,skewX:i=0,skewY:o=0}=n,l=p1(r?-e:e,s?-t:t);return i&&(l=Ti(l,ow(i),!0)),o&&(l=Ti(l,aw(o),!0)),l},__=n=>{const{translateX:e=0,translateY:t=0,angle:r=0}=n;let s=Ih(e,t);r&&(s=Ti(s,bc({angle:r})));const i=Sp(n);return x_(i)||(s=Ti(s,i)),s},hd=function(n){let{signal:e,crossOrigin:t=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,s){if(e&&e.aborted)return s(new h_("loadImage"));const i=w_();let o;e&&(o=function(u){i.src="",s(u)},e.addEventListener("abort",o,{once:!0}));const l=function(){i.onload=i.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),r(i)};n?(i.onload=l,i.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),s(new $o("Error loading ".concat(i.src)))},t&&(i.crossOrigin=t),i.src=n):l()})},Ch=function(n){let{signal:e,reviver:t=ld}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,s)=>{const i=[];e&&e.addEventListener("abort",s,{once:!0}),Promise.all(n.map(o=>nr.getClass(o.type).fromObject(o,{signal:e}).then(l=>(t(o,l),i.push(l),l)))).then(r).catch(o=>{i.forEach(l=>{l.dispose&&l.dispose()}),s(o)}).finally(()=>{e&&e.removeEventListener("abort",s)})})},kp=function(n){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((t,r)=>{const s=[];e&&e.addEventListener("abort",r,{once:!0});const i=Object.values(n).map(l=>l&&l.type&&nr.has(l.type)?Ch([l],{signal:e}).then(u=>{let[a]=u;return s.push(a),a}):l),o=Object.keys(n);Promise.all(i).then(l=>l.reduce((u,a,c)=>(u[o[c]]=a,u),{})).then(t).catch(l=>{s.forEach(u=>{u.dispose&&u.dispose()}),r(l)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},vc=function(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,t)=>(t in n&&(e[t]=n[t]),e),{})},m1=(n,e)=>Object.keys(n).reduce((t,r)=>(e(n[r],r,n)&&(t[r]=n[r]),t),{}),vn=(n,e)=>parseFloat(Number(n).toFixed(e)),Th=n=>"matrix("+n.map(e=>vn(e,Zr.NUM_FRACTION_DIGITS)).join(" ")+")",Gs=n=>!!n&&n.toLive!==void 0,Sy=n=>!!n&&typeof n.toObject=="function",ky=n=>!!n&&n.offsetX!==void 0&&"source"in n,$l=n=>!!n&&"multiSelectionStacking"in n;function lw(n){const e=n&&So(n);let t=0,r=0;if(!n||!e)return{left:t,top:r};let s=n;const i=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;s&&(s.parentNode||s.host)&&(s=s.parentNode||s.host,s===e?(t=o.scrollLeft||i.scrollLeft||0,r=o.scrollTop||i.scrollTop||0):(t+=s.scrollLeft||0,r+=s.scrollTop||0),s.nodeType!==1||s.style.position!=="fixed"););return{left:t,top:r}}const So=n=>n.ownerDocument||null,uw=n=>{var e;return((e=n.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},cw=function(n,e,t){let{width:r,height:s}=t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;n.width=r,n.height=s,i>1&&(n.setAttribute("width",(r*i).toString()),n.setAttribute("height",(s*i).toString()),e.scale(i,i))},$m=(n,e)=>{let{width:t,height:r}=e;t&&(n.style.width=typeof t=="number"?"".concat(t,"px"):t),r&&(n.style.height=typeof r=="number"?"".concat(r,"px"):r)};function Cy(n){return n.onselectstart!==void 0&&(n.onselectstart=()=>!1),n.style.userSelect=gs,n}let hw=class{constructor(e){It(this,"_originalCanvasStyle",void 0),It(this,"lower",void 0);const t=this.createLowerCanvas(e);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(e){const t=(r=e)&&r.getContext!==void 0?e:e&&mc().getElementById(e)||Ea();var r;if(t.hasAttribute("data-fabric"))throw new $o("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(e){let{width:t,height:r}=e;const{el:s}=this.lower;s.classList.remove("lower-canvas"),s.removeAttribute("data-fabric"),s.setAttribute("width","".concat(t)),s.setAttribute("height","".concat(r)),s.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,t){const{el:r,ctx:s}=this.lower;cw(r,s,e,t)}setCSSDimensions(e){$m(this.lower.el,e)}calcOffset(){return function(e){var t;const r=e&&So(e),s={left:0,top:0};if(!r)return s;const i=((t=uw(e))===null||t===void 0?void 0:t.getComputedStyle(e,null))||{};s.left+=parseInt(i.borderLeftWidth,10)||0,s.top+=parseInt(i.borderTopWidth,10)||0,s.left+=parseInt(i.paddingLeft,10)||0,s.top+=parseInt(i.paddingTop,10)||0;let o={left:0,top:0};const l=r.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const u=lw(e);return{left:o.left+u.left-(l.clientLeft||0)+s.left,top:o.top+u.top-(l.clientTop||0)+s.top}}(this.lower.el)}dispose(){Yo().dispose(this.lower.el),delete this.lower}};const S_={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...ts]},k_=["objects"];let g1=class fw extends tw(ew){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return fw.ownDefaults}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(t),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new hw(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const i=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),i}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(xl("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?K5():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,t){return this.setDimensions({width:e},t)}setHeight(e,t){return this.setDimensions({height:e},t)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t){const s=Ft({width:this.width,height:this.height},e);this.elements.setDimensions(s,this.getRetinaScaling()),this.hasLostContext=!0,this.width=s.width,this.height=s.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,t){const r=e,s=[...this.viewportTransform],i=ls(e,ko(s));s[0]=t,s[3]=t;const o=ls(i,s);s[4]+=r.x-o.x,s[5]+=r.y-o.y,this.setViewportTransform(s)}setZoom(e){this.zoomToPoint(new le(0,0),e)}absolutePan(e){const t=[...this.viewportTransform];return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}relativePan(e){return this.absolutePan(new le(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=cd(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,t=this.height,r=ko(this.viewportTransform),s=ls({x:0,y:0},r),i=ls({x:e,y:t},r),o=s.min(i),l=s.max(i);return this.vptCoords={tl:o,tr:new le(l.x,o.y),bl:new le(o.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(b_(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,t){if(this.destroyed)return;const r=this.viewportTransform,s=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),s&&(s._set("canvas",this),s.shouldCache(),s._transformDone=!0,s.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,s)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,t){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}_renderObjects(e,t){for(let r=0,s=t.length;r<s;++r)t[r]&&t[r].render(e)}_renderBackgroundOrOverlay(e,t){const r=this["".concat(t,"Color")],s=this["".concat(t,"Image")],i=this.viewportTransform,o=this["".concat(t,"Vpt")];if(!r&&!s)return;const l=Gs(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=l?r.toLive(e):r,o&&e.transform(...i),l){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const u=r.gradientTransform||r.patternTransform;u&&e.transform(...u)}e.fill(),e.restore()}if(s){e.save();const{skipOffscreen:u}=this;this.skipOffscreen=o,o&&e.transform(...i),s.render(e),this.skipOffscreen=u,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new le(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new le(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new le(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new le(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new le(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ls(this.getCenterPoint(),ko(this.viewportTransform))}_centerObject(e,t){e.setXY(t,Ur,Ur),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,t){const r=this.clipPath,s=r&&!r.excludeFromExport?this._toObject(r,e,t):null;return Ft(Ft(Ft({version:Um},vc(this,t)),{},{objects:this._objects.filter(i=>!i.excludeFromExport).map(i=>this._toObject(i,e,t))},this.__serializeBgOverlay(e,t)),s?{clipPath:s}:null)}_toObject(e,t,r){let s;this.includeDefaultValues||(s=e.includeDefaultValues,e.includeDefaultValues=!1);const i=e[t](r);return this.includeDefaultValues||(e.includeDefaultValues=!!s),i}__serializeBgOverlay(e,t){const r={},s=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,l=this.overlayColor;return Gs(o)?o.excludeFromExport||(r.background=o.toObject(t)):o&&(r.background=o),Gs(l)?l.excludeFromExport||(r.overlay=l.toObject(t)):l&&(r.overlay=l),s&&!s.excludeFromExport&&(r.backgroundImage=this._toObject(s,e,t)),i&&!i.excludeFromExport&&(r.overlayImage=this._toObject(i,e,t)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",t),this._setSVGObjects(r,t),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",t),r.push("</svg>"),r.join("")}_setSVGPreamble(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,t){const r=t.width||"".concat(this.width),s=t.height||"".concat(this.height),i=Zr.NUM_FRACTION_DIGITS,o=t.viewBox;let l;if(o)l='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const u=this.viewportTransform;l='viewBox="'.concat(vn(-u[4]/u[0],i)," ").concat(vn(-u[5]/u[3],i)," ").concat(vn(this.width/u[0],i)," ").concat(vn(this.height/u[3],i),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',s,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Um,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),`</defs>
`)}createSVGClipPathMarkup(e){const t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(_l()),'<clipPath id="'.concat(t.clipPathId,`" >
`).concat(t.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const t=this["".concat(e,"Color")];if(Gs(t)){const r=this["".concat(e,"Vpt")],s=this.viewportTransform,i={isType:()=>!1,width:this.width/(r?s[0]:1),height:this.height/(r?s[3]:1)};return t.toSVG(i,{additionalTransform:r?Th(s):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],t={},r=Zr.fontPaths;this._objects.forEach(function i(o){e.push(o),ud(o)&&o._objects.forEach(i)}),e.forEach(i=>{if(!(o=i)||typeof o._renderText!="function")return;var o;const{styles:l,fontFamily:u}=i;!t[u]&&r[u]&&(t[u]=!0,l&&Object.values(l).forEach(a=>{Object.values(a).forEach(c=>{let{fontFamily:d=""}=c;!t[d]&&r[d]&&(t[d]=!0)})}))});const s=Object.keys(t).map(i=>`		@font-face {
			font-family: '`.concat(i,`';
			src: url('`).concat(r[i],`');
		}
`)).join("");return s?`	<style type="text/css"><![CDATA[
`.concat(s,`]]></style>
`):""}_setSVGObjects(e,t){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,t)})}_setSVGObject(e,t,r){e.push(t.toSVG(r))}_setSVGBgOverlayImage(e,t,r){const s=this[t];s&&!s.excludeFromExport&&s.toSVG&&e.push(s.toSVG(r))}_setSVGBgOverlayColor(e,t){const r=this["".concat(t,"Color")];if(r)if(Gs(r)){const s=r.repeat||"",i=this.width,o=this.height,l=this["".concat(t,"Vpt")]?Th(ko(this.viewportTransform)):"";e.push('<rect transform="'.concat(l," translate(").concat(i/2,",").concat(o/2,')" x="').concat(r.offsetX-i/2,'" y="').concat(r.offsetY-o/2,'" width="').concat(s!=="repeat-y"&&s!=="no-repeat"||!ky(r)?i:r.source.width,'" height="').concat(s!=="repeat-x"&&s!=="no-repeat"||!ky(r)?o:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,t){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new $o("`json` is undefined"));const s=typeof e=="string"?JSON.parse(e):e,{objects:i=[]}=s,o=Cn(s,k_),{backgroundImage:l,background:u,overlayImage:a,overlay:c,clipPath:d}=o,f=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Ch(i,{reviver:t,signal:r}),kp({backgroundImage:l,backgroundColor:u,overlayImage:a,overlayColor:c,clipPath:d},{signal:r})]).then(h=>{let[p,y]=h;return this.clear(),this.add(...p),this.set(o),this.set(y),this.renderOnAddRemove=f,this})}clone(e){const t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){const e=no(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:r=1,multiplier:s=1,enableRetinaScaling:i=!1}=e,o=s*(i?this.getRetinaScaling():1);return rw(this.toCanvasElement(o,e),t,r)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:t="png",quality:r=1,multiplier:s=1,enableRetinaScaling:i=!1}=e,o=s*(i?this.getRetinaScaling():1);return nw(this.toCanvasElement(o,e),t,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:t,height:r,left:s,top:i,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(t||this.width)*e,u=(r||this.height)*e,a=this.getZoom(),c=this.width,d=this.height,f=this.skipControlsDrawing,h=a*e,p=this.viewportTransform,y=[h,0,0,h,(p[4]-(s||0))*e,(p[5]-(i||0))*e],m=this.enableRetinaScaling,g=no({width:l,height:u}),b=o?this._objects.filter(w=>o(w)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=y,this.width=l,this.height=u,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),b),this.viewportTransform=p,this.width=c,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=m,this.skipControlsDrawing=f,g}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Vd.cancelByCanvas(this),this.disposed=!0,new Promise((e,t)=>{const r=()=>{this.destroy(),e(!0)};r.kill=t,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};It(g1,"ownDefaults",S_);const C_=["touchstart","touchmove","touchend"],T_=n=>{const e=lw(n.target),t=function(r){const s=r.changedTouches;return s&&s[0]?s[0]:r}(n);return new le(t.clientX+e.left,t.clientY+e.top)},Hm=n=>C_.includes(n.type)||n.pointerType==="touch",Ty=n=>{n.preventDefault(),n.stopPropagation()},_a=n=>{let e=0,t=0,r=0,s=0;for(let i=0,o=n.length;i<o;i++){const{x:l,y:u}=n[i];(l>r||!i)&&(r=l),(l<e||!i)&&(e=l),(u>s||!i)&&(s=u),(u<t||!i)&&(t=u)}return{left:e,top:t,width:r-e,height:s-t}},A_=["translateX","translateY","scaleX","scaleY"],M_=(n,e)=>Yd(n,Ti(e,n.calcOwnMatrix())),Yd=(n,e)=>{const t=Xd(e),{translateX:r,translateY:s,scaleX:i,scaleY:o}=t,l=Cn(t,A_),u=new le(r,s);n.flipX=!1,n.flipY=!1,Object.assign(n,l),n.set({scaleX:i,scaleY:o}),n.setPositionByOrigin(u,Ur,Ur)},j_=n=>{n.scaleX=1,n.scaleY=1,n.skewX=0,n.skewY=0,n.flipX=!1,n.flipY=!1,n.rotate(0)},dw=n=>({scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,angle:n.angle,left:n.left,flipX:n.flipX,flipY:n.flipY,top:n.top}),y1=(n,e,t)=>{const r=n/2,s=e/2,i=[new le(-r,-s),new le(r,-s),new le(-r,s),new le(r,s)].map(l=>l.transform(t)),o=_a(i);return new le(o.width,o.height)},Cp=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ts;return Ti(ko(arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts),n)},Zu=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ts;return n.transform(Cp(e,t))},E_=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ts,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ts;return n.transform(Cp(e,t),!0)},N_=(n,e,t)=>{const r=Cp(e,t);return Yd(n,Ti(r,n.calcOwnMatrix())),r},pw=(n,e)=>{var t;const{transform:{target:r}}=e;(t=r.canvas)===null||t===void 0||t.fire("object:".concat(n),Ft(Ft({},e),{},{target:r})),r.fire(n,e)},O_={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Qn=n=>typeof n=="string"?O_[n]:n-.5,Gd="not-allowed";function mw(n){return Qn(n.originX)===Qn(Ur)&&Qn(n.originY)===Qn(Ur)}function Ay(n){return .5-Qn(n)}const Mo=(n,e)=>n[e],gw=(n,e,t,r)=>({e:n,transform:e,pointer:new le(t,r)});function yw(n,e){const t=n.getTotalAngle()+Na(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function b1(n,e,t,r,s){var i;let{target:o,corner:l}=n;const u=o.controls[l],a=((i=o.canvas)===null||i===void 0?void 0:i.getZoom())||1,c=o.padding/a,d=function(f,h,p,y){const m=f.getRelativeCenterPoint(),g=p!==void 0&&y!==void 0?f.translateToGivenOrigin(m,Ur,Ur,p,y):new le(f.left,f.top);return(f.angle?h.rotate(-Xn(f.angle),m):h).subtract(g)}(o,new le(r,s),e,t);return d.x>=c&&(d.x-=c),d.x<=-c&&(d.x+=c),d.y>=c&&(d.y-=c),d.y<=c&&(d.y+=c),d.x-=u.offsetX,d.y-=u.offsetY,d}const P_=(n,e,t,r)=>{const{target:s,offsetX:i,offsetY:o}=e,l=t-i,u=r-o,a=!Mo(s,"lockMovementX")&&s.left!==l,c=!Mo(s,"lockMovementY")&&s.top!==u;return a&&s.set(tn,l),c&&s.set(ms,u),(a||c)&&pw(Z5,gw(n,e,t,r)),a||c},Kd=n=>n.replace(/\s+/g," "),My={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},C0=(n,e,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n),jy=(n,e,t,r)=>{n/=255,e/=255,t/=255;const s=Math.max(n,e,t),i=Math.min(n,e,t);let o,l;const u=(s+i)/2;if(s===i)o=l=0;else{const a=s-i;switch(l=u>.5?a/(2-s-i):a/(s+i),s){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4}o/=6}return[Math.round(360*o),Math.round(100*l),Math.round(100*u),r]},Ey=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(n)/(n.endsWith("%")?100:1)},wf=n=>Math.min(Math.round(n),255).toString(16).toUpperCase().padStart(2,"0"),Ny=n=>{let[e,t,r,s=1]=n;const i=Math.round(.3*e+.59*t+.11*r);return[i,i,i,s]};class an{constructor(e){if(It(this,"isUnrecognised",!1),e)if(e instanceof an)this.setSource([...e._source]);else if(Array.isArray(e)){const[t,r,s,i=1]=e;this.setSource([t,r,s,i])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in My&&(e=My[e]),e==="transparent"?[255,255,255,0]:an.sourceFromHex(e)||an.sourceFromRgb(e)||an.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,t,r]=this.getSource();return"rgb(".concat(e,",").concat(t,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,t,r]=jy(...this.getSource());return"hsl(".concat(e,",").concat(t,"%,").concat(r,"%)")}toHsla(){const[e,t,r,s]=jy(...this.getSource());return"hsla(".concat(e,",").concat(t,"%,").concat(r,"%,").concat(s,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,t,r,s]=this.getSource();return"".concat(wf(e)).concat(wf(t)).concat(wf(r)).concat(wf(Math.round(255*s)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(Ny(this.getSource())),this}toBlackWhite(e){const[t,,,r]=Ny(this.getSource()),s=t<(e||127)?0:255;return this.setSource([s,s,s,r]),this}overlayWith(e){e instanceof an||(e=new an(e));const t=this.getSource(),r=e.getSource(),[s,i,o]=t.map((l,u)=>Math.round(.5*l+.5*r[u]));return this.setSource([s,i,o,t[3]]),this}static fromRgb(e){return an.fromRgba(e)}static fromRgba(e){return new an(an.sourceFromRgb(e))}static sourceFromRgb(e){const t=Kd(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(t){const[r,s,i]=t.slice(1,4).map(o=>{const l=parseFloat(o);return o.endsWith("%")?Math.round(2.55*l):l});return[r,s,i,Ey(t[4])]}}static fromHsl(e){return an.fromHsla(e)}static fromHsla(e){return new an(an.sourceFromHsl(e))}static sourceFromHsl(e){const t=Kd(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!t)return;const r=(an.parseAngletoDegrees(t[1])%360+360)%360/360,s=parseFloat(t[2])/100,i=parseFloat(t[3])/100;let o,l,u;if(s===0)o=l=u=i;else{const a=i<=.5?i*(s+1):i+s-i*s,c=2*i-a;o=C0(c,a,r+1/3),l=C0(c,a,r),u=C0(c,a,r-1/3)}return[Math.round(255*o),Math.round(255*l),Math.round(255*u),Ey(t[4])]}static fromHex(e){return new an(an.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const t=e.slice(e.indexOf("#")+1);let r;r=t.length<=4?t.split("").map(u=>u+u):t.match(/.{2}/g);const[s,i,o,l=255]=r.map(u=>parseInt(u,16));return[s,i,o,l/255]}}static parseAngletoDegrees(e){const t=e.toLowerCase(),r=parseFloat(t);return t.includes("rad")?Na(r):t.includes("turn")?360*r:r}}const Ju=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u1;const t=/\D{0,2}$/.exec(n),r=parseFloat(n),s=Zr.DPI;switch(t==null?void 0:t[0]){case"mm":return r*s/25.4;case"cm":return r*s/2.54;case"in":return r*s;case"pt":return r*s/72;case"pc":return r*s/72*12;case"em":return r*e;default:return r}},L_=n=>{const[e,t]=n.trim().split(" "),[r,s]=(i=e)&&i!==gs?[i.slice(1,4),i.slice(5,8)]:i===gs?[i,i]:["Mid","Mid"];var i;return{meetOrSlice:t||"meet",alignX:r,alignY:s}},Ah=function(n,e){let t,r,s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)t="url(#SVGID_".concat(e.id,")");else{const i=new an(e),o=i.getAlpha();t=i.toRgb(),o!==1&&(r=o.toString())}else t="none";return s?"".concat(n,": ").concat(t,"; ").concat(r?"".concat(n,"-opacity: ").concat(r,"; "):""):"".concat(n,'="').concat(t,'" ').concat(r?"".concat(n,'-opacity="').concat(r,'" '):"")};class bw{getSvgStyles(e){const t=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):gs,i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",a=this.opacity!==void 0?this.opacity:"1",c=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),f=Ah(li,this.fill);return[Ah(ys,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",u,"; ",f,"fill-rule: ",t,"; ","opacity: ",a,";",d,c].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'.concat(Th(r));return"".concat(s).concat(t,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:t,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=s,t?t(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:t,reviver:r,withShadow:s,additionalTransform:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=t?"":'style="'.concat(this.getSvgStyles(),'" '),l=s?'style="'.concat(this.getSvgFilter(),'" '):"",u=this.clipPath,a=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=u&&u.absolutePositioned,d=this.stroke,f=this.fill,h=this.shadow,p=[],y=e.indexOf("COMMON_PARTS");let m;u&&(u.clipPathId="CLIPPATH_".concat(_l()),m='<clipPath id="'.concat(u.clipPathId,`" >
`).concat(u.toClipPathSVG(r),`</clipPath>
`)),c&&p.push("<g ",l,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),c?"":l+this.getSvgCommons(),` >
`);const g=[o,a,t?"":this.addPaintOrder()," ",i?'transform="'.concat(i,'" '):""].join("");return e[y]=g,Gs(f)&&p.push(f.toSVG(this)),Gs(d)&&p.push(d.toSVG(this)),h&&p.push(h.toSVG(this)),u&&p.push(m),p.push(e.join("")),p.push(`</g>
`),c&&p.push(`</g>
`),r?r(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==li?' paint-order="'.concat(this.paintFirst,'" '):""}}function Tp(n){return new RegExp("^("+n.join("|")+")\\b","i")}const au="textDecorationThickness",vw=["fontSize","fontWeight","fontFamily","fontStyle"],ww=["underline","overline","linethrough"],xw=[...vw,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_w=[...xw,...ww,"textBackgroundColor","direction",au],R_=[...vw,...ww,ys,"strokeWidth",li,"deltaY","textBackgroundColor",au],D_={_reNewline:c1,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:tn,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:tn,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[au]:66.667},qo="justify",Zd="justify-left",rh="justify-right",nh="justify-center";var Oy,Py,Ly;const Co=String.raw(Oy||(Oy=Go(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),T0=String.raw(Py||(Py=Go(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),I_=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Co+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Co+"))?\\s+(.*)"),F_={cx:tn,x:tn,r:"radius",cy:ms,y:ms,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":au},A0="font-size",M0="clip-path";Tp(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);Tp(["symbol","image","marker","pattern","view","svg"]);const Ry=Tp(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(Ly||(Ly=Go(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Co,T0,Co,T0,Co,T0,Co));const B_=new le(1,0),Sw=new le,kw=(n,e)=>n.rotate(e),Wm=(n,e)=>new le(e).subtract(n),Vm=n=>n.distanceFrom(Sw),Xm=(n,e)=>Math.atan2(ih(n,e),U_(n,e)),z_=n=>Xm(B_,n),v1=n=>n.eq(Sw)?n:n.scalarDivide(Vm(n)),Cw=function(n){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return v1(new le(-n.y,n.x).scalarMultiply(e?1:-1))},ih=(n,e)=>n.x*e.y-n.y*e.x,U_=(n,e)=>n.x*e.x+n.y*e.y,Dy=(n,e,t)=>{if(n.eq(e)||n.eq(t))return!0;const r=ih(e,t),s=ih(e,n),i=ih(t,n);return r>=0?s>=0&&i<=0:!(s<=0&&i>=0)},Iy="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Fy=new RegExp("(?:\\s|^)"+Iy+Iy+"("+Co+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Sa{constructor(e){const t=typeof e=="string"?Sa.parseShadow(e):e;Object.assign(this,Sa.ownDefaults,t),this.id=_l()}static parseShadow(e){const t=e.trim(),[,r=0,s=0,i=0]=(Fy.exec(t)||[]).map(o=>parseFloat(o)||0);return{color:(t.replace(Fy,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:s,blur:i}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const t=kw(new le(this.offsetX,this.offsetY),Xn(-e.angle)),r=new an(this.color);let s=40,i=40;return e.width&&e.height&&(s=100*vn((Math.abs(t.x)+this.blur)/e.width,Zr.NUM_FRACTION_DIGITS)+20,i=100*vn((Math.abs(t.y)+this.blur)/e.height,Zr.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(s,'%" width="').concat(100+2*s,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(vn(this.blur?this.blur/2:0,Zr.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(vn(t.x,Zr.NUM_FRACTION_DIGITS),'" dy="').concat(vn(t.y,Zr.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},t=Sa.ownDefaults;return this.includeDefaultValues?e:m1(e,(r,s)=>r!==t[s])}static async fromObject(e){return new this(e)}}It(Sa,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),It(Sa,"type","shadow"),nr.setClass(Sa,"shadow");const hc=(n,e,t)=>Math.max(n,Math.min(e,t)),q_=[ms,tn,bs,ro,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",gc,yc],Pa=[li,ys,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],$_={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:tn,originY:ms,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:li,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},H_=(n,e,t,r)=>-t*Math.cos(n/r*Dh)+t+e,W_=()=>!1;class w1{constructor(e){let{startValue:t,byValue:r,duration:s=500,delay:i=0,easing:o=H_,onStart:l=ld,onChange:u=ld,onComplete:a=ld,abort:c=W_,target:d}=e;It(this,"_state","pending"),It(this,"durationProgress",0),It(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=s,this.delay=i,this.easing=o,this._onStart=l,this._onChange=u,this._onComplete=a,this._abort=c,this.target=d,this.startValue=t,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=t=>{this._state==="pending"&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>cd(e),this.delay):cd(e)}tick(e){const t=(e||+new Date)-this.startTime,r=Math.min(t,this.duration);this.durationProgress=r/this.duration;const{value:s,valueProgress:i}=this.calculate(r);this.value=Object.freeze(s),this.valueProgress=i,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),cd(this.tick)))}register(){Vd.push(this)}unregister(){Vd.remove(this)}abort(){this._state="aborted",this.unregister()}}const V_=["startValue","endValue"];class X_ extends w1{constructor(e){let{startValue:t=0,endValue:r=100}=e;super(Ft(Ft({},Cn(e,V_)),{},{startValue:t,byValue:r-t}))}calculate(e){const t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}const Y_=["startValue","endValue"];class G_ extends w1{constructor(e){let{startValue:t=[0],endValue:r=[100]}=e;super(Ft(Ft({},Cn(e,Y_)),{},{startValue:t,byValue:r.map((s,i)=>s-t[i])}))}calculate(e){const t=this.startValue.map((r,s)=>this.easing(e,r,this.byValue[s],this.duration,s));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}const K_=["startValue","endValue","easing","onChange","onComplete","abort"],Z_=(n,e,t,r)=>e+t*(1-Math.cos(n/r*Dh)),j0=n=>n&&((e,t,r)=>n(new an(e).toRgba(),t,r));class J_ extends w1{constructor(e){let{startValue:t,endValue:r,easing:s=Z_,onChange:i,onComplete:o,abort:l}=e,u=Cn(e,K_);const a=new an(t).getSource(),c=new an(r).getSource();super(Ft(Ft({},u),{},{startValue:a,byValue:c.map((d,f)=>d-a[f]),easing:s,onChange:j0(i),onComplete:j0(o),abort:j0(l)}))}calculate(e){const[t,r,s,i]=this.startValue.map((l,u)=>this.easing(e,l,this.byValue[u],this.duration,u)),o=[...[t,r,s].map(Math.round),hc(0,i,1)];return{value:o,valueProgress:o.map((l,u)=>this.byValue[u]!==0?Math.abs((l-this.startValue[u])/this.byValue[u]):0).find(l=>l!==0)||0}}}function Tw(n){const e=(t=>Array.isArray(t.startValue)||Array.isArray(t.endValue))(n)?new G_(n):new X_(n);return e.start(),e}function Q_(n){const e=new J_(n);return e.start(),e}class jn{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.points=this.points.concat(t.filter(s=>!this.includes(s))),this}static isPointContained(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(t.eq(r))return e.eq(t);if(t.x===r.x)return e.x===t.x&&(s||e.y>=Math.min(t.y,r.y)&&e.y<=Math.max(t.y,r.y));if(t.y===r.y)return e.y===t.y&&(s||e.x>=Math.min(t.x,r.x)&&e.x<=Math.max(t.x,r.x));{const i=Wm(t,r),o=Wm(t,e).divide(i);return s?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,t){const r=new le(e).setX(Math.min(e.x-1,...t.map(i=>i.x)));let s=0;for(let i=0;i<t.length;i++){const o=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,r);if(o.includes(e))return!0;s+=+(o.status==="Intersection")}return s%2==1}static intersectLineLine(e,t,r,s){let i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const l=t.x-e.x,u=t.y-e.y,a=s.x-r.x,c=s.y-r.y,d=e.x-r.x,f=e.y-r.y,h=a*f-c*d,p=l*f-u*d,y=c*l-a*u;if(y!==0){const m=h/y,g=p/y;return(i||0<=m&&m<=1)&&(o||0<=g&&g<=1)?new jn("Intersection").append(new le(e.x+m*l,e.y+m*u)):new jn}if(h===0||p===0){const m=i||o||jn.isPointContained(e,r,s)||jn.isPointContained(t,r,s)||jn.isPointContained(r,e,t)||jn.isPointContained(s,e,t);return new jn(m?"Coincident":void 0)}return new jn("Parallel")}static intersectSegmentLine(e,t,r,s){return jn.intersectLineLine(e,t,r,s,!1,!0)}static intersectSegmentSegment(e,t,r,s){return jn.intersectLineLine(e,t,r,s,!1,!1)}static intersectLinePolygon(e,t,r){let s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const i=new jn,o=r.length;for(let l,u,a,c=0;c<o;c++){if(l=r[c],u=r[(c+1)%o],a=jn.intersectLineLine(e,t,l,u,s,!1),a.status==="Coincident")return a;i.append(...a.points)}return i.points.length>0&&(i.status="Intersection"),i}static intersectSegmentPolygon(e,t,r){return jn.intersectLinePolygon(e,t,r,!1)}static intersectPolygonPolygon(e,t){const r=new jn,s=e.length,i=[];for(let o=0;o<s;o++){const l=e[o],u=e[(o+1)%s],a=jn.intersectSegmentPolygon(l,u,t);a.status==="Coincident"?(i.push(a),r.append(l,u)):r.append(...a.points)}return i.length>0&&i.length===e.length?new jn("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,t,r){const s=t.min(r),i=t.max(r),o=new le(i.x,s.y),l=new le(s.x,i.y);return jn.intersectPolygonPolygon(e,[s,o,i,l])}}class t8 extends ew{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?ls(e,this.group.calcTransformMatrix()):e}setXY(e,t,r){this.group&&(e=ls(e,ko(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,r)}getRelativeXY(){return new le(this.left,this.top)}setRelativeXY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,t,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:t,br:r,bl:s}=this.aCoords||(this.aCoords=this.calcACoords()),i=[e,t,r,s];if(this.group){const o=this.group.calcTransformMatrix();return i.map(l=>ls(l,o))}return i}intersectsWithRect(e,t){return jn.intersectPolygonRectangle(this.getCoords(),e,t).status==="Intersection"}intersectsWithObject(e){const t=jn.intersectPolygonPolygon(this.getCoords(),e.getCoords());return t.status==="Intersection"||t.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(e,t){const{left:r,top:s,width:i,height:o}=this.getBoundingRect();return r>=e.x&&r+i<=t.x&&s>=e.y&&s+o<=t.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return jn.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=t.x&&r.x>=e.x&&r.y<=t.y&&r.y>=e.y)||!!this.intersectsWithRect(e,t)||this.containsPoint(e.midPointFrom(t))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:t}=this.canvas.vptCoords;return this.intersectsWithRect(e,t)?!0:this.getCoords().every(r=>(r.x>=t.x||r.x<=e.x)&&(r.y>=t.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(t))}getBoundingRect(){return _a(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(bs,e),this._set(ro,e),this.setCoords()}scaleToWidth(e){const t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}scaleToHeight(e){const t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Na(iw(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||ts.concat()}calcACoords(){const e=bc({angle:this.angle}),{x:t,y:r}=this.getRelativeCenterPoint(),s=Ih(t,r),i=Ti(s,e),o=this._getTransformedDimensions(),l=o.x/2,u=o.y/2;return{tl:ls({x:-l,y:-u},i),tr:ls({x:l,y:-u},i),bl:ls({x:-l,y:u},i),br:ls({x:l,y:u},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Qn(this.originX),Qn(this.originY)),t}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;const r=this.transformMatrixKey(e),s=this.matrixCache;return s&&s.key.every((i,o)=>i===r[o])?s.value:(this.group&&(t=Ti(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:r,value:t},t)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;const r=this.getRelativeCenterPoint(),s={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=__(s);return this.ownMatrixCache={key:e,value:i},i}_getNonTransformedDimensions(){return new le(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Ft({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=t.strokeWidth;let s=r,i=0;this.strokeUniform&&(s=0,i=r);const o=t.width+s,l=t.height+s;let u;return u=t.skewX===0&&t.skewY===0?new le(o*t.scaleX,l*t.scaleY):y1(o,l,Sp(t)),u.scalarAdd(i)}translateToGivenOrigin(e,t,r,s,i){let o=e.x,l=e.y;const u=Qn(s)-Qn(t),a=Qn(i)-Qn(r);if(u||a){const c=this._getTransformedDimensions();o+=u*c.x,l+=a*c.y}return new le(o,l)}translateToCenterPoint(e,t,r){if(t===Ur&&r===Ur)return e;const s=this.translateToGivenOrigin(e,t,r,Ur,Ur);return this.angle?s.rotate(Xn(this.angle),e):s}translateToOriginPoint(e,t,r){const s=this.translateToGivenOrigin(e,Ur,Ur,t,r);return this.angle?s.rotate(Xn(this.angle),e):s}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?ls(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new le(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}setPositionByOrigin(e,t,r){const s=this.translateToCenterPoint(e,t,r),i=this.translateToOriginPoint(s,this.originX,this.originY);this.set({left:i.x,top:i.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),tn,ms)}}const e8=["type"],r8=["extraParam"];let ha=class fd extends t8{static getDefaults(){return fd.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){xl("warn","Setting type has no effect",e)}constructor(e){super(),It(this,"_cacheContext",null),Object.assign(this,fd.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Ea(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const t=e.width,r=e.height,s=Zr.maxCacheSideLimit,i=Zr.minCacheSideLimit;if(t<=s&&r<=s&&t*r<=Zr.perfLimitSizeTotal)return t<i&&(e.width=i),r<i&&(e.height=i),e;const o=t/r,[l,u]=eh.limitDimsByArea(o),a=hc(i,l,s),c=hc(i,u,s);return t>a&&(e.zoomX/=t/a,e.width=a,e.capped=!0),r>c&&(e.zoomY/=r/c,e.height=c,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),r=t.x*e.x/this.scaleX,s=t.y*e.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(s+2),zoomX:e.x,zoomY:e.y,x:r,y:s}}_updateCacheCanvas(){const e=this._cacheCanvas,t=this._cacheContext,{width:r,height:s,zoomX:i,zoomY:o,x:l,y:u}=this._limitCacheSize(this._getCacheCanvasDimensions()),a=r!==e.width||s!==e.height,c=this.zoomX!==i||this.zoomY!==o;if(!e||!t)return!1;if(a||c){r!==e.width||s!==e.height?(e.width=r,e.height=s):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height));const d=l/2,f=u/2;return this.cacheTranslationX=Math.round(e.width/2-d)+d,this.cacheTranslationY=Math.round(e.height/2-f)+f,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(i,o),this.zoomX=i,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!t);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new le(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=Xd(this.calcTransformMatrix());return new le(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const t=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(t*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,t){e!==bs&&e!==ro||(t=this._constrainScale(t)),e===bs&&t<0?(this.flipX=!this.flipX,t*=-1):e==="scaleY"&&t<0?(this.flipY=!this.flipY,t*=-1):e!=="shadow"||!t||t instanceof Sa||(t=new Sa(t));const r=this[e]!==t;return this[e]=t,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:t,zoomY:r,cacheTranslationX:s,cacheTranslationY:i}=this,{width:o,height:l}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:t,zoomY:r,cacheTranslationX:s,cacheTranslationY:i,width:o,height:l,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===ys&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,t,r){e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(r,0,0),e.restore()}drawObject(e,t,r){const s=this.fill,i=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,r),this.fill=s,this.stroke=i}createClipPathLayer(e,t){const r=no(t),s=r.getContext("2d");if(s.translate(t.cacheTranslationX,t.cacheTranslationY),s.scale(t.zoomX,t.zoomY),e._cacheCanvas=r,t.parentClipPaths.forEach(i=>{i.transform(s)}),t.parentClipPaths.push(e),e.absolutePositioned){const i=ko(this.calcTransformMatrix());s.transform(i[0],i[1],i[2],i[3],i[4],i[5])}return e.transform(s),e.drawObject(s,!0,t),r}_drawClipPath(e,t,r){if(!t)return;t._transformDone=!0;const s=this.createClipPathLayer(t,r);this.drawClipPathOnCache(e,t,s)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const t=this._cacheCanvas,r=this._cacheContext;return!(!t||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,t){const r=t.stroke;r&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,Gs(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=t.stroke)}_setFillStyles(e,t){let{fill:r}=t;r&&(Gs(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,t){t&&t.length!==0&&e.setLineDash(t)}_setShadow(e){if(!this.shadow)return;const t=this.shadow,r=this.canvas,s=this.getCanvasRetinaScaling(),[i,,,o]=(r==null?void 0:r.viewportTransform)||ts,l=i*s,u=o*s,a=t.nonScaling?new le(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*Zr.browserShadowBlurConstant*(l+u)*(a.x+a.y)/4,e.shadowOffsetX=t.offsetX*l*a.x,e.shadowOffsetY=t.offsetY*u*a.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,t){if(!Gs(t))return{offsetX:0,offsetY:0};const r=t.gradientTransform||t.patternTransform,s=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return t.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,s,i):e.transform(1,0,0,1,s,i),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:s,offsetY:i}}_renderPaintInOrder(e){this.paintFirst===ys?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,t){var r;const s=this._limitCacheSize(this._getCacheCanvasDimensions()),i=this.getCanvasRetinaScaling(),o=s.x/this.scaleX/i,l=s.y/this.scaleY/i,u=no({width:Math.ceil(o),height:Math.ceil(l)}),a=u.getContext("2d");a&&(a.beginPath(),a.moveTo(0,0),a.lineTo(o,0),a.lineTo(o,l),a.lineTo(0,l),a.closePath(),a.translate(o/2,l/2),a.scale(s.zoomX/this.scaleX/i,s.zoomY/this.scaleY/i),this._applyPatternGradientTransform(a,t),a.fillStyle=t.toLive(e),a.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/s.zoomX,i*this.scaleY/s.zoomY),e.strokeStyle=(r=a.createPattern(u,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new le(this.left+this.width/2,this.top+this.height/2)}clone(e){const t=this.toObject(e);return this.constructor.fromObject(t)}cloneAsImage(e){const t=this.toCanvasElement(e);return new(nr.getClass("image"))(t)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=dw(this),r=this.group,s=this.shadow,i=Math.abs,o=e.enableRetinaScaling?K5():1,l=(e.multiplier||1)*o,u=e.canvasProvider||(b=>new g1(b,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&j_(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&N_(this,this.getViewportTransform()),this.setCoords();const a=Ea(),c=this.getBoundingRect(),d=this.shadow,f=new le;if(d){const b=d.blur,w=d.nonScaling?new le(1,1):this.getObjectScaling();f.x=2*Math.round(i(d.offsetX)+b)*i(w.x),f.y=2*Math.round(i(d.offsetY)+b)*i(w.y)}const h=c.width+f.x,p=c.height+f.y;a.width=Math.ceil(h),a.height=Math.ceil(p);const y=u(a);e.format==="jpeg"&&(y.backgroundColor="#fff"),this.setPositionByOrigin(new le(y.width/2,y.height/2),Ur,Ur);const m=this.canvas;y._objects=[this],this.set("canvas",y),this.setCoords();const g=y.toCanvasElement(l||1,e);return this.set("canvas",m),this.shadow=s,r&&(this.group=r),this.set(t),this.setCoords(),y._objects=[],y.destroy(),g}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return rw(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nw(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.includes(this.constructor.type)||t.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:t,originX:r,originY:s}=this;if(t){const{x:i,y:o}=this.getRelativeCenterPoint();this.originX=Ur,this.originY=Ur,this.left=i,this.top=o}if(this.set("angle",e),t){const{x:i,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,s);this.left=i,this.top=o,this.originX=r,this.originY=s}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Vd.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Yo().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,t){return Object.entries(e).reduce((r,s)=>{let[i,o]=s;return r[i]=this._animate(i,o,t),r},{})}_animate(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.split("."),i=this.constructor.colorProperties.includes(s[s.length-1]),{abort:o,startValue:l,onChange:u,onComplete:a}=r,c=Ft(Ft({},r),{},{target:this,startValue:l!=null?l:s.reduce((d,f)=>d[f],this),endValue:t,abort:o==null?void 0:o.bind(this),onChange:(d,f,h)=>{s.reduce((p,y,m)=>(m===s.length-1&&(p[y]=d),p[y]),this),u&&u(d,f,h)},onComplete:(d,f,h)=>{this.setCoords(),a&&a(d,f,h)}});return i?Q_(c):Tw(c)}isDescendantOf(e){const{parent:t,group:r}=this;return t===e||r===e||!!t&&t.isDescendantOf(e)||!!r&&r!==t&&r.isDescendantOf(e)}getAncestors(){const e=[];let t=this;do t=t.parent,t&&e.push(t);while(t);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const t=this.getAncestors(),r=e.getAncestors();if(t.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let s,i=0;i<t.length;i++){if(s=t[i],s===e)return{fork:[this,...t.slice(0,i)],otherFork:[],common:t.slice(i)};for(let o=0;o<r.length;o++){if(this===r[o])return{fork:[],otherFork:[e,...r.slice(0,o)],common:[this,...t]};if(s===r[o])return{fork:[this,...t.slice(0,i)],otherFork:[e,...r.slice(0,o)],common:t.slice(i)}}}return{fork:[this,...t],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const t=this.findCommonAncestors(e);return t&&!!t.common.length}isInFrontOf(e){if(this===e)return;const t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;const r=t.common[0]||this.canvas;if(!r)return;const s=t.fork.pop(),i=t.otherFork.pop(),o=r._objects.indexOf(s),l=r._objects.indexOf(i);return o>-1&&o>l}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(fd.customProperties,this.constructor.customProperties||[]);let t;const r=Zr.NUM_FRACTION_DIGITS,{clipPath:s,fill:i,stroke:o,shadow:l,strokeDashArray:u,left:a,top:c,originX:d,originY:f,width:h,height:p,strokeWidth:y,strokeLineCap:m,strokeDashOffset:g,strokeLineJoin:b,strokeUniform:w,strokeMiterLimit:C,scaleX:j,scaleY:I,angle:q,flipX:P,flipY:U,opacity:W,visible:z,backgroundColor:R,fillRule:T,paintFirst:E,globalCompositeOperation:k,skewX:v,skewY:_}=this;s&&!s.excludeFromExport&&(t=s.toObject(e.concat("inverted","absolutePositioned")));const x=A=>vn(A,r),S=Ft(Ft({},vc(this,e)),{},{type:this.constructor.type,version:Um,originX:d,originY:f,left:x(a),top:x(c),width:x(h),height:x(p),fill:Sy(i)?i.toObject():i,stroke:Sy(o)?o.toObject():o,strokeWidth:x(y),strokeDashArray:u&&u.concat(),strokeLineCap:m,strokeDashOffset:g,strokeLineJoin:b,strokeUniform:w,strokeMiterLimit:x(C),scaleX:x(j),scaleY:x(I),angle:x(q),flipX:P,flipY:U,opacity:x(W),shadow:l&&l.toObject(),visible:z,backgroundColor:R,fillRule:T,paintFirst:E,globalCompositeOperation:k,skewX:x(v),skewY:x(_)},t?{clipPath:t}:null);return this.includeDefaultValues?S:this._removeDefaultValues(S)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const t=this.constructor.getDefaults(),r=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return m1(e,(s,i)=>{if(i===tn||i===ms||i==="type")return!0;const o=r[i];return s!==o&&!(Array.isArray(s)&&Array.isArray(o)&&s.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let t=Cn(e,e8),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:s}=r,i=Cn(r,r8);return kp(t,i).then(o=>s?(delete o[s],new this(t[s],o)):new this(o))}static fromObject(e,t){return this._fromObject(e,t)}};It(ha,"stateProperties",q_),It(ha,"cacheProperties",Pa),It(ha,"ownDefaults",$_),It(ha,"type","FabricObject"),It(ha,"colorProperties",[li,ys,"backgroundColor"]),It(ha,"customProperties",[]),nr.setClass(ha),nr.setClass(ha,"object");const wc=(n,e,t)=>(r,s,i,o)=>{const l=e(r,s,i,o);return l&&pw(n,Ft(Ft({},gw(r,s,i,o)),t)),l};function xc(n){return(e,t,r,s)=>{const{target:i,originX:o,originY:l}=t,u=i.getRelativeCenterPoint(),a=i.translateToOriginPoint(u,o,l),c=n(e,t,r,s);return i.setPositionByOrigin(a,t.originX,t.originY),c}}const By=wc(kh,xc((n,e,t,r)=>{const s=b1(e,e.originX,e.originY,t,r);if(Qn(e.originX)===Qn(Ur)||Qn(e.originX)===Qn(qn)&&s.x<0||Qn(e.originX)===Qn(tn)&&s.x>0){const{target:i}=e,o=i.strokeWidth/(i.strokeUniform?i.scaleX:1),l=mw(e)?2:1,u=i.width,a=Math.abs(s.x*l/i.scaleX)-o;return i.set("width",Math.max(a,1)),u!==i.width}return!1}));function n8(n,e,t,r,s){r=r||{};const i=this.sizeX||r.cornerSize||s.cornerSize,o=this.sizeY||r.cornerSize||s.cornerSize,l=r.transparentCorners!==void 0?r.transparentCorners:s.transparentCorners,u=l?ys:li,a=!l&&(r.cornerStrokeColor||s.cornerStrokeColor);let c,d=e,f=t;n.save(),n.fillStyle=r.cornerColor||s.cornerColor||"",n.strokeStyle=r.cornerStrokeColor||s.cornerStrokeColor||"",i>o?(c=i,n.scale(1,o/i),f=t*i/o):o>i?(c=o,n.scale(i/o,1),d=e*o/i):c=i,n.beginPath(),n.arc(d,f,c/2,0,$d,!1),n[u](),a&&n.stroke(),n.restore()}function i8(n,e,t,r,s){r=r||{};const i=this.sizeX||r.cornerSize||s.cornerSize,o=this.sizeY||r.cornerSize||s.cornerSize,l=r.transparentCorners!==void 0?r.transparentCorners:s.transparentCorners,u=l?ys:li,a=!l&&(r.cornerStrokeColor||s.cornerStrokeColor),c=i/2,d=o/2;n.save(),n.fillStyle=r.cornerColor||s.cornerColor||"",n.strokeStyle=r.cornerStrokeColor||s.cornerStrokeColor||"",n.translate(e,t);const f=s.getTotalAngle();n.rotate(Xn(f)),n["".concat(u,"Rect")](-c,-d,i,o),a&&n.strokeRect(-c,-d,i,o),n.restore()}class yo{constructor(e){It(this,"visible",!0),It(this,"actionName",_p),It(this,"angle",0),It(this,"x",0),It(this,"y",0),It(this,"offsetX",0),It(this,"offsetY",0),It(this,"sizeX",0),It(this,"sizeY",0),It(this,"touchSizeX",0),It(this,"touchSizeY",0),It(this,"cursorStyle","crosshair"),It(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,t,r,s){var i;let{tl:o,tr:l,br:u,bl:a}=s;return((i=t.canvas)===null||i===void 0?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&jn.isPointInPolygon(r,[o,l,u,a])}getActionHandler(e,t,r){return this.actionHandler}getMouseDownHandler(e,t,r){return this.mouseDownHandler}getMouseUpHandler(e,t,r){return this.mouseUpHandler}cursorStyleHandler(e,t,r){return t.cursorStyle}getActionName(e,t,r){return t.actionName}getVisibility(e,t){var r,s;return(r=(s=e._controlsVisibility)===null||s===void 0?void 0:s[t])!==null&&r!==void 0?r:this.visible}setVisibility(e,t,r){this.visible=e}positionHandler(e,t,r,s){return new le(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}calcCornerCoords(e,t,r,s,i,o){const l=d1([Ih(r,s),bc({angle:e}),p1((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new le(-.5,-.5).transform(l),tr:new le(.5,-.5).transform(l),br:new le(.5,.5).transform(l),bl:new le(-.5,.5).transform(l)}}render(e,t,r,s,i){((s=s||{}).cornerStyle||i.cornerStyle)==="circle"?n8.call(this,e,t,r,s,i):i8.call(this,e,t,r,s,i)}}const s8=(n,e,t)=>t.lockRotation?Gd:e.cursorStyle,o8=wc(J5,xc((n,e,t,r)=>{let{target:s,ex:i,ey:o,theta:l,originX:u,originY:a}=e;const c=s.translateToOriginPoint(s.getRelativeCenterPoint(),u,a);if(Mo(s,"lockRotation"))return!1;const d=Math.atan2(o-c.y,i-c.x),f=Math.atan2(r-c.y,t-c.x);let h=Na(f-d+l);if(s.snapAngle&&s.snapAngle>0){const y=s.snapAngle,m=s.snapThreshold||y,g=Math.ceil(h/y)*y,b=Math.floor(h/y)*y;Math.abs(h-b)<m?h=b:Math.abs(h-g)<m&&(h=g)}h<0&&(h=360+h),h%=360;const p=s.angle!==h;return s.angle=h,p}));function Aw(n,e){const t=e.canvas,r=n[t.uniScaleKey];return t.uniformScaling&&!r||!t.uniformScaling&&r}function Mw(n,e,t){const r=Mo(n,"lockScalingX"),s=Mo(n,"lockScalingY");if(r&&s||!e&&(r||s)&&t||r&&e==="x"||s&&e==="y")return!0;const{width:i,height:o,strokeWidth:l}=n;return i===0&&l===0&&e!=="y"||o===0&&l===0&&e!=="x"}const a8=["e","se","s","sw","w","nw","n","ne","e"],Wc=(n,e,t)=>{const r=Aw(n,t);if(Mw(t,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return Gd;const s=yw(t,e);return"".concat(a8[s],"-resize")};function x1(n,e,t,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=e.target,o=s.by,l=Aw(n,i);let u,a,c,d,f,h;if(Mw(i,o,l))return!1;if(e.gestureScale)a=e.scaleX*e.gestureScale,c=e.scaleY*e.gestureScale;else{if(u=b1(e,e.originX,e.originY,t,r),f=o!=="y"?Math.sign(u.x||e.signX||1):1,h=o!=="x"?Math.sign(u.y||e.signY||1):1,e.signX||(e.signX=f),e.signY||(e.signY=h),Mo(i,"lockScalingFlip")&&(e.signX!==f||e.signY!==h))return!1;if(d=i._getTransformedDimensions(),l&&!o){const m=Math.abs(u.x)+Math.abs(u.y),{original:g}=e,b=m/(Math.abs(d.x*g.scaleX/i.scaleX)+Math.abs(d.y*g.scaleY/i.scaleY));a=g.scaleX*b,c=g.scaleY*b}else a=Math.abs(u.x*i.scaleX/d.x),c=Math.abs(u.y*i.scaleY/d.y);mw(e)&&(a*=2,c*=2),e.signX!==f&&o!=="y"&&(e.originX=Ay(e.originX),a*=-1,e.signX=f),e.signY!==h&&o!=="x"&&(e.originY=Ay(e.originY),c*=-1,e.signY=h)}const p=i.scaleX,y=i.scaleY;return o?(o==="x"&&i.set(bs,a),o==="y"&&i.set(ro,c)):(!Mo(i,"lockScalingX")&&i.set(bs,a),!Mo(i,"lockScalingY")&&i.set(ro,c)),p!==i.scaleX||y!==i.scaleY}const xf=wc(xp,xc((n,e,t,r)=>x1(n,e,t,r))),l8=wc(xp,xc((n,e,t,r)=>x1(n,e,t,r,{by:"x"}))),u8=wc(xp,xc((n,e,t,r)=>x1(n,e,t,r,{by:"y"}))),c8=["target","ex","ey","skewingSide"],E0={x:{counterAxis:"y",scale:bs,skew:gc,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:ro,skew:yc,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},h8=["ns","nesw","ew","nwse"],f8=(n,e,t)=>{if(e.x!==0&&Mo(t,"lockSkewingY")||e.y!==0&&Mo(t,"lockSkewingX"))return Gd;const r=yw(t,e)%4;return"".concat(h8[r],"-resize")};function jw(n,e,t,r,s){const{target:i}=t,{counterAxis:o,origin:l,lockSkewing:u,skew:a,flip:c}=E0[n];if(Mo(i,u))return!1;const{origin:d,flip:f}=E0[o],h=Qn(t[d])*(i[f]?-1:1),p=-Math.sign(h)*(i[c]?-1:1),y=.5*-((i[a]===0&&b1(t,Ur,Ur,r,s)[n]>0||i[a]>0?1:-1)*p)+.5;return wc(Q5,xc((g,b,w,C)=>function(j,I,q){let{target:P,ex:U,ey:W,skewingSide:z}=I,R=Cn(I,c8);const{skew:T}=E0[j],E=q.subtract(new le(U,W)).divide(new le(P.scaleX,P.scaleY))[j],k=P[T],v=R[T],_=Math.tan(Xn(v)),x=j==="y"?P._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:P._getTransformedDimensions({scaleX:1,scaleY:1}).y,S=2*E*z/Math.max(x,1)+_,A=Na(Math.atan(S));P.set(T,A);const B=k!==P[T];if(B&&j==="y"){const{skewX:M,scaleX:H}=P,V=P._getTransformedDimensions({skewY:k}),tt=P._getTransformedDimensions(),F=M!==0?V.x/tt.x:1;F!==1&&P.set(bs,F*H)}return B}(n,b,new le(w,C))))(e,Ft(Ft({},t),{},{[l]:y,skewingSide:p}),r,s)}const d8=(n,e,t,r)=>jw("x",n,e,t,r),p8=(n,e,t,r)=>jw("y",n,e,t,r);function Ap(n,e){return n[e.canvas.altActionKey]}const _f=(n,e,t)=>{const r=Ap(n,t);return e.x===0?r?gc:ro:e.y===0?r?yc:bs:""},Uu=(n,e,t)=>Ap(n,t)?f8(0,e,t):Wc(n,e,t),zy=(n,e,t,r)=>Ap(n,e.target)?p8(n,e,t,r):l8(n,e,t,r),Uy=(n,e,t,r)=>Ap(n,e.target)?d8(n,e,t,r):u8(n,e,t,r),Ew=()=>({ml:new yo({x:-.5,y:0,cursorStyleHandler:Uu,actionHandler:zy,getActionName:_f}),mr:new yo({x:.5,y:0,cursorStyleHandler:Uu,actionHandler:zy,getActionName:_f}),mb:new yo({x:0,y:.5,cursorStyleHandler:Uu,actionHandler:Uy,getActionName:_f}),mt:new yo({x:0,y:-.5,cursorStyleHandler:Uu,actionHandler:Uy,getActionName:_f}),tl:new yo({x:-.5,y:-.5,cursorStyleHandler:Wc,actionHandler:xf}),tr:new yo({x:.5,y:-.5,cursorStyleHandler:Wc,actionHandler:xf}),bl:new yo({x:-.5,y:.5,cursorStyleHandler:Wc,actionHandler:xf}),br:new yo({x:.5,y:.5,cursorStyleHandler:Wc,actionHandler:xf}),mtr:new yo({x:0,y:-.5,actionHandler:o8,cursorStyleHandler:s8,offsetY:-40,withConnection:!0,actionName:h1})}),m8=()=>({mr:new yo({x:.5,y:0,actionHandler:By,cursorStyleHandler:Uu,actionName:kh}),ml:new yo({x:-.5,y:0,actionHandler:By,cursorStyleHandler:Uu,actionName:kh})}),g8=()=>Ft(Ft({},Ew()),m8());class Mh extends ha{static getDefaults(){return Ft(Ft({},super.getDefaults()),Mh.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Mh.ownDefaults),this.setOptions(e)}static createControls(){return{controls:Ew()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const t=e._currentTransform,r=t.target,s=t.action;if(this===r&&s&&s.startsWith(_p))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let s=r.length-1;s>=0;s--){const[i,o]=r[s],l=this.controls[i];if(l.shouldActivate(i,this,e,t?o.touchCorner:o.corner))return this.__corner=i,{key:i,control:l,coord:this.oCoords[i]}}}calcOCoords(){const e=this.getViewportTransform(),t=this.getCenterPoint(),r=Ih(t.x,t.y),s=bc({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),i=Ti(r,s),o=Ti(e,i),l=Ti(o,[1/e[0],0,0,1/e[3],0,0]),u=this.group?Xd(this.calcTransformMatrix()):void 0;u&&(u.scaleX=Math.abs(u.scaleX),u.scaleY=Math.abs(u.scaleY));const a=this._calculateCurrentDimensions(u),c={};return this.forEachControl((d,f)=>{const h=d.positionHandler(a,l,this,d);c[f]=Object.assign(h,this._calcCornerCoords(d,h))}),c}_calcCornerCoords(e,t){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,t.x,t.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const t in this.controls)e(this.controls[t],t,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const t=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),s=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/s[0],1/s[3]),e.rotate(Xn(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}_drawBorders(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=Ft({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=s.borderColor,this._setLineDash(e,s.borderDashArray),this.strokeBorders(e,t),s.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}_renderControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:s}=this,i=Ft({hasBorders:r,hasControls:s},t),o=this.getViewportTransform(),l=i.hasBorders,u=i.hasControls,a=Ti(o,this.calcTransformMatrix()),c=Xd(a);e.save(),e.translate(c.translateX,c.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(c.angle-=180),e.rotate(Xn(this.group?c.angle:this.angle)),l&&this.drawBorders(e,c,t),u&&this.drawControls(e,t),e.restore()}drawBorders(e,t,r){let s;if(r&&r.forActiveSelection||this.group){const i=y1(this.width,this.height,Sp(t)),o=this.isStrokeAccountedForInDimensions()?f1:(this.strokeUniform?new le().scalarAdd(this.canvas?this.canvas.getZoom():1):new le(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);s=i.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else s=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,s,r)}drawControlsConnectingLines(e,t){let r=!1;e.beginPath(),this.forEachControl((s,i)=>{s.withConnection&&s.getVisibility(this,i)&&(r=!0,e.moveTo(s.x*t.x,s.y*t.y),e.lineTo(s.x*t.x+s.offsetX,s.y*t.y+s.offsetY))}),r&&e.stroke()}drawControls(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:s,cornerDashArray:i,cornerColor:o}=this,l=Ft({cornerStrokeColor:s,cornerDashArray:i,cornerColor:o},t);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=l.cornerColor,this.transparentCorners||(e.strokeStyle=l.cornerStrokeColor),this._setLineDash(e,l.cornerDashArray),this.forEachControl((u,a)=>{if(u.getVisibility(this,a)){const c=this.oCoords[a];u.render(e,c.x,c.y,l,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(t=>{let[r,s]=t;return this.setControlVisible(r,s)})}clearContextTop(e){if(!this.canvas)return;const t=this.canvas.contextTop;if(!t)return;const r=this.canvas.viewportTransform;t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(t);const s=this.width+4,i=this.height+4;return t.clearRect(-s/2,-i/2,s,i),e||t.restore(),t}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function Nw(n,e){return e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(n.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))})}),n}It(Mh,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Hi extends Mh{}Nw(Hi,[bw]),nr.setClass(Hi),nr.setClass(Hi,"object");const y8=(n,e,t,r)=>{const s=2*(r=Math.round(r))+1,{data:i}=n.getImageData(e-r,t-r,s,s);for(let o=3;o<i.length;o+=4)if(i[o]>0)return!1;return!0};class Ow{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new le(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new le(1/this.options.scaleX,1/this.options.scaleY):new le(1,1)}createSideVector(e,t){const r=Wm(e,t);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,t,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const t=new le(e);return t.y+=t.x*Math.tan(Xn(this.options.skewY)),t.x+=t.y*Math.tan(Xn(this.options.skewX)),t}scaleUnitVector(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}const b8=new le;class Qu extends Ow{static getOrthogonalRotationFactor(e,t){const r=t?Xm(e,t):z_(e);return Math.abs(r)<Dh?-1:1}constructor(e,t,r,s){super(s),It(this,"AB",void 0),It(this,"AC",void 0),It(this,"alpha",void 0),It(this,"bisector",void 0),this.A=new le(e),this.B=new le(t),this.C=new le(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Xm(this.AB,this.AC),this.bisector=v1(kw(this.AB.eq(b8)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(e,t),i=Cw(s),o=Qu.getOrthogonalRotationFactor(i,this.bisector);return this.scaleUnitVector(i,r*o)}projectBevel(){const e=[];return(this.alpha%$d==0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],t=Math.abs(this.alpha),r=1/Math.sin(t/2),s=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),i=this.options.strokeUniform?Vm(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Vm(s)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(s))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,t){const r=[],s=new le(Qu.getOrthogonalRotationFactor(this.bisector),Qu.getOrthogonalRotationFactor(new le(this.bisector.y,this.bisector.x)));return[new le(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s),new le(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(s)].forEach(i=>{Dy(i,e,t)&&r.push(this.A.add(i))}),r}projectRoundWithSkew(e,t){const r=[],{skewX:s,skewY:i,scaleX:o,scaleY:l,strokeUniform:u}=this.options,a=new le(Math.tan(Xn(s)),Math.tan(Xn(i))),c=this.strokeProjectionMagnitude,d=u?c/l/Math.sqrt(1/l**2+1/o**2*a.y**2):c/Math.sqrt(1+a.y**2),f=new le(Math.sqrt(Math.max(c**2-d**2,0)),d),h=u?c/Math.sqrt(1+a.x**2*(1/l)**2/(1/o+1/o*a.x*a.y)**2):c/Math.sqrt(1+a.x**2/(1+a.x*a.y)**2),p=new le(h,Math.sqrt(Math.max(c**2-h**2,0)));return[p,p.scalarMultiply(-1),f,f.scalarMultiply(-1)].map(y=>this.applySkew(u?y.multiply(this.strokeUniformScalar):y)).forEach(y=>{Dy(y,e,t)&&r.push(this.applySkew(this.A).add(y))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const t=this.alpha%$d==0,r=this.applySkew(this.A),s=e[t?0:2].subtract(r),i=e[t?1:0].subtract(r),o=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=ih(s,o)>0,u=l?s:i,a=l?i:s;return this.isSkewed()?e.push(...this.projectRoundWithSkew(u,a)):e.push(...this.projectRoundNoSkew(u,a)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class qy extends Ow{constructor(e,t,r){super(r),this.A=new le(e),this.T=new le(t)}calcOrthogonalProjection(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const s=this.createSideVector(e,t);return this.scaleUnitVector(Cw(s),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const t=new le(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push(...new Qu(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const t=new le(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(t),this.A.subtract(t))}else{const t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(v1(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),s=this.A.add(r);e.push(s.add(t),s.subtract(t))}return e.map(t=>this.applySkew(t))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const v8=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(n.length===0)return r;const s=n.reduce((i,o)=>(i[i.length-1].eq(o)||i.push(new le(o)),i),[new le(n[0])]);if(s.length===1)t=!0;else if(!t){const i=s[0],o=((l,u)=>{for(let a=l.length-1;a>=0;a--)if(u(l[a],a,l))return a;return-1})(s,l=>!l.eq(i));s.splice(o+1)}return s.forEach((i,o,l)=>{let u,a;o===0?(a=l[1],u=t?i:l[l.length-1]):o===l.length-1?(u=l[o-1],a=t?i:l[0]):(u=l[o-1],a=l[o+1]),t&&l.length===1?r.push(...new qy(i,i,e).project()):!t||o!==0&&o!==l.length-1?r.push(...new Qu(i,u,a,e).project()):r.push(...new qy(i,o===0?a:u,e).project())}),r},_1=n=>{const e={};return Object.keys(n).forEach(t=>{e[t]={},Object.keys(n[t]).forEach(r=>{e[t][r]=Ft({},n[t][r])})}),e},w8=n=>n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Ic;const S1=n=>{if(Ic||Ic||(Ic="Intl"in wp()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Ic){const e=Ic.segment(n);return Array.from(e).map(t=>{let{segment:r}=t;return r})}return x8(n)},x8=n=>{const e=[];for(let t,r=0;r<n.length;r++)(t=_8(n,r))!==!1&&e.push(t);return e},_8=(n,e)=>{const t=n.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return n.charAt(e);if(55296<=t&&t<=56319){if(n.length<=e+1)throw"High surrogate without following low surrogate";const s=n.charCodeAt(e+1);if(56320>s||s>57343)throw"High surrogate without following low surrogate";return n.charAt(e)+n.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=n.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},k1=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return n.fill!==e.fill||n.stroke!==e.stroke||n.strokeWidth!==e.strokeWidth||n.fontSize!==e.fontSize||n.fontFamily!==e.fontFamily||n.fontWeight!==e.fontWeight||n.fontStyle!==e.fontStyle||n.textDecorationThickness!==e.textDecorationThickness||n.textBackgroundColor!==e.textBackgroundColor||n.deltaY!==e.deltaY||t&&(n.overline!==e.overline||n.underline!==e.underline||n.linethrough!==e.linethrough)},S8=(n,e)=>{const t=e.split(`
`),r=[];let s=-1,i={};n=_1(n);for(let o=0;o<t.length;o++){const l=S1(t[o]);if(n[o])for(let u=0;u<l.length;u++){s++;const a=n[o][u];a&&Object.keys(a).length>0&&(k1(i,a,!0)?r.push({start:s,end:s+1,style:a}):r[r.length-1].end++),i=a||{}}else s+=l.length,i={}}return r},k8=(n,e)=>{if(!Array.isArray(n))return _1(n);const t=e.split(c1),r={};let s=-1,i=0;for(let o=0;o<t.length;o++){const l=S1(t[o]);for(let u=0;u<l.length;u++)s++,n[i]&&n[i].start<=s&&s<n[i].end&&(r[o]=r[o]||{},r[o][u]=Ft({},n[i].style),s===n[i].end-1&&i++)}return r},Ml=["display","transform",li,"fill-opacity","fill-rule","opacity",ys,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function $y(n,e){const t=n.nodeName,r=n.getAttribute("class"),s=n.getAttribute("id"),i="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+t,"i"),e=e.replace(o,""),s&&e.length&&(o=new RegExp("#"+s+i,"i"),e=e.replace(o,"")),r&&e.length){const l=r.split(" ");for(let u=l.length;u--;)o=new RegExp("\\."+l[u]+i,"i"),e=e.replace(o,"")}return e.length===0}function C8(n,e){let t=!0;const r=$y(n,e.pop());return r&&e.length&&(t=function(s,i){let o,l=!0;for(;s.parentElement&&s.parentElement.nodeType===1&&i.length;)l&&(o=i.pop()),l=$y(s=s.parentElement,o);return i.length===0}(n,e)),r&&t&&e.length===0}const T8=n=>{var e;return(e=F_[n])!==null&&e!==void 0?e:n},A8=new RegExp("(".concat(Co,")"),"gi"),M8=n=>Kd(n.replace(A8," $1 ").replace(/,/gi," "));var Hy,Wy,Vy,Xy,Yy,Gy,Ky;const Ji="(".concat(Co,")"),j8=String.raw(Hy||(Hy=Go(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ji),E8=String.raw(Wy||(Wy=Go(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ji),N8=String.raw(Vy||(Vy=Go(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ji,Ji,Ji),O8=String.raw(Xy||(Xy=Go(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ji,Ji),P8=String.raw(Yy||(Yy=Go(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ji,Ji),L8=String.raw(Gy||(Gy=Go(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ji,Ji,Ji,Ji,Ji,Ji),C1="(?:".concat(L8,"|").concat(P8,"|").concat(N8,"|").concat(O8,"|").concat(j8,"|").concat(E8,")"),R8="(?:".concat(C1,"*)"),D8=String.raw(Ky||(Ky=Go(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),R8),I8=new RegExp(D8),F8=new RegExp(C1),B8=new RegExp(C1,"g");function Ym(n){const e=[];if(!(n=M8(n).replace(/\s*([()])\s*/gi,"$1"))||n&&!I8.test(n))return[...ts];for(const t of n.matchAll(B8)){const r=F8.exec(t[0]);if(!r)continue;let s=ts;const i=r.filter(p=>!!p),[,o,...l]=i,[u,a,c,d,f,h]=l.map(p=>parseFloat(p));switch(o){case"translate":s=Ih(u,a);break;case h1:s=bc({angle:u},{x:a,y:c});break;case _p:s=p1(u,a);break;case gc:s=ow(u);break;case yc:s=aw(u);break;case"matrix":s=[u,a,c,d,f,h]}e.push(s)}return d1(e)}function z8(n,e,t,r){const s=Array.isArray(e);let i,o=e;if(n!==li&&n!==ys||e!==gs){if(n==="strokeUniform")return e==="non-scaling-stroke";if(n==="strokeDashArray")o=e===gs?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(n==="transformMatrix")o=t&&t.transformMatrix?Ti(t.transformMatrix,Ym(e)):Ym(e);else if(n==="visible")o=e!==gs&&e!=="hidden",t&&t.visible===!1&&(o=!1);else if(n==="opacity")o=parseFloat(e),t&&t.opacity!==void 0&&(o*=t.opacity);else if(n==="textAnchor")o=e==="start"?tn:e==="end"?qn:Ur;else if(n==="charSpacing"||n===au)i=Ju(e,r)/r*1e3;else if(n==="paintFirst"){const l=e.indexOf(li),u=e.indexOf(ys);o=li,(l>-1&&u>-1&&u<l||l===-1&&u>-1)&&(o=ys)}else{if(n==="href"||n==="xlink:href"||n==="font"||n==="id")return e;if(n==="imageSmoothing")return e==="optimizeQuality";i=s?e.map(Ju):Ju(e,r)}}else o="";return!s&&isNaN(i)?o:i}function U8(n,e){const t=n.match(I_);if(!t)return;const r=t[1],s=t[3],i=t[4],o=t[5],l=t[6];r&&(e.fontStyle=r),s&&(e.fontWeight=isNaN(parseFloat(s))?s:parseFloat(s)),i&&(e.fontSize=Ju(i)),l&&(e.fontFamily=l),o&&(e.lineHeight=o==="normal"?1:o)}function q8(n,e){n.replace(/;\s*$/,"").split(";").forEach(t=>{if(!t)return;const[r,s]=t.split(":");e[r.trim().toLowerCase()]=s.trim()})}function $8(n){const e={},t=n.getAttribute("style");return t&&(typeof t=="string"?q8(t,e):function(r,s){Object.entries(r).forEach(i=>{let[o,l]=i;l!==void 0&&(s[o.toLowerCase()]=l)})}(t,e)),e}const H8={stroke:"strokeOpacity",fill:"fillOpacity"};function La(n,e,t){if(!n)return{};let r,s={},i=u1;n.parentNode&&Ry.test(n.parentNode.nodeName)&&(s=La(n.parentElement,e,t),s.fontSize&&(r=i=Ju(s.fontSize)));const o=Ft(Ft(Ft({},e.reduce((a,c)=>{const d=n.getAttribute(c);return d&&(a[c]=d),a},{})),function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(const f in c)C8(a,f.split(" "))&&(d=Ft(Ft({},d),c[f]));return d}(n,t)),$8(n));o[M0]&&n.setAttribute(M0,o[M0]),o[A0]&&(r=Ju(o[A0],i),o[A0]="".concat(r));const l={};for(const a in o){const c=T8(a),d=z8(c,o[a],s,r);l[c]=d}l&&l.font&&U8(l.font,l);const u=Ft(Ft({},s),l);return Ry.test(n.nodeName)?u:function(a){const c=Hi.getDefaults();return Object.entries(H8).forEach(d=>{let[f,h]=d;if(a[h]===void 0||a[f]==="")return;if(a[f]===void 0){if(!c[f])return;a[f]=c[f]}if(a[f].indexOf("url(")===0)return;const p=new an(a[f]);a[f]=p.setAlpha(vn(p.getAlpha()*a[h],2)).toRgba()}),a}(u)}const W8=["left","top","width","height","visible"],Pw=["rx","ry"];class ti extends Hi{static getDefaults(){return Ft(Ft({},super.getDefaults()),ti.ownDefaults)}constructor(e){super(),Object.assign(this,ti.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:t}=this;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}_render(e){const{width:t,height:r}=this,s=-t/2,i=-r/2,o=this.rx?Math.min(this.rx,t/2):0,l=this.ry?Math.min(this.ry,r/2):0,u=o!==0||l!==0;e.beginPath(),e.moveTo(s+o,i),e.lineTo(s+t-o,i),u&&e.bezierCurveTo(s+t-tl*o,i,s+t,i+tl*l,s+t,i+l),e.lineTo(s+t,i+r-l),u&&e.bezierCurveTo(s+t,i+r-tl*l,s+t-tl*o,i+r,s+t-o,i+r),e.lineTo(s+o,i+r),u&&e.bezierCurveTo(s+tl*o,i+r,s,i+r-tl*l,s,i+r-l),e.lineTo(s,i+l),u&&e.bezierCurveTo(s,i+tl*l,s+tl*o,i,s+o,i),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Pw,...e])}_toSVG(){const{width:e,height:t,rx:r,ry:s}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(r,'" ry="').concat(s,'" width="').concat(e,'" height="').concat(t,`" />
`)]}static async fromElement(e,t,r){const s=La(e,this.ATTRIBUTE_NAMES,r),{left:i=0,top:o=0,width:l=0,height:u=0,visible:a=!0}=s,c=Cn(s,W8);return new this(Ft(Ft(Ft({},t),c),{},{left:i,top:o,width:l,height:u,visible:!!(a&&l&&u)}))}}It(ti,"type","Rect"),It(ti,"cacheProperties",[...Pa,...Pw]),It(ti,"ownDefaults",{rx:0,ry:0}),It(ti,"ATTRIBUTE_NAMES",[...Ml,"x","y","rx","ry","width","height"]),nr.setClass(ti),nr.setSVGClass(ti);const va="initialization",Jd="added",T1="removed",Qd="imperative",Lw=(n,e)=>{const{strokeUniform:t,strokeWidth:r,width:s,height:i,group:o}=e,l=o&&o!==n?Cp(o.calcTransformMatrix(),n.calcTransformMatrix()):null,u=l?e.getRelativeCenterPoint().transform(l):e.getRelativeCenterPoint(),a=!e.isStrokeAccountedForInDimensions(),c=t&&a?E_(new le(r,r),void 0,n.calcTransformMatrix()):f1,d=!t&&a?r:0,f=y1(s+d,i+d,d1([l,e.calcOwnMatrix()],!0)).add(c).scalarDivide(2);return[u.subtract(f),u.add(f)]};class Mp{calcLayoutResult(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}shouldPerformLayout(e){let{type:t,prevStrategy:r,strategy:s}=e;return t===va||t===Qd||!!r&&s!==r}shouldLayoutClipPath(e){let{type:t,target:{clipPath:r}}=e;return t!==va&&r&&!r.absolutePositioned}getInitialSize(e,t){return t.size}calcBoundingBox(e,t){const{type:r,target:s}=t;if(r===Qd&&t.overrides)return t.overrides;if(e.length===0)return;const{left:i,top:o,width:l,height:u}=_a(e.map(d=>Lw(s,d)).reduce((d,f)=>d.concat(f),[])),a=new le(l,u),c=new le(i,o).add(a.scalarDivide(2));if(r===va){const d=this.getInitialSize(t,{size:a,center:c});return{center:c,relativeCorrection:new le(0,0),size:d}}return{center:c.transform(s.calcOwnMatrix()),size:a}}}It(Mp,"type","strategy");class Gm extends Mp{shouldPerformLayout(e){return!0}}It(Gm,"type","fit-content"),nr.setClass(Gm);const V8=["strategy"],X8=["target","strategy","bubbles","prevStrategy"],Rw="layoutManager";class jh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Gm;It(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const t=Ft(Ft({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(t);const r=this.getLayoutResult(t);r&&this.commitLayout(t,r),this.onAfterLayout(t,r),this._prevLayoutStrategy=t.strategy}attachHandlers(e,t){const{target:r}=t;return[Wd,Z5,kh,J5,xp,Q5,Hd,m_,g_].map(s=>e.on(s,i=>this.performLayout(s===Wd?{type:"object_modified",trigger:s,e:i,target:r}:{type:"object_modifying",trigger:s,e:i,target:r})))}subscribe(e,t){this.unsubscribe(e,t);const r=this.attachHandlers(e,t);this._subscriptions.set(e,r)}unsubscribe(e,t){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(e){const{target:t,type:r}=e,{canvas:s}=t;if(r===va||r===Jd?this.subscribeTargets(e):r===T1&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),s&&s.fire("object:layout:before",{target:t,context:e}),r===Qd&&e.deep){const i=Cn(e,V8);t.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(Ft(Ft({},i),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:t,strategy:r,type:s}=e,i=r.calcLayoutResult(e,t.getObjects());if(!i)return;const o=s===va?new le:t.getRelativeCenterPoint(),{center:l,correction:u=new le,relativeCorrection:a=new le}=i,c=o.subtract(l).add(u).transform(s===va?ts:ko(t.calcOwnMatrix()),!0).add(a);return{result:i,prevCenter:o,nextCenter:l,offset:c}}commitLayout(e,t){const{target:r}=e,{result:{size:s},nextCenter:i}=t;var o,l;r.set({width:s.x,height:s.y}),this.layoutObjects(e,t),e.type===va?r.set({left:(o=e.x)!==null&&o!==void 0?o:i.x+s.x*Qn(r.originX),top:(l=e.y)!==null&&l!==void 0?l:i.y+s.y*Qn(r.originY)}):(r.setPositionByOrigin(i,Ur,Ur),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,t){const{target:r}=e;r.forEachObject(s=>{s.group===r&&this.layoutObject(e,t,s)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,r.clipPath)}layoutObject(e,t,r){let{offset:s}=t;r.set({left:r.left+s.x,top:r.top+s.y})}onAfterLayout(e,t){const{target:r,strategy:s,bubbles:i,prevStrategy:o}=e,l=Cn(e,X8),{canvas:u}=r;r.fire("layout:after",{context:e,result:t}),u&&u.fire("object:layout:after",{context:e,result:t,target:r});const a=r.parent;i&&a!=null&&a.layoutManager&&((l.path||(l.path=[])).push(r),a.layoutManager.performLayout(Ft(Ft({},l),{},{target:a}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(t=>t.forEach(r=>r())),e.clear()}toObject(){return{type:Rw,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}nr.setClass(jh,Rw);const Y8=["type","objects","layoutManager"];class G8 extends jh{performLayout(){}}class Ql extends tw(Hi){static getDefaults(){return Ft(Ft({},super.getDefaults()),Ql.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),It(this,"_activeObjects",[]),It(this,"__objectSelectionTracker",void 0),It(this,"__objectSelectionDisposer",void 0),Object.assign(this,Ql.ownDefaults),this.setOptions(t),this.groupInit(e,t)}groupInit(e,t){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(s=>{this.enterGroup(s,!1)}),this.layoutManager=(r=t.layoutManager)!==null&&r!==void 0?r:new jh,this.layoutManager.performLayout({type:va,target:this,targets:[...e],x:t.left,y:t.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(xl("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(xl("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((t,r,s)=>this.canEnterGroup(t)&&s.indexOf(t)===r)}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const s=this._filterObjectsBeforeEnteringGroup(t),i=super.add(...s);return this._onAfterObjectsChange(Jd,s),i}insertAt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const i=this._filterObjectsBeforeEnteringGroup(r),o=super.insertAt(e,...i);return this._onAfterObjectsChange(Jd,i),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(T1,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,t){const r=this[e];return super._set(e,t),e==="canvas"&&r!==t&&(this._objects||[]).forEach(s=>{s._set(e,t)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,t){let{target:r}=t;const s=this._activeObjects;if(e)s.push(r),this._set("dirty",!0);else if(s.length>0){const i=s.indexOf(r);i>-1&&(s.splice(i,1),this._set("dirty",!0))}}_watchObject(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}_enterGroup(e,t){t&&Yd(e,Ti(ko(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,t){e._set("group",void 0),t||(Yd(e,Ti(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=Hi.prototype.shouldCache.call(this);if(e){for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,t,r){this._renderBackground(e);for(let i=0;i<this._objects.length;i++){var s;const o=this._objects[i];(s=this.canvas)!==null&&s!==void 0&&s.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...ko(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(Ft({target:this,type:Qd},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,t){const r=this.includeDefaultValues;return this._objects.filter(function(s){return!s.excludeFromExport}).map(function(s){const i=s.includeDefaultValues;s.includeDefaultValues=r;const o=s[e||"toObject"](t);return s.includeDefaultValues=i,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.layoutManager.toObject();return Ft(Ft(Ft({},super.toObject(["subTargetCheck","interactive",...e])),t.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const t=ti.prototype._toSVG.call(this),r=t.indexOf("COMMON_PARTS");t[r]='for="group" ';const s=t.join("");return e?e(s):s}_toSVG(e){const t=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&t.push("		",r);for(let s=0;s<this._objects.length;s++)t.push("		",this._objects[s].toSVG(e));return t.push(`</g>
`),t}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}toClipPathSVG(e){const t=[],r=this._createSVGBgRect(e);r&&t.push("	",r);for(let s=0;s<this._objects.length;s++)t.push("	",this._objects[s].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}static fromObject(e,t){let{type:r,objects:s=[],layoutManager:i}=e,o=Cn(e,Y8);return Promise.all([Ch(s,t),kp(o,t)]).then(l=>{let[u,a]=l;const c=new this(u,Ft(Ft(Ft({},o),a),{},{layoutManager:new G8}));if(i){const d=nr.getClass(i.type),f=nr.getClass(i.strategy);c.layoutManager=new d(new f)}else c.layoutManager=new jh;return c.layoutManager.subscribeTargets({type:va,target:c,targets:c.getObjects()}),c.setCoords(),c})}}It(Ql,"type","Group"),It(Ql,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),nr.setClass(Ql);const K8=(n,e)=>Math.min(e.width/n.width,e.height/n.height),Z8=(n,e)=>Math.max(e.width/n.width,e.height/n.height),Km="\\s*,?\\s*",Fc="".concat(Km,"(").concat(Co,")"),J8="".concat(Fc).concat(Fc).concat(Fc).concat(Km,"([01])").concat(Km,"([01])").concat(Fc).concat(Fc),Q8={m:"l",M:"L"},t7=(n,e,t,r,s,i,o,l,u,a,c)=>{const d=Ma(n),f=ja(n),h=Ma(e),p=ja(e),y=t*s*h-r*i*p+o,m=r*s*h+t*i*p+l;return["C",a+u*(-t*s*f-r*i*d),c+u*(-r*s*f+t*i*d),y+u*(t*s*p+r*i*h),m+u*(r*s*p-t*i*h),y,m]},Zy=(n,e,t,r)=>{const s=Math.atan2(e,n),i=Math.atan2(r,t);return i>=s?i-s:2*Math.PI-(s-i)};function Jy(n,e,t,r,s,i,o,l){let u;if(Zr.cachesBoundsOfCurve&&(u=[...arguments].join(),eh.boundsOfCurveCache[u]))return eh.boundsOfCurveCache[u];const a=Math.sqrt,c=Math.abs,d=[],f=[[0,0],[0,0]];let h=6*n-12*t+6*s,p=-3*n+9*t-9*s+3*o,y=3*t-3*n;for(let C=0;C<2;++C){if(C>0&&(h=6*e-12*r+6*i,p=-3*e+9*r-9*i+3*l,y=3*r-3*e),c(p)<1e-12){if(c(h)<1e-12)continue;const U=-y/h;0<U&&U<1&&d.push(U);continue}const j=h*h-4*y*p;if(j<0)continue;const I=a(j),q=(-h+I)/(2*p);0<q&&q<1&&d.push(q);const P=(-h-I)/(2*p);0<P&&P<1&&d.push(P)}let m=d.length;const g=m,b=Dw(n,e,t,r,s,i,o,l);for(;m--;){const{x:C,y:j}=b(d[m]);f[0][m]=C,f[1][m]=j}f[0][g]=n,f[1][g]=e,f[0][g+1]=o,f[1][g+1]=l;const w=[new le(Math.min(...f[0]),Math.min(...f[1])),new le(Math.max(...f[0]),Math.max(...f[1]))];return Zr.cachesBoundsOfCurve&&(eh.boundsOfCurveCache[u]=w),w}const e7=(n,e,t)=>{let[r,s,i,o,l,u,a,c]=t;const d=((f,h,p,y,m,g,b)=>{if(p===0||y===0)return[];let w=0,C=0,j=0;const I=Math.PI,q=b*l1,P=ja(q),U=Ma(q),W=.5*(-U*f-P*h),z=.5*(-U*h+P*f),R=p**2,T=y**2,E=z**2,k=W**2,v=R*T-R*E-T*k;let _=Math.abs(p),x=Math.abs(y);if(v<0){const Y=Math.sqrt(1-v/(R*T));_*=Y,x*=Y}else j=(m===g?-1:1)*Math.sqrt(v/(R*E+T*k));const S=j*_*z/x,A=-j*x*W/_,B=U*S-P*A+.5*f,M=P*S+U*A+.5*h;let H=Zy(1,0,(W-S)/_,(z-A)/x),V=Zy((W-S)/_,(z-A)/x,(-W-S)/_,(-z-A)/x);g===0&&V>0?V-=2*I:g===1&&V<0&&(V+=2*I);const tt=Math.ceil(Math.abs(V/I*2)),F=[],J=V/tt,L=8/3*Math.sin(J/4)*Math.sin(J/4)/Math.sin(J/2);let N=H+J;for(let Y=0;Y<tt;Y++)F[Y]=t7(H,N,U,P,_,x,B,M,L,w,C),w=F[Y][5],C=F[Y][6],H=N,N+=J;return F})(a-n,c-e,s,i,l,u,o);for(let f=0,h=d.length;f<h;f++)d[f][1]+=n,d[f][2]+=e,d[f][3]+=n,d[f][4]+=e,d[f][5]+=n,d[f][6]+=e;return d},r7=n=>{let e=0,t=0,r=0,s=0;const i=[];let o,l=0,u=0;for(const a of n){const c=[...a];let d;switch(c[0]){case"l":c[1]+=e,c[2]+=t;case"L":e=c[1],t=c[2],d=["L",e,t];break;case"h":c[1]+=e;case"H":e=c[1],d=["L",e,t];break;case"v":c[1]+=t;case"V":t=c[1],d=["L",e,t];break;case"m":c[1]+=e,c[2]+=t;case"M":e=c[1],t=c[2],r=c[1],s=c[2],d=["M",e,t];break;case"c":c[1]+=e,c[2]+=t,c[3]+=e,c[4]+=t,c[5]+=e,c[6]+=t;case"C":l=c[3],u=c[4],e=c[5],t=c[6],d=["C",c[1],c[2],l,u,e,t];break;case"s":c[1]+=e,c[2]+=t,c[3]+=e,c[4]+=t;case"S":o==="C"?(l=2*e-l,u=2*t-u):(l=e,u=t),e=c[3],t=c[4],d=["C",l,u,c[1],c[2],e,t],l=d[3],u=d[4];break;case"q":c[1]+=e,c[2]+=t,c[3]+=e,c[4]+=t;case"Q":l=c[1],u=c[2],e=c[3],t=c[4],d=["Q",l,u,e,t];break;case"t":c[1]+=e,c[2]+=t;case"T":o==="Q"?(l=2*e-l,u=2*t-u):(l=e,u=t),e=c[1],t=c[2],d=["Q",l,u,e,t];break;case"a":c[6]+=e,c[7]+=t;case"A":e7(e,t,c).forEach(f=>i.push(f)),e=c[6],t=c[7];break;case"z":case"Z":e=r,t=s,d=["Z"]}d?(i.push(d),o=d[0]):o=""}return i},tp=(n,e,t,r)=>Math.sqrt((t-n)**2+(r-e)**2),Dw=(n,e,t,r,s,i,o,l)=>u=>{const a=u**3,c=(h=>3*h**2*(1-h))(u),d=(h=>3*h*(1-h)**2)(u),f=(h=>(1-h)**3)(u);return new le(o*a+s*c+t*d+n*f,l*a+i*c+r*d+e*f)},Iw=n=>n**2,Fw=n=>2*n*(1-n),Bw=n=>(1-n)**2,n7=(n,e,t,r,s,i,o,l)=>u=>{const a=Iw(u),c=Fw(u),d=Bw(u),f=3*(d*(t-n)+c*(s-t)+a*(o-s)),h=3*(d*(r-e)+c*(i-r)+a*(l-i));return Math.atan2(h,f)},i7=(n,e,t,r,s,i)=>o=>{const l=Iw(o),u=Fw(o),a=Bw(o);return new le(s*l+t*u+n*a,i*l+r*u+e*a)},s7=(n,e,t,r,s,i)=>o=>{const l=1-o,u=2*(l*(t-n)+o*(s-t)),a=2*(l*(r-e)+o*(i-r));return Math.atan2(a,u)},Qy=(n,e,t)=>{let r=new le(e,t),s=0;for(let i=1;i<=100;i+=1){const o=n(i/100);s+=tp(r.x,r.y,o.x,o.y),r=o}return s},o7=(n,e)=>{let t,r=0,s=0,i={x:n.x,y:n.y},o=Ft({},i),l=.01,u=0;const a=n.iterator,c=n.angleFinder;for(;s<e&&l>1e-4;)o=a(r),u=r,t=tp(i.x,i.y,o.x,o.y),t+s>e?(r-=l,l/=2):(i=o,r+=l,s+=t);return Ft(Ft({},o),{},{angle:c(u)})},zw=n=>{let e,t,r=0,s=0,i=0,o=0,l=0;const u=[];for(const a of n){const c={x:s,y:i,command:a[0],length:0};switch(a[0]){case"M":t=c,t.x=o=s=a[1],t.y=l=i=a[2];break;case"L":t=c,t.length=tp(s,i,a[1],a[2]),s=a[1],i=a[2];break;case"C":e=Dw(s,i,a[1],a[2],a[3],a[4],a[5],a[6]),t=c,t.iterator=e,t.angleFinder=n7(s,i,a[1],a[2],a[3],a[4],a[5],a[6]),t.length=Qy(e,s,i),s=a[5],i=a[6];break;case"Q":e=i7(s,i,a[1],a[2],a[3],a[4]),t=c,t.iterator=e,t.angleFinder=s7(s,i,a[1],a[2],a[3],a[4]),t.length=Qy(e,s,i),s=a[3],i=a[4];break;case"Z":t=c,t.destX=o,t.destY=l,t.length=tp(s,i,o,l),s=o,i=l}r+=t.length,u.push(t)}return u.push({length:r,x:s,y:i}),u},a7=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zw(n),r=0;for(;e-t[r].length>0&&r<t.length-2;)e-=t[r].length,r++;const s=t[r],i=e/s.length,o=n[r];switch(s.command){case"M":return{x:s.x,y:s.y,angle:0};case"Z":return Ft(Ft({},new le(s.x,s.y).lerp(new le(s.destX,s.destY),i)),{},{angle:Math.atan2(s.destY-s.y,s.destX-s.x)});case"L":return Ft(Ft({},new le(s.x,s.y).lerp(new le(o[1],o[2]),i)),{},{angle:Math.atan2(o[2]-s.y,o[1]-s.x)});case"C":case"Q":return o7(s,e)}},l7=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),tb=new RegExp(J8,"g"),u7=new RegExp(Co,"gi"),c7={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h7=n=>{var e;const t=[],r=(e=n.match(l7))!==null&&e!==void 0?e:[];for(const s of r){const i=s[0];if(i==="z"||i==="Z"){t.push([i]);continue}const o=c7[i.toLowerCase()];let l=[];if(i==="a"||i==="A"){tb.lastIndex=0;for(let u=null;u=tb.exec(s);)l.push(...u.slice(1))}else l=s.match(u7)||[];for(let u=0;u<l.length;u+=o){const a=new Array(o),c=Q8[i];a[0]=u>0&&c?c:i;for(let d=0;d<o;d++)a[d+1]=parseFloat(l[u+d]);t.push(a)}}return t},f7=(n,e)=>n.map(t=>t.map((r,s)=>s===0||e===void 0?r:vn(r,e)).join(" ")).join(" ");function Zm(n,e){const t=n.style;t&&e&&(typeof e=="string"?t.cssText+=";"+e:Object.entries(e).forEach(r=>{let[s,i]=r;return t.setProperty(s,i)}))}class d7 extends hw{constructor(e){let{allowTouchScrolling:t=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),It(this,"upper",void 0),It(this,"container",void 0);const{el:s}=this.lower,i=this.createUpperCanvas();this.upper={el:i,ctx:i.getContext("2d")},this.applyCanvasStyle(s,{allowTouchScrolling:t}),this.applyCanvasStyle(i,{allowTouchScrolling:t,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(r),s.parentNode&&s.parentNode.replaceChild(o,s),o.append(s,i),this.container=o}createUpperCanvas(){const{el:e}=this.lower,t=Ea();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}createContainerElement(){const e=mc().createElement("div");return e.setAttribute("data-fabric","wrapper"),Zm(e,{position:"relative"}),Cy(e),e}applyCanvasStyle(e,t){const{styles:r,allowTouchScrolling:s}=t;Zm(e,Ft(Ft({},r),{},{"touch-action":s?"manipulation":gs})),Cy(e)}setDimensions(e,t){super.setDimensions(e,t);const{el:r,ctx:s}=this.upper;cw(r,s,e,t)}setCSSDimensions(e){super.setCSSDimensions(e),$m(this.upper.el,e),$m(this.container,e)}cleanupDOM(e){const t=this.container,{el:r}=this.lower,{el:s}=this.upper;super.cleanupDOM(e),t.removeChild(s),t.removeChild(r),t.parentNode&&t.parentNode.replaceChild(r,t)}dispose(){super.dispose(),Yo().dispose(this.upper.el),delete this.upper,delete this.container}}class jp extends g1{constructor(){super(...arguments),It(this,"targets",[]),It(this,"_hoveredTargets",[]),It(this,"_currentTransform",null),It(this,"_groupSelector",null),It(this,"contextTopDirty",!1)}static getDefaults(){return Ft(Ft({},super.getDefaults()),jp.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new d7(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const t=this.getRetinaScaling(),r=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(t,t)}isTargetTransparent(e,t,r){const s=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+s,-r+s),i.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=o,i.restore();const l=Math.round(s*this.getRetinaScaling());return y8(i,l,l,l)}_isSelectionKeyPressed(e){const t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(r=>!!r&&e[r]===!0):e[t])}_shouldClearSelection(e,t){const r=this.getActiveObjects(),s=this._activeObject;return!!(!t||t&&s&&r.length>1&&r.indexOf(t)===-1&&s!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&s&&s!==t)}_shouldCenterTransform(e,t,r){if(!e)return;let s;return t===_p||t===bs||t===ro||t===kh?s=this.centeredScaling||e.centeredScaling:t===h1&&(s=this.centeredRotation||e.centeredRotation),s?!r:r}_getOriginFromCorner(e,t){const r={x:e.originX,y:e.originY};return t&&(["ml","tl","bl"].includes(t)?r.x=qn:["mr","tr","br"].includes(t)&&(r.x=tn),["tl","mt","tr"].includes(t)?r.y=qm:["bl","mb","br"].includes(t)&&(r.y=ms)),r}_setupCurrentTransform(e,t,r){var s;const i=t.group?Zu(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:l}=t.getActiveControl()||{},u=r&&l?(s=l.getActionHandler(e,t,l))===null||s===void 0?void 0:s.bind(l):P_,a=((h,p,y,m)=>{if(!p||!h)return"drag";const g=m.controls[p];return g.getActionName(y,g,m)})(r,o,e,t),c=e[this.centeredKey],d=this._shouldCenterTransform(t,a,c)?{x:Ur,y:Ur}:this._getOriginFromCorner(t,o),f={target:t,action:a,actionHandler:u,actionPerformed:!1,corner:o,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:i.x-t.left,offsetY:i.y-t.top,originX:d.x,originY:d.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:Xn(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:c,original:Ft(Ft({},dw(t)),{},{originX:d.x,originY:d.y})};this._currentTransform=f,this.fire("before:transform",{e,transform:f})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:t,y:r,deltaX:s,deltaY:i}=this._groupSelector,o=new le(t,r).transform(this.viewportTransform),l=new le(t+s,r+i).transform(this.viewportTransform),u=this.selectionLineWidth/2;let a=Math.min(o.x,l.x),c=Math.min(o.y,l.y),d=Math.max(o.x,l.x),f=Math.max(o.y,l.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(a,c,d-a,f-c)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,a+=u,c+=u,d-=u,f-=u,Hi.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(a,c,d-a,f-c))}findTarget(e){if(this.skipTargetFind)return;const t=this.getViewportPoint(e),r=this._activeObject,s=this.getActiveObjects();if(this.targets=[],r&&s.length>=1){if(r.findControl(t,Hm(e))||s.length>1&&this.searchPossibleTargets([r],t))return r;if(r===this.searchPossibleTargets([r],t)){if(this.preserveObjectStacking){const i=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&o&&o!==r?(this.targets=i,r):o}return r}}return this.searchPossibleTargets(this._objects,t)}_pointIsInObjectSelectionArea(e,t){let r=e.getCoords();const s=this.getZoom(),i=e.padding/s;if(i){const[o,l,u,a]=r,c=Math.atan2(l.y-o.y,l.x-o.x),d=Ma(c)*i,f=ja(c)*i,h=d+f,p=d-f;r=[new le(o.x-p,o.y-h),new le(l.x+h,l.y-p),new le(u.x+p,u.y+h),new le(a.x-h,a.y+p)]}return jn.isPointInPolygon(t,r)}_checkTarget(e,t){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Zu(t,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,t.x,t.y)))}_searchPossibleTargets(e,t){let r=e.length;for(;r--;){const s=e[r];if(this._checkTarget(s,t)){if(ud(s)&&s.subTargetCheck){const i=this._searchPossibleTargets(s._objects,t);i&&this.targets.push(i)}return s}}}searchPossibleTargets(e,t){const r=this._searchPossibleTargets(e,t);if(r&&ud(r)&&r.interactive&&this.targets[0]){const s=this.targets;for(let i=s.length-1;i>0;i--){const o=s[i];if(!ud(o)||!o.interactive)return o}return s[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,s=r.getBoundingClientRect();let i=T_(e),o=s.width||0,l=s.height||0;o&&l||(ms in s&&qm in s&&(l=Math.abs(s.top-s.bottom)),qn in s&&tn in s&&(o=Math.abs(s.right-s.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=Zu(i,void 0,this.viewportTransform));const u=this.getRetinaScaling();u!==1&&(i.x/=u,i.y/=u);const a=o===0||l===0?new le(1,1):new le(r.width/o,r.height/l);return i.multiply(a)}_setDimensionsImpl(e,t){this._resetTransformEventData(),super._setDimensionsImpl(e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Ea(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return $l(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,t){let r=!1,s=!1;const i=this.getActiveObjects(),o=[],l=[];e.forEach(u=>{i.includes(u)||(r=!0,u.fire("deselected",{e:t,target:u}),l.push(u))}),i.forEach(u=>{e.includes(u)||(r=!0,u.fire("selected",{e:t,target:u}),o.push(u))}),e.length>0&&i.length>0?(s=!0,r&&this.fire("selection:updated",{e:t,selected:o,deselected:l})):i.length>0?(s=!0,this.fire("selection:created",{e:t,selected:o})):e.length>0&&(s=!0,this.fire("selection:cleared",{e:t,deselected:l})),s&&(this._objectsToRender=void 0)}setActiveObject(e,t){const r=this.getActiveObjects(),s=this._setActiveObject(e,t);return this._fireSelectionEvents(r,t),s}_setActiveObject(e,t){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,$l(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,t){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:t})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),$l(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const t=this.getActiveObjects(),r=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const s=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),s}endCurrentTransform(e){const t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const t=this._currentTransform,r=t.target,s={e,target:r,transform:t,action:t.action};r._scaling&&(r._scaling=!1),r.setCoords(),t.actionPerformed&&(this.fire("object:modified",s),r.fire(Wd,s))}setViewportTransform(e){super.setViewportTransform(e);const t=this._activeObject;t&&t.setCoords()}destroy(){const e=this._activeObject;$l(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const t=this._activeObject;t&&t._renderControls(e)}_toObject(e,t,r){const s=this._realizeGroupTransformOnObject(e),i=super._toObject(e,t,r);return e.set(s),i}_realizeGroupTransformOnObject(e){const{group:t}=e;if(t&&$l(t)&&this._activeObject===t){const r=vc(e,["angle","flipX","flipY",tn,bs,ro,gc,yc,ms]);return M_(e,t.calcOwnMatrix()),r}return{}}_setSVGObject(e,t,r){const s=this._realizeGroupTransformOnObject(t);super._setSVGObject(e,t,r),t.set(s)}}It(jp,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class p7{constructor(e){It(this,"targets",[]),It(this,"__disposer",void 0);const t=()=>{const{hiddenTextarea:s}=e.getActiveObject()||{};s&&s.focus()},r=e.upperCanvasEl;r.addEventListener("click",t),this.__disposer=()=>r.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Tu(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var t;!((t=this.target)===null||t===void 0)&&t.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const m7=["target","oldTarget","fireCanvas","e"],Cs={passive:!1},Su=(n,e)=>{const t=n.getViewportPoint(e),r=n.getScenePoint(e);return{viewportPoint:t,scenePoint:r,pointer:t,absolutePointer:r}},el=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.addEventListener(...t)},Ws=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.removeEventListener(...t)},g7={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class ep extends jp{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),It(this,"_isClick",void 0),It(this,"textEditingManager",new p7(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(t=>{this[t]=this[t].bind(this)}),this.addOrRemove(el,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,t){const r=this.upperCanvasEl,s=this._getEventPrefix();e(uw(r),"resize",this._onResize),e(r,s+"down",this._onMouseDown),e(r,"".concat(s,"move"),this._onMouseMove,Cs),e(r,"".concat(s,"out"),this._onMouseOut),e(r,"".concat(s,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel,{passive:!1}),e(r,"contextmenu",this._onContextMenu),e(r,"click",this._onClick),e(r,"dblclick",this._onClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,Cs)}removeListeners(){this.addOrRemove(Ws,"remove");const e=this._getEventPrefix(),t=So(this.upperCanvasEl);Ws(t,"".concat(e,"up"),this._onMouseUp),Ws(t,"touchend",this._onTouchEnd,Cs),Ws(t,"".concat(e,"move"),this._onMouseMove,Cs),Ws(t,"touchmove",this._onMouseMove,Cs),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const t=this._hoveredTarget,r=Ft({e},Su(this,e));this.fire("mouse:out",Ft(Ft({},r),{},{target:t})),this._hoveredTarget=void 0,t&&t.fire("mouseout",Ft({},r)),this._hoveredTargets.forEach(s=>{this.fire("mouse:out",Ft(Ft({},r),{},{target:s})),s&&s.fire("mouseout",Ft({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",Ft({e},Su(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;const r={e,target:t};return this.fire("dragstart",r),t.fire("dragstart",r),void el(this.upperCanvasEl,"drag",this._onDragProgress)}Ty(e)}_renderDragEffects(e,t,r){let s=!1;const i=this._dropTarget;i&&i!==t&&i!==r&&(i.clearContextTop(),s=!0),t==null||t.clearContextTop(),r!==t&&(r==null||r.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),t&&(o.save(),t.transform(o),t.renderDragSourceEffect(e),o.restore(),s=!0),r&&(o.save(),r.transform(o),r.renderDropTargetEffect(e),o.restore(),s=!0),o.restore(),s&&(this.contextTopDirty=!0)}_onDragEnd(e){const t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==gs,r=t?this._activeObject:void 0,s={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:r};Ws(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",s),this._dragSource&&this._dragSource.fire("dragend",s),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const t={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const t="dragover",{target:r,targets:s}=this.findDragTargets(e),i=this._dragSource,o={e,target:r,subTargets:s,dragSource:i,canDrop:!1,dropTarget:void 0};let l;this.fire(t,o),this._fireEnterLeaveEvents(r,o),r&&(r.canDrop(e)&&(l=r),r.fire(t,o));for(let u=0;u<s.length;u++){const a=s[u];a.canDrop(e)&&(l=a),a.fire(t,o)}this._renderDragEffects(e,i,l),this._dropTarget=l}_onDragEnter(e){const{target:t,targets:r}=this.findDragTargets(e),s={e,target:t,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",s),this._fireEnterLeaveEvents(t,s)}_onDragLeave(e){const t={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:t,targets:r}=this.findDragTargets(e),s=this._basicEventHandler("drop:before",Ft({e,target:t,subTargets:r,dragSource:this._dragSource},Su(this,e)));s.didDrop=!1,s.dropTarget=void 0,this._basicEventHandler("drop",s),this.fire("drop:after",s)}_onContextMenu(e){const t=this.findTarget(e),r=this.targets||[],s=this._basicEventHandler("contextmenu:before",{e,target:t,subTargets:r});return this.stopContextMenu&&Ty(e),this._basicEventHandler("contextmenu",s),!1}_onClick(e){const t=e.detail;t>3||t<2||(this._cacheTransformEventData(e),t==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),t==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let t=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||r&&this._target===r)&&(t=!0),t&&e.preventDefault(),this._resetTransformEventData();const s=this.upperCanvasEl,i=this._getEventPrefix(),o=So(s);el(o,"touchend",this._onTouchEnd,Cs),t&&el(o,"touchmove",this._onMouseMove,Cs),Ws(s,"".concat(i,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix();Ws(t,"".concat(r,"move"),this._onMouseMove,Cs);const s=So(t);el(s,"".concat(r,"up"),this._onMouseUp),el(s,"".concat(r,"move"),this._onMouseMove,Cs)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const t=this._getEventPrefix(),r=So(this.upperCanvasEl);Ws(r,"touchend",this._onTouchEnd,Cs),Ws(r,"touchmove",this._onMouseMove,Cs),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{el(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const t=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const s=So(this.upperCanvasEl);Ws(s,"".concat(r,"up"),this._onMouseUp),Ws(s,"".concat(r,"move"),this._onMouseMove,Cs),el(t,"".concat(r,"move"),this._onMouseMove,Cs)}}_onMouseMove(e){const t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}__onMouseUp(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,s=this._isClick,i=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let l,u,a=!1;if(r&&(this._finalizeCurrentTransform(e),a=r.actionPerformed),!s){const c=i===this._activeObject;this.handleSelection(e),a||(a=this._shouldRender(i)||!c&&i===this._activeObject)}if(i){const c=i.findControl(this.getViewportPoint(e),Hm(e)),{key:d,control:f}=c||{};if(u=d,i.selectable&&i!==this._activeObject&&i.activeOn==="up")this.setActiveObject(i,e),a=!0;else if(f){const h=f.getMouseUpHandler(e,i,f);h&&(l=this.getScenePoint(e),h.call(f,e,r,l.x,l.y))}i.isMoving=!1}if(r&&(r.target!==i||r.corner!==u)){const c=r.target&&r.target.controls[r.corner],d=c&&c.getMouseUpHandler(e,r.target,c);l=l||this.getScenePoint(e),d&&d.call(c,e,r,l.x,l.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),a?this.requestRenderAll():s||(t=this._activeObject)!==null&&t!==void 0&&t.isEditing||this.renderTop()}_basicEventHandler(e,t){const{target:r,subTargets:s=[]}=t;this.fire(e,t),r&&r.fire(e,t);for(let i=0;i<s.length;i++)s[i]!==r&&s[i].fire(e,t);return t}_handleEvent(e,t,r){const s=this._target,i=this.targets||[],o=Ft(Ft(Ft({e,target:s,subTargets:i},Su(this,e)),{},{transform:this._currentTransform},t==="up:before"||t==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),t==="down:before"||t==="down"?r:{});this.fire("mouse:".concat(t),o),s&&s.fire("mouse".concat(t),o);for(let l=0;l<i.length;l++)i[l]!==s&&i[l].fire("mouse".concat(t),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e,pointer:t}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let t=this._target,r=!!t&&t===this._activeObject;const{button:s}=e;if(s)return(this.fireMiddleClick&&s===1||this.fireRightClick&&s===2)&&this._handleEvent(e,"down",{alreadySelected:r}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let i=this._shouldRender(t),o=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,o=!0,i=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){const l=this.getScenePoint(e);this._groupSelector={x:l.x,y:l.y,deltaY:0,deltaX:0}}if(r=!!t&&t===this._activeObject,t){t.selectable&&t.activeOn==="down"&&this.setActiveObject(t,e);const l=t.findControl(this.getViewportPoint(e),Hm(e));if(t===this._activeObject&&(l||!o)){this._setupCurrentTransform(e,t,r);const u=l?l.control:void 0,a=this.getScenePoint(e),c=u&&u.getMouseDownHandler(e,t,u);c&&c.call(u,e,this._currentTransform,a.x,a.y)}}i&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:r}),i&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Zu(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const t=this._groupSelector;if(t){const r=this.getScenePoint(e);t.deltaX=r.x-t.x,t.deltaY=r.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,t){const r=this._hoveredTarget,s=this._hoveredTargets,i=this.targets,o=Math.max(s.length,i.length);this.fireSyntheticInOutEvents("mouse",{e,target:t,oldTarget:r,fireCanvas:!0});for(let l=0;l<o;l++)i[l]===t||s[l]&&s[l]===r||this.fireSyntheticInOutEvents("mouse",{e,target:i[l],oldTarget:s[l]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,t){const r=this._draggedoverTarget,s=this._hoveredTargets,i=this.targets,o=Math.max(s.length,i.length);this.fireSyntheticInOutEvents("drag",Ft(Ft({},t),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let l=0;l<o;l++)this.fireSyntheticInOutEvents("drag",Ft(Ft({},t),{},{target:i[l],oldTarget:s[l]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,t){let{target:r,oldTarget:s,fireCanvas:i,e:o}=t,l=Cn(t,m7);const{targetIn:u,targetOut:a,canvasIn:c,canvasOut:d}=g7[e],f=s!==r;if(s&&f){const h=Ft(Ft({},l),{},{e:o,target:s,nextTarget:r},Su(this,o));i&&this.fire(d,h),s.fire(a,h)}if(r&&f){const h=Ft(Ft({},l),{},{e:o,target:r,previousTarget:s},Su(this,o));i&&this.fire(c,h),r.fire(u,h)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const t=this.getScenePoint(e),r=this._currentTransform,s=r.target,i=s.group?Zu(t,void 0,s.group.calcTransformMatrix()):t;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,i),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,t,r){const{action:s,actionHandler:i,target:o}=t,l=!!i&&i(e,t,r.x,r.y);l&&o.setCoords(),s==="drag"&&l&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||l}_setCursorFromEvent(e,t){if(!t)return void this.setCursor(this.defaultCursor);let r=t.hoverCursor||this.hoverCursor;const s=$l(this._activeObject)?this._activeObject:null,i=(!s||t.group!==s)&&t.findControl(this.getViewportPoint(e));if(i){const o=i.control;this.setCursor(o.cursorStyleHandler(e,o,t))}else t.subTargetCheck&&this.targets.concat().reverse().map(o=>{r=o.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,t){const r=this._activeObject,s=$l(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(r!==t||s)&&(s||!t.isDescendantOf(r)&&!r.isDescendantOf(t))&&!t.onSelect({e})&&!r.getActiveControl()){if(s){const i=r.getObjects();if(t===r){const o=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(i,o)||this.searchPossibleTargets(this._objects,o))||!t.selectable)return!1}t.group===r?(r.remove(t),this._hoveredTarget=t,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(t),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(i,e)}else{r.isEditing&&r.exitEditing();const i=new(nr.getClass("ActiveSelection"))([],{canvas:this});i.multiSelectAdd(r,t),this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:t,y:r,deltaX:s,deltaY:i}=this._groupSelector,o=new le(t,r),l=o.add(new le(s,i)),u=o.min(l),a=o.max(l).subtract(u),c=this.collectObjects({left:u.x,top:u.y,width:a.x,height:a.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(l)?c[0]?[c[0]]:[]:c.length>1?c.filter(f=>!f.onSelect({e})).reverse():c;if(d.length===1)this.setActiveObject(d[0],e);else if(d.length>1){const f=nr.getClass("ActiveSelection");this.setActiveObject(new f(d,{canvas:this}),e)}return this._groupSelector=null,!0}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;const{upper:r}=this.elements;r.ctx=void 0;const s=super.toCanvasElement(e,t);return r.ctx=r.el.getContext("2d"),s}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Uw={x1:0,y1:0,x2:0,y2:0},y7=Ft(Ft({},Uw),{},{r1:0,r2:0}),qu=(n,e)=>isNaN(n)&&typeof e=="number"?e:n;function qw(n){return n&&/%$/.test(n)&&Number.isFinite(parseFloat(n))}function $w(n,e){const t=typeof n=="number"?n:typeof n=="string"?parseFloat(n)/(qw(n)?100:1):NaN;return hc(0,qu(t,e),1)}const b7=/\s*;\s*/,v7=/\s*:\s*/;function w7(n,e){let t,r;const s=n.getAttribute("style");if(s){const o=s.split(b7);o[o.length-1]===""&&o.pop();for(let l=o.length;l--;){const[u,a]=o[l].split(v7).map(c=>c.trim());u==="stop-color"?t=a:u==="stop-opacity"&&(r=a)}}const i=new an(t||n.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:$w(n.getAttribute("offset"),0),color:i.toRgb(),opacity:qu(parseFloat(r||n.getAttribute("stop-opacity")||""),1)*i.getAlpha()*e}}function x7(n,e){const t=[],r=n.getElementsByTagName("stop"),s=$w(e,1);for(let i=r.length;i--;)t.push(w7(r[i],s));return t}function Hw(n){return n.nodeName==="linearGradient"||n.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Ww(n){return n.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function po(n,e){return n.getAttribute(e)}function _7(n,e){return function(t,r){let s,{width:i,height:o,gradientUnits:l}=r;return Object.entries(t).reduce((u,a)=>{let[c,d]=a;if(d==="Infinity")s=1;else if(d==="-Infinity")s=0;else{const f=typeof d=="string";s=f?parseFloat(d):d,f&&qw(d)&&(s*=.01,l==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(s*=i),c!=="y1"&&c!=="y2"||(s*=o)))}return u[c]=s,u},{})}(Hw(n)==="linear"?function(t){return{x1:po(t,"x1")||0,y1:po(t,"y1")||0,x2:po(t,"x2")||"100%",y2:po(t,"y2")||0}}(n):function(t){return{x1:po(t,"fx")||po(t,"cx")||"50%",y1:po(t,"fy")||po(t,"cy")||"50%",r1:0,x2:po(t,"cx")||"50%",y2:po(t,"cy")||"50%",r2:po(t,"r")||"50%"}}(n),Ft(Ft({},e),{},{gradientUnits:Ww(n)}))}class Sf{constructor(e){const{type:t="linear",gradientUnits:r="pixels",coords:s={},colorStops:i=[],offsetX:o=0,offsetY:l=0,gradientTransform:u,id:a}=e||{};Object.assign(this,{type:t,gradientUnits:r,coords:Ft(Ft({},t==="radial"?y7:Uw),s),colorStops:i,offsetX:o,offsetY:l,gradientTransform:u,id:a?"".concat(a,"_").concat(_l()):_l()})}addColorStop(e){for(const t in e){const r=new an(e[t]);this.colorStops.push({offset:parseFloat(t),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return Ft(Ft({},vc(this,e)),{},{type:this.type,coords:Ft({},this.coords),colorStops:this.colorStops.map(t=>Ft({},t)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],s=this.gradientTransform?this.gradientTransform.concat():ts.concat(),i=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(d=>Ft({},d)).sort((d,f)=>d.offset-f.offset);let l=-this.offsetX,u=-this.offsetY;var a;i==="objectBoundingBox"?(l/=e.width,u/=e.height):(l+=e.width/2,u+=e.height/2),(a=e)&&typeof a._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=e.pathOffset.x,u-=e.pathOffset.y),s[4]-=l,s[5]-=u;const c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(i,'"'),'gradientTransform="'.concat(t?t+" ":"").concat(Th(s),'"'),""].join(" ");if(this.type==="linear"){const{x1:d,y1:f,x2:h,y2:p}=this.coords;r.push("<linearGradient ",c,' x1="',d,'" y1="',f,'" x2="',h,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:d,y1:f,x2:h,y2:p,r1:y,r2:m}=this.coords,g=y>m;r.push("<radialGradient ",c,' cx="',g?d:h,'" cy="',g?f:p,'" r="',g?y:m,'" fx="',g?h:d,'" fy="',g?p:f,`">
`),g&&(o.reverse(),o.forEach(w=>{w.offset=1-w.offset}));const b=Math.min(y,m);if(b>0){const w=b/Math.max(y,m);o.forEach(C=>{C.offset+=w*(1-C.offset)})}}return o.forEach(d=>{let{color:f,offset:h,opacity:p}=d;r.push("<stop ",'offset="',100*h+"%",'" style="stop-color:',f,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:t,y1:r,x2:s,y2:i,r1:o,r2:l}=this.coords,u=this.type==="linear"?e.createLinearGradient(t,r,s,i):e.createRadialGradient(t,r,o,s,i,l);return this.colorStops.forEach(a=>{let{color:c,opacity:d,offset:f}=a;u.addColorStop(f,d!==void 0?new an(c).setAlpha(d).toRgba():c)}),u}static async fromObject(e){const{colorStops:t,gradientTransform:r}=e;return new this(Ft(Ft({},e),{},{colorStops:t?t.map(s=>Ft({},s)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,t,r){const s=Ww(e),i=t._findCenterFromElement();return new this(Ft({id:e.getAttribute("id")||void 0,type:Hw(e),coords:_7(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:x7(e,r.opacity),gradientUnits:s,gradientTransform:Ym(e.getAttribute("gradientTransform")||"")},s==="pixels"?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}It(Sf,"type","Gradient"),nr.setClass(Sf,"gradient"),nr.setClass(Sf,"linear"),nr.setClass(Sf,"radial");const S7=["type","source","patternTransform"];class N0{get type(){return"pattern"}set type(e){xl("warn","Setting type has no effect",e)}constructor(e){It(this,"repeat","repeat"),It(this,"offsetX",0),It(this,"offsetY",0),It(this,"crossOrigin",""),this.id=_l(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:t,crossOrigin:r}=this;return Ft(Ft({},vc(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:r,offsetX:vn(this.offsetX,Zr.NUM_FRACTION_DIGITS),offsetY:vn(this.offsetY,Zr.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:t,height:r}=e;const{source:s,repeat:i,id:o}=this,l=qu(this.offsetX/t,0),u=qu(this.offsetY/r,0),a=i==="repeat-y"||i==="no-repeat"?1+Math.abs(l||0):qu(s.width/t,0),c=i==="repeat-x"||i==="no-repeat"?1+Math.abs(u||0):qu(s.height/r,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(l,'" y="').concat(u,'" width="').concat(a,'" height="').concat(c,'">'),'<image x="0" y="0" width="'.concat(s.width,'" height="').concat(s.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,t){let{type:r,source:s,patternTransform:i}=e,o=Cn(e,S7);const l=await hd(s,Ft(Ft({},t),{},{crossOrigin:o.crossOrigin}));return new this(Ft(Ft({},o),{},{patternTransform:i&&i.slice(0),source:l}))}}It(N0,"type","Pattern"),nr.setClass(N0),nr.setClass(N0,"pattern");const k7=["path","left","top"],C7=["d"];class Ks extends Hi{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:s,top:i}=t,o=Cn(t,k7);super(),Object.assign(this,Ks.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof s=="number"&&this.set(tn,s),typeof i=="number"&&this.set(ms,i)}_setPath(e,t){this.path=r7(Array.isArray(e)?e:h7(e)),this.setBoundingBox(t)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new le(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const t=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const s of this.path)switch(s[0]){case"L":e.lineTo(s[1]+t,s[2]+r);break;case"M":e.moveTo(s[1]+t,s[2]+r);break;case"C":e.bezierCurveTo(s[1]+t,s[2]+r,s[3]+t,s[4]+r,s[5]+t,s[6]+r);break;case"Q":e.quadraticCurveTo(s[1]+t,s[2]+r,s[3]+t,s[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ft(Ft({},super.toObject(e)),{},{path:this.path.map(t=>t.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){const e=f7(this.path,Zr.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Zr.NUM_FRACTION_DIGITS;return" translate(".concat(vn(-this.pathOffset.x,e),", ").concat(vn(-this.pathOffset.y,e),")")}toClipPathSVG(e){const t=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}toSVG(e){const t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:t,height:r,pathOffset:s}=this._calcDimensions();this.set({width:t,height:r,pathOffset:s}),e&&this.setPositionByOrigin(s,Ur,Ur)}_calcBoundsFromPath(){const e=[];let t=0,r=0,s=0,i=0;for(const o of this.path)switch(o[0]){case"L":s=o[1],i=o[2],e.push({x:t,y:r},{x:s,y:i});break;case"M":s=o[1],i=o[2],t=s,r=i;break;case"C":e.push(...Jy(s,i,o[1],o[2],o[3],o[4],o[5],o[6])),s=o[5],i=o[6];break;case"Q":e.push(...Jy(s,i,o[1],o[2],o[1],o[2],o[3],o[4])),s=o[3],i=o[4];break;case"Z":s=t,i=r}return _a(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return Ft(Ft({},e),{},{pathOffset:new le(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,t,r){const s=La(e,this.ATTRIBUTE_NAMES,r),{d:i}=s;return new this(i,Ft(Ft(Ft({},Cn(s,C7)),t),{},{left:void 0,top:void 0}))}}It(Ks,"type","Path"),It(Ks,"cacheProperties",[...Pa,"path","fillRule"]),It(Ks,"ATTRIBUTE_NAMES",[...Ml,"d"]),nr.setClass(Ks),nr.setSVGClass(Ks);const T7=["left","top","radius"],Vw=["radius","startAngle","endAngle","counterClockwise"];class zo extends Hi{static getDefaults(){return Ft(Ft({},super.getDefaults()),zo.ownDefaults)}constructor(e){super(),Object.assign(this,zo.ownDefaults),this.setOptions(e)}_set(e,t){return super._set(e,t),e==="radius"&&this.setRadius(t),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,Xn(this.startAngle),Xn(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(bs)}getRadiusY(){return this.get("radius")*this.get(ro)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Vw,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:t}=this,r=Xn(this.startAngle),s=Xn(this.endAngle),i=Ma(r)*t,o=ja(r)*t,l=Ma(s)*t,u=ja(s)*t,a=e>180?1:0,c=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(o," A ").concat(t," ").concat(t," 0 ").concat(a," ").concat(c," ").concat(l," ").concat(u,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,t,r){const s=La(e,this.ATTRIBUTE_NAMES,r),{left:i=0,top:o=0,radius:l=0}=s;return new this(Ft(Ft({},Cn(s,T7)),{},{radius:l,left:i-l,top:o-l}))}static fromObject(e){return super._fromObject(e)}}It(zo,"type","Circle"),It(zo,"cacheProperties",[...Pa,...Vw]),It(zo,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),It(zo,"ATTRIBUTE_NAMES",["cx","cy","r",...Ml]),nr.setClass(zo),nr.setSVGClass(zo);const A7=["x1","y1","x2","y2"],M7=["x1","y1","x2","y2"],Jm=["x1","x2","y1","y2"];class cs extends Hi{constructor(){let[e,t,r,s]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,cs.ownDefaults),this.setOptions(i),this.x1=e,this.x2=r,this.y1=t,this.y2=s,this._setWidthHeight();const{left:o,top:l}=i;typeof o=="number"&&this.set(tn,o),typeof l=="number"&&this.set(ms,l)}_setWidthHeight(){const{x1:e,y1:t,x2:r,y2:s}=this;this.width=Math.abs(r-e),this.height=Math.abs(s-t);const{left:i,top:o,width:l,height:u}=_a([{x:e,y:t},{x:r,y:s}]),a=new le(i+l/2,o+u/2);this.setPositionByOrigin(a,Ur,Ur)}_set(e,t){return super._set(e,t),Jm.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var s;Gs(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(s=this.stroke)!==null&&s!==void 0?s:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new le((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ft(Ft({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:t,y1:r,y2:s,width:i,height:o}=this,l=e<=t?-1:1,u=r<=s?-1:1;return{x1:l*i/2,x2:l*-i/2,y1:u*o/2,y2:u*-o/2}}_toSVG(){const{x1:e,x2:t,y1:r,y2:s}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(t,'" y2="').concat(s,`" />
`)]}static async fromElement(e,t,r){const s=La(e,this.ATTRIBUTE_NAMES,r),{x1:i=0,y1:o=0,x2:l=0,y2:u=0}=s;return new this([i,o,l,u],Cn(s,A7))}static fromObject(e){let{x1:t,y1:r,x2:s,y2:i}=e,o=Cn(e,M7);return this._fromObject(Ft(Ft({},o),{},{points:[t,r,s,i]}),{extraParam:"points"})}}It(cs,"type","Line"),It(cs,"cacheProperties",[...Pa,...Jm]),It(cs,"ATTRIBUTE_NAMES",Ml.concat(Jm)),nr.setClass(cs),nr.setSVGClass(cs);class Yl extends Hi{static getDefaults(){return Ft(Ft({},super.getDefaults()),Yl.ownDefaults)}constructor(e){super(),Object.assign(this,Yl.ownDefaults),this.setOptions(e)}_render(e){const t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,r),e.lineTo(0,-r),e.lineTo(t,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}It(Yl,"type","Triangle"),It(Yl,"ownDefaults",{width:100,height:100}),nr.setClass(Yl),nr.setSVGClass(Yl);const Xw=["rx","ry"];class pa extends Hi{static getDefaults(){return Ft(Ft({},super.getDefaults()),pa.ownDefaults)}constructor(e){super(),Object.assign(this,pa.ownDefaults),this.setOptions(e)}_set(e,t){switch(super._set(e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}getRx(){return this.get("rx")*this.get(bs)}getRy(){return this.get("ry")*this.get(ro)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Xw,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,$d,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,t,r){const s=La(e,this.ATTRIBUTE_NAMES,r);return s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,new this(s)}}function j7(n){if(!n)return[];const e=n.replace(/,/g," ").trim().split(/\s+/),t=[];for(let r=0;r<e.length;r+=2)t.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return t}It(pa,"type","Ellipse"),It(pa,"cacheProperties",[...Pa,...Xw]),It(pa,"ownDefaults",{rx:0,ry:0}),It(pa,"ATTRIBUTE_NAMES",[...Ml,"cx","cy","rx","ry"]),nr.setClass(pa),nr.setSVGClass(pa);const E7=["left","top"],Yw={exactBoundingBox:!1};class xo extends Hi{static getDefaults(){return Ft(Ft({},super.getDefaults()),xo.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),It(this,"strokeDiff",void 0),Object.assign(this,xo.ownDefaults),this.setOptions(t),this.points=e;const{left:r,top:s}=t;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(tn,r),typeof s=="number"&&this.set(ms,s)}isOpen(){return!0}_projectStrokeOnPoints(e){return v8(this.points,e,this.isOpen())}_calcDimensions(e){e=Ft({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(a=>a.projectedPoint):this.points;if(t.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new le,strokeOffset:new le,strokeDiff:new le};const r=_a(t),s=Sp(Ft(Ft({},e),{},{scaleX:1,scaleY:1})),i=_a(this.points.map(a=>ls(a,s,!0))),o=new le(this.scaleX,this.scaleY);let l=r.left+r.width/2,u=r.top+r.height/2;return this.exactBoundingBox&&(l-=u*Math.tan(Xn(this.skewX)),u-=l*Math.tan(Xn(this.skewY))),Ft(Ft({},r),{},{pathOffset:new le(l,u),strokeOffset:new le(i.left,i.top).subtract(new le(r.left,r.top)).multiply(o),strokeDiff:new le(r.width,r.height).subtract(new le(i.width,i.height)).multiply(o)})}_findCenterFromElement(){const e=_a(this.points);return new le(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:t,top:r,width:s,height:i,pathOffset:o,strokeOffset:l,strokeDiff:u}=this._calcDimensions();this.set({width:s,height:i,pathOffset:o,strokeOffset:l,strokeDiff:u}),e&&this.setPositionByOrigin(new le(t+s/2,r+i/2),Ur,Ur)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new le(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(l=>this.strokeUniform||this.constructor.layoutProperties.includes(l))){var t,r;const{width:l,height:u}=this._calcDimensions(e);o=new le((t=e.width)!==null&&t!==void 0?t:l,(r=e.height)!==null&&r!==void 0?r:u)}else{var s,i;o=new le((s=e.width)!==null&&s!==void 0?s:this.width,(i=e.height)!==null&&i!==void 0?i:this.height)}return o.multiply(new le(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,t){const r=this.initialized&&this[e]!==t,s=super._set(e,t);return this.exactBoundingBox&&r&&((e===bs||e===ro)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),s}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ft(Ft({},super.toObject(e)),{},{points:this.points.map(t=>{let{x:r,y:s}=t;return{x:r,y:s}})})}_toSVG(){const e=[],t=this.pathOffset.x,r=this.pathOffset.y,s=Zr.NUM_FRACTION_DIGITS;for(let i=0,o=this.points.length;i<o;i++)e.push(vn(this.points[i].x-t,s),",",vn(this.points[i].y-r,s)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const t=this.points.length,r=this.pathOffset.x,s=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-s);for(let i=0;i<t;i++){const o=this.points[i];e.lineTo(o.x-r,o.y-s)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,t,r){return new this(j7(e.getAttribute("points")),Ft(Ft({},Cn(La(e,this.ATTRIBUTE_NAMES,r),E7)),t))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}It(xo,"ownDefaults",Yw),It(xo,"type","Polyline"),It(xo,"layoutProperties",[gc,yc,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),It(xo,"cacheProperties",[...Pa,"points"]),It(xo,"ATTRIBUTE_NAMES",[...Ml]),nr.setClass(xo),nr.setSVGClass(xo);class kf extends xo{isOpen(){return!1}}It(kf,"ownDefaults",Yw),It(kf,"type","Polygon"),nr.setClass(kf),nr.setSVGClass(kf);class Gw extends Hi{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const t=e===void 0?this.styles:{line:this.styles[e]};for(const r in t)for(const s in t[r])for(const i in t[r][s])return!1;return!0}styleHas(e,t){if(!this.styles||t!==void 0&&!this.styles[t])return!1;const r=t===void 0?this.styles:{0:this.styles[t]};for(const s in r)for(const i in r[s])if(r[s][i][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const t=this.styles;let r,s,i=0,o=!0,l=0;for(const u in t){r=0;for(const a in t[u]){const c=t[u][a]||{};i++,c[e]!==void 0?(s?c[e]!==s&&(o=!1):s=c[e],c[e]===this[e]&&delete c[e]):o=!1,Object.keys(c).length!==0?r++:delete t[u][a]}r===0&&delete t[u]}for(let u=0;u<this._textLines.length;u++)l+=this._textLines[u].length;o&&i===l&&(this[e]=s,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const t=this.styles;let r,s,i;for(s in t){for(i in r=t[s],r)delete r[i][e],Object.keys(r[i]).length===0&&delete r[i];Object.keys(r).length===0&&delete t[s]}}_extendStyles(e,t){const{lineIndex:r,charIndex:s}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const i=m1(Ft(Ft({},this._getStyleDeclaration(r,s)),t),o=>o!==void 0);this._setStyleDeclaration(r,s,i)}getSelectionStyles(e,t,r){const s=[];for(let i=e;i<(t||e);i++)s.push(this.getStyleAtPosition(i,r));return s}getStyleAtPosition(e,t){const{lineIndex:r,charIndex:s}=this.get2DCursorLocation(e);return t?this.getCompleteStyleDeclaration(r,s):this._getStyleDeclaration(r,s)}setSelectionStyles(e,t,r){for(let s=t;s<(r||t);s++)this._extendStyles(s,e);this._forceClearCache=!0}_getStyleDeclaration(e,t){var r;const s=this.styles&&this.styles[e];return s&&(r=s[t])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,t){return Ft(Ft({},vc(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}_setStyleDeclaration(e,t,r){this.styles[e][t]=r}_deleteStyleDeclaration(e,t){delete this.styles[e][t]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}It(Gw,"_styleProperties",R_);const N7=/  +/g,O7=/"/g;function O0(n,e,t,r,s){return"		".concat(function(i,o){let{left:l,top:u,width:a,height:c}=o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zr.NUM_FRACTION_DIGITS;const f=Ah(li,i,!1),[h,p,y,m]=[l,u,a,c].map(g=>vn(g,d));return"<rect ".concat(f,' x="').concat(h,'" y="').concat(p,'" width="').concat(y,'" height="').concat(m,'"></rect>')}(n,{left:e,top:t,width:r,height:s}),`
`)}const P7=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let P0;class si extends Gw{static getDefaults(){return Ft(Ft({},super.getDefaults()),si.ownDefaults)}constructor(e,t){super(),It(this,"__charBounds",[]),Object.assign(this,si.ownDefaults),this.setOptions(t),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=zw(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(qo)&&this.enlargeSpaces()}enlargeSpaces(){let e,t,r,s,i,o,l;for(let u=0,a=this._textLines.length;u<a;u++)if((this.textAlign===qo||u!==a-1&&!this.isEndOfWrapping(u))&&(s=0,i=this._textLines[u],t=this.getLineWidth(u),t<this.width&&(l=this.textLines[u].match(this._reSpacesAndTabs)))){r=l.length,e=(this.width-t)/r;for(let c=0;c<=i.length;c++)o=this.__charBounds[u][c],this._reSpaceAndTab.test(i[c])?(o.width+=e,o.kernedWidth+=e,o.left+=s,s+=e):o.left+=s}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,t){const r=t?this._unwrappedTextLines:this._textLines;let s;for(s=0;s<r.length;s++){if(e<=r[s].length)return{lineIndex:s,charIndex:e};e-=r[s].length+this.missingNewlineOffset(s,t)}return{lineIndex:s-1,charIndex:r[s-1].length<e?r[s-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}_render(e){const t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===ys?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,t,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Ur:e.textBaseline="middle";break;case"ascender":e.textBaseline=ms;break;case"descender":e.textBaseline=qm}e.font=this._getFontDeclaration(t,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let t=1,r=this._textLines.length;t<r;t++){const s=this.getLineWidth(t);s>e&&(e=s)}return e}_renderTextLine(e,t,r,s,i,o){this._renderChars(e,t,r,s,i,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const t=e.fillStyle,r=this._getLeftOffset();let s=this._getTopOffset();for(let i=0,o=this._textLines.length;i<o;i++){const l=this.getHeightOfLine(i);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",i)){s+=l;continue}const u=this._textLines[i].length,a=this._getLineLeftOffset(i);let c,d,f=0,h=0,p=this.getValueOfPropertyAt(i,0,"textBackgroundColor");const y=this.getHeightOfLineImpl(i);for(let m=0;m<u;m++){const g=this.__charBounds[i][m];d=this.getValueOfPropertyAt(i,m,"textBackgroundColor"),this.path?(e.save(),e.translate(g.renderLeft,g.renderTop),e.rotate(g.angle),e.fillStyle=d,d&&e.fillRect(-g.width/2,-y*(1-this._fontSizeFraction),g.width,y),e.restore()):d!==p?(c=r+a+h,this.direction==="rtl"&&(c=this.width-c-f),e.fillStyle=p,p&&e.fillRect(c,s,f,y),h=g.left,f=g.width,p=d):f+=g.kernedWidth}d&&!this.path&&(c=r+a+h,this.direction==="rtl"&&(c=this.width-c-f),e.fillStyle=d,e.fillRect(c,s,f,y)),s+=l}e.fillStyle=t,this._removeShadow(e)}_measureChar(e,t,r,s){const i=eh.getFontCache(t),o=this._getFontDeclaration(t),l=r?r+e:e,u=r&&o===this._getFontDeclaration(s),a=t.fontSize/this.CACHE_FONT_SIZE;let c,d,f,h;if(r&&i.has(r)&&(f=i.get(r)),i.has(e)&&(h=c=i.get(e)),u&&i.has(l)&&(d=i.get(l),h=d-f),c===void 0||f===void 0||d===void 0){const p=function(){return P0||(P0=no({width:0,height:0}).getContext("2d")),P0}();this._setTextStyles(p,t,!0),c===void 0&&(h=c=p.measureText(e).width,i.set(e,c)),f===void 0&&u&&r&&(f=p.measureText(r).width,i.set(r,f)),u&&d===void 0&&(d=p.measureText(l).width,i.set(l,d),h=d-f)}return{width:c*a,kernedWidth:h*a}}getHeightOfChar(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}measureLine(e){const t=this._measureLine(e);return this.charSpacing!==0&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(e){let t,r,s=0;const i=this.pathSide===qn,o=this.path,l=this._textLines[e],u=l.length,a=new Array(u);this.__charBounds[e]=a;for(let c=0;c<u;c++){const d=l[c];r=this._getGraphemeBox(d,e,c,t),a[c]=r,s+=r.kernedWidth,t=d}if(a[u]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let c=0;const d=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case tn:c=i?d-s:0;break;case Ur:c=(d-s)/2;break;case qn:c=i?0:d-s}c+=this.pathStartOffset*(i?-1:1);for(let f=i?u-1:0;i?f>=0:f<u;i?f--:f++)r=a[f],c>d?c%=d:c<0&&(c+=d),this._setGraphemeOnPath(c,r),c+=r.kernedWidth}return{width:s,numOfSpaces:0}}_setGraphemeOnPath(e,t){const r=e+t.kernedWidth/2,s=this.path,i=a7(s.path,r,s.segmentsInfo);t.renderLeft=i.x-s.pathOffset.x,t.renderTop=i.y-s.pathOffset.y,t.angle=i.angle+(this.pathSide===qn?Math.PI:0)}_getGraphemeBox(e,t,r,s,i){const o=this.getCompleteStyleDeclaration(t,r),l=s?this.getCompleteStyleDeclaration(t,r-1):{},u=this._measureChar(e,o,s,l);let a,c=u.kernedWidth,d=u.width;this.charSpacing!==0&&(a=this._getWidthOfCharSpacing(),d+=a,c+=a);const f={width:d,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(r>0&&!i){const h=this.__charBounds[t][r-1];f.left=h.left+h.width+u.kernedWidth-u.width}return f}getHeightOfLineImpl(e){const t=this.__lineHeights;if(t[e])return t[e];let r=this.getHeightOfChar(e,0);for(let s=1,i=this._textLines[e].length;s<i;s++)r=Math.max(this.getHeightOfChar(e,s),r);return t[e]=r*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let t=0,r=this._textLines.length;t<r;t++)e+=t===r-1?this.getHeightOfLineImpl(t):this.getHeightOfLine(t);return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,t){e.save();let r=0;const s=this._getLeftOffset(),i=this._getTopOffset();for(let o=0,l=this._textLines.length;o<l;o++)this._renderTextLine(t,e,this._textLines[o],s+this._getLineLeftOffset(o),i+r+this.getHeightOfLineImpl(o),o),r+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(li))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,t,r,s,i,o){const l=this.textAlign.includes(qo),u=this.path,a=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!u,c=this.direction==="ltr",d=this.direction==="ltr"?1:-1,f=t.direction;let h,p,y,m,g,b="",w=0;if(t.save(),f!==this.direction&&(t.canvas.setAttribute("dir",c?"ltr":"rtl"),t.direction=c?"ltr":"rtl",t.textAlign=c?tn:qn),i-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,a)return this._renderChar(e,t,o,0,r.join(""),s,i),void t.restore();for(let C=0,j=r.length-1;C<=j;C++)m=C===j||this.charSpacing||u,b+=r[C],y=this.__charBounds[o][C],w===0?(s+=d*(y.kernedWidth-y.width),w+=y.width):w+=y.kernedWidth,l&&!m&&this._reSpaceAndTab.test(r[C])&&(m=!0),m||(h=h||this.getCompleteStyleDeclaration(o,C),p=this.getCompleteStyleDeclaration(o,C+1),m=k1(h,p,!1)),m&&(u?(t.save(),t.translate(y.renderLeft,y.renderTop),t.rotate(y.angle),this._renderChar(e,t,o,C,b,-w/2,0),t.restore()):(g=s,this._renderChar(e,t,o,C,b,g,i)),b="",h=p,s+=d*w,w=0);t.restore()}_applyPatternGradientTransformText(e){const t=this.width+this.strokeWidth,r=this.height+this.strokeWidth,s=no({width:t,height:r}),i=s.getContext("2d");return s.width=t,s.height=r,i.beginPath(),i.moveTo(0,0),i.lineTo(t,0),i.lineTo(t,r),i.lineTo(0,r),i.closePath(),i.translate(t/2,r/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(s,"no-repeat")}handleFiller(e,t,r){let s,i;return Gs(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(s=-this.width/2,i=-this.height/2,e.translate(s,i),e[t]=this._applyPatternGradientTransformText(r),{offsetX:s,offsetY:i}):(e[t]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[t]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,t){let{stroke:r,strokeWidth:s}=t;return e.lineWidth=s,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,t){let{fill:r}=t;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,t,r,s,i,o,l){const u=this._getStyleDeclaration(r,s),a=this.getCompleteStyleDeclaration(r,s),c=e==="fillText"&&a.fill,d=e==="strokeText"&&a.stroke&&a.strokeWidth;if(d||c){if(t.save(),t.font=this._getFontDeclaration(a),u.textBackgroundColor&&this._removeShadow(t),u.deltaY&&(l+=u.deltaY),c){const f=this._setFillStyles(t,a);t.fillText(i,o-f.offsetX,l-f.offsetY)}if(d){const f=this._setStrokeStyles(t,a);t.strokeText(i,o-f.offsetX,l-f.offsetY)}t.restore()}}setSuperscript(e,t){this._setScript(e,t,this.superscript)}setSubscript(e,t){this._setScript(e,t,this.subscript)}_setScript(e,t,r){const s=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"fontSize"),o=this.getValueOfPropertyAt(s.lineIndex,s.charIndex,"deltaY"),l={fontSize:i*r.size,deltaY:o+i*r.baseline};this.setSelectionStyles(l,e,t)}_getLineLeftOffset(e){const t=this.getLineWidth(e),r=this.width-t,s=this.textAlign,i=this.direction,o=this.isEndOfWrapping(e);let l=0;return s===qo||s===nh&&!o||s===rh&&!o||s===Zd&&!o?0:(s===Ur&&(l=r/2),s===qn&&(l=r),s===nh&&(l=r/2),s===rh&&(l=r),i==="rtl"&&(s===qn||s===qo||s===rh?l=0:s===tn||s===Zd?l=-r:s!==Ur&&s!==nh||(l=-r/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:t}=this.measureLine(e);return this.__lineWidths[e]=t,t}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,t,r){var s;return(s=this._getStyleDeclaration(e,t)[r])!==null&&s!==void 0?s:this[r]}_renderTextDecoration(e,t){if(!this[t]&&!this.styleHas(t))return;let r=this._getTopOffset();const s=this._getLeftOffset(),i=this.path,o=this._getWidthOfCharSpacing(),l=t==="linethrough"?.5:t==="overline"?1:0,u=this.offsets[t];for(let a=0,c=this._textLines.length;a<c;a++){const d=this.getHeightOfLine(a);if(!this[t]&&!this.styleHas(t,a)){r+=d;continue}const f=this._textLines[a],h=d/this.lineHeight,p=this._getLineLeftOffset(a);let y=0,m=0,g=this.getValueOfPropertyAt(a,0,t),b=this.getValueOfPropertyAt(a,0,li),w=this.getValueOfPropertyAt(a,0,au),C=g,j=b,I=w;const q=r+h*(1-this._fontSizeFraction);let P=this.getHeightOfChar(a,0),U=this.getValueOfPropertyAt(a,0,"deltaY");for(let R=0,T=f.length;R<T;R++){const E=this.__charBounds[a][R];C=this.getValueOfPropertyAt(a,R,t),j=this.getValueOfPropertyAt(a,R,li),I=this.getValueOfPropertyAt(a,R,au);const k=this.getHeightOfChar(a,R),v=this.getValueOfPropertyAt(a,R,"deltaY");if(i&&C&&j){const _=this.fontSize*I/1e3;e.save(),e.fillStyle=b,e.translate(E.renderLeft,E.renderTop),e.rotate(E.angle),e.fillRect(-E.kernedWidth/2,u*k+v-l*_,E.kernedWidth,_),e.restore()}else if((C!==g||j!==b||k!==P||I!==w||v!==U)&&m>0){const _=this.fontSize*w/1e3;let x=s+p+y;this.direction==="rtl"&&(x=this.width-x-m),g&&b&&w&&(e.fillStyle=b,e.fillRect(x,q+u*P+U-l*_,m,_)),y=E.left,m=E.width,g=C,w=I,b=j,P=k,U=v}else m+=E.kernedWidth}let W=s+p+y;this.direction==="rtl"&&(W=this.width-W-m),e.fillStyle=j;const z=this.fontSize*I/1e3;C&&j&&I&&e.fillRect(W,q+u*P+U-l*z,m-o,z),r+=d}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:t=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:s=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||si.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[t,r,"".concat(i?this.CACHE_FONT_SIZE:s,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return S1(e)}_splitTextIntoLines(e){const t=e.split(this._reNewline),r=new Array(t.length),s=[`
`];let i=[];for(let o=0;o<t.length;o++)r[o]=this.graphemeSplit(t[o]),i=i.concat(r[o],s);return i.pop(),{_unwrappedLines:r,lines:t,graphemeText:i,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ft(Ft({},super.toObject([..._w,...e])),{},{styles:S8(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){const{textLayoutProperties:r}=this.constructor;super.set(e,t);let s=!1,i=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),s=s||r.includes(o),i=i||o==="path";else s=r.includes(e),i=e==="path";return i&&this.setPathInfo(),s&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,t,r){const s=La(e,si.ATTRIBUTE_NAMES,r),i=Ft(Ft({},t),s),{textAnchor:o=tn,textDecoration:l="",dx:u=0,dy:a=0,top:c=0,left:d=0,fontSize:f=u1,strokeWidth:h=1}=i,p=Cn(i,P7),y=new this(Kd(e.textContent||"").trim(),Ft({left:d+u,top:c+a,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:f},p)),m=y.getScaledHeight()/y.height,g=((y.height+y.strokeWidth)*y.lineHeight-y.height)*m,b=y.getScaledHeight()+g;let w=0;return o===Ur&&(w=y.getScaledWidth()/2),o===qn&&(w=y.getScaledWidth()),y.set({left:y.left-w,top:y.top-(b-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:h}),y}static fromObject(e){return this._fromObject(Ft(Ft({},e),{},{styles:k8(e.styles||{},e.text)}),{extraParam:"text"})}}It(si,"textLayoutProperties",xw),It(si,"cacheProperties",[...Pa,..._w]),It(si,"ownDefaults",D_),It(si,"type","Text"),It(si,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),It(si,"ATTRIBUTE_NAMES",Ml.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Nw(si,[class extends bw{_toSVG(){const n=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(n.textTop,n.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(n){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:n,noStyle:!0,withShadow:!0}),t=this.path;return t?e+t._createBaseSVGMarkup(t._toSVG(),{reviver:n,withShadow:!0,additionalTransform:Th(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(n){let{textBgRects:e,textSpans:t}=n;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(O7,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.join(""),`</text>
`]}_getSVGTextAndBg(n,e){const t=[],r=[];let s,i=n;this.backgroundColor&&r.push(...O0(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,l=this._textLines.length;o<l;o++)s=this._getLineLeftOffset(o),this.direction==="rtl"&&(s+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+s,i),this._setSVGTextLineText(t,o,e+s,i),i+=this.getHeightOfLine(o);return{textSpans:t,textBgRects:r}}_createTextCharSpan(n,e,t,r,s){const i=Zr.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,n!==n.trim()||!!n.match(N7)),l=o?'style="'.concat(o,'"'):"",u=e.deltaY,a=u?' dy="'.concat(vn(u,i),'" '):"",{angle:c,renderLeft:d,renderTop:f,width:h}=s;let p="";if(d!==void 0){const y=h/2;c&&(p=' rotate="'.concat(vn(Na(c),i),'"'));const m=bc({angle:Na(c)});m[4]=d,m[5]=f;const g=new le(-y,0).transform(m);t=g.x,r=g.y}return'<tspan x="'.concat(vn(t,i),'" y="').concat(vn(r,i),'" ').concat(a).concat(p).concat(l,">").concat(w8(n),"</tspan>")}_setSVGTextLineText(n,e,t,r){const s=this.getHeightOfLine(e),i=this.textAlign.includes(qo),o=this._textLines[e];let l,u,a,c,d,f="",h=0;r+=s*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,y=o.length-1;p<=y;p++)d=p===y||this.charSpacing||this.path,f+=o[p],a=this.__charBounds[e][p],h===0?(t+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,i&&!d&&this._reSpaceAndTab.test(o[p])&&(d=!0),d||(l=l||this.getCompleteStyleDeclaration(e,p),u=this.getCompleteStyleDeclaration(e,p+1),d=k1(l,u,!0)),d&&(c=this._getStyleDeclaration(e,p),n.push(this._createTextCharSpan(f,c,t,r,a)),f="",l=u,this.direction==="rtl"?t-=h:t+=h,h=0)}_setSVGTextLineBg(n,e,t,r){const s=this._textLines[e],i=this.getHeightOfLine(e)/this.lineHeight;let o,l=0,u=0,a=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let c=0;c<s.length;c++){const{left:d,width:f,kernedWidth:h}=this.__charBounds[e][c];o=this.getValueOfPropertyAt(e,c,"textBackgroundColor"),o!==a?(a&&n.push(...O0(a,t+u,r,l,i)),u=d,l=f,a=o):l+=h}o&&n.push(...O0(a,t+u,r,l,i))}_getSVGLineTopOffset(n){let e,t=0;for(e=0;e<n;e++)t+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:t,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(n){return"".concat(super.getSvgStyles(n)," text-decoration-thickness: ").concat(vn(this.textDecorationThickness*this.getObjectScaling().y/10,Zr.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(n,e){const{fontFamily:t,strokeWidth:r,stroke:s,fill:i,fontSize:o,fontStyle:l,fontWeight:u,deltaY:a,textDecorationThickness:c,linethrough:d,overline:f,underline:h}=n,p=this.getSvgTextDecoration({underline:h!=null?h:this.underline,overline:f!=null?f:this.overline,linethrough:d!=null?d:this.linethrough}),y=c||this.textDecorationThickness;return[s?Ah(ys,s):"",r?"stroke-width: ".concat(r,"; "):"",t?"font-family: ".concat(t.includes("'")||t.includes('"')?t:"'".concat(t,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",l?"font-style: ".concat(l,"; "):"",u?"font-weight: ".concat(u,"; "):"",p?"text-decoration: ".concat(p,"; text-decoration-thickness: ").concat(vn(y*this.getObjectScaling().y/10,Zr.NUM_FRACTION_DIGITS),"%; "):"",i?Ah(li,i):"",a?"baseline-shift: ".concat(-a,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(n){return["overline","underline","line-through"].filter(e=>n[e.replace("-","")]).join(" ")}}]),nr.setClass(si),nr.setSVGClass(si);class L7{constructor(e){It(this,"target",void 0),It(this,"__mouseDownInPlace",!1),It(this,"__dragStartFired",!1),It(this,"__isDraggingOver",!1),It(this,"__dragStartSelection",void 0),It(this,"__dragImageDisposer",void 0),It(this,"_dispose",void 0),this.target=e;const t=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{t.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const t=this.target,r=t.getSelectionStartFromPointer(e);return t.isEditing&&r>=t.selectionStart&&r<=t.selectionEnd&&t.selectionStart<t.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,t){var r;let{selectionStart:s,selectionEnd:i}=t;const o=this.target,l=o.canvas,u=new le(o.flipX?-1:1,o.flipY?-1:1),a=o._getCursorBoundaries(s),c=new le(a.left+a.leftOffset,a.top+a.topOffset).multiply(u).transform(o.calcTransformMatrix()),d=l.getScenePoint(e).subtract(c),f=o.getCanvasRetinaScaling(),h=o.getBoundingRect(),p=c.subtract(new le(h.left,h.top)),y=l.viewportTransform,m=p.add(d).transform(y,!0),g=o.backgroundColor,b=_1(o.styles);o.backgroundColor="";const w={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(w,0,s),o.setSelectionStyles(w,i,o.text.length),o.dirty=!0;const C=o.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=g,o.styles=b,o.dirty=!0,Zm(C,{position:"fixed",left:"".concat(-C.width,"px"),border:gs,width:"".concat(C.width/f,"px"),height:"".concat(C.height/f,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{C.remove()},So(e.target||this.target.hiddenTextarea).body.appendChild(C),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(C,m.x,m.y)}onDragStart(e){this.__dragStartFired=!0;const t=this.target,r=this.isActive();if(r&&e.dataTransfer){const s=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},i=t._text.slice(s.selectionStart,s.selectionEnd).join(""),o=Ft({text:t.text,value:i},s);e.dataTransfer.setData("text/plain",i),e.dataTransfer.setData("application/fabric",JSON.stringify({value:i,styles:t.getSelectionStyles(s.selectionStart,s.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return t.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const t=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return t<r.selectionStart||t>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:t}=e;const r=this.targetCanDrop(t);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:t}=e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;const{e:r}=e,s=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let i=(t=r.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain");if(i&&!s){const o=this.target,l=o.canvas;let u=o.getSelectionStartFromPointer(r);const{styles:a}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},c=i[Math.max(0,i.length-1)],d=0;if(this.__dragStartSelection){const f=this.__dragStartSelection.selectionStart,h=this.__dragStartSelection.selectionEnd;u>f&&u<=h?u=f:u>h&&(u-=h-f),o.removeChars(f,h),delete this.__dragStartSelection}o._reNewline.test(c)&&(o._reNewline.test(o._text[u])||u===o._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(i,a,u),l.setActiveObject(o),o.enterEditing(r),o.selectionStart=Math.min(u+d,o._text.length),o.selectionEnd=Math.min(o.selectionStart+i.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(Hd,{index:u+d,action:"drop"}),l.fire("text:changed",{target:o}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(e){let{e:t}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const s=this.target,i=this.target.canvas,{selectionStart:o,selectionEnd:l}=this.__dragStartSelection,u=((r=t.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||gs;u===gs?(s.selectionStart=o,s.selectionEnd=l,s._updateTextarea(),s.hiddenTextarea.focus()):(s.clearContextTop(),u==="move"&&(s.removeChars(o,l),s.selectionStart=s.selectionEnd=o,s.hiddenTextarea&&(s.hiddenTextarea.value=s.text),s._updateTextarea(),s.fire(Hd,{index:o,action:"dragend"}),i.fire("text:changed",{target:s}),i.requestRenderAll()),s.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const eb=/[ \n\.,;!\?\-]/;class R7 extends si{constructor(){super(...arguments),It(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:t,duration:r,delay:s,onComplete:i}=e;return Tw({startValue:this._currentCursorOpacity,endValue:t,duration:r,delay:s,onComplete:i,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let t=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r--;for(;/\S/.test(this._text[r])&&r>-1;)t++,r--;return e-t}findWordBoundaryRight(e){let t=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}findLineBoundaryLeft(e){let t=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)t++,r--;return e-t}findLineBoundaryRight(e){let t=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}searchWordBoundary(e,t){const r=this._text;let s=e>0&&this._reSpace.test(r[e])&&(t===-1||!c1.test(r[e-1]))?e-1:e,i=r[s];for(;s>0&&s<r.length&&!eb.test(i);)s+=t,i=r[s];return t===-1&&eb.test(i)&&s++,s}selectWord(e){var t;e=(t=e)!==null&&t!==void 0?t:this.selectionStart;const r=this.searchWordBoundary(e,-1),s=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var t;e=(t=e)!==null&&t!==void 0?t:this.selectionStart;const r=this.findLineBoundaryLeft(e),s=this.findLineBoundaryRight(e);this.selectionStart=r,this.selectionEnd=s,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const t=this.hiddenTextarea;So(t).activeElement!==t&&t.focus();const r=this.getSelectionStartFromPointer(e),s=this.selectionStart,i=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&s!==i||s!==r&&i!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===s&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,t,r){const s=r.slice(0,e),i=this.graphemeSplit(s).length;if(e===t)return{selectionStart:i,selectionEnd:i};const o=r.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,t,r){const s=r.slice(0,e).join("").length;return e===t?{selectionStart:s,selectionEnd:s}:{selectionStart:s,selectionEnd:s+r.slice(e,t).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),s=r.lineIndex,i=r.charIndex,o=this.getValueOfPropertyAt(s,i,"fontSize")*this.lineHeight,l=t.leftOffset,u=this.getCanvasRetinaScaling(),a=this.canvas.upperCanvasEl,c=a.width/u,d=a.height/u,f=c-o,h=d-o,p=new le(t.left+l,t.top+t.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new le(a.clientWidth/c,a.clientHeight/d));return p.x<0&&(p.x=0),p.x>f&&(p.x=f),p.y<0&&(p.y=0),p.y>h&&(p.y=h),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(Wd),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,t){const{lineIndex:r,charIndex:s}=this.get2DCursorLocation(e,!0),{lineIndex:i,charIndex:o}=this.get2DCursorLocation(t,!0);if(r!==i){if(this.styles[r])for(let l=s;l<this._unwrappedTextLines[r].length;l++)delete this.styles[r][l];if(this.styles[i])for(let l=o;l<this._unwrappedTextLines[i].length;l++){const u=this.styles[i][l];u&&(this.styles[r]||(this.styles[r]={}),this.styles[r][s+l-o]=u)}for(let l=r+1;l<=i;l++)delete this.styles[l];this.shiftLineStyles(i,r-i)}else if(this.styles[r]){const l=this.styles[r],u=o-s;for(let a=s;a<o;a++)delete l[a];for(const a in this.styles[r]){const c=parseInt(a,10);c>=o&&(l[c-u]=l[a],delete l[a])}}}shiftLineStyles(e,t){const r=Object.assign({},this.styles);for(const s in this.styles){const i=parseInt(s,10);i>e&&(this.styles[i+t]=r[i],r[i-t]||delete this.styles[i])}}insertNewlineStyleObject(e,t,r,s){const i={},o=this._unwrappedTextLines[e].length,l=o===t;let u=!1;r||(r=1),this.shiftLineStyles(e,r);const a=this.styles[e]?this.styles[e][t===0?t:t-1]:void 0;for(const d in this.styles[e]){const f=parseInt(d,10);f>=t&&(u=!0,i[f-t]=this.styles[e][d],l&&t===0||delete this.styles[e][d])}let c=!1;for(u&&!l&&(this.styles[e+r]=i,c=!0),(c||o>t)&&r--;r>0;)s&&s[r-1]?this.styles[e+r]={0:Ft({},s[r-1])}:a?this.styles[e+r]={0:Ft({},a)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,t,r,s){this.styles||(this.styles={});const i=this.styles[e],o=i?Ft({},i):{};r||(r=1);for(const u in o){const a=parseInt(u,10);a>=t&&(i[a+r]=o[a],o[a-r]||delete i[a])}if(this._forceClearCache=!0,s){for(;r--;)Object.keys(s[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+r]=Ft({},s[r]));return}if(!i)return;const l=i[t?t-1:1];for(;l&&r--;)this.styles[e][t+r]=Ft({},l)}insertNewStyleBlock(e,t,r){const s=this.get2DCursorLocation(t,!0),i=[0];let o,l=0;for(let u=0;u<e.length;u++)e[u]===`
`?(l++,i[l]=0):i[l]++;for(i[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,i[0],r),r=r&&r.slice(i[0]+1)),l&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+i[0],l),o=1;o<l;o++)i[o]>0?this.insertCharStyleObject(s.lineIndex+o,0,i[o],r):r&&this.styles[s.lineIndex+o]&&r[0]&&(this.styles[s.lineIndex+o][0]=r[0]),r=r&&r.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(s.lineIndex+o,0,i[o],r)}removeChars(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,t,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;s>r&&this.removeStyleFromTo(r,s);const i=this.graphemeSplit(e);this.insertNewStyleBlock(i,r,t),this._text=[...this._text.slice(0,r),...i,...this._text.slice(s)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,t,r){r<=e?(t===e?this._selectionDirection=tn:this._selectionDirection===qn&&(this._selectionDirection=tn,this.selectionEnd=e),this.selectionStart=r):r>e&&r<t?this._selectionDirection===qn?this.selectionEnd=r:this.selectionStart=r:(t===e?this._selectionDirection=qn:this._selectionDirection===tn&&(this._selectionDirection=qn,this.selectionStart=t),this.selectionEnd=r)}}class D7 extends R7{initHiddenTextarea(){const e=this.canvas&&So(this.canvas.getElement())||mc(),t=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map(o=>{let[l,u]=o;return t.setAttribute(l,u)});const{top:r,left:s,fontSize:i}=this._calcTextareaPosition();t.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(s,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(i,";"),(this.hiddenTextareaContainer||e.body).appendChild(t),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[l,u]=o;return t.addEventListener(l,this[u].bind(this))}),this.hiddenTextarea=t}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const t=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const t=this.fromPaste,{value:r,selectionStart:s,selectionEnd:i}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(Hd),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const l=this._splitTextIntoLines(r).graphemeText,u=this._text.length,a=l.length,c=this.selectionStart,d=this.selectionEnd,f=c!==d;let h,p,y,m,g=a-u;const b=this.fromStringToGraphemeSelection(s,i,r),w=c>b.selectionStart;f?(p=this._text.slice(c,d),g+=d-c):a<u&&(p=w?this._text.slice(d+g,d):this._text.slice(c,c-g));const C=l.slice(b.selectionEnd-g,b.selectionEnd);if(p&&p.length&&(C.length&&(h=this.getSelectionStyles(c,c+1,!1),h=C.map(()=>h[0])),f?(y=c,m=d):w?(y=d-p.length,m=d):(y=d,m=d+p.length),this.removeStyleFromTo(y,m)),C.length){const{copyPasteData:j}=Yo();t&&C.join("")===j.copiedText&&!Zr.disableStyleCopyPaste&&(h=j.copiedTextStyle),this.insertNewStyleBlock(C,c,h)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:t}=e;const{selectionStart:r,selectionEnd:s}=t;this.compositionStart=r,this.compositionEnd=s,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=Yo();e.copiedText=this.getSelectedText(),Zr.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,t){let r,s=this._getLineLeftOffset(e);return t>0&&(r=this.__charBounds[e][t-1],s+=r.left+r.width),s}getDownCursorOffset(e,t){const r=this._getSelectionForOffset(e,t),s=this.get2DCursorLocation(r),i=s.lineIndex;if(i===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const o=s.charIndex,l=this._getWidthBeforeCursor(i,o),u=this._getIndexOnLine(i+1,l);return this._textLines[i].slice(o).length+u+1+this.missingNewlineOffset(i)}_getSelectionForOffset(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,t){const r=this._getSelectionForOffset(e,t),s=this.get2DCursorLocation(r),i=s.lineIndex;if(i===0||e.metaKey||e.keyCode===33)return-r;const o=s.charIndex,l=this._getWidthBeforeCursor(i,o),u=this._getIndexOnLine(i-1,l),a=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+u-a.length+(1-c)}_getIndexOnLine(e,t){const r=this._textLines[e];let s,i,o=this._getLineLeftOffset(e),l=0;for(let u=0,a=r.length;u<a;u++)if(s=this.__charBounds[e][u].width,o+=s,o>t){i=!0;const c=o-s,d=o,f=Math.abs(c-t);l=Math.abs(d-t)<f?u:u-1;break}return i||(l=r.length-1),l}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,t){const r=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===qn);if(t.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const s=this.text.length;this.selectionStart=hc(0,this.selectionStart,s),this.selectionEnd=hc(0,this.selectionEnd,s),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const t=this._selectionDirection===tn?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,t,r){let s;if(e.altKey)s=this["findWordBoundary".concat(r)](this[t]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[t]+=r==="Left"?-1:1,!0;s=this["findLineBoundary".concat(r)](this[t])}return s!==void 0&&this[t]!==s&&(this[t]=s,!0)}_moveLeft(e,t){return this._move(e,t,"Left")}_moveRight(e,t){return this._move(e,t,"Right")}moveCursorLeftWithoutShift(e){let t=!0;return this._selectionDirection=tn,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}moveCursorLeftWithShift(e){return this._selectionDirection===qn&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=tn,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,t){const r="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===tn&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=qn,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let t=!0;return this._selectionDirection=qn,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}const rb=n=>!!n.button;class I7 extends D7{constructor(){super(...arguments),It(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new L7(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:t,alreadySelected:r}=e;this.canvas&&this.editable&&!rb(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),r&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=r||this.isEditing)))}mouseUpHandler(e){let{e:t,transform:r}=e;const s=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);const i=this.canvas._activeObject;if(i&&i!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||rb(t)||s||this.selected&&!this.getActiveControl()&&(this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const t=this.getSelectionStartFromPointer(e),r=this.selectionStart,s=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,s,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const t=this.canvas.getScenePoint(e).transform(ko(this.calcTransformMatrix())).add(new le(-this._getLeftOffset(),-this._getTopOffset()));let r=0,s=0,i=0;for(let a=0;a<this._textLines.length&&r<=t.y;a++)r+=this.getHeightOfLine(a),i=a,a>0&&(s+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));let o=Math.abs(this._getLineLeftOffset(i));const l=this._textLines[i].length,u=this.__charBounds[i];for(let a=0;a<l;a++){const c=o+u[a].kernedWidth;if(t.x<=c){Math.abs(t.x-c)<=Math.abs(t.x-o)&&s++;break}o=c,s++}return Math.min(this.flipX?l-s:s,this._text.length)}}const Cf="moveCursorUp",Tf="moveCursorDown",Af="moveCursorLeft",Mf="moveCursorRight",jf="exitEditing",nb=(n,e)=>{const t=e.getRetinaScaling();n.setTransform(t,0,0,t,0,0);const r=e.viewportTransform;n.transform(r[0],r[1],r[2],r[3],r[4],r[5])},F7=Ft({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:jf,27:jf,33:Cf,34:Tf,35:Mf,36:Af,37:Af,38:Cf,39:Mf,40:Tf},keysMapRtl:{9:jf,27:jf,33:Cf,34:Tf,35:Af,36:Mf,37:Mf,38:Cf,39:Af,40:Tf},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class wa extends I7{static getDefaults(){return Ft(Ft({},super.getDefaults()),wa.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,t){super(e,Ft(Ft({},wa.ownDefaults),t)),this.initBehavior()}_set(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):(e==="canvas"&&(this.canvas instanceof ep&&this.canvas.textEditingManager.remove(this),t instanceof ep&&t.textEditingManager.add(this)),super._set(e,t))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,t,r)}setSelectionStyles(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,t,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,t)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const t=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=t,r}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const t=this._getCursorBoundaries(),r=this.findAncestorsWithClipPath(),s=r.length>0;let i,o=e;if(s){i=no(e.canvas),o=i.getContext("2d"),nb(o,this.canvas);const l=this.calcTransformMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,t):this.renderCursor(o,t),s)for(const l of r){const u=l.clipPath,a=no(e.canvas),c=a.getContext("2d");if(nb(c,this.canvas),!u.absolutePositioned){const d=l.calcTransformMatrix();c.transform(d[0],d[1],d[2],d[3],d[4],d[5])}u.transform(c),u.drawObject(c,!0,{}),this.drawClipPathOnCache(o,u,a)}s&&(e.setTransform(1,0,0,1,0,0),e.drawImage(i,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let t=this;for(;t;)t.clipPath&&e.push(t),t=t.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),s=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:r,top:s,leftOffset:i.left,topOffset:i.top}}_getCursorBoundariesOffsets(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let t=0,r=0;const{charIndex:s,lineIndex:i}=this.get2DCursorLocation(e);for(let a=0;a<i;a++)t+=this.getHeightOfLine(a);const o=this._getLineLeftOffset(i),l=this.__charBounds[i][s];l&&(r=l.left),this.charSpacing!==0&&s===this._textLines[i].length&&(r-=this._getWidthOfCharSpacing());const u={top:t,left:o+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===qn||this.textAlign===qo||this.textAlign===rh?u.left*=-1:this.textAlign===tn||this.textAlign===Zd?u.left=o-(r>0?r:0):this.textAlign!==Ur&&this.textAlign!==nh||(u.left=o-(r>0?r:0))),u}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,t){this._renderCursor(e,t,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const r=this.get2DCursorLocation(e),s=r.lineIndex,i=r.charIndex>0?r.charIndex-1:0,o=this.getValueOfPropertyAt(s,i,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/l,a=this.getValueOfPropertyAt(s,i,"deltaY"),c=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(s,i,"fill"),opacity:this._currentCursorOpacity,left:t.left+t.leftOffset-u/2,top:c+t.top+a,width:u,height:o}}_renderCursor(e,t,r){const{color:s,opacity:i,left:o,top:l,width:u,height:a}=this.getCursorRenderingData(r,t);e.fillStyle=s,e.globalAlpha=i,e.fillRect(o,l,u,a)}renderSelection(e,t){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,t)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}_renderSelection(e,t,r){const s=t.selectionStart,i=t.selectionEnd,o=this.textAlign.includes(qo),l=this.get2DCursorLocation(s),u=this.get2DCursorLocation(i),a=l.lineIndex,c=u.lineIndex,d=l.charIndex<0?0:l.charIndex,f=u.charIndex<0?0:u.charIndex;for(let h=a;h<=c;h++){const p=this._getLineLeftOffset(h)||0;let y=this.getHeightOfLine(h),m=0,g=0,b=0;if(h===a&&(g=this.__charBounds[a][d].left),h>=a&&h<c)b=o&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===c)if(f===0)b=this.__charBounds[c][f].left;else{const q=this._getWidthOfCharSpacing();b=this.__charBounds[c][f-1].left+this.__charBounds[c][f-1].width-q}m=y,(this.lineHeight<1||h===c&&this.lineHeight>1)&&(y/=this.lineHeight);let w=r.left+p+g,C=y,j=0;const I=b-g;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",C=1,j=y):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===qn||this.textAlign===qo||this.textAlign===rh?w=this.width-w-I:this.textAlign===tn||this.textAlign===Zd?w=r.left+p-b:this.textAlign!==Ur&&this.textAlign!==nh||(w=r.left+p-b)),e.fillRect(w,r.top+r.topOffset+j,I,C),r.topOffset+=m}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,li)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}It(wa,"ownDefaults",F7),It(wa,"type","IText"),nr.setClass(wa),nr.setClass(wa,"i-text");class Gl extends wa{static getDefaults(){return Ft(Ft({},super.getDefaults()),Gl.ownDefaults)}constructor(e,t){super(e,Ft(Ft({},Gl.ownDefaults),t))}static createControls(){return{controls:g8()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(qo)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let t=0,r=0,s=0;const i={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[s]===`
`&&o>0?(r=0,s++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[s])&&o>0&&(r++,s++),i[o]={line:t,offset:r},s+=e.graphemeLines[o].length,r+=e.graphemeLines[o].length;return i}styleHas(e,t){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[t];r&&(t=r.line)}return super.styleHas(e,t)}isEmptyStyles(e){if(!this.styles)return!0;let t,r=0,s=e+1,i=!1;const o=this._styleMap[e],l=this._styleMap[e+1];o&&(e=o.line,r=o.offset),l&&(s=l.line,i=s===e,t=l.offset);const u=e===void 0?this.styles:{line:this.styles[e]};for(const a in u)for(const c in u[a]){const d=parseInt(c,10);if(d>=r&&(!i||d<t))for(const f in u[a][c])return!1}return!0}_getStyleDeclaration(e,t){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,t=r.offset+t}return super._getStyleDeclaration(e,t)}_setStyleDeclaration(e,t,r){const s=this._styleMap[e];super._setStyleDeclaration(s.line,s.offset+t,r)}_deleteStyleDeclaration(e,t){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+t)}_getLineStyle(e){const t=this._styleMap[e];return!!this.styles[t.line]}_setLineStyle(e){const t=this._styleMap[e];super._setLineStyle(t.line)}_wrapText(e,t){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),s=[];for(let i=0;i<r.wordsData.length;i++)s.push(...this._wrapLine(i,t,r));return this.isWrapping=!1,s}getGraphemeDataForRender(e){const t=this.splitByGrapheme,r=t?"":" ";let s=0;return{wordsData:e.map((i,o)=>{let l=0;const u=t?this.graphemeSplit(i):this.wordSplit(i);return u.length===0?[{word:[],width:0}]:u.map(a=>{const c=t?[a]:this.graphemeSplit(a),d=this._measureWord(c,o,l);return s=Math.max(d,s),l+=c.length+r.length,{word:c,width:d}})}),largestWordWidth:s}}_measureWord(e,t){let r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=0;for(let o=0,l=e.length;o<l;o++)i+=this._getGraphemeBox(e[o],t,o+s,r,!0).kernedWidth,r=e[o];return i}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,t,r){let{largestWordWidth:s,wordsData:i}=r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const l=this._getWidthOfCharSpacing(),u=this.splitByGrapheme,a=[],c=u?"":" ";let d=0,f=[],h=0,p=0,y=!0;t-=o;const m=Math.max(t,s,this.dynamicMinWidth),g=i[e];let b;for(h=0,b=0;b<g.length;b++){const{word:w,width:C}=g[b];h+=w.length,d+=p+C-l,d>m&&!y?(a.push(f),f=[],d=C,y=!0):d+=l,y||u||f.push(c),f=f.concat(w),p=u?0:this._measureWord([c],e,h),h++,y=!1}return b&&a.push(f),s+o>this.dynamicMinWidth&&(this.dynamicMinWidth=s-l+o),a}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const t=super._splitTextIntoLines(e),r=this._wrapText(t.lines,this.width),s=new Array(r.length);for(let i=0;i<r.length;i++)s[i]=r[i].join("");return t.lines=s,t.graphemeLines=r,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const t in this._styleMap){const r=parseInt(t,10);if(this._textLines[r]){const s=this._styleMap[t].line;e.set("".concat(s),!0)}}for(const t in this.styles)e.has(t)||delete this.styles[t]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}It(Gl,"type","Textbox"),It(Gl,"textLayoutProperties",[...wa.textLayoutProperties,"width"]),It(Gl,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),nr.setClass(Gl);class ib extends Mp{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,t){const{target:r}=e,{clipPath:s,group:i}=r;if(!s||!this.shouldPerformLayout(e))return;const{width:o,height:l}=_a(Lw(r,s)),u=new le(o,l);if(s.absolutePositioned)return{center:Zu(s.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:u};{const a=s.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:c=new le,correction:d=new le}=this.calcBoundingBox(t,e)||{};return{center:c.add(a),correction:d.subtract(a),size:u}}return{center:r.getRelativeCenterPoint().add(a),size:u}}}}It(ib,"type","clip-path"),nr.setClass(ib);class sb extends Mp{getInitialSize(e,t){let{target:r}=e,{size:s}=t;return new le(r.width||s.x,r.height||s.y)}}It(sb,"type","fixed"),nr.setClass(sb);class B7 extends jh{subscribeTargets(e){const t=e.target;e.targets.reduce((r,s)=>(s.parent&&r.add(s.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[t]})})}unsubscribeTargets(e){const t=e.target,r=t.getObjects();e.targets.reduce((s,i)=>(i.parent&&s.add(i.parent),s),new Set).forEach(s=>{!r.some(i=>i.parent===s)&&s.layoutManager.unsubscribeTargets({target:s,targets:[t]})})}}class Kl extends Ql{static getDefaults(){return Ft(Ft({},super.getDefaults()),Kl.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Kl.ownDefaults),this.setOptions(t);const{left:r,top:s,layoutManager:i}=t;this.groupInit(e,{left:r,top:s,layoutManager:i!=null?i:new B7})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...t):t.forEach(s=>{const i=this._objects.findIndex(l=>l.isInFrontOf(s)),o=i===-1?this.size():i;this.insertAt(o,s)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(xl("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}exitGroup(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,t){super._onAfterObjectsChange(e,t);const r=new Set;t.forEach(s=>{const{parent:i}=s;i&&r.add(i)}),e===T1?r.forEach(s=>{s._onAfterObjectsChange(Jd,t)}):r.forEach(s=>{s._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const s=Ft(Ft({hasControls:!1},r),{},{forActiveSelection:!0});for(let i=0;i<this._objects.length;i++)this._objects[i]._renderControls(e,s);super._renderControls(e,t),e.restore()}}It(Kl,"type","ActiveSelection"),It(Kl,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),nr.setClass(Kl),nr.setClass(Kl,"activeSelection");class z7{constructor(){It(this,"resources",{})}applyFilters(e,t,r,s,i){const o=i.getContext("2d");if(!o)return;o.drawImage(t,0,0,r,s);const l={sourceWidth:r,sourceHeight:s,imageData:o.getImageData(0,0,r,s),originalEl:t,originalImageData:o.getImageData(0,0,r,s),canvasEl:i,ctx:o,filterBackend:this};e.forEach(a=>{a.applyTo(l)});const{imageData:u}=l;return u.width===r&&u.height===s||(i.width=u.width,i.height=u.height),o.putImageData(u,0,0),l}}class Kw{constructor(){let{tileSize:e=Zr.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),It(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,t){this.dispose(),this.createWebGLCanvas(e,t)}createWebGLCanvas(e,t){const r=no({width:e,height:t}),s=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});s&&(s.clearColor(0,0,0,0),this.canvas=r,this.gl=s)}applyFilters(e,t,r,s,i,o){const l=this.gl,u=i.getContext("2d");if(!l||!u)return;let a;o&&(a=this.getCachedTexture(o,t));const c={originalWidth:t.width||t.naturalWidth||0,originalHeight:t.height||t.naturalHeight||0,sourceWidth:r,sourceHeight:s,destinationWidth:r,destinationHeight:s,context:l,sourceTexture:this.createTexture(l,r,s,a?void 0:t),targetTexture:this.createTexture(l,r,s),originalTexture:a||this.createTexture(l,r,s,a?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},d=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,d),e.forEach(f=>{f&&f.applyTo(c)}),function(f){const h=f.targetCanvas,p=h.width,y=h.height,m=f.destinationWidth,g=f.destinationHeight;p===m&&y===g||(h.width=m,h.height=g)}(c),this.copyGLTo2D(l,c),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(c.sourceTexture),l.deleteTexture(c.targetTexture),l.deleteFramebuffer(d),u.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,t,r,s,i){const{NEAREST:o,TEXTURE_2D:l,RGBA:u,UNSIGNED_BYTE:a,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:f,TEXTURE_WRAP_S:h,TEXTURE_WRAP_T:p}=e,y=e.createTexture();return e.bindTexture(l,y),e.texParameteri(l,d,i||o),e.texParameteri(l,f,i||o),e.texParameteri(l,h,c),e.texParameteri(l,p,c),s?e.texImage2D(l,0,u,u,a,s):e.texImage2D(l,0,u,t,r,0,u,a,null),y}getCachedTexture(e,t,r){const{textureCache:s}=this;if(s[e])return s[e];{const i=this.createTexture(this.gl,t.width,t.height,t,r);return i&&(s[e]=i),i}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,t){const r=e.canvas,s=t.targetCanvas,i=s.getContext("2d");if(!i)return;i.translate(0,s.height),i.scale(1,-1);const o=r.height-s.height;i.drawImage(r,0,o,s.width,s.height,0,0,s.width,s.height)}copyGLTo2DPutImageData(e,t){const r=t.targetCanvas.getContext("2d"),s=t.destinationWidth,i=t.destinationHeight,o=s*i*4;if(!r)return;const l=new Uint8Array(this.imageBuffer,0,o),u=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,s,i,e.RGBA,e.UNSIGNED_BYTE,l);const a=new ImageData(u,s,i);r.putImageData(a,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,t={renderer:"",vendor:""};if(!e)return t;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const s=e.getParameter(r.UNMASKED_RENDERER_WEBGL),i=e.getParameter(r.UNMASKED_VENDOR_WEBGL);s&&(t.renderer=s.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}let L0;function U7(){const{WebGLProbe:n}=Yo();return n.queryWebGL(Ea()),Zr.enableGLFiltering&&n.isSupported(Zr.textureSize)?new Kw({tileSize:Zr.textureSize}):new z7}function R0(){return!L0&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(L0=U7()),L0}const q7=["filters","resizeFilter","src","crossOrigin","type"],Zw=["cropX","cropY"];class Vs extends Hi{static getDefaults(){return Ft(Ft({},super.getDefaults()),Vs.ownDefaults)}constructor(e,t){super(),It(this,"_lastScaleX",1),It(this,"_lastScaleY",1),It(this,"_filterScalingX",1),It(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Vs.ownDefaults),this.setOptions(t),this.cacheKey="texture".concat(_l()),this.setElement(typeof e=="string"?(this.canvas&&So(this.canvas.getElement())||mc()).getElementById(e):e,t)}getElement(){return this._element}setElement(e){var t;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(r),(t=e.classList)===null||t===void 0||t.add(Vs.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const t=R0(!1);t instanceof Kw&&t.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const t=this[e];t&&Yo().dispose(t),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,-r),e.lineTo(t,-r),e.lineTo(t,r),e.lineTo(-t,r),e.lineTo(-t,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return this.filters.forEach(r=>{r&&t.push(r.toObject())}),Ft(Ft({},super.toObject([...Zw,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],t=this._element,r=-this.width/2,s=-this.height/2;let i=[],o=[],l="",u="";if(!t)return[];if(this.hasCrop()){const a=_l();i.push('<clipPath id="imageCrop_'+a+`">
`,'	<rect x="'+r+'" y="'+s+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+a+')" '}if(this.imageSmoothing||(u=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(s-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(u).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){const a=this.fill;this.fill=null,o=['	<rect x="'.concat(r,'" y="').concat(s,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=a}return i=this.paintFirst!==li?i.concat(o,e):i.concat(e,o),i}getSrc(e){const t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:t,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return hd(e,{crossOrigin:t,signal:r}).then(s=>{t!==void 0&&this.set({crossOrigin:t}),this.setElement(s)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,t=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),s=r.x,i=r.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||s>t&&i>t)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,void(this._lastScaleY=i);const l=no(o),{width:u,height:a}=o;this._element=l,this._lastScaleX=e.scaleX=s,this._lastScaleY=e.scaleY=i,R0().applyFilters([e],o,u,a,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(i=>i&&!i.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const t=this._originalElement,r=t.naturalWidth||t.width,s=t.naturalHeight||t.height;if(this._element===this._originalElement){const i=no({width:r,height:s});this._element=i,this._filteredEl=i}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,s),this._lastScaleX=1,this._lastScaleY=1);R0().applyFilters(e,this._originalElement,r,s,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const t=this._element;if(!t)return;const r=this._filterScalingX,s=this._filterScalingY,i=this.width,o=this.height,l=Math.max(this.cropX,0),u=Math.max(this.cropY,0),a=t.naturalWidth||t.width,c=t.naturalHeight||t.height,d=l*r,f=u*s,h=Math.min(i*r,a-d),p=Math.min(o*s,c-f),y=-i/2,m=-o/2,g=Math.min(i,a/r-l),b=Math.min(o,c/s-u);t&&e.drawImage(t,d,f,h,p,y,m,g,b)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=t||r.height}parsePreserveAspectRatioAttribute(){const e=L_(this.preserveAspectRatio||""),t=this.width,r=this.height,s={width:t,height:r};let i,o=this._element.width,l=this._element.height,u=1,a=1,c=0,d=0,f=0,h=0;return!e||e.alignX===gs&&e.alignY===gs?(u=t/o,a=r/l):(e.meetOrSlice==="meet"&&(u=a=K8(this._element,s),i=(t-o*u)/2,e.alignX==="Min"&&(c=-i),e.alignX==="Max"&&(c=i),i=(r-l*a)/2,e.alignY==="Min"&&(d=-i),e.alignY==="Max"&&(d=i)),e.meetOrSlice==="slice"&&(u=a=Z8(this._element,s),i=o-t/u,e.alignX==="Mid"&&(f=i/2),e.alignX==="Max"&&(f=i),i=l-r/a,e.alignY==="Mid"&&(h=i/2),e.alignY==="Max"&&(h=i),o=t/u,l=r/a)),{width:o,height:l,scaleX:u,scaleY:a,offsetLeft:c,offsetTop:d,cropX:f,cropY:h}}static fromObject(e,t){let{filters:r,resizeFilter:s,src:i,crossOrigin:o,type:l}=e,u=Cn(e,q7);return Promise.all([hd(i,Ft(Ft({},t),{},{crossOrigin:o})),r&&Ch(r,t),s&&Ch([s],t),kp(u,t)]).then(a=>{let[c,d=[],[f]=[],h={}]=a;return new this(c,Ft(Ft({},u),{},{src:i,filters:d,resizeFilter:f},h))})}static fromURL(e){let{crossOrigin:t=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return hd(e,{crossOrigin:t,signal:r}).then(i=>new this(i,s))}static async fromElement(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const s=La(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(s["xlink:href"]||s.href,t,s).catch(i=>(xl("log","Unable to parse Image",i),null))}}It(Vs,"type","Image"),It(Vs,"cacheProperties",[...Pa,...Zw]),It(Vs,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),It(Vs,"CSS_CANVAS","canvas-img"),It(Vs,"ATTRIBUTE_NAMES",[...Ml,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),nr.setClass(Vs),nr.setSVGClass(Vs);Tp(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Ep=n=>n.webgl!==void 0,A1="precision highp float",$7=`
    `.concat(A1,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),H7=["type"],W7=["type"],V7=new RegExp(A1,"g");class ui{get type(){return this.constructor.type}constructor(){let e=Cn(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H7);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return $7}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:s="highp"}}=Yo();s!=="highp"&&(t=t.replace(V7,A1.replace("highp",s)));const i=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),l=e.createProgram();if(!i||!o||!l)throw new $o("Vertex, fragment shader or program creation error");if(e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new $o("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(i)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new $o("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(l,i),e.attachShader(l,o),e.linkProgram(l),!e.getProgramParameter(l,e.LINK_STATUS))throw new $o('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(l)));const u=this.getUniformLocations(e,l)||{};return u.uStepW=e.getUniformLocation(l,"uStepW"),u.uStepH=e.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(e,l),uniformLocations:u}}getAttributeLocations(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}getUniformLocations(e,t){const r=this.constructor.uniformLocations,s={};for(let i=0;i<r.length;i++)s[r[i]]=e.getUniformLocation(t,r[i]);return s}sendAttributeData(e,t,r){const s=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const t=e.context;if(e.passes>1){const r=e.destinationWidth,s=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===s||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,r,s)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}_swapTextures(e){e.passes--,e.pass++;const t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}isNeutralState(e){return!1}applyTo(e){Ep(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}applyToWebGL(e){const t=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(r.program),this.sendAttributeData(t,r.attributeLocations,e.aPosition),t.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,r.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,t,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,t){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:t,sourceHeight:r}=e,s=no({width:t,height:r});e.helpLayer=s}}toObject(){const e=Object.keys(this.constructor.defaults||{});return Ft({type:this.type},e.reduce((t,r)=>(t[r]=this[r],t),{}))}toJSON(){return this.toObject()}static async fromObject(e,t){return new this(Cn(e,W7))}}It(ui,"type","BaseFilter"),It(ui,"uniformLocations",[]);const X7={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Ef extends ui{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(X7[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:t}}=e;const r=new an(this.color).getSource(),s=this.alpha,i=r[0]*s,o=r[1]*s,l=r[2]*s,u=1-s;for(let a=0;a<t.length;a+=4){const c=t[a],d=t[a+1],f=t[a+2];let h,p,y;switch(this.mode){case"multiply":h=c*i/255,p=d*o/255,y=f*l/255;break;case"screen":h=255-(255-c)*(255-i)/255,p=255-(255-d)*(255-o)/255,y=255-(255-f)*(255-l)/255;break;case"add":h=c+i,p=d+o,y=f+l;break;case"difference":h=Math.abs(c-i),p=Math.abs(d-o),y=Math.abs(f-l);break;case"subtract":h=c-i,p=d-o,y=f-l;break;case"darken":h=Math.min(c,i),p=Math.min(d,o),y=Math.min(f,l);break;case"lighten":h=Math.max(c,i),p=Math.max(d,o),y=Math.max(f,l);break;case"overlay":h=i<128?2*c*i/255:255-2*(255-c)*(255-i)/255,p=o<128?2*d*o/255:255-2*(255-d)*(255-o)/255,y=l<128?2*f*l/255:255-2*(255-f)*(255-l)/255;break;case"exclusion":h=i+c-2*i*c/255,p=o+d-2*o*d/255,y=l+f-2*l*f/255;break;case"tint":h=i+c*u,p=o+d*u,y=l+f*u}t[a]=h,t[a+1]=p,t[a+2]=y}}sendUniformData(e,t){const r=new an(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(t.uColor,r)}}It(Ef,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),It(Ef,"type","BlendColor"),It(Ef,"uniformLocations",["uColor"]),nr.setClass(Ef);const Y7={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},G7=["type","image"];class Nf extends ui{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Y7[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const t=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,r,t.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(t,t.TEXTURE1)}createTexture(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}calculateMatrix(){const e=this.image,{width:t,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/r,1]}applyTo2d(e){let{imageData:{data:t,width:r,height:s},filterBackend:{resources:i}}=e;const o=this.image;i.blendImage||(i.blendImage=Ea());const l=i.blendImage,u=l.getContext("2d");l.width!==r||l.height!==s?(l.width=r,l.height=s):u.clearRect(0,0,r,s),u.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),u.drawImage(o.getElement(),0,0,r,s);const a=u.getImageData(0,0,r,s).data;for(let c=0;c<t.length;c+=4){const d=t[c],f=t[c+1],h=t[c+2],p=t[c+3],y=a[c],m=a[c+1],g=a[c+2],b=a[c+3];switch(this.mode){case"multiply":t[c]=d*y/255,t[c+1]=f*m/255,t[c+2]=h*g/255,t[c+3]=p*b/255;break;case"mask":t[c+3]=b}}}sendUniformData(e,t){const r=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,r)}toObject(){return Ft(Ft({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,t){let{type:r,image:s}=e,i=Cn(e,G7);return Vs.fromObject(s,t).then(o=>new this(Ft(Ft({},i),{},{image:o})))}}It(Nf,"type","BlendImage"),It(Nf,"defaults",{mode:"multiply",alpha:1}),It(Nf,"uniformLocations",["uTransformMatrix","uImage"]),nr.setClass(Nf);class Of extends ui{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){Ep(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:t,width:r,height:s}}=e;this.aspectRatio=r/s,this.horizontal=!0;let i=this.getBlurValue()*r;const o=new Uint8ClampedArray(t),l=15,u=4*r;for(let a=0;a<t.length;a+=4){let c=0,d=0,f=0,h=0,p=0;const y=a-a%u,m=y+u;for(let g=-14;g<l;g++){const b=g/l,w=4*Math.floor(i*b),C=1-Math.abs(b);let j=a+w;j<y?j=y:j>m&&(j=m);const I=t[j+3]*C;c+=t[j]*I,d+=t[j+1]*I,f+=t[j+2]*I,h+=I,p+=C}o[a]=c/h,o[a+1]=d/h,o[a+2]=f/h,o[a+3]=h/p}this.horizontal=!1,i=this.getBlurValue()*s;for(let a=0;a<o.length;a+=4){let c=0,d=0,f=0,h=0,p=0;const y=a%u,m=o.length-u+y;for(let g=-14;g<l;g++){const b=g/l,w=Math.floor(i*b)*u,C=1-Math.abs(b);let j=a+w;j<y?j=y:j>m&&(j=m);const I=o[j+3]*C;c+=o[j]*I,d+=o[j+1]*I,f+=o[j+2]*I,h+=I,p+=C}t[a]=c/h,t[a+1]=d/h,t[a+2]=f/h,t[a+3]=h/p}}sendUniformData(e,t){const r=this.chooseRightDelta();e.uniform2fv(t.uDelta,r)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:t,aspectRatio:r}=this;return t?r>1&&(e=1/r):r<1&&(e=r),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}It(Of,"type","Blur"),It(Of,"defaults",{blur:0}),It(Of,"uniformLocations",["uDelta"]),nr.setClass(Of);class Pf extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=Math.round(255*this.brightness);for(let s=0;s<t.length;s+=4)t[s]+=r,t[s+1]+=r,t[s+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(e,t){e.uniform1f(t.uBrightness,this.brightness)}}It(Pf,"type","Brightness"),It(Pf,"defaults",{brightness:0}),It(Pf,"uniformLocations",["uBrightness"]),nr.setClass(Pf);const Jw={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class $u extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const t=e.imageData.data,r=this.matrix,s=this.colorsOnly;for(let i=0;i<t.length;i+=4){const o=t[i],l=t[i+1],u=t[i+2];if(t[i]=o*r[0]+l*r[1]+u*r[2]+255*r[4],t[i+1]=o*r[5]+l*r[6]+u*r[7]+255*r[9],t[i+2]=o*r[10]+l*r[11]+u*r[12]+255*r[14],!s){const a=t[i+3];t[i]+=a*r[3],t[i+1]+=a*r[8],t[i+2]+=a*r[13],t[i+3]=o*r[15]+l*r[16]+u*r[17]+a*r[18]+255*r[19]}}}sendUniformData(e,t){const r=this.matrix,s=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],i=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,s),e.uniform4fv(t.uConstants,i)}toObject(){return Ft(Ft({},super.toObject()),{},{matrix:[...this.matrix]})}}function cu(n,e){var t;const r=(It(t=class extends $u{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",n),It(t,"defaults",{colorsOnly:!1,matrix:e}),t);return nr.setClass(r,n),r}It($u,"type","ColorMatrix"),It($u,"defaults",Jw),It($u,"uniformLocations",["uColorMatrix","uConstants"]),nr.setClass($u);cu("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);cu("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);cu("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);cu("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);cu("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);cu("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);cu("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class ob extends ui{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){Ep(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,t){return Promise.all((e.subFilters||[]).map(r=>nr.getClass(r.type).fromObject(r,t))).then(r=>new this({subFilters:r}))}}It(ob,"type","Composed"),nr.setClass(ob);class Lf extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:t}}=e;const r=Math.floor(255*this.contrast),s=259*(r+255)/(255*(259-r));for(let i=0;i<t.length;i+=4)t[i]=s*(t[i]-128)+128,t[i+1]=s*(t[i+1]-128)+128,t[i+2]=s*(t[i+2]-128)+128}sendUniformData(e,t){e.uniform1f(t.uContrast,this.contrast)}}It(Lf,"type","Contrast"),It(Lf,"defaults",{contrast:0}),It(Lf,"uniformLocations",["uContrast"]),nr.setClass(Lf);const K7={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Rf extends ui{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return K7[this.getCacheKey()]}applyTo2d(e){const t=e.imageData,r=t.data,s=this.matrix,i=Math.round(Math.sqrt(s.length)),o=Math.floor(i/2),l=t.width,u=t.height,a=e.ctx.createImageData(l,u),c=a.data,d=this.opaque?1:0;let f,h,p,y,m,g,b,w,C,j,I,q,P;for(I=0;I<u;I++)for(j=0;j<l;j++){for(m=4*(I*l+j),f=0,h=0,p=0,y=0,P=0;P<i;P++)for(q=0;q<i;q++)b=I+P-o,g=j+q-o,b<0||b>=u||g<0||g>=l||(w=4*(b*l+g),C=s[P*i+q],f+=r[w]*C,h+=r[w+1]*C,p+=r[w+2]*C,d||(y+=r[w+3]*C));c[m]=f,c[m+1]=h,c[m+2]=p,c[m+3]=d?r[m+3]:y}e.imageData=a}sendUniformData(e,t){e.uniform1fv(t.uMatrix,this.matrix)}toObject(){return Ft(Ft({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}It(Rf,"type","Convolute"),It(Rf,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),It(Rf,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),nr.setClass(Rf);const Qw="Gamma";class Df extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:t}}=e;const r=this.gamma,s=1/r[0],i=1/r[1],o=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const l=this.rgbValues;for(let u=0;u<256;u++)l.r[u]=255*Math.pow(u/255,s),l.g[u]=255*Math.pow(u/255,i),l.b[u]=255*Math.pow(u/255,o);for(let u=0;u<t.length;u+=4)t[u]=l.r[t[u]],t[u+1]=l.g[t[u+1]],t[u+2]=l.b[t[u+2]]}sendUniformData(e,t){e.uniform3fv(t.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:Qw,gamma:this.gamma.concat()}}}It(Df,"type",Qw),It(Df,"defaults",{gamma:[1,1,1]}),It(Df,"uniformLocations",["uGamma"]),nr.setClass(Df);const Z7={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class If extends ui{applyTo2d(e){let{imageData:{data:t}}=e;for(let r,s=0;s<t.length;s+=4){const i=t[s],o=t[s+1],l=t[s+2];switch(this.mode){case"average":r=(i+o+l)/3;break;case"lightness":r=(Math.min(i,o,l)+Math.max(i,o,l))/2;break;case"luminosity":r=.21*i+.72*o+.07*l}t[s+2]=t[s+1]=t[s]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Z7[this.mode]}sendUniformData(e,t){e.uniform1i(t.uMode,1)}isNeutralState(){return!1}}It(If,"type","Grayscale"),It(If,"defaults",{mode:"average"}),It(If,"uniformLocations",["uMode"]),nr.setClass(If);const J7=Ft(Ft({},Jw),{},{rotation:0});class D0 extends $u{calculateMatrix(){const e=this.rotation*Math.PI,t=Ma(e),r=ja(e),s=1/3,i=Math.sqrt(s)*r,o=1-t;this.matrix=[t+o/3,s*o-i,s*o+i,0,0,s*o+i,t+s*o,s*o-i,0,0,s*o-i,s*o+i,t+s*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}It(D0,"type","HueRotation"),It(D0,"defaults",J7),nr.setClass(D0);class Ff extends ui{applyTo2d(e){let{imageData:{data:t}}=e;for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2],this.alpha&&(t[r+3]=255-t[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}It(Ff,"type","Invert"),It(Ff,"defaults",{alpha:!1,invert:!0}),It(Ff,"uniformLocations",["uInvert","uAlpha"]),nr.setClass(Ff);class Bf extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=this.noise;for(let s=0;s<t.length;s+=4){const i=(.5-Math.random())*r;t[s]+=i,t[s+1]+=i,t[s+2]+=i}}sendUniformData(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}isNeutralState(){return this.noise===0}}It(Bf,"type","Noise"),It(Bf,"defaults",{noise:0}),It(Bf,"uniformLocations",["uNoise","uSeed"]),nr.setClass(Bf);class zf extends ui{applyTo2d(e){let{imageData:{data:t,width:r,height:s}}=e;for(let i=0;i<s;i+=this.blocksize)for(let o=0;o<r;o+=this.blocksize){const l=4*i*r+4*o,u=t[l],a=t[l+1],c=t[l+2],d=t[l+3];for(let f=i;f<Math.min(i+this.blocksize,s);f++)for(let h=o;h<Math.min(o+this.blocksize,r);h++){const p=4*f*r+4*h;t[p]=u,t[p+1]=a,t[p+2]=c,t[p+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}It(zf,"type","Pixelate"),It(zf,"defaults",{blocksize:4}),It(zf,"uniformLocations",["uBlocksize"]),nr.setClass(zf);class Uf extends ui{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=255*this.distance,s=new an(this.color).getSource(),i=[s[0]-r,s[1]-r,s[2]-r],o=[s[0]+r,s[1]+r,s[2]+r];for(let l=0;l<t.length;l+=4){const u=t[l],a=t[l+1],c=t[l+2];u>i[0]&&a>i[1]&&c>i[2]&&u<o[0]&&a<o[1]&&c<o[2]&&(t[l+3]=0)}}sendUniformData(e,t){const r=new an(this.color).getSource(),s=this.distance,i=[0+r[0]/255-s,0+r[1]/255-s,0+r[2]/255-s,1],o=[r[0]/255+s,r[1]/255+s,r[2]/255+s,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,o)}}It(Uf,"type","RemoveColor"),It(Uf,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),It(Uf,"uniformLocations",["uLow","uHigh"]),nr.setClass(Uf);class qf extends ui{sendUniformData(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,r=this.getFilterWindow(),s=new Array(r);for(let i=1;i<=r;i++)s[i-1]=e(i*t);return s}generateShader(e){const t=new Array(e);for(let r=1;r<=e;r++)t[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(t.map((r,s)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(s,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(s,`];
              sum += 2.0 * uTaps[`).concat(s,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){Ep(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return t=>{if(t>=e||t<=-e)return 0;if(t<11920929e-14&&t>-11920929e-14)return 1;const r=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(r)/r}}applyTo2d(e){const t=e.imageData,r=this.scaleX,s=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/s;const i=t.width,o=t.height,l=Math.round(i*r),u=Math.round(o*s);let a;a=this.resizeType==="sliceHack"?this.sliceByTwo(e,i,o,l,u):this.resizeType==="hermite"?this.hermiteFastResize(e,i,o,l,u):this.resizeType==="bilinear"?this.bilinearFiltering(e,i,o,l,u):this.resizeType==="lanczos"?this.lanczosResize(e,i,o,l,u):new ImageData(l,u),e.imageData=a}sliceByTwo(e,t,r,s,i){const o=e.imageData,l=.5;let u=!1,a=!1,c=t*l,d=r*l;const f=e.filterBackend.resources;let h=0,p=0;const y=t;let m=0;f.sliceByTwo||(f.sliceByTwo=Ea());const g=f.sliceByTwo;(g.width<1.5*t||g.height<r)&&(g.width=1.5*t,g.height=r);const b=g.getContext("2d");for(b.clearRect(0,0,1.5*t,r),b.putImageData(o,0,0),s=Math.floor(s),i=Math.floor(i);!u||!a;)t=c,r=d,s<Math.floor(c*l)?c=Math.floor(c*l):(c=s,u=!0),i<Math.floor(d*l)?d=Math.floor(d*l):(d=i,a=!0),b.drawImage(g,h,p,t,r,y,m,c,d),h=y,p=m,m+=d;return b.getImageData(h,p,s,i)}lanczosResize(e,t,r,s,i){const o=e.imageData.data,l=e.ctx.createImageData(s,i),u=l.data,a=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,d=this.rcpScaleY,f=2/this.rcpScaleX,h=2/this.rcpScaleY,p=Math.ceil(c*this.lanczosLobes/2),y=Math.ceil(d*this.lanczosLobes/2),m={},g={x:0,y:0},b={x:0,y:0};return function w(C){let j,I,q,P,U,W,z,R,T,E,k;for(g.x=(C+.5)*c,b.x=Math.floor(g.x),j=0;j<i;j++){for(g.y=(j+.5)*d,b.y=Math.floor(g.y),U=0,W=0,z=0,R=0,T=0,I=b.x-p;I<=b.x+p;I++)if(!(I<0||I>=t)){E=Math.floor(1e3*Math.abs(I-g.x)),m[E]||(m[E]={});for(let v=b.y-y;v<=b.y+y;v++)v<0||v>=r||(k=Math.floor(1e3*Math.abs(v-g.y)),m[E][k]||(m[E][k]=a(Math.sqrt(Math.pow(E*f,2)+Math.pow(k*h,2))/1e3)),q=m[E][k],q>0&&(P=4*(v*t+I),U+=q,W+=q*o[P],z+=q*o[P+1],R+=q*o[P+2],T+=q*o[P+3]))}P=4*(j*s+C),u[P]=W/U,u[P+1]=z/U,u[P+2]=R/U,u[P+3]=T/U}return++C<s?w(C):l}(0)}bilinearFiltering(e,t,r,s,i){let o,l,u,a,c,d,f,h,p,y,m,g,b,w=0;const C=this.rcpScaleX,j=this.rcpScaleY,I=4*(t-1),q=e.imageData.data,P=e.ctx.createImageData(s,i),U=P.data;for(f=0;f<i;f++)for(h=0;h<s;h++)for(c=Math.floor(C*h),d=Math.floor(j*f),p=C*h-c,y=j*f-d,b=4*(d*t+c),m=0;m<4;m++)o=q[b+m],l=q[b+4+m],u=q[b+I+m],a=q[b+I+4+m],g=o*(1-p)*(1-y)+l*p*(1-y)+u*y*(1-p)+a*p*y,U[w++]=g;return P}hermiteFastResize(e,t,r,s,i){const o=this.rcpScaleX,l=this.rcpScaleY,u=Math.ceil(o/2),a=Math.ceil(l/2),c=e.imageData.data,d=e.ctx.createImageData(s,i),f=d.data;for(let h=0;h<i;h++)for(let p=0;p<s;p++){const y=4*(p+h*s);let m=0,g=0,b=0,w=0,C=0,j=0,I=0;const q=(h+.5)*l;for(let P=Math.floor(h*l);P<(h+1)*l;P++){const U=Math.abs(q-(P+.5))/a,W=(p+.5)*o,z=U*U;for(let R=Math.floor(p*o);R<(p+1)*o;R++){let T=Math.abs(W-(R+.5))/u;const E=Math.sqrt(z+T*T);E>1&&E<-1||(m=2*E*E*E-3*E*E+1,m>0&&(T=4*(R+P*t),I+=m*c[T+3],b+=m,c[T+3]<255&&(m=m*c[T+3]/250),w+=m*c[T],C+=m*c[T+1],j+=m*c[T+2],g+=m))}}f[y]=w/g,f[y+1]=C/g,f[y+2]=j/g,f[y+3]=I/b}return d}}It(qf,"type","Resize"),It(qf,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),It(qf,"uniformLocations",["uDelta","uTaps"]),nr.setClass(qf);class $f extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=-this.saturation;for(let s=0;s<t.length;s+=4){const i=t[s],o=t[s+1],l=t[s+2],u=Math.max(i,o,l);t[s]+=u!==i?(u-i)*r:0,t[s+1]+=u!==o?(u-o)*r:0,t[s+2]+=u!==l?(u-l)*r:0}}sendUniformData(e,t){e.uniform1f(t.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}It($f,"type","Saturation"),It($f,"defaults",{saturation:0}),It($f,"uniformLocations",["uSaturation"]),nr.setClass($f);class Hf extends ui{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:t}}=e;const r=-this.vibrance;for(let s=0;s<t.length;s+=4){const i=t[s],o=t[s+1],l=t[s+2],u=Math.max(i,o,l),a=(i+o+l)/3,c=2*Math.abs(u-a)/255*r;t[s]+=u!==i?(u-i)*c:0,t[s+1]+=u!==o?(u-o)*c:0,t[s+2]+=u!==l?(u-l)*c:0}}sendUniformData(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}It(Hf,"type","Vibrance"),It(Hf,"defaults",{vibrance:0}),It(Hf,"uniformLocations",["uVibrance"]),nr.setClass(Hf);const I0=20;function Q7(n,e,t,r,s,i){const o=[];switch(n){case"filet":{if(o.push(new ti({left:e,top:t,width:r,height:r,fill:s,selectable:!1,evented:!1})),s!=="transparent"){const l=r*.15;o.push(new cs([e+l,t+l,e+r-l,t+r-l],{stroke:"#333",strokeWidth:Math.max(1,r*.08),selectable:!1,evented:!1})),o.push(new cs([e+r-l,t+l,e+l,t+r-l],{stroke:"#333",strokeWidth:Math.max(1,r*.08),selectable:!1,evented:!1}))}break}case"mosaic":{if(o.push(new ti({left:e,top:t,width:r,height:r,fill:s,selectable:!1,evented:!1})),i){const l=r*.2;o.push(new cs([e+l,t+l,e+r-l,t+r-l],{stroke:"#000",strokeWidth:Math.max(2,r*.1),selectable:!1,evented:!1})),o.push(new cs([e+r-l,t+l,e+l,t+r-l],{stroke:"#000",strokeWidth:Math.max(2,r*.1),selectable:!1,evented:!1}))}break}case"c2c":{const l=e+r/2,u=t+r/2,a=`M ${l} ${t+r*.05} L ${e+r*.95} ${u} L ${l} ${t+r*.95} L ${e+r*.05} ${u} Z`;o.push(new Ks(a,{fill:s,stroke:"#666",strokeWidth:1,selectable:!1,evented:!1}));break}case"tunisian":{o.push(new ti({left:e,top:t,width:r,height:r,fill:s,selectable:!1,evented:!1})),s!=="transparent"&&o.push(new cs([e+r/2,t+r*.1,e+r/2,t+r*.9],{stroke:"rgba(0,0,0,0.3)",strokeWidth:Math.max(1,r*.05),selectable:!1,evented:!1}));break}default:o.push(new ti({left:e,top:t,width:r,height:r,fill:s,selectable:!1,evented:!1}))}return o}function tS(){const n=Te.useRef(null),e=Te.useRef(null),t=Te.useRef(null),r=be(_=>_.project),s=be(_=>_.zoom),i=be(_=>_.panOffset),o=be(_=>_.setPanOffset),l=be(_=>_.activeTool),u=be(_=>_.activeColorId),a=be(_=>_.setCell),c=be(_=>_.selection),d=be(_=>_.setSelection),[f,h]=Te.useState(null),p=Te.useRef(!1),y=Te.useRef(null),m=Te.useRef(new Set),g=Te.useRef(null),b=Te.useRef(null),w=Te.useRef(null);Te.useEffect(()=>{if(!n.current||!t.current)return;const _=new ep(n.current,{selection:!1,renderOnAddRemove:!1,skipOffscreen:!0});e.current=_;const x=new ResizeObserver(()=>{if(t.current&&e.current){const{width:S,height:A}=t.current.getBoundingClientRect();e.current.setDimensions({width:S,height:A}),C()}});return x.observe(t.current),()=>{x.disconnect(),_.dispose(),e.current=null}},[]);const C=Te.useCallback(()=>{var st,pt;const _=e.current;if(!_||!(r!=null&&r.grid)||!r.settings)return;const{width:x,height:S}=r.settings,{cells:A}=r.grid,B=r.settings.gridLines;_.clear();const M=I0*s,H=i.x,V=i.y,tt=_.width||800,F=_.height||600,J=Math.max(0,Math.floor(-H/M)),L=Math.min(x,Math.ceil((tt-H)/M)),N=Math.max(0,Math.floor(-V/M)),Y=Math.min(S,Math.ceil((F-V)/M)),nt=r.chartType;for(let ft=N;ft<Y;ft++)for(let it=J;it<L;it++){const at=(st=A[ft])==null?void 0:st[it];if(at!=null&&at.colorId){const bt=(pt=r.palette.find(gt=>gt.id===at.colorId))==null?void 0:pt.color;if(bt){const gt=H+it*M,St=V+ft*M,kt=!!at.symbolId;Q7(nt,gt,St,M,bt,kt).forEach(Lt=>_.add(Lt))}}}if(B.show){for(let ft=J;ft<=L;ft++){const it=H+ft*M,at=B.highlight10&&ft%10===0,bt=B.highlight5&&ft%5===0&&!at,gt=new cs([it,V+N*M,it,V+Y*M],{stroke:at?B.highlight10Color:bt?B.highlight5Color:B.color,strokeWidth:at?2:bt?1.5:B.thickness,selectable:!1,evented:!1});_.add(gt)}for(let ft=N;ft<=Y;ft++){const it=V+ft*M,at=B.highlight10&&ft%10===0,bt=B.highlight5&&ft%5===0&&!at,gt=new cs([H+J*M,it,H+L*M,it],{stroke:at?B.highlight10Color:bt?B.highlight5Color:B.color,strokeWidth:at?2:bt?1.5:B.thickness,selectable:!1,evented:!1});_.add(gt)}}if(r.settings.showNumbers){const ft=Math.max(8,Math.min(14,M*.5)),it=4,at="#666666";for(let bt=N;bt<Y;bt++){const gt=S-bt,St=V+bt*M+M/2,kt=new si(String(gt),{left:H-it,top:St,fontSize:ft,fill:at,fontFamily:"monospace",originX:"right",originY:"center",selectable:!1,evented:!1});_.add(kt);const Tt=new si(String(gt),{left:H+x*M+it,top:St,fontSize:ft,fill:at,fontFamily:"monospace",originX:"left",originY:"center",selectable:!1,evented:!1});_.add(Tt)}for(let bt=J;bt<L;bt++){const gt=x-bt,St=H+bt*M+M/2,kt=new si(String(gt),{left:St,top:V-it,fontSize:ft,fill:at,fontFamily:"monospace",originX:"center",originY:"bottom",selectable:!1,evented:!1});_.add(kt);const Tt=new si(String(gt),{left:St,top:V+S*M+it,fontSize:ft,fill:at,fontFamily:"monospace",originX:"center",originY:"top",selectable:!1,evented:!1});_.add(Tt)}}if(nt==="tunisian")for(let ft=N;ft<Y;ft++){const it=ft%2===1,at=H-25,bt=V+ft*M+M/2;if(at>-30){const gt=it?`M ${at+20} ${bt} L ${at+5} ${bt} L ${at+10} ${bt-4} M ${at+5} ${bt} L ${at+10} ${bt+4}`:`M ${at+5} ${bt} L ${at+20} ${bt} L ${at+15} ${bt-4} M ${at+20} ${bt} L ${at+15} ${bt+4}`,St=new Ks(gt,{stroke:it?"#E11D48":"#2563EB",strokeWidth:2,fill:"transparent",selectable:!1,evented:!1});_.add(St)}}const lt=r.progressTracker;if(lt&&lt.darkenMode!=="none"){const{currentRow:ft,darkenMode:it,brightness:at}=lt,bt=(100-at)/100;for(let St=N;St<Y;St++){let kt=!1;switch(it){case"done":kt=St<ft;break;case"todo":kt=St>ft;break;case"except-current":kt=St!==ft;break}if(kt){const Tt=new ti({left:H+J*M,top:V+St*M,width:(L-J)*M,height:M,fill:`rgba(0, 0, 0, ${bt})`,selectable:!1,evented:!1});_.add(Tt)}}const gt=new ti({left:H,top:V+ft*M,width:x*M,height:M,fill:"transparent",stroke:"#22C55E",strokeWidth:3,selectable:!1,evented:!1});_.add(gt)}if(c){const ft=Math.min(c.startRow,c.endRow),it=Math.max(c.startRow,c.endRow),at=Math.min(c.startCol,c.endCol),bt=Math.max(c.startCol,c.endCol),gt=new ti({left:H+at*M,top:V+ft*M,width:(bt-at+1)*M,height:(it-ft+1)*M,fill:"rgba(59, 130, 246, 0.2)",stroke:"#3B82F6",strokeWidth:2,strokeDashArray:[5,5],selectable:!1,evented:!1});_.add(gt)}_.renderAll()},[r,s,i,c]);Te.useEffect(()=>{C()},[C]);const j=Te.useCallback(_=>{if(!t.current||!(r!=null&&r.settings))return null;const x=t.current.getBoundingClientRect(),S=_.clientX-x.left-i.x,A=_.clientY-x.top-i.y,B=I0*s,M=Math.floor(S/B),H=Math.floor(A/B);return M>=0&&M<r.settings.width&&H>=0&&H<r.settings.height?{row:H,col:M}:null},[s,i,r==null?void 0:r.settings]),I=Te.useCallback(_=>{if(h(null),l==="pan"){p.current=!0,y.current={row:_.clientY,col:_.clientX};return}if(l==="select"){const A=j(_);if(!A)return;p.current=!0,g.current=A,d({startRow:A.row,startCol:A.col,endRow:A.row,endCol:A.col});return}if(l!=="draw"&&l!=="erase")return;const x=j(_);if(!x)return;p.current=!0,m.current.clear(),y.current=x;const S=l==="draw"?u:null;a(x.row,x.col,S),m.current.add(`${x.row},${x.col}`)},[l,u,j,a,d]),q=Te.useCallback(_=>{if(!p.current)return;if(l==="pan"&&y.current){const B=_.clientX-y.current.col,M=_.clientY-y.current.row;o({x:i.x+B,y:i.y+M}),y.current={row:_.clientY,col:_.clientX};return}if(l==="select"&&g.current){const B=j(_);if(!B)return;d({startRow:g.current.row,startCol:g.current.col,endRow:B.row,endCol:B.col});return}if(l!=="draw"&&l!=="erase")return;const x=j(_);if(!x)return;const S=`${x.row},${x.col}`;if(m.current.has(S))return;const A=l==="draw"?u:null;a(x.row,x.col,A),m.current.add(S),y.current=x},[l,u,j,a,i,o,d]),P=Te.useCallback(()=>{p.current=!1,y.current=null,m.current.clear(),g.current=null},[]),U=Te.useCallback(_=>{_.preventDefault(),c&&h({x:_.clientX,y:_.clientY})},[c]),W=Te.useCallback(_=>{if(_.altKey||_.ctrlKey){_.preventDefault();const x=_.deltaY>0?-.1:.1,S=Math.max(.1,Math.min(10,s+x));be.getState().setZoom(S)}},[s]),z=Te.useCallback(_=>{var S;const x=j(_);if(!(!x||!(r!=null&&r.grid)))if(l==="eyedropper"){const A=(S=r.grid.cells[x.row])==null?void 0:S[x.col];A!=null&&A.colorId&&(be.getState().setActiveColor(A.colorId),be.getState().setActiveTool("draw"))}else l==="fill"&&be.getState().floodFill(x.row,x.col,u)},[l,u,j,r==null?void 0:r.grid]),R=Te.useCallback(_=>{if(!t.current||!(r!=null&&r.settings))return null;const x=t.current.getBoundingClientRect(),S=_.clientX-x.left-i.x,A=_.clientY-x.top-i.y,B=I0*s,M=Math.floor(S/B),H=Math.floor(A/B);return M>=0&&M<r.settings.width&&H>=0&&H<r.settings.height?{row:H,col:M}:null},[s,i,r==null?void 0:r.settings]),T=Te.useCallback(_=>{var B;if(h(null),_.touches.length===2){const M=_.touches[0],H=_.touches[1],V=Math.hypot(H.clientX-M.clientX,H.clientY-M.clientY);b.current=V,w.current={x:(M.clientX+H.clientX)/2,y:(M.clientY+H.clientY)/2};return}if(_.touches.length!==1)return;const x=_.touches[0];if(l==="pan"){p.current=!0,w.current={x:x.clientX,y:x.clientY};return}if(l==="select"){const M=R(x);if(!M)return;p.current=!0,g.current=M,d({startRow:M.row,startCol:M.col,endRow:M.row,endCol:M.col});return}if(l==="eyedropper"||l==="fill"){const M=R(x);if(!M||!(r!=null&&r.grid))return;if(l==="eyedropper"){const H=(B=r.grid.cells[M.row])==null?void 0:B[M.col];H!=null&&H.colorId&&(be.getState().setActiveColor(H.colorId),be.getState().setActiveTool("draw"))}else be.getState().floodFill(M.row,M.col,u);return}if(l!=="draw"&&l!=="erase")return;const S=R(x);if(!S)return;p.current=!0,m.current.clear(),y.current=S;const A=l==="draw"?u:null;a(S.row,S.col,A),m.current.add(`${S.row},${S.col}`)},[l,u,R,a,d,r==null?void 0:r.grid]),E=Te.useCallback(_=>{if(_.touches.length===2){_.preventDefault();const M=_.touches[0],H=_.touches[1],V=Math.hypot(H.clientX-M.clientX,H.clientY-M.clientY);if(b.current!==null){const tt=V/b.current,F=Math.max(.1,Math.min(10,s*tt));be.getState().setZoom(F)}b.current=V;return}if(!p.current||_.touches.length!==1)return;const x=_.touches[0];if(l==="pan"&&w.current){const M=x.clientX-w.current.x,H=x.clientY-w.current.y;o({x:i.x+M,y:i.y+H}),w.current={x:x.clientX,y:x.clientY};return}if(l==="select"&&g.current){const M=R(x);if(!M)return;d({startRow:g.current.row,startCol:g.current.col,endRow:M.row,endCol:M.col});return}if(l!=="draw"&&l!=="erase")return;const S=R(x);if(!S)return;const A=`${S.row},${S.col}`;if(m.current.has(A))return;const B=l==="draw"?u:null;a(S.row,S.col,B),m.current.add(A),y.current=S},[l,u,R,a,i,o,d,s]),k=Te.useCallback(()=>{p.current=!1,y.current=null,m.current.clear(),g.current=null,b.current=null,w.current=null},[]),v=()=>{switch(l){case"draw":return"crosshair";case"erase":return"crosshair";case"fill":return"crosshair";case"select":return"crosshair";case"pan":return"grab";case"eyedropper":return"crosshair";default:return"default"}};return Z.jsxs("div",{ref:t,className:"w-full h-full overflow-hidden bg-gray-100 dark:bg-gray-900 relative touch-none",style:{cursor:v()},onMouseDown:I,onMouseMove:q,onMouseUp:P,onMouseLeave:P,onWheel:W,onClick:z,onContextMenu:U,onTouchStart:T,onTouchMove:E,onTouchEnd:k,onTouchCancel:k,children:[Z.jsx("canvas",{ref:n}),f&&c&&Z.jsx(eS,{x:f.x,y:f.y,onClose:()=>h(null)})]})}function eS({x:n,y:e,onClose:t}){const r=be(w=>w.copySelection),s=be(w=>w.pasteSelection),i=be(w=>w.fillSelection),o=be(w=>w.mirrorSelectionH),l=be(w=>w.mirrorSelectionV),u=be(w=>w.clearSelection),a=be(w=>w.activeColorId),c=be(w=>w.clipboard),d=Te.useRef(null);Te.useEffect(()=>{const w=C=>{d.current&&!d.current.contains(C.target)&&t()};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[t]);const f=()=>{r(),t()},h=()=>{s(),t()},p=()=>{i(a),t()},y=()=>{i(null),t()},m=()=>{o(),t()},g=()=>{l(),t()},b=()=>{u(),t()};return Z.jsxs("div",{ref:d,className:"fixed bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 z-50 min-w-40",style:{left:n,top:e},children:[Z.jsxs("button",{onClick:f,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[Z.jsx("span",{className:"w-4",children:""})," Copy",Z.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Ctrl+C"})]}),Z.jsxs("button",{onClick:h,disabled:!c,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[Z.jsx("span",{className:"w-4",children:""})," Paste",Z.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Ctrl+V"})]}),Z.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),Z.jsxs("button",{onClick:p,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[Z.jsx("span",{className:"w-4",children:""})," Fill with Color"]}),Z.jsxs("button",{onClick:y,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[Z.jsx("span",{className:"w-4",children:""})," Clear",Z.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Del"})]}),Z.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),Z.jsxs("button",{onClick:m,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[Z.jsx("span",{className:"w-4",children:""})," Mirror Horizontal"]}),Z.jsxs("button",{onClick:g,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[Z.jsx("span",{className:"w-4",children:""})," Mirror Vertical"]}),Z.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),Z.jsxs("button",{onClick:b,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[Z.jsx("span",{className:"w-4",children:""})," Deselect",Z.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"Esc"})]})]})}const ab=40,Bl=50;function rS(){const n=Te.useRef(null),e=Te.useRef(null),t=Te.useRef(null),r=be(k=>k.project),s=be(k=>k.zoom),i=be(k=>k.panOffset),o=be(k=>k.setPanOffset),l=be(k=>k.activeTool),u=be(k=>k.activeSymbolId),a=be(k=>k.selectedSymbolInstanceId),c=be(k=>k.setSelectedSymbolInstance),d=be(k=>k.addPlacedSymbol),f=be(k=>k.movePlacedSymbol),h=be(k=>k.removePlacedSymbol),p=be(k=>k.rotatePlacedSymbol),y=be(k=>k.scalePlacedSymbol),m=ou(k=>k.isDarkMode),[g,b]=Te.useState(!1),[w,C]=Te.useState(!1),j=Te.useRef(null);Te.useEffect(()=>{if(!n.current||!t.current)return;const k=new ep(n.current,{selection:!1,renderOnAddRemove:!1});e.current=k;const v=new ResizeObserver(()=>{if(t.current&&e.current){const{width:_,height:x}=t.current.getBoundingClientRect();e.current.setDimensions({width:_,height:x}),I()}});return v.observe(t.current),()=>{v.disconnect(),k.dispose(),e.current=null}},[]);const I=Te.useCallback(()=>{const k=e.current;if(!k||!(r!=null&&r.freeform))return;k.clear();const{layers:v}=r.freeform,_=ab*s,x=r.settings.width*Bl,S=r.settings.height*Bl,A=Bl*s,B=i.x,M=i.y,H=B+x*s,V=M+S*s,tt=m(),F=new ti({left:B,top:M,width:x*s,height:S*s,fill:tt?"#1f2937":"#ffffff",stroke:"#3B82F6",strokeWidth:2,selectable:!1,evented:!1});k.add(F);const J=tt?"#374151":"#e5e7eb";for(let L=1;L<r.settings.width;L++){const N=B+L*A,Y=new Ks(`M ${N} ${M} L ${N} ${V}`,{stroke:J,strokeWidth:1,selectable:!1,evented:!1});k.add(Y)}for(let L=1;L<r.settings.height;L++){const N=M+L*A,Y=new Ks(`M ${B} ${N} L ${H} ${N}`,{stroke:J,strokeWidth:1,selectable:!1,evented:!1});k.add(Y)}v.forEach(L=>{L.visible&&L.symbols.forEach(N=>{var at;const Y=G5(N.symbolId);if(!Y)return;const nt=((at=r.palette.find(bt=>bt.id===N.colorId))==null?void 0:at.color)||"#333",lt=i.x+N.x*s,st=i.y+N.y*s,pt=_*N.scale,ft=N.id===a,it=new Ks(Y.svgPath,{left:lt,top:st,scaleX:pt/24,scaleY:pt/24,fill:"transparent",stroke:nt,strokeWidth:2,angle:N.rotation,originX:"center",originY:"center",selectable:!1,evented:!1});if(k.add(it),ft){const bt=new ti({left:lt-pt/2-4,top:st-pt/2-4,width:pt+8,height:pt+8,fill:"transparent",stroke:"#3B82F6",strokeWidth:2,strokeDashArray:[4,4],selectable:!1,evented:!1});k.add(bt);const gt=new zo({left:lt,top:st-pt/2-20,radius:6,fill:"#3B82F6",stroke:"#fff",strokeWidth:2,originX:"center",originY:"center",selectable:!1,evented:!1});k.add(gt);const St=new ti({left:lt+pt/2+4-5,top:st+pt/2+4-5,width:10,height:10,fill:"#3B82F6",stroke:"#fff",strokeWidth:2,selectable:!1,evented:!1});k.add(St)}})}),k.renderAll()},[r,s,i,a,m]);Te.useEffect(()=>{I()},[I]);const q=Te.useCallback(k=>{if(!t.current)return{x:0,y:0};const v=t.current.getBoundingClientRect(),_=k.clientX-v.left,x=k.clientY-v.top,S=(_-i.x)/s,A=(x-i.y)/s;return{x:S,y:A}},[s,i]),P=Te.useCallback(k=>{if(!r)return k;const v=r.settings.width*Bl,_=r.settings.height*Bl;return{x:Math.max(0,Math.min(v,k.x)),y:Math.max(0,Math.min(_,k.y))}},[r]),U=Te.useCallback((k,v)=>{if(!(r!=null&&r.freeform))return null;const{layers:_}=r.freeform,x=ab/2*1.2;for(let S=_.length-1;S>=0;S--){const A=_[S];if(!(!A.visible||A.locked))for(let B=A.symbols.length-1;B>=0;B--){const M=A.symbols[B],H=k-M.x,V=v-M.y;if(Math.sqrt(H*H+V*V)<=x*M.scale)return M.id}}return null},[r==null?void 0:r.freeform]),W=Te.useCallback(k=>{const v=q(k);if(l==="pan"){b(!0),j.current={x:k.clientX,y:k.clientY};return}if(l==="select"){const _=U(v.x,v.y);_?(c(_),C(!0),j.current=v):c(null);return}if(l==="draw"&&u){const _=P(v);v.x>=0&&v.y>=0&&r&&v.x<=r.settings.width*Bl&&v.y<=r.settings.height*Bl&&d(u,_.x,_.y);return}if(l==="erase"){const _=U(v.x,v.y);_&&h(_);return}},[l,u,r,q,U,c,d,h,P]),z=Te.useCallback(k=>{if(g&&j.current){const v=k.clientX-j.current.x,_=k.clientY-j.current.y;o({x:i.x+v,y:i.y+_}),j.current={x:k.clientX,y:k.clientY};return}if(w&&a&&j.current){const v=q(k),_=P(v);f(a,_.x,_.y),j.current=_;return}},[g,w,a,i,o,q,f,P]),R=Te.useCallback(()=>{b(!1),C(!1),j.current=null},[]),T=Te.useCallback(k=>{if(k.altKey||k.ctrlKey){k.preventDefault();const v=k.deltaY>0?-.1:.1,_=Math.max(.1,Math.min(10,s+v));be.getState().setZoom(_)}},[s]);Te.useEffect(()=>{const k=v=>{var _,x,S;if(a){if(v.key==="Delete"||v.key==="Backspace"){v.preventDefault(),h(a);return}if(v.key==="r"||v.key==="R"){v.preventDefault();const A=(_=r==null?void 0:r.freeform)==null?void 0:_.layers.flatMap(B=>B.symbols).find(B=>B.id===a);if(A){const B=(A.rotation+(v.shiftKey?-15:15))%360;p(a,B)}return}if(v.key==="+"||v.key==="="){v.preventDefault();const A=(x=r==null?void 0:r.freeform)==null?void 0:x.layers.flatMap(B=>B.symbols).find(B=>B.id===a);A&&y(a,A.scale+.1);return}if(v.key==="-"||v.key==="_"){v.preventDefault();const A=(S=r==null?void 0:r.freeform)==null?void 0:S.layers.flatMap(B=>B.symbols).find(B=>B.id===a);A&&y(a,A.scale-.1);return}}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[a,r==null?void 0:r.freeform,h,p,y]);const E=()=>{switch(l){case"draw":return u?"crosshair":"default";case"erase":return"crosshair";case"select":return w?"grabbing":"pointer";case"pan":return g?"grabbing":"grab";default:return"default"}};return Z.jsxs("div",{ref:t,className:"w-full h-full overflow-hidden bg-white dark:bg-gray-900 relative",style:{cursor:E()},onMouseDown:W,onMouseMove:z,onMouseUp:R,onMouseLeave:R,onWheel:T,children:[Z.jsx("canvas",{ref:n}),!u&&l==="draw"&&Z.jsx("div",{className:"absolute bottom-4 left-4 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg shadow-lg text-sm text-gray-600 dark:text-gray-300",children:"Select a symbol from the palette to place it on the canvas"}),a&&Z.jsx("div",{className:"absolute bottom-4 right-4 bg-white dark:bg-gray-800 px-3 py-2 rounded-lg shadow-lg text-sm text-gray-600 dark:text-gray-300",children:Z.jsx("p",{children:"R: Rotate | +/-: Scale | Del: Delete"})})]})}function nS(){const n=be(z=>z.activeTool),e=be(z=>z.setActiveTool),t=be(z=>z.zoom),r=be(z=>z.setZoom),s=be(z=>z.undo),i=be(z=>z.redo),o=be(z=>z.undoStack),l=be(z=>z.redoStack),u=be(z=>z.project),a=be(z=>z.selection),c=be(z=>z.insertRow),d=be(z=>z.deleteRow),f=be(z=>z.insertColumn),h=be(z=>z.deleteColumn),p=be(z=>z.resizeGrid),y=be(z=>z.toggleShowNumbers),m=yn(z=>z.openDialog),[g,b]=Te.useState(!1),w=[{id:"draw",label:"Draw",icon:"",shortcut:"D"},{id:"erase",label:"Erase",icon:"",shortcut:"E"},{id:"fill",label:"Fill",icon:"",shortcut:"F"},{id:"select",label:"Select",icon:"",shortcut:"S"},{id:"eyedropper",label:"Eyedropper",icon:"",shortcut:"I"},{id:"pan",label:"Pan",icon:"",shortcut:"Space"}],C=()=>{if(!a)return null;const z=Math.min(a.startRow,a.endRow),R=Math.max(a.startRow,a.endRow),T=Math.min(a.startCol,a.endCol),E=Math.max(a.startCol,a.endCol);return{minRow:z,maxRow:R,minCol:T,maxCol:E}},j=()=>{const z=C();z&&c(z.minRow)},I=()=>{const z=C();z&&c(z.maxRow+1)},q=()=>{const z=C();if(z)for(let R=z.maxRow;R>=z.minRow;R--)d(R)},P=()=>{const z=C();z&&f(z.minCol)},U=()=>{const z=C();z&&f(z.maxCol+1)},W=()=>{const z=C();if(z)for(let R=z.maxCol;R>=z.minCol;R--)h(R)};return Z.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 overflow-x-auto scrollbar-thin",children:[Z.jsx("div",{className:"flex items-center gap-1 pr-2 border-r border-gray-200 dark:border-gray-600 flex-shrink-0",children:w.map(z=>Z.jsx("button",{onClick:()=>e(z.id),title:`${z.label} (${z.shortcut})`,className:`w-9 h-9 flex items-center justify-center rounded-lg transition-colors ${n===z.id?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:Z.jsx("span",{className:"text-lg",children:z.icon})},z.id))}),Z.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-gray-200 dark:border-gray-600 flex-shrink-0",children:[Z.jsx("button",{onClick:s,disabled:o.length===0,title:"Undo (Ctrl+Z)",className:"w-9 h-9 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed",children:Z.jsx("span",{className:"text-lg",children:""})}),Z.jsx("button",{onClick:i,disabled:l.length===0,title:"Redo (Ctrl+Y)",className:"w-9 h-9 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed",children:Z.jsx("span",{className:"text-lg",children:""})})]}),Z.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-gray-200 dark:border-gray-600 flex-shrink-0",children:[Z.jsx("button",{onClick:()=>r(t-.25),disabled:t<=.25,title:"Zoom Out (Ctrl+-)",className:"w-9 h-9 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed",children:Z.jsx("span",{className:"text-lg",children:""})}),Z.jsxs("span",{className:"w-14 text-center text-sm text-gray-600 dark:text-gray-300",children:[Math.round(t*100),"%"]}),Z.jsx("button",{onClick:()=>r(t+.25),disabled:t>=10,title:"Zoom In (Ctrl++)",className:"w-9 h-9 flex items-center justify-center rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40 disabled:cursor-not-allowed",children:Z.jsx("span",{className:"text-lg",children:""})}),Z.jsx("button",{onClick:()=>r(1),title:"Reset Zoom (Ctrl+0)",className:"px-2 h-9 text-xs text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"100%"})]}),a&&Z.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-gray-200 dark:border-gray-600 flex-shrink-0",children:[Z.jsxs("div",{className:"relative group",children:[Z.jsxs("button",{title:"Row operations",className:"px-2 h-9 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-1",children:[Z.jsx("span",{children:"Rows"}),Z.jsx("span",{className:"text-xs",children:""})]}),Z.jsxs("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 min-w-40 z-50 hidden group-hover:block",children:[Z.jsx("button",{onClick:j,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Insert row above"}),Z.jsx("button",{onClick:I,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Insert row below"}),Z.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),Z.jsx("button",{onClick:q,className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Delete selected rows"})]})]}),Z.jsxs("div",{className:"relative group",children:[Z.jsxs("button",{title:"Column operations",className:"px-2 h-9 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-1",children:[Z.jsx("span",{children:"Columns"}),Z.jsx("span",{className:"text-xs",children:""})]}),Z.jsxs("div",{className:"absolute left-0 top-full mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-1 min-w-40 z-50 hidden group-hover:block",children:[Z.jsx("button",{onClick:P,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Insert column left"}),Z.jsx("button",{onClick:U,className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Insert column right"}),Z.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),Z.jsx("button",{onClick:W,className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Delete selected columns"})]})]})]}),Z.jsxs("div",{className:"flex items-center gap-1 pr-2 border-r border-gray-200 dark:border-gray-600 flex-shrink-0",children:[Z.jsx("button",{onClick:()=>b(!0),title:"Resize grid",className:"px-3 h-9 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-1",children:Z.jsxs("span",{children:["Grid: ",u==null?void 0:u.settings.width," x ",u==null?void 0:u.settings.height]})}),Z.jsx("button",{onClick:y,title:"Toggle row/column numbers",className:`w-9 h-9 flex items-center justify-center rounded-lg transition-colors ${u!=null&&u.settings.showNumbers?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:Z.jsx("span",{className:"text-sm font-mono",children:"#"})})]}),Z.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[Z.jsxs("button",{onClick:()=>m("writtenInstructions"),title:"Generate written instructions",className:"px-3 h-9 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-2",children:[Z.jsx("span",{children:""}),Z.jsx("span",{children:"Instructions"})]}),Z.jsxs("button",{onClick:()=>m("export"),title:"Export chart",className:"px-3 h-9 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-2",children:[Z.jsx("span",{children:""}),Z.jsx("span",{children:"Export"})]})]}),g&&u&&Z.jsx(iS,{currentWidth:u.settings.width,currentHeight:u.settings.height,onResize:(z,R)=>{p(z,R),b(!1)},onClose:()=>b(!1)})]})}function iS({currentWidth:n,currentHeight:e,onResize:t,onClose:r}){const[s,i]=Te.useState(n),[o,l]=Te.useState(e),u=a=>{a.preventDefault(),s>=1&&s<=1e3&&o>=1&&o<=1e3&&t(s,o)};return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-80",children:[Z.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Resize Grid"}),Z.jsxs("form",{onSubmit:u,className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width (columns)"}),Z.jsx("input",{type:"number",value:s,onChange:a=>i(Number(a.target.value)),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (rows)"}),Z.jsx("input",{type:"number",value:o,onChange:a=>l(Number(a.target.value)),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Maximum size: 1000 x 1000. Shrinking the grid will crop existing content."}),Z.jsxs("div",{className:"flex gap-3 pt-2",children:[Z.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),Z.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",children:"Resize"})]})]})]})})}const sS=["#FF0000","#FF4444","#FF6666","#FF8888","#FFAAAA","#FFCCCC","#FF6600","#FF8833","#FFAA66","#FFCC99","#FFDDBB","#FFEEDD","#FFFF00","#FFFF44","#FFFF88","#FFFFAA","#FFFFCC","#FFFFEE","#00FF00","#44FF44","#66FF66","#88FF88","#AAFFAA","#CCFFCC","#00FFFF","#44FFFF","#66FFFF","#88FFFF","#AAFFFF","#CCFFFF","#0000FF","#4444FF","#6666FF","#8888FF","#AAAAFF","#CCCCFF","#8800FF","#9944FF","#AA66FF","#BB88FF","#CCAAFF","#DDCCFF","#FF00FF","#FF44FF","#FF66FF","#FF88FF","#FFAAFF","#FFCCFF","#8B4513","#A0522D","#CD853F","#DEB887","#F5DEB3","#FAEBD7","#000000","#333333","#666666","#999999","#CCCCCC","#FFFFFF"];function oS({color:n,onChange:e,onClose:t}){const[r,s]=Te.useState(n),[i,o]=Te.useState(n),l=Te.useRef(null);Te.useEffect(()=>{const d=f=>{l.current&&!l.current.contains(f.target)&&t()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[t]);const u=d=>{s(d),o(d),e(d)},a=d=>{o(d),/^#[0-9A-Fa-f]{6}$/.test(d)&&(s(d),e(d))},c=d=>{const f=d.target.value;s(f),o(f),e(f)};return Z.jsxs("div",{ref:l,className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-4 z-50 w-72",children:[Z.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Z.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-200 dark:border-gray-600",style:{backgroundColor:r}}),Z.jsxs("div",{className:"flex-1",children:[Z.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Hex Color"}),Z.jsx("input",{type:"text",value:i,onChange:d=>a(d.target.value.toUpperCase()),className:"w-full px-2 py-1 text-sm bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded font-mono",placeholder:"#000000"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Pick"}),Z.jsx("input",{type:"color",value:r,onChange:c,className:"w-8 h-8 rounded cursor-pointer"})]})]}),Z.jsx("div",{className:"grid grid-cols-6 gap-1",children:sS.map(d=>Z.jsx("button",{onClick:()=>u(d),className:`w-8 h-8 rounded border-2 transition-transform hover:scale-110 ${r.toUpperCase()===d?"border-blue-500 ring-2 ring-blue-300":"border-gray-200 dark:border-gray-600"}`,style:{backgroundColor:d},title:d},d))}),Z.jsx("div",{className:"mt-4 flex justify-end",children:Z.jsx("button",{onClick:t,className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:"Done"})})]})}function lb(){const n=be(p=>p.project),e=be(p=>p.activeColorId),t=be(p=>p.addColor),r=be(p=>p.updateColor),s=be(p=>p.removeColor),i=be(p=>p.setActiveColor),[o,l]=Te.useState(null),[u,a]=Te.useState(null);if(!n)return null;const c=()=>{const p=`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`,y=t(p);i(y.id),l(y.id)},d=(p,y)=>{r(p,{color:y})},f=(p,y)=>{r(p,{name:y})},h=(p,y)=>{y.stopPropagation(),!(n.palette.length<=1)&&s(p)};return Z.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4 flex flex-col h-full",children:[Z.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Z.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:"Colors"}),Z.jsx("button",{onClick:c,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Add color",children:Z.jsx("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),Z.jsx("div",{className:"flex-1 overflow-auto space-y-1",children:n.palette.map(p=>Z.jsx(aS,{entry:p,isActive:e===p.id,isEditing:o===p.id,isEditingName:u===p.id,canDelete:n.palette.length>1,onClick:()=>i(p.id),onDoubleClick:()=>l(p.id),onNameDoubleClick:()=>a(p.id),onColorChange:y=>d(p.id,y),onNameChange:y=>f(p.id,y),onNameBlur:()=>a(null),onColorPickerClose:()=>l(null),onDelete:y=>h(p.id,y)},p.id))}),Z.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:Z.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n.palette.length," color",n.palette.length!==1?"s":""]})})]})}function aS({entry:n,isActive:e,isEditing:t,isEditingName:r,canDelete:s,onClick:i,onDoubleClick:o,onNameDoubleClick:l,onColorChange:u,onNameChange:a,onNameBlur:c,onColorPickerClose:d,onDelete:f}){return Z.jsxs("div",{className:"relative",children:[Z.jsxs("button",{onClick:i,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-colors group ${e?"bg-blue-50 dark:bg-blue-900/30 ring-2 ring-blue-500":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[Z.jsx("div",{className:"w-8 h-8 rounded border border-gray-200 dark:border-gray-600 shrink-0 cursor-pointer",style:{backgroundColor:n.color},onDoubleClick:h=>{h.stopPropagation(),o()},title:"Double-click to edit color"}),Z.jsxs("div",{className:"flex-1 text-left min-w-0",children:[r?Z.jsx("input",{type:"text",value:n.name,onChange:h=>a(h.target.value),onBlur:c,onKeyDown:h=>{h.key==="Enter"&&c()},className:"w-full px-1 py-0.5 text-sm font-medium bg-white dark:bg-gray-700 border border-blue-500 rounded focus:outline-none",autoFocus:!0,onClick:h=>h.stopPropagation()}):Z.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-white truncate cursor-text",onDoubleClick:h=>{h.stopPropagation(),l()},title:"Double-click to edit name",children:n.name}),Z.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:n.color.toUpperCase()})]}),s&&Z.jsx("button",{onClick:f,className:"p-1 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete color",children:Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t&&Z.jsx(oS,{color:n.color,onChange:u,onClose:d})]})}function lS({selectedSymbolId:n,onSelect:e}){var o;const[t,r]=Te.useState("basic"),s=Q6(),i=qd.filter(l=>l.category===t);return Z.jsxs("div",{className:"flex flex-col h-full",children:[Z.jsx("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-200 dark:border-gray-700",children:s.map(l=>Z.jsx("button",{onClick:()=>r(l),className:`px-2 py-1 text-xs rounded-md transition-colors ${t===l?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:t_[l]||l},l))}),Z.jsx("div",{className:"flex-1 overflow-auto p-2",children:Z.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.map(l=>Z.jsx("button",{onClick:()=>e(l),title:`${l.name} (${l.abbreviation})`,className:`aspect-square p-2 rounded-lg border-2 transition-colors ${n===l.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:Z.jsx("svg",{viewBox:"0 0 24 24",className:"w-full h-full text-gray-800 dark:text-gray-200",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:Z.jsx("path",{d:l.svgPath})})},l.id))})}),n&&Z.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700",children:Z.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Selected:"," ",Z.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:(o=qd.find(l=>l.id===n))==null?void 0:o.name})]})})]})}function uS(){const n=be(y=>y.project),e=be(y=>y.addLayer),t=be(y=>y.removeLayer),r=be(y=>y.updateLayer),s=be(y=>y.setActiveLayer),i=be(y=>y.reorderLayers),[o,l]=Te.useState(null);if(!(n!=null&&n.freeform))return null;const{layers:u,activeLayerId:a}=n.freeform,c=()=>{const y=e();y&&s(y.id)},d=(y,m)=>{r(y,{visible:!m})},f=(y,m)=>{r(y,{locked:!m})},h=(y,m)=>{r(y,{name:m}),l(null)},p=(y,m)=>{const g=u.findIndex(C=>C.id===y);if(g===-1)return;const b=m==="up"?g-1:g+1;if(b<0||b>=u.length)return;const w=[...u];[w[g],w[b]]=[w[b],w[g]],i(w.map(C=>C.id))};return Z.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[Z.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[Z.jsx("h3",{className:"font-medium text-gray-800 dark:text-white text-sm",children:"Layers"}),Z.jsx("button",{onClick:c,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Add layer",children:Z.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),Z.jsx("div",{className:"flex-1 overflow-auto",children:u.map((y,m)=>Z.jsx(cS,{layer:y,isActive:y.id===a,isEditing:o===y.id,canDelete:u.length>1,canMoveUp:m>0,canMoveDown:m<u.length-1,onClick:()=>s(y.id),onDoubleClick:()=>l(y.id),onRename:g=>h(y.id,g),onToggleVisibility:()=>d(y.id,y.visible),onToggleLock:()=>f(y.id,y.locked),onMoveUp:()=>p(y.id,"up"),onMoveDown:()=>p(y.id,"down"),onDelete:()=>t(y.id)},y.id))}),Z.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700",children:Z.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[u.length," layer",u.length!==1?"s":""," |"," ",u.reduce((y,m)=>y+m.symbols.length,0)," symbols"]})})]})}function cS({layer:n,isActive:e,isEditing:t,canDelete:r,canMoveUp:s,canMoveDown:i,onClick:o,onDoubleClick:l,onRename:u,onToggleVisibility:a,onToggleLock:c,onMoveUp:d,onMoveDown:f,onDelete:h}){const[p,y]=Te.useState(n.name),m=g=>{g.key==="Enter"?u(p):g.key==="Escape"&&(y(n.name),u(n.name))};return Z.jsxs("div",{onClick:o,className:`flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors group ${e?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[Z.jsx("button",{onClick:g=>{g.stopPropagation(),a()},className:`p-1 rounded transition-colors ${n.visible?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white":"text-gray-300 dark:text-gray-600"}`,title:n.visible?"Hide layer":"Show layer",children:Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.visible?Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})}),Z.jsx("button",{onClick:g=>{g.stopPropagation(),c()},className:`p-1 rounded transition-colors ${n.locked?"text-yellow-500 dark:text-yellow-400":"text-gray-300 dark:text-gray-600 hover:text-gray-600 dark:hover:text-gray-400"}`,title:n.locked?"Unlock layer":"Lock layer",children:Z.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.locked?Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}):Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),Z.jsxs("div",{className:"flex-1 min-w-0",children:[t?Z.jsx("input",{type:"text",value:p,onChange:g=>y(g.target.value),onBlur:()=>u(p),onKeyDown:m,className:"w-full px-1 py-0.5 text-sm bg-white dark:bg-gray-700 border border-blue-500 rounded focus:outline-none",autoFocus:!0,onClick:g=>g.stopPropagation()}):Z.jsx("span",{onDoubleClick:g=>{g.stopPropagation(),l()},className:`text-sm truncate block ${e?"text-blue-700 dark:text-blue-300 font-medium":"text-gray-700 dark:text-gray-300"} ${n.visible?"":"opacity-50"}`,children:n.name}),Z.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[n.symbols.length," symbol",n.symbols.length!==1?"s":""]})]}),Z.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[Z.jsx("button",{onClick:g=>{g.stopPropagation(),d()},disabled:!s,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-30",title:"Move up",children:Z.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),Z.jsx("button",{onClick:g=>{g.stopPropagation(),f()},disabled:!i,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-30",title:"Move down",children:Z.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),r&&Z.jsx("button",{onClick:g=>{g.stopPropagation(),h()},className:"p-1 text-gray-400 hover:text-red-500",title:"Delete layer",children:Z.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}function hS(n){const e={version:"1.0.0",app:"stitchfizzle",exportedAt:new Date().toISOString(),project:n};return JSON.stringify(e,null,2)}function fS(n){const e=hS(n),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${n.name.replace(/[^a-zA-Z0-9-_]/g,"_")}.stitchfizzle.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function dS(n){try{const e=JSON.parse(n);if(e.app==="stitchfizzle"&&e.project){const t=e.project;return t.createdAt=new Date(t.createdAt),t.updatedAt=new Date(t.updatedAt),t}if(e.id&&e.name&&e.chartType){const t=e;return t.createdAt=new Date(t.createdAt),t.updatedAt=new Date(t.updatedAt),t}return null}catch{return null}}const pS={small:600,medium:1200,large:2e3};function mS(n,e){return new Promise((t,r)=>{var T,E;if(!n.grid){r(new Error("Project has no grid data"));return}const{grid:s,palette:i,settings:o}=n,{includeGridLines:l,includeLegend:u,backgroundColor:a,selection:c}=e,d=c?Math.min(c.startRow,c.endRow):0,f=c?Math.max(c.startRow,c.endRow):o.height-1,h=c?Math.min(c.startCol,c.endCol):0,y=(c?Math.max(c.startCol,c.endCol):o.width-1)-h+1,m=f-d+1,g=e.size==="custom"?e.customWidth||1200:pS[e.size],b=u?150:0,w=(T=o.showNumbers)!=null?T:!1,C=w?30:0,j=Math.floor((g-b-C*2)/y),I=C,q=C,P=y*j+b+C*2,U=m*j+C*2,W=document.createElement("canvas");W.width=P,W.height=U;const z=W.getContext("2d");if(!z){r(new Error("Could not get canvas context"));return}z.fillStyle=a,z.fillRect(0,0,P,U);const R=new Map(i.map(k=>[k.id,k]));for(let k=0;k<m;k++)for(let v=0;v<y;v++){const _=(E=s.cells[d+k])==null?void 0:E[h+v];if(_!=null&&_.colorId){const x=R.get(_.colorId);x&&(z.fillStyle=x.color,z.fillRect(I+v*j,q+k*j,j,j))}}if(l){z.strokeStyle=o.gridLines.color,z.lineWidth=1;for(let k=0;k<=y;k++)z.beginPath(),z.moveTo(I+k*j,q),z.lineTo(I+k*j,q+m*j),z.stroke();for(let k=0;k<=m;k++)z.beginPath(),z.moveTo(I,q+k*j),z.lineTo(I+y*j,q+k*j),z.stroke()}if(w){const k=Math.max(8,Math.min(14,j*.5));z.font=`${k}px monospace`,z.fillStyle="#666666",z.textBaseline="middle";for(let v=0;v<m;v++){const _=c?o.height-(d+v):m-v,x=q+v*j+j/2;z.textAlign="right",z.fillText(String(_),I-4,x),z.textAlign="left",z.fillText(String(_),I+y*j+4,x)}z.textBaseline="middle";for(let v=0;v<y;v++){const _=c?o.width-(h+v):y-v,x=I+v*j+j/2;z.textAlign="center",z.fillText(String(_),x,q-k),z.fillText(String(_),x,q+m*j+k)}}if(u&&i.length>0){const k=I+y*j+C+10,v=20,_=24;z.font="12px sans-serif",z.textBaseline="middle",i.forEach((x,S)=>{const A=10+S*_;z.fillStyle=x.color,z.fillRect(k,A,v,v),z.strokeStyle="#000",z.lineWidth=1,z.strokeRect(k,A,v,v),z.fillStyle="#000",z.fillText(x.name,k+v+8,A+v/2)})}W.toBlob(k=>{k?t(k):r(new Error("Failed to create PNG blob"))},"image/png",1)})}async function gS(n,e){const t=await mS(n,e),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${n.name.replace(/[^a-zA-Z0-9-_]/g,"_")}.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function yS(n,e){var W,z;if(!n.grid)throw new Error("Project has no grid data");const{grid:t,palette:r,settings:s}=n,{cellSize:i,includeGridLines:o,includeLegend:l,backgroundColor:u,selection:a}=e,c=a?Math.min(a.startRow,a.endRow):0,d=a?Math.max(a.startRow,a.endRow):s.height-1,f=a?Math.min(a.startCol,a.endCol):0,p=(a?Math.max(a.startCol,a.endCol):s.width-1)-f+1,y=d-c+1,m=l?150:0,g=(W=s.showNumbers)!=null?W:!1,b=g?30:0,w=b,C=b,j=p*i+m+b*2,I=y*i+b*2,q=Math.max(8,Math.min(14,i*.5)),P=new Map(r.map(R=>[R.id,R]));let U=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="${j}" height="${I}" viewBox="0 0 ${j} ${I}">
  <defs>
    <style>
      .cell { stroke: none; }
      .grid-line { stroke: ${s.gridLines.color}; stroke-width: 1; fill: none; }
      .legend-text { font-family: sans-serif; font-size: 12px; }
      .number-text { font-family: monospace; font-size: ${q}px; fill: #666666; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="${j}" height="${I}" fill="${u}" />

  <!-- Cells -->
  <g id="cells">
`;for(let R=0;R<y;R++)for(let T=0;T<p;T++){const E=(z=t.cells[c+R])==null?void 0:z[f+T];if(E!=null&&E.colorId){const k=P.get(E.colorId);k&&(U+=`    <rect class="cell" x="${w+T*i}" y="${C+R*i}" width="${i}" height="${i}" fill="${k.color}" />
`)}}if(U+=`  </g>
`,o){U+=`
  <!-- Grid Lines -->
  <g id="grid-lines">
`;for(let R=0;R<=p;R++)U+=`    <line class="grid-line" x1="${w+R*i}" y1="${C}" x2="${w+R*i}" y2="${C+y*i}" />
`;for(let R=0;R<=y;R++)U+=`    <line class="grid-line" x1="${w}" y1="${C+R*i}" x2="${w+p*i}" y2="${C+R*i}" />
`;U+=`  </g>
`}if(g){U+=`
  <!-- Row/Column Numbers -->
  <g id="numbers">
`;for(let R=0;R<y;R++){const T=a?s.height-(c+R):y-R,E=C+R*i+i/2;U+=`    <text class="number-text" x="${w-4}" y="${E}" text-anchor="end" dominant-baseline="middle">${T}</text>
`,U+=`    <text class="number-text" x="${w+p*i+4}" y="${E}" text-anchor="start" dominant-baseline="middle">${T}</text>
`}for(let R=0;R<p;R++){const T=a?s.width-(f+R):p-R,E=w+R*i+i/2;U+=`    <text class="number-text" x="${E}" y="${C-4}" text-anchor="middle" dominant-baseline="auto">${T}</text>
`,U+=`    <text class="number-text" x="${E}" y="${C+y*i+q+4}" text-anchor="middle" dominant-baseline="auto">${T}</text>
`}U+=`  </g>
`}if(l&&r.length>0){const R=w+p*i+b+10,T=20,E=24;U+=`
  <!-- Legend -->
  <g id="legend">
`,r.forEach((k,v)=>{const _=10+v*E;U+=`    <rect x="${R}" y="${_}" width="${T}" height="${T}" fill="${k.color}" stroke="#000" stroke-width="1" />
`,U+=`    <text class="legend-text" x="${R+T+8}" y="${_+T/2}" dominant-baseline="middle">${bS(k.name)}</text>
`}),U+=`  </g>
`}return U+="</svg>",U}function bS(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function vS(n,e){const t=yS(n,e),r=new Blob([t],{type:"image/svg+xml"}),s=URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=`${n.name.replace(/[^a-zA-Z0-9-_]/g,"_")}.svg`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}const wS="modulepreload",xS=function(n){return"/"+n},ub={},Qm=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(u=>{if(u=xS(u),u in ub)return;ub[u]=!0;const a=u.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":wS,a||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),a)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function ln(n){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(n)}var $i=Uint8Array,Ms=Uint16Array,M1=Int32Array,Np=new $i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Op=new $i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tg=new $i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t3=function(n,e){for(var t=new Ms(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new M1(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)s[i]=i-t[r]<<5|r;return{b:t,r:s}},e3=t3(Np,2),r3=e3.b,eg=e3.r;r3[28]=258,eg[258]=28;var n3=t3(Op,0),_S=n3.b,cb=n3.r,rg=new Ms(32768);for(var Sn=0;Sn<32768;++Sn){var rl=(Sn&43690)>>1|(Sn&21845)<<1;rl=(rl&52428)>>2|(rl&13107)<<2,rl=(rl&61680)>>4|(rl&3855)<<4,rg[Sn]=((rl&65280)>>8|(rl&255)<<8)>>1}var Xo=function(n,e,t){for(var r=n.length,s=0,i=new Ms(e);s<r;++s)n[s]&&++i[n[s]-1];var o=new Ms(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(t){l=new Ms(1<<e);var u=15-e;for(s=0;s<r;++s)if(n[s])for(var a=s<<4|n[s],c=e-n[s],d=o[n[s]-1]++<<c,f=d|(1<<c)-1;d<=f;++d)l[rg[d]>>u]=a}else for(l=new Ms(r),s=0;s<r;++s)n[s]&&(l[s]=rg[o[n[s]-1]++]>>15-n[s]);return l},Sl=new $i(288);for(var Sn=0;Sn<144;++Sn)Sl[Sn]=8;for(var Sn=144;Sn<256;++Sn)Sl[Sn]=9;for(var Sn=256;Sn<280;++Sn)Sl[Sn]=7;for(var Sn=280;Sn<288;++Sn)Sl[Sn]=8;var Eh=new $i(32);for(var Sn=0;Sn<32;++Sn)Eh[Sn]=5;var SS=Xo(Sl,9,0),kS=Xo(Sl,9,1),CS=Xo(Eh,5,0),TS=Xo(Eh,5,1),F0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},mo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},B0=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},j1=function(n){return(n+7)/8|0},i3=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new $i(n.subarray(e,t))},AS=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],vo=function(n,e,t){var r=new Error(e||AS[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,vo),!t)throw r;return r},MS=function(n,e,t,r){var s=n.length,i=0;if(!s||e.f&&!e.l)return t||new $i(0);var o=!t,l=o||e.i!=2,u=e.i;o&&(t=new $i(s*3));var a=function(nt){var lt=t.length;if(nt>lt){var st=new $i(Math.max(lt*2,nt));st.set(t),t=st}},c=e.f||0,d=e.p||0,f=e.b||0,h=e.l,p=e.d,y=e.m,m=e.n,g=s*8;do{if(!h){c=mo(n,d,1);var b=mo(n,d+1,3);if(d+=3,b)if(b==1)h=kS,p=TS,y=9,m=5;else if(b==2){var I=mo(n,d,31)+257,q=mo(n,d+10,15)+4,P=I+mo(n,d+5,31)+1;d+=14;for(var U=new $i(P),W=new $i(19),z=0;z<q;++z)W[tg[z]]=mo(n,d+z*3,7);d+=q*3;for(var R=F0(W),T=(1<<R)-1,E=Xo(W,R,1),z=0;z<P;){var k=E[mo(n,d,T)];d+=k&15;var w=k>>4;if(w<16)U[z++]=w;else{var v=0,_=0;for(w==16?(_=3+mo(n,d,3),d+=2,v=U[z-1]):w==17?(_=3+mo(n,d,7),d+=3):w==18&&(_=11+mo(n,d,127),d+=7);_--;)U[z++]=v}}var x=U.subarray(0,I),S=U.subarray(I);y=F0(x),m=F0(S),h=Xo(x,y,1),p=Xo(S,m,1)}else vo(1);else{var w=j1(d)+4,C=n[w-4]|n[w-3]<<8,j=w+C;if(j>s){u&&vo(0);break}l&&a(f+C),t.set(n.subarray(w,j),f),e.b=f+=C,e.p=d=j*8,e.f=c;continue}if(d>g){u&&vo(0);break}}l&&a(f+131072);for(var A=(1<<y)-1,B=(1<<m)-1,M=d;;M=d){var v=h[B0(n,d)&A],H=v>>4;if(d+=v&15,d>g){u&&vo(0);break}if(v||vo(2),H<256)t[f++]=H;else if(H==256){M=d,h=null;break}else{var V=H-254;if(H>264){var z=H-257,tt=Np[z];V=mo(n,d,(1<<tt)-1)+r3[z],d+=tt}var F=p[B0(n,d)&B],J=F>>4;F||vo(3),d+=F&15;var S=_S[J];if(J>3){var tt=Op[J];S+=B0(n,d)&(1<<tt)-1,d+=tt}if(d>g){u&&vo(0);break}l&&a(f+131072);var L=f+V;if(f<S){var N=i-S,Y=Math.min(S,L);for(N+f<0&&vo(3);f<Y;++f)t[f]=r[N+f]}for(;f<L;++f)t[f]=t[f-S]}}e.l=h,e.p=M,e.b=f,e.f=c,h&&(c=1,e.m=y,e.d=p,e.n=m)}while(!c);return f!=t.length&&o?i3(t,0,f):t.subarray(0,f)},ca=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Bc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},z0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,i=t.slice();if(!s)return{t:o3,l:0};if(s==1){var o=new $i(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(j,I){return j.f-I.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],a=0,c=1,d=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};c!=s-1;)l=t[t[a].f<t[d].f?a++:d++],u=t[a!=c&&t[a].f<t[d].f?a++:d++],t[c++]={s:-1,f:l.f+u.f,l,r:u};for(var f=i[0].s,r=1;r<s;++r)i[r].s>f&&(f=i[r].s);var h=new Ms(f+1),p=ng(t[c-1],h,0);if(p>e){var r=0,y=0,m=p-e,g=1<<m;for(i.sort(function(I,q){return h[q.s]-h[I.s]||I.f-q.f});r<s;++r){var b=i[r].s;if(h[b]>e)y+=g-(1<<p-h[b]),h[b]=e;else break}for(y>>=m;y>0;){var w=i[r].s;h[w]<e?y-=1<<e-h[w]++-1:++r}for(;r>=0&&y;--r){var C=i[r].s;h[C]==e&&(--h[C],++y)}p=e}return{t:new $i(h),l:p}},ng=function(n,e,t){return n.s==-1?Math.max(ng(n.l,e,t+1),ng(n.r,e,t+1)):e[n.s]=t},hb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ms(++e),r=0,s=n[0],i=1,o=function(u){t[r++]=u},l=1;l<=e;++l)if(n[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=n[l]}return{c:t.subarray(0,r),n:e}},zc=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},s3=function(n,e,t){var r=t.length,s=j1(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var i=0;i<r;++i)n[s+i+4]=t[i];return(s+4+r)*8},fb=function(n,e,t,r,s,i,o,l,u,a,c){ca(e,c++,t),++s[256];for(var d=z0(s,15),f=d.t,h=d.l,p=z0(i,15),y=p.t,m=p.l,g=hb(f),b=g.c,w=g.n,C=hb(y),j=C.c,I=C.n,q=new Ms(19),P=0;P<b.length;++P)++q[b[P]&31];for(var P=0;P<j.length;++P)++q[j[P]&31];for(var U=z0(q,7),W=U.t,z=U.l,R=19;R>4&&!W[tg[R-1]];--R);var T=a+5<<3,E=zc(s,Sl)+zc(i,Eh)+o,k=zc(s,f)+zc(i,y)+o+14+3*R+zc(q,W)+2*q[16]+3*q[17]+7*q[18];if(u>=0&&T<=E&&T<=k)return s3(e,c,n.subarray(u,u+a));var v,_,x,S;if(ca(e,c,1+(k<E)),c+=2,k<E){v=Xo(f,h,0),_=f,x=Xo(y,m,0),S=y;var A=Xo(W,z,0);ca(e,c,w-257),ca(e,c+5,I-1),ca(e,c+10,R-4),c+=14;for(var P=0;P<R;++P)ca(e,c+3*P,W[tg[P]]);c+=3*R;for(var B=[b,j],M=0;M<2;++M)for(var H=B[M],P=0;P<H.length;++P){var V=H[P]&31;ca(e,c,A[V]),c+=W[V],V>15&&(ca(e,c,H[P]>>5&127),c+=H[P]>>12)}}else v=SS,_=Sl,x=CS,S=Eh;for(var P=0;P<l;++P){var tt=r[P];if(tt>255){var V=tt>>18&31;Bc(e,c,v[V+257]),c+=_[V+257],V>7&&(ca(e,c,tt>>23&31),c+=Np[V]);var F=tt&31;Bc(e,c,x[F]),c+=S[F],F>3&&(Bc(e,c,tt>>5&8191),c+=Op[F])}else Bc(e,c,v[tt]),c+=_[tt]}return Bc(e,c,v[256]),c+_[256]},jS=new M1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),o3=new $i(0),ES=function(n,e,t,r,s,i){var o=i.z||n.length,l=new $i(r+o+5*(1+Math.ceil(o/7e3))+s),u=l.subarray(r,l.length-s),a=i.l,c=(i.r||0)&7;if(e){c&&(u[0]=i.r>>3);for(var d=jS[e-1],f=d>>13,h=d&8191,p=(1<<t)-1,y=i.p||new Ms(32768),m=i.h||new Ms(p+1),g=Math.ceil(t/3),b=2*g,w=function(pt){return(n[pt]^n[pt+1]<<g^n[pt+2]<<b)&p},C=new M1(25e3),j=new Ms(288),I=new Ms(32),q=0,P=0,U=i.i||0,W=0,z=i.w||0,R=0;U+2<o;++U){var T=w(U),E=U&32767,k=m[T];if(y[E]=k,m[T]=E,z<=U){var v=o-U;if((q>7e3||W>24576)&&(v>423||!a)){c=fb(n,u,0,C,j,I,P,W,R,U-R,c),W=q=P=0,R=U;for(var _=0;_<286;++_)j[_]=0;for(var _=0;_<30;++_)I[_]=0}var x=2,S=0,A=h,B=E-k&32767;if(v>2&&T==w(U-B))for(var M=Math.min(f,v)-1,H=Math.min(32767,U),V=Math.min(258,v);B<=H&&--A&&E!=k;){if(n[U+x]==n[U+x-B]){for(var tt=0;tt<V&&n[U+tt]==n[U+tt-B];++tt);if(tt>x){if(x=tt,S=B,tt>M)break;for(var F=Math.min(B,tt-2),J=0,_=0;_<F;++_){var L=U-B+_&32767,N=y[L],Y=L-N&32767;Y>J&&(J=Y,k=L)}}}E=k,k=y[E],B+=E-k&32767}if(S){C[W++]=268435456|eg[x]<<18|cb[S];var nt=eg[x]&31,lt=cb[S]&31;P+=Np[nt]+Op[lt],++j[257+nt],++I[lt],z=U+x,++q}else C[W++]=n[U],++j[n[U]]}}for(U=Math.max(U,z);U<o;++U)C[W++]=n[U],++j[n[U]];c=fb(n,u,a,C,j,I,P,W,R,U-R,c),a||(i.r=c&7|u[c/8|0]<<3,c-=7,i.h=m,i.p=y,i.i=U,i.w=z)}else{for(var U=i.w||0;U<o+a;U+=65535){var st=U+65535;st>=o&&(u[c/8|0]=a,st=o),c=s3(u,c+1,n.subarray(U,st))}i.i=o}return i3(l,0,r+j1(c)+s)},a3=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,i=t.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=r+=t[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},NS=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new $i(i.length+n.length);o.set(i),o.set(n,i.length),n=o,s.w=i.length}return ES(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},l3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},OS=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=a3();s.p(e.dictionary),l3(n,2,s.d())}},PS=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&vo(6,"invalid zlib data"),(n[1]>>5&1)==1&&vo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function ig(n,e){e||(e={});var t=a3();t.p(n);var r=NS(n,e,e.dictionary?6:2,4);return OS(r,e),l3(r,r.length-4,t.d()),r}function LS(n,e){return MS(n.subarray(PS(n),-4),{i:2},e,e)}var RS=typeof TextDecoder<"u"&&new TextDecoder,DS=0;try{RS.decode(o3,{stream:!0}),DS=1}catch{}var Tr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function U0(){Tr.console&&typeof Tr.console.log=="function"&&Tr.console.log.apply(Tr.console,arguments)}var gn={log:U0,warn:function(n){Tr.console&&(typeof Tr.console.warn=="function"?Tr.console.warn.apply(Tr.console,arguments):U0.call(null,arguments))},error:function(n){Tr.console&&(typeof Tr.console.error=="function"?Tr.console.error.apply(Tr.console,arguments):U0(n))}};function q0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ql(r.response,e,t)},r.onerror=function(){gn.error("could not download file")},r.send()}function db(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Wf(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var sh,sg,ql=Tr.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==Tr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Tr.URL||Tr.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?db(s.href)?q0(n,e,t):Wf(s,s.target="_blank"):Wf(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Wf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(db(n))q0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Wf(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:ln(i)!=="object"&&(gn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return q0(n,e,t);var s=n.type==="application/octet-stream",i=/constructor/i.test(Tr.HTMLElement)||Tr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var c=l.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},l.readAsDataURL(n)}else{var u=Tr.URL||Tr.webkitURL,a=u.createObjectURL(n);r?r.location=a:location.href=a,r=null,setTimeout(function(){u.revokeObjectURL(a)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function u3(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,i=t[r].process,o=s.exec(n);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),a=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),a.length==1&&(a="0"+a),"#"+l+u+a}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $0(n,e){var t=n[0],r=n[1],s=n[2],i=n[3];t=Fi(t,r,s,i,e[0],7,-680876936),i=Fi(i,t,r,s,e[1],12,-389564586),s=Fi(s,i,t,r,e[2],17,606105819),r=Fi(r,s,i,t,e[3],22,-1044525330),t=Fi(t,r,s,i,e[4],7,-176418897),i=Fi(i,t,r,s,e[5],12,1200080426),s=Fi(s,i,t,r,e[6],17,-1473231341),r=Fi(r,s,i,t,e[7],22,-45705983),t=Fi(t,r,s,i,e[8],7,1770035416),i=Fi(i,t,r,s,e[9],12,-1958414417),s=Fi(s,i,t,r,e[10],17,-42063),r=Fi(r,s,i,t,e[11],22,-1990404162),t=Fi(t,r,s,i,e[12],7,1804603682),i=Fi(i,t,r,s,e[13],12,-40341101),s=Fi(s,i,t,r,e[14],17,-1502002290),t=Bi(t,r=Fi(r,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Bi(i,t,r,s,e[6],9,-1069501632),s=Bi(s,i,t,r,e[11],14,643717713),r=Bi(r,s,i,t,e[0],20,-373897302),t=Bi(t,r,s,i,e[5],5,-701558691),i=Bi(i,t,r,s,e[10],9,38016083),s=Bi(s,i,t,r,e[15],14,-660478335),r=Bi(r,s,i,t,e[4],20,-405537848),t=Bi(t,r,s,i,e[9],5,568446438),i=Bi(i,t,r,s,e[14],9,-1019803690),s=Bi(s,i,t,r,e[3],14,-187363961),r=Bi(r,s,i,t,e[8],20,1163531501),t=Bi(t,r,s,i,e[13],5,-1444681467),i=Bi(i,t,r,s,e[2],9,-51403784),s=Bi(s,i,t,r,e[7],14,1735328473),t=zi(t,r=Bi(r,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=zi(i,t,r,s,e[8],11,-2022574463),s=zi(s,i,t,r,e[11],16,1839030562),r=zi(r,s,i,t,e[14],23,-35309556),t=zi(t,r,s,i,e[1],4,-1530992060),i=zi(i,t,r,s,e[4],11,1272893353),s=zi(s,i,t,r,e[7],16,-155497632),r=zi(r,s,i,t,e[10],23,-1094730640),t=zi(t,r,s,i,e[13],4,681279174),i=zi(i,t,r,s,e[0],11,-358537222),s=zi(s,i,t,r,e[3],16,-722521979),r=zi(r,s,i,t,e[6],23,76029189),t=zi(t,r,s,i,e[9],4,-640364487),i=zi(i,t,r,s,e[12],11,-421815835),s=zi(s,i,t,r,e[15],16,530742520),t=Ui(t,r=zi(r,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Ui(i,t,r,s,e[7],10,1126891415),s=Ui(s,i,t,r,e[14],15,-1416354905),r=Ui(r,s,i,t,e[5],21,-57434055),t=Ui(t,r,s,i,e[12],6,1700485571),i=Ui(i,t,r,s,e[3],10,-1894986606),s=Ui(s,i,t,r,e[10],15,-1051523),r=Ui(r,s,i,t,e[1],21,-2054922799),t=Ui(t,r,s,i,e[8],6,1873313359),i=Ui(i,t,r,s,e[15],10,-30611744),s=Ui(s,i,t,r,e[6],15,-1560198380),r=Ui(r,s,i,t,e[13],21,1309151649),t=Ui(t,r,s,i,e[4],6,-145523070),i=Ui(i,t,r,s,e[11],10,-1120210379),s=Ui(s,i,t,r,e[2],15,718787259),r=Ui(r,s,i,t,e[9],21,-343485551),n[0]=cl(t,n[0]),n[1]=cl(r,n[1]),n[2]=cl(s,n[2]),n[3]=cl(i,n[3])}function Pp(n,e,t,r,s,i){return e=cl(cl(e,n),cl(r,i)),cl(e<<s|e>>>32-s,t)}function Fi(n,e,t,r,s,i,o){return Pp(e&t|~e&r,n,e,s,i,o)}function Bi(n,e,t,r,s,i,o){return Pp(e&r|t&~r,n,e,s,i,o)}function zi(n,e,t,r,s,i,o){return Pp(e^t^r,n,e,s,i,o)}function Ui(n,e,t,r,s,i,o){return Pp(t^(e|~r),n,e,s,i,o)}function c3(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)$0(r,IS(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for($0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,$0(r,s),r}function IS(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}sh=Tr.atob.bind(Tr),sg=Tr.btoa.bind(Tr);var pb="0123456789abcdef".split("");function FS(n){for(var e="",t=0;t<4;t++)e+=pb[n>>8*t+4&15]+pb[n>>8*t&15];return e}function BS(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function og(n){return c3(n).map(BS).join("")}var zS=function(n){for(var e=0;e<n.length;e++)n[e]=FS(n[e]);return n.join("")}(c3("hello"))!="5d41402abc4b2a76b9719d911017c592";function cl(n,e){if(zS){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ag(n,e){var t,r,s,i;if(n!==t){for(var o=(s=n,i=1+(256/n.length>>0),new Array(i+1).join(s)),l=[],u=0;u<256;u++)l[u]=u;var a=0;for(u=0;u<256;u++){var c=l[u];a=(a+c+o.charCodeAt(u))%256,l[u]=l[a],l[a]=c}t=n,r=l}else l=r;var d=e.length,f=0,h=0,p="";for(u=0;u<d;u++)h=(h+(c=l[f=(f+1)%256]))%256,l[f]=l[h],l[h]=c,o=l[(l[f]+l[h])%256],p+=String.fromCharCode(e.charCodeAt(u)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mb={print:4,modify:8,copy:16,"annot-forms":32};function Au(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(l){if(mb.perm!==void 0)throw new Error("Invalid permission: "+l);s+=mb[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=og(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ag(this.encryptionKey,this.padding)}function Mu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=n[r]}return e}function gb(n){if(ln(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!s],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var o=e[t][i];try{o[0].apply(n,r)}catch(l){Tr.console&&gn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function rp(n){if(!(this instanceof rp))return new rp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function h3(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Hl(n,e,t,r,s){if(!(this instanceof Hl))return new Hl(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,h3.call(this,r,s)}function Hu(n,e,t,r,s){if(!(this instanceof Hu))return new Hu(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,h3.call(this,r,s)}function _r(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,u=16,a="S",c=null;ln(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,i=n.compress||n.compressPdf||i,(c=n.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),a=n.defaultPathOperation||"S"),o=n.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=gb;var p="1.3",y=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(G){p=G};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return m};var g=h.__private__.getPageFormat=function(G){return m[G]};s=s||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function C(){this.saveGraphicsState(),it(new Be(ie,0,0,-ie,0,lo()*ie).toString()+" cm"),this.setFontSize(this.getFontSize()/ie),a="n",w=b.ADVANCED}function j(){this.restoreGraphicsState(),a="S",w=b.COMPAT}var I=h.__private__.combineFontStyleAndFontWeight=function(G,ut){if(G=="bold"&&ut=="normal"||G=="bold"&&ut==400||G=="normal"&&ut=="italic"||G=="bold"&&ut=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ut&&(G=ut==400||ut==="normal"?G==="italic"?"italic":"normal":ut!=700&&ut!=="bold"||G!=="normal"?(ut==700?"bold":ut)+""+G:"bold"),G};h.advancedAPI=function(G){var ut=w===b.COMPAT;return ut&&C.call(this),typeof G!="function"||(G(this),ut&&j.call(this)),this},h.compatAPI=function(G){var ut=w===b.ADVANCED;return ut&&j.call(this),typeof G!="function"||(G(this),ut&&C.call(this)),this},h.isAdvancedAPI=function(){return w===b.ADVANCED};var q,P=function(G){if(w!==b.ADVANCED)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=h.roundToPrecision=h.__private__.roundToPrecision=function(G,ut){var Ct=e||ut;if(isNaN(G)||isNaN(Ct))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(Ct).replace(/0+$/,"")};q=h.hpf=h.__private__.hpf=typeof u=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return U(G,u)}:u==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return U(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return U(G,16)};var W=h.f2=h.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return U(G,2)},z=h.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return U(G,3)},R=h.scale=h.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?G*ie:w===b.ADVANCED?G:void 0},T=function(G){return w===b.COMPAT?lo()-G:w===b.ADVANCED?G:void 0},E=function(G){return R(T(G))};h.__private__.setPrecision=h.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(e=parseInt(G,10))};var k,v="00000000000000000000000000000000",_=h.__private__.getFileId=function(){return v},x=h.__private__.setFileId=function(G){return v=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():v.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(xn=new Au(c.userPermissions,c.userPassword,c.ownerPassword,v)),v};h.setFileId=function(G){return x(G),this},h.getFileId=function(){return _()};var S=h.__private__.convertDateToPDFDate=function(G){var ut=G.getTimezoneOffset(),Ct=ut<0?"+":"-",Ot=Math.floor(Math.abs(ut/60)),Gt=Math.abs(ut%60),ae=[Ct,V(Ot),"'",V(Gt),"'"].join("");return["D:",G.getFullYear(),V(G.getMonth()+1),V(G.getDate()),V(G.getHours()),V(G.getMinutes()),V(G.getSeconds()),ae].join("")},A=h.__private__.convertPDFDateToDate=function(G){var ut=parseInt(G.substr(2,4),10),Ct=parseInt(G.substr(6,2),10)-1,Ot=parseInt(G.substr(8,2),10),Gt=parseInt(G.substr(10,2),10),ae=parseInt(G.substr(12,2),10),ke=parseInt(G.substr(14,2),10);return new Date(ut,Ct,Ot,Gt,ae,ke,0)},B=h.__private__.setCreationDate=function(G){var ut;if(G===void 0&&(G=new Date),G instanceof Date)ut=S(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ut=G}return k=ut},M=h.__private__.getCreationDate=function(G){var ut=k;return G==="jsDate"&&(ut=A(k)),ut};h.setCreationDate=function(G){return B(G),this},h.getCreationDate=function(G){return M(G)};var H,V=h.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},tt=h.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},F=0,J=[],L=[],N=0,Y=[],nt=[],lt=!1,st=L,pt=function(){F=0,N=0,L=[],J=[],Y=[],Le=ee(),Je=ee()};h.__private__.setCustomOutputDestination=function(G){lt=!0,st=G};var ft=function(G){lt||(st=G)};h.__private__.resetCustomOutputDestination=function(){lt=!1,st=L};var it=h.__private__.out=function(G){return G=G.toString(),N+=G.length+1,st.push(G),st},at=h.__private__.write=function(G){return it(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},bt=h.__private__.getArrayBuffer=function(G){for(var ut=G.length,Ct=new ArrayBuffer(ut),Ot=new Uint8Array(Ct);ut--;)Ot[ut]=G.charCodeAt(ut);return Ct},gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return gt};var St=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(G){return St=w===b.ADVANCED?G/ie:G,this};var kt,Tt=h.__private__.getFontSize=h.getFontSize=function(){return w===b.COMPAT?St:St*ie},Lt=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(G){return Lt=G,this},h.__private__.getR2L=h.getR2L=function(){return Lt};var Xt,re=h.__private__.setZoomMode=function(G){var ut=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))kt=G;else if(isNaN(G)){if(ut.indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');kt=G}else kt=parseInt(G,10)};h.__private__.getZoomMode=function(){return kt};var ue,ce=h.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');Xt=G};h.__private__.getPageMode=function(){return Xt};var de=h.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');ue=G};h.__private__.getLayoutMode=function(){return ue},h.__private__.setDisplayMode=h.setDisplayMode=function(G,ut,Ct){return re(G),de(ut),ce(Ct),this};var we={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(G){if(Object.keys(we).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return we[G]},h.__private__.getDocumentProperties=function(){return we},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(G){for(var ut in we)we.hasOwnProperty(ut)&&G[ut]&&(we[ut]=G[ut]);return this},h.__private__.setDocumentProperty=function(G,ut){if(Object.keys(we).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return we[G]=ut};var Me,ie,Ue,me,Ce,xe={},ne={},ze=[],We={},Or={},te={},Sr={},br=null,Ye=0,Ve=[],er=new gb(h),cr=n.hotfixes||[],mr={},jr={},rr=[],Be=function G(ut,Ct,Ot,Gt,ae,ke){if(!(this instanceof G))return new G(ut,Ct,Ot,Gt,ae,ke);isNaN(ut)&&(ut=1),isNaN(Ct)&&(Ct=0),isNaN(Ot)&&(Ot=0),isNaN(Gt)&&(Gt=1),isNaN(ae)&&(ae=0),isNaN(ke)&&(ke=0),this._matrix=[ut,Ct,Ot,Gt,ae,ke]};Object.defineProperty(Be.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Be.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Be.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Be.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Be.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Be.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Be.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(Be.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(Be.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(Be.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(Be.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(Be.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(Be.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Be.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Be.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Be.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Be.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(G)},Be.prototype.multiply=function(G){var ut=G.sx*this.sx+G.shy*this.shx,Ct=G.sx*this.shy+G.shy*this.sy,Ot=G.shx*this.sx+G.sy*this.shx,Gt=G.shx*this.shy+G.sy*this.sy,ae=G.tx*this.sx+G.ty*this.shx+this.tx,ke=G.tx*this.shy+G.ty*this.sy+this.ty;return new Be(ut,Ct,Ot,Gt,ae,ke)},Be.prototype.decompose=function(){var G=this.sx,ut=this.shy,Ct=this.shx,Ot=this.sy,Gt=this.tx,ae=this.ty,ke=Math.sqrt(G*G+ut*ut),Ge=(G/=ke)*Ct+(ut/=ke)*Ot;Ct-=G*Ge,Ot-=ut*Ge;var pr=Math.sqrt(Ct*Ct+Ot*Ot);return Ge/=pr,G*(Ot/=pr)<ut*(Ct/=pr)&&(G=-G,ut=-ut,Ge=-Ge,ke=-ke),{scale:new Be(ke,0,0,pr,0,0),translate:new Be(1,0,0,1,Gt,ae),rotate:new Be(G,ut,-ut,G,0,0),skew:new Be(1,0,Ge,1,0,0)}},Be.prototype.toString=function(G){return this.join(" ")},Be.prototype.inversed=function(){var G=this.sx,ut=this.shy,Ct=this.shx,Ot=this.sy,Gt=this.tx,ae=this.ty,ke=1/(G*Ot-ut*Ct),Ge=Ot*ke,pr=-ut*ke,Er=-Ct*ke,Cr=G*ke;return new Be(Ge,pr,Er,Cr,-Ge*Gt-Er*ae,-pr*Gt-Cr*ae)},Be.prototype.applyToPoint=function(G){var ut=G.x*this.sx+G.y*this.shx+this.tx,Ct=G.x*this.shy+G.y*this.sy+this.ty;return new Po(ut,Ct)},Be.prototype.applyToRectangle=function(G){var ut=this.applyToPoint(G),Ct=this.applyToPoint(new Po(G.x+G.w,G.y+G.h));return new ea(ut.x,ut.y,Ct.x-ut.x,Ct.y-ut.y)},Be.prototype.clone=function(){var G=this.sx,ut=this.shy,Ct=this.shx,Ot=this.sy,Gt=this.tx,ae=this.ty;return new Be(G,ut,Ct,Ot,Gt,ae)},h.Matrix=Be;var Nr=h.matrixMult=function(G,ut){return ut.multiply(G)},qe=new Be(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=qe;var Mt=function(G,ut){if(!Or[G]){var Ct=(ut instanceof Hl?"Sh":"P")+(Object.keys(We).length+1).toString(10);ut.id=Ct,Or[G]=Ct,We[Ct]=ut,er.publish("addPattern",ut)}};h.ShadingPattern=Hl,h.TilingPattern=Hu,h.addShadingPattern=function(G,ut){return P("addShadingPattern()"),Mt(G,ut),this},h.beginTilingPattern=function(G){P("beginTilingPattern()"),zn(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},h.endTilingPattern=function(G,ut){P("endTilingPattern()"),ut.stream=nt[H].join(`
`),Mt(G,ut),er.publish("endTilingPattern",ut),rr.pop().restore()};var qt=h.__private__.newObject=function(){var G=ee();return Ae(G,!0),G},ee=h.__private__.newObjectDeferred=function(){return F++,J[F]=function(){return N},F},Ae=function(G,ut){return ut=typeof ut=="boolean"&&ut,J[G]=N,ut&&it(G+" 0 obj"),G},sr=h.__private__.newAdditionalObject=function(){var G={objId:ee(),content:""};return Y.push(G),G},Le=ee(),Je=ee(),Ke=h.__private__.decodeColorString=function(G){var ut=G.split(" ");if(ut.length!==2||ut[1]!=="g"&&ut[1]!=="G")ut.length===5&&(ut[4]==="k"||ut[4]==="K")&&(ut=[(1-ut[0])*(1-ut[3]),(1-ut[1])*(1-ut[3]),(1-ut[2])*(1-ut[3]),"r"]);else{var Ct=parseFloat(ut[0]);ut=[Ct,Ct,Ct,"r"]}for(var Ot="#",Gt=0;Gt<3;Gt++)Ot+=("0"+Math.floor(255*parseFloat(ut[Gt])).toString(16)).slice(-2);return Ot},He=h.__private__.encodeColorString=function(G){var ut;typeof G=="string"&&(G={ch1:G});var Ct=G.ch1,Ot=G.ch2,Gt=G.ch3,ae=G.ch4,ke=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ct=="string"&&Ct.charAt(0)!=="#"){var Ge=new u3(Ct);if(Ge.ok)Ct=Ge.toHex();else if(!/^\d*\.?\d*$/.test(Ct))throw new Error('Invalid color "'+Ct+'" passed to jsPDF.encodeColorString.')}if(typeof Ct=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ct)&&(Ct="#"+Ct[1]+Ct[1]+Ct[2]+Ct[2]+Ct[3]+Ct[3]),typeof Ct=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ct)){var pr=parseInt(Ct.substr(1),16);Ct=pr>>16&255,Ot=pr>>8&255,Gt=255&pr}if(Ot===void 0||ae===void 0&&Ct===Ot&&Ot===Gt)if(typeof Ct=="string")ut=Ct+" "+ke[0];else switch(G.precision){case 2:ut=W(Ct/255)+" "+ke[0];break;case 3:default:ut=z(Ct/255)+" "+ke[0]}else if(ae===void 0||ln(ae)==="object"){if(ae&&!isNaN(ae.a)&&ae.a===0)return ut=["1.","1.","1.",ke[1]].join(" ");if(typeof Ct=="string")ut=[Ct,Ot,Gt,ke[1]].join(" ");else switch(G.precision){case 2:ut=[W(Ct/255),W(Ot/255),W(Gt/255),ke[1]].join(" ");break;default:case 3:ut=[z(Ct/255),z(Ot/255),z(Gt/255),ke[1]].join(" ")}}else if(typeof Ct=="string")ut=[Ct,Ot,Gt,ae,ke[2]].join(" ");else switch(G.precision){case 2:ut=[W(Ct),W(Ot),W(Gt),W(ae),ke[2]].join(" ");break;case 3:default:ut=[z(Ct),z(Ot),z(Gt),z(ae),ke[2]].join(" ")}return ut},hr=h.__private__.getFilters=function(){return o},lr=h.__private__.putStream=function(G){var ut=(G=G||{}).data||"",Ct=G.filters||hr(),Ot=G.alreadyAppliedFilters||[],Gt=G.addLength1||!1,ae=ut.length,ke=G.objectId,Ge=function(ni){return ni};if(c!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ge=xn.encryptor(ke,0));var pr={};Ct===!0&&(Ct=["FlateEncode"]);var Er=G.additionalKeyValues||[],Cr=(pr=_r.API.processDataByFilters!==void 0?_r.API.processDataByFilters(ut,Ct):{data:ut,reverseChain:[]}).reverseChain+(Array.isArray(Ot)?Ot.join(" "):Ot.toString());if(pr.data.length!==0&&(Er.push({key:"Length",value:pr.data.length}),Gt===!0&&Er.push({key:"Length1",value:ae})),Cr.length!=0)if(Cr.split("/").length-1==1)Er.push({key:"Filter",value:Cr});else{Er.push({key:"Filter",value:"["+Cr+"]"});for(var Wr=0;Wr<Er.length;Wr+=1)if(Er[Wr].key==="DecodeParms"){for(var pn=[],bn=0;bn<pr.reverseChain.split("/").length-1;bn+=1)pn.push("null");pn.push(Er[Wr].value),Er[Wr].value="["+pn.join(" ")+"]"}}it("<<");for(var Rn=0;Rn<Er.length;Rn++)it("/"+Er[Rn].key+" "+Er[Rn].value);it(">>"),pr.data.length!==0&&(it("stream"),it(Ge(pr.data)),it("endstream"))},fr=h.__private__.putPage=function(G){var ut=G.number,Ct=G.data,Ot=G.objId,Gt=G.contentsObjId;Ae(Ot,!0),it("<</Type /Page"),it("/Parent "+G.rootDictionaryObjId+" 0 R"),it("/Resources "+G.resourceDictionaryObjId+" 0 R"),it("/MediaBox ["+parseFloat(q(G.mediaBox.bottomLeftX))+" "+parseFloat(q(G.mediaBox.bottomLeftY))+" "+q(G.mediaBox.topRightX)+" "+q(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&it("/CropBox ["+q(G.cropBox.bottomLeftX)+" "+q(G.cropBox.bottomLeftY)+" "+q(G.cropBox.topRightX)+" "+q(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&it("/BleedBox ["+q(G.bleedBox.bottomLeftX)+" "+q(G.bleedBox.bottomLeftY)+" "+q(G.bleedBox.topRightX)+" "+q(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&it("/TrimBox ["+q(G.trimBox.bottomLeftX)+" "+q(G.trimBox.bottomLeftY)+" "+q(G.trimBox.topRightX)+" "+q(G.trimBox.topRightY)+"]"),G.artBox!==null&&it("/ArtBox ["+q(G.artBox.bottomLeftX)+" "+q(G.artBox.bottomLeftY)+" "+q(G.artBox.topRightX)+" "+q(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&it("/UserUnit "+G.userUnit),er.publish("putPage",{objId:Ot,pageContext:Ve[ut],pageNumber:ut,page:Ct}),it("/Contents "+Gt+" 0 R"),it(">>"),it("endobj");var ae=Ct.join(`
`);return w===b.ADVANCED&&(ae+=`
Q`),Ae(Gt,!0),lr({data:ae,filters:hr(),objectId:Gt}),it("endobj"),Ot},Xr=h.__private__.putPages=function(){var G,ut,Ct=[];for(G=1;G<=Ye;G++)Ve[G].objId=ee(),Ve[G].contentsObjId=ee();for(G=1;G<=Ye;G++)Ct.push(fr({number:G,data:nt[G],objId:Ve[G].objId,contentsObjId:Ve[G].contentsObjId,mediaBox:Ve[G].mediaBox,cropBox:Ve[G].cropBox,bleedBox:Ve[G].bleedBox,trimBox:Ve[G].trimBox,artBox:Ve[G].artBox,userUnit:Ve[G].userUnit,rootDictionaryObjId:Le,resourceDictionaryObjId:Je}));Ae(Le,!0),it("<</Type /Pages");var Ot="/Kids [";for(ut=0;ut<Ye;ut++)Ot+=Ct[ut]+" 0 R ";it(Ot+"]"),it("/Count "+Ye),it(">>"),it("endobj"),er.publish("postPutPages")},Rr=function(G){er.publish("putFont",{font:G,out:it,newObject:qt,putStream:lr}),G.isAlreadyPutted!==!0&&(G.objectNumber=qt(),it("<<"),it("/Type /Font"),it("/BaseFont /"+Mu(G.postScriptName)),it("/Subtype /Type1"),typeof G.encoding=="string"&&it("/Encoding /"+G.encoding),it("/FirstChar 32"),it("/LastChar 255"),it(">>"),it("endobj"))},en=function(){for(var G in xe)xe.hasOwnProperty(G)&&(d===!1||d===!0&&f.hasOwnProperty(G))&&Rr(xe[G])},Qr=function(G){G.objectNumber=qt();var ut=[];ut.push({key:"Type",value:"/XObject"}),ut.push({key:"Subtype",value:"/Form"}),ut.push({key:"BBox",value:"["+[q(G.x),q(G.y),q(G.x+G.width),q(G.y+G.height)].join(" ")+"]"}),ut.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var Ct=G.pages[1].join(`
`);lr({data:Ct,additionalKeyValues:ut,objectId:G.objectNumber}),it("endobj")},Lr=function(){for(var G in mr)mr.hasOwnProperty(G)&&Qr(mr[G])},xt=function(G,ut){var Ct,Ot=[],Gt=1/(ut-1);for(Ct=0;Ct<1;Ct+=Gt)Ot.push(Ct);if(Ot.push(1),G[0].offset!=0){var ae={offset:0,color:G[0].color};G.unshift(ae)}if(G[G.length-1].offset!=1){var ke={offset:1,color:G[G.length-1].color};G.push(ke)}for(var Ge="",pr=0,Er=0;Er<Ot.length;Er++){for(Ct=Ot[Er];Ct>G[pr+1].offset;)pr++;var Cr=G[pr].offset,Wr=(Ct-Cr)/(G[pr+1].offset-Cr),pn=G[pr].color,bn=G[pr+1].color;Ge+=tt(Math.round((1-Wr)*pn[0]+Wr*bn[0]).toString(16))+tt(Math.round((1-Wr)*pn[1]+Wr*bn[1]).toString(16))+tt(Math.round((1-Wr)*pn[2]+Wr*bn[2]).toString(16))}return Ge.trim()},Yt=function(G,ut){ut||(ut=21);var Ct=qt(),Ot=xt(G.colors,ut),Gt=[];Gt.push({key:"FunctionType",value:"0"}),Gt.push({key:"Domain",value:"[0.0 1.0]"}),Gt.push({key:"Size",value:"["+ut+"]"}),Gt.push({key:"BitsPerSample",value:"8"}),Gt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lr({data:Ot,additionalKeyValues:Gt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ct}),it("endobj"),G.objectNumber=qt(),it("<< /ShadingType "+G.type),it("/ColorSpace /DeviceRGB");var ae="/Coords ["+q(parseFloat(G.coords[0]))+" "+q(parseFloat(G.coords[1]))+" ";G.type===2?ae+=q(parseFloat(G.coords[2]))+" "+q(parseFloat(G.coords[3])):ae+=q(parseFloat(G.coords[2]))+" "+q(parseFloat(G.coords[3]))+" "+q(parseFloat(G.coords[4]))+" "+q(parseFloat(G.coords[5])),it(ae+="]"),G.matrix&&it("/Matrix ["+G.matrix.toString()+"]"),it("/Function "+Ct+" 0 R"),it("/Extend [true true]"),it(">>"),it("endobj")},he=function(G,ut){var Ct=ee(),Ot=qt();ut.push({resourcesOid:Ct,objectOid:Ot}),G.objectNumber=Ot;var Gt=[];Gt.push({key:"Type",value:"/Pattern"}),Gt.push({key:"PatternType",value:"1"}),Gt.push({key:"PaintType",value:"1"}),Gt.push({key:"TilingType",value:"1"}),Gt.push({key:"BBox",value:"["+G.boundingBox.map(q).join(" ")+"]"}),Gt.push({key:"XStep",value:q(G.xStep)}),Gt.push({key:"YStep",value:q(G.yStep)}),Gt.push({key:"Resources",value:Ct+" 0 R"}),G.matrix&&Gt.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),lr({data:G.stream,additionalKeyValues:Gt,objectId:G.objectNumber}),it("endobj")},ge=function(G){var ut;for(ut in We)We.hasOwnProperty(ut)&&(We[ut]instanceof Hl?Yt(We[ut]):We[ut]instanceof Hu&&he(We[ut],G))},Ze=function(G){for(var ut in G.objectNumber=qt(),it("<<"),G)switch(ut){case"opacity":it("/ca "+W(G[ut]));break;case"stroke-opacity":it("/CA "+W(G[ut]))}it(">>"),it("endobj")},Ne=function(){var G;for(G in te)te.hasOwnProperty(G)&&Ze(te[G])},Re=function(){for(var G in it("/XObject <<"),mr)mr.hasOwnProperty(G)&&mr[G].objectNumber>=0&&it("/"+G+" "+mr[G].objectNumber+" 0 R");er.publish("putXobjectDict"),it(">>")},Ar=function(){xn.oid=qt(),it("<<"),it("/Filter /Standard"),it("/V "+xn.v),it("/R "+xn.r),it("/U <"+xn.toHexString(xn.U)+">"),it("/O <"+xn.toHexString(xn.O)+">"),it("/P "+xn.P),it(">>"),it("endobj")},wr=function(){for(var G in it("/Font <<"),xe)xe.hasOwnProperty(G)&&(d===!1||d===!0&&f.hasOwnProperty(G))&&it("/"+G+" "+xe[G].objectNumber+" 0 R");it(">>")},kr=function(){if(Object.keys(We).length>0){for(var G in it("/Shading <<"),We)We.hasOwnProperty(G)&&We[G]instanceof Hl&&We[G].objectNumber>=0&&it("/"+G+" "+We[G].objectNumber+" 0 R");er.publish("putShadingPatternDict"),it(">>")}},ur=function(G){if(Object.keys(We).length>0){for(var ut in it("/Pattern <<"),We)We.hasOwnProperty(ut)&&We[ut]instanceof h.TilingPattern&&We[ut].objectNumber>=0&&We[ut].objectNumber<G&&it("/"+ut+" "+We[ut].objectNumber+" 0 R");er.publish("putTilingPatternDict"),it(">>")}},Qe=function(){if(Object.keys(te).length>0){var G;for(G in it("/ExtGState <<"),te)te.hasOwnProperty(G)&&te[G].objectNumber>=0&&it("/"+G+" "+te[G].objectNumber+" 0 R");er.publish("putGStateDict"),it(">>")}},gr=function(G){Ae(G.resourcesOid,!0),it("<<"),it("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),wr(),kr(),ur(G.objectOid),Qe(),Re(),it(">>"),it("endobj")},$r=function(){var G=[];en(),Ne(),Lr(),ge(G),er.publish("putResources"),G.forEach(gr),gr({resourcesOid:Je,objectOid:Number.MAX_SAFE_INTEGER}),er.publish("postPutResources")},Yr=function(){er.publish("putAdditionalObjects");for(var G=0;G<Y.length;G++){var ut=Y[G];Ae(ut.objId,!0),it(ut.content),it("endobj")}er.publish("postPutAdditionalObjects")},rn=function(G){ne[G.fontName]=ne[G.fontName]||{},ne[G.fontName][G.fontStyle]=G.id},Tn=function(G,ut,Ct,Ot,Gt){var ae={id:"F"+(Object.keys(xe).length+1).toString(10),postScriptName:G,fontName:ut,fontStyle:Ct,encoding:Ot,isStandardFont:Gt||!1,metadata:{}};return er.publish("addFont",{font:ae,instance:this}),xe[ae.id]=ae,rn(ae),ae.id},ci=function(G){for(var ut=0,Ct=gt.length;ut<Ct;ut++){var Ot=Tn.call(this,G[ut][0],G[ut][1],G[ut][2],gt[ut][3],!0);d===!1&&(f[Ot]=!0);var Gt=G[ut][0].split("-");rn({id:Ot,fontName:Gt[0],fontStyle:Gt[1]||""})}er.publish("addFonts",{fonts:xe,dictionary:ne})},Pn=function(G){return G.foo=function(){try{return G.apply(this,arguments)}catch(Ot){var ut=Ot.stack||"";~ut.indexOf(" at ")&&(ut=ut.split(" at ")[1]);var Ct="Error in function "+ut.split(`
`)[0].split("<")[0]+": "+Ot.message;if(!Tr.console)throw new Error(Ct);Tr.console.error(Ct,Ot),Tr.alert&&alert(Ct)}},G.foo.bar=G,G.foo},zr=function(G,ut){var Ct,Ot,Gt,ae,ke,Ge,pr,Er,Cr;if(Gt=(ut=ut||{}).sourceEncoding||"Unicode",ke=ut.outputEncoding,(ut.autoencode||ke)&&xe[Me].metadata&&xe[Me].metadata[Gt]&&xe[Me].metadata[Gt].encoding&&(ae=xe[Me].metadata[Gt].encoding,!ke&&xe[Me].encoding&&(ke=xe[Me].encoding),!ke&&ae.codePages&&(ke=ae.codePages[0]),typeof ke=="string"&&(ke=ae[ke]),ke)){for(pr=!1,Ge=[],Ct=0,Ot=G.length;Ct<Ot;Ct++)(Er=ke[G.charCodeAt(Ct)])?Ge.push(String.fromCharCode(Er)):Ge.push(G[Ct]),Ge[Ct].charCodeAt(0)>>8&&(pr=!0);G=Ge.join("")}for(Ct=G.length;pr===void 0&&Ct!==0;)G.charCodeAt(Ct-1)>>8&&(pr=!0),Ct--;if(!pr)return G;for(Ge=ut.noBOM?[]:[254,255],Ct=0,Ot=G.length;Ct<Ot;Ct++){if((Cr=(Er=G.charCodeAt(Ct))>>8)>>8)throw new Error("Character at position "+Ct+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ge.push(Cr),Ge.push(Er-(Cr<<8))}return String.fromCharCode.apply(void 0,Ge)},fn=h.__private__.pdfEscape=h.pdfEscape=function(G,ut){return zr(G,ut).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hi=h.__private__.beginPage=function(G){nt[++Ye]=[],Ve[Ye]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},wi(Ye),ft(nt[H])},Dr=function(G,ut){var Ct,Ot,Gt;switch(t=ut||t,typeof G=="string"&&(Ct=g(G.toLowerCase()),Array.isArray(Ct)&&(Ot=Ct[0],Gt=Ct[1])),Array.isArray(G)&&(Ot=G[0]*ie,Gt=G[1]*ie),isNaN(Ot)&&(Ot=s[0],Gt=s[1]),(Ot>14400||Gt>14400)&&(gn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ot=Math.min(14400,Ot),Gt=Math.min(14400,Gt)),s=[Ot,Gt],t.substr(0,1)){case"l":Gt>Ot&&(s=[Gt,Ot]);break;case"p":Ot>Gt&&(s=[Gt,Ot])}hi(s),pu(so),it(Xi),Nl!==0&&it(Nl+" J"),Bs!==0&&it(Bs+" j"),er.publish("addPage",{pageNumber:Ye})},Ir=function(G){G>0&&G<=Ye&&(nt.splice(G,1),Ve.splice(G,1),Ye--,H>Ye&&(H=Ye),this.setPage(H))},wi=function(G){G>0&&G<=Ye&&(H=G)},ji=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return nt.length-1},Ps=function(G,ut,Ct){var Ot,Gt=void 0;return Ct=Ct||{},G=G!==void 0?G:xe[Me].fontName,ut=ut!==void 0?ut:xe[Me].fontStyle,Ot=G.toLowerCase(),ne[Ot]!==void 0&&ne[Ot][ut]!==void 0?Gt=ne[Ot][ut]:ne[G]!==void 0&&ne[G][ut]!==void 0?Gt=ne[G][ut]:Ct.disableWarning===!1&&gn.warn("Unable to look up font label for font '"+G+"', '"+ut+"'. Refer to getFontList() for available fonts."),Gt||Ct.noFallback||(Gt=ne.times[ut])==null&&(Gt=ne.times.normal),Gt},Ln=h.__private__.putInfo=function(){var G=qt(),ut=function(Ot){return Ot};for(var Ct in c!==null&&(ut=xn.encryptor(G,0)),it("<<"),it("/Producer ("+fn(ut("jsPDF "+_r.version))+")"),we)we.hasOwnProperty(Ct)&&we[Ct]&&it("/"+Ct.substr(0,1).toUpperCase()+Ct.substr(1)+" ("+fn(ut(we[Ct]))+")");it("/CreationDate ("+fn(ut(k))+")"),it(">>"),it("endobj")},fi=h.__private__.putCatalog=function(G){var ut=(G=G||{}).rootDictionaryObjId||Le;switch(qt(),it("<<"),it("/Type /Catalog"),it("/Pages "+ut+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":it("/OpenAction [3 0 R /FitH null]");break;case"fullheight":it("/OpenAction [3 0 R /FitV null]");break;case"fullpage":it("/OpenAction [3 0 R /Fit]");break;case"original":it("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ct=""+kt;Ct.substr(Ct.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&it("/OpenAction [3 0 R /XYZ null null "+W(kt)+"]")}switch(ue||(ue="continuous"),ue){case"continuous":it("/PageLayout /OneColumn");break;case"single":it("/PageLayout /SinglePage");break;case"two":case"twoleft":it("/PageLayout /TwoColumnLeft");break;case"tworight":it("/PageLayout /TwoColumnRight")}Xt&&it("/PageMode /"+Xt),er.publish("putCatalog"),it(">>"),it("endobj")},ns=h.__private__.putTrailer=function(){it("trailer"),it("<<"),it("/Size "+(F+1)),it("/Root "+F+" 0 R"),it("/Info "+(F-1)+" 0 R"),c!==null&&it("/Encrypt "+xn.oid+" 0 R"),it("/ID [ <"+v+"> <"+v+"> ]"),it(">>")},Fr=h.__private__.putHeader=function(){it("%PDF-"+p),it("%")},io=h.__private__.putXRef=function(){var G="0000000000";it("xref"),it("0 "+(F+1)),it("0000000000 65535 f ");for(var ut=1;ut<=F;ut++)typeof J[ut]=="function"?it((G+J[ut]()).slice(-10)+" 00000 n "):J[ut]!==void 0?it((G+J[ut]).slice(-10)+" 00000 n "):it("0000000000 00000 n ")},di=h.__private__.buildDocument=function(){pt(),ft(L),er.publish("buildDocument"),Fr(),Xr(),Yr(),$r(),c!==null&&Ar(),Ln(),fi();var G=N;return io(),ns(),it("startxref"),it(""+G),it("%%EOF"),ft(nt[H]),L.join(`
`)},xi=h.__private__.getBlob=function(G){return new Blob([bt(G)],{type:"application/pdf"})},Mn=h.output=h.__private__.output=Pn(function(G,ut){switch(typeof(ut=ut||{})=="string"?ut={filename:ut}:ut.filename=ut.filename||"generated.pdf",G){case void 0:return di();case"save":h.save(ut.filename);break;case"arraybuffer":return bt(di());case"blob":return xi(di());case"bloburi":case"bloburl":if(Tr.URL!==void 0&&typeof Tr.URL.createObjectURL=="function")return Tr.URL&&Tr.URL.createObjectURL(xi(di()))||void 0;gn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ct="",Ot=di();try{Ct=sg(Ot)}catch{Ct=sg(unescape(encodeURIComponent(Ot)))}return"data:application/pdf;filename="+ut.filename+";base64,"+Ct;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Tr)==="[object Window]"){var Gt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ut.pdfObjectUrl&&(Gt=ut.pdfObjectUrl,ae="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Gt+'"'+ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ut)+");<\/script></body></html>",Ge=Tr.open();return Ge!==null&&Ge.document.write(ke),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Tr)==="[object Window]"){var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ut.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ut.filename+'" width="500px" height="400px" /></body></html>',Er=Tr.open();if(Er!==null){Er.document.write(pr);var Cr=this;Er.document.documentElement.querySelector("#pdfViewer").onload=function(){Er.document.title=ut.filename,Er.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Cr.output("bloburl"))}}return Er}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Tr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ut)+'"></iframe></body></html>',pn=Tr.open();if(pn!==null&&(pn.document.write(Wr),pn.document.title=ut.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return Tr.document.location.href=this.output("datauristring",ut);default:return null}}),Ei=function(G){return Array.isArray(cr)===!0&&cr.indexOf(G)>-1};switch(r){case"pt":ie=1;break;case"mm":ie=72/25.4;break;case"cm":ie=72/2.54;break;case"in":ie=72;break;case"px":ie=Ei("px_scaling")==1?.75:96/72;break;case"pc":case"em":ie=12;break;case"ex":ie=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ie=r}var xn=null;B(),x();var _i=function(G){return c!==null?xn.encryptor(G,0):function(ut){return ut}},Ls=h.__private__.getPageInfo=h.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ve[G].objId,pageNumber:G,pageContext:Ve[G]}},vr=h.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ut in Ve)if(Ve[ut].objId===G)break;return Ls(ut)},dn=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ve[H].objId,pageNumber:H,pageContext:Ve[H]}};h.addPage=function(){return Dr.apply(this,arguments),this},h.setPage=function(){return wi.apply(this,arguments),ft.call(this,nt[H]),this},h.insertPage=function(G){return this.addPage(),this.movePage(H,G),this},h.movePage=function(G,ut){var Ct,Ot;if(G>ut){Ct=nt[G],Ot=Ve[G];for(var Gt=G;Gt>ut;Gt--)nt[Gt]=nt[Gt-1],Ve[Gt]=Ve[Gt-1];nt[ut]=Ct,Ve[ut]=Ot,this.setPage(ut)}else if(G<ut){Ct=nt[G],Ot=Ve[G];for(var ae=G;ae<ut;ae++)nt[ae]=nt[ae+1],Ve[ae]=Ve[ae+1];nt[ut]=Ct,Ve[ut]=Ot,this.setPage(ut)}return this},h.deletePage=function(){return Ir.apply(this,arguments),this},h.__private__.text=h.text=function(G,ut,Ct,Ot,Gt){var ae,ke,Ge,pr,Er,Cr,Wr,pn,bn,Rn=(Ot=Ot||{}).scope||this;if(typeof G=="number"&&typeof ut=="number"&&(typeof Ct=="string"||Array.isArray(Ct))){var ni=Ct;Ct=ut,ut=G,G=ni}if(arguments[3]instanceof Be?(P("The transform parameter of text() with a Matrix value"),bn=Gt):(Ge=arguments[4],pr=arguments[5],ln(Wr=arguments[3])==="object"&&Wr!==null||(typeof Ge=="string"&&(pr=Ge,Ge=null),typeof Wr=="string"&&(pr=Wr,Wr=null),typeof Wr=="number"&&(Ge=Wr,Wr=null),Ot={flags:Wr,angle:Ge,align:pr})),isNaN(ut)||isNaN(Ct)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return Rn;var Yn="",ss=!1,Oi=typeof Ot.lineHeightFactor=="number"?Ot.lineHeightFactor:Jo,Us=Rn.internal.scaleFactor;function Ol(_e){return _e=_e.split("	").join(Array(Ot.TabLen||9).join(" ")),fn(_e,Wr)}function ia(_e){for(var Pe,or=_e.concat(),dr=[],Mr=or.length;Mr--;)typeof(Pe=or.shift())=="string"?dr.push(Pe):Array.isArray(_e)&&(Pe.length===1||Pe[1]===void 0&&Pe[2]===void 0)?dr.push(Pe[0]):dr.push([Pe[0],Pe[1],Pe[2]]);return dr}function qa(_e,Pe){var or;if(typeof _e=="string")or=Pe(_e)[0];else if(Array.isArray(_e)){for(var dr,Mr,ii=_e.concat(),xr=[],Un=ii.length;Un--;)typeof(dr=ii.shift())=="string"?xr.push(Pe(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(Mr=Pe(dr[0],dr[1],dr[2]),xr.push([Mr[0],Mr[1],Mr[2]]));or=xr}return or}var sa=!1,Pl=!0;if(typeof G=="string")sa=!0;else if(Array.isArray(G)){var Ll=G.concat();ke=[];for(var $a,Dn=Ll.length;Dn--;)(typeof($a=Ll.shift())!="string"||Array.isArray($a)&&typeof $a[0]!="string")&&(Pl=!1);sa=Pl}if(sa===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var Pi=St/Rn.internal.scaleFactor,cn=Pi*(Oi-1);switch(Ot.baseline){case"bottom":Ct-=cn;break;case"top":Ct+=Pi-cn;break;case"hanging":Ct+=Pi-2*cn;break;case"middle":Ct+=Pi/2-cn}if((Cr=Ot.maxWidth||0)>0&&(typeof G=="string"?G=Rn.splitTextToSize(G,Cr):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(_e,Pe){return _e.concat(Rn.splitTextToSize(Pe,Cr))},[]))),ae={text:G,x:ut,y:Ct,options:Ot,mutex:{pdfEscape:fn,activeFontKey:Me,fonts:xe,activeFontSize:St}},er.publish("preProcessText",ae),G=ae.text,Ge=(Ot=ae.options).angle,!(bn instanceof Be)&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,Ot.rotationDirection===0&&(Ge=-Ge),w===b.ADVANCED&&(Ge=-Ge);var uo=Math.cos(Ge),pi=Math.sin(Ge);bn=new Be(uo,pi,-pi,uo,0,0)}else Ge&&Ge instanceof Be&&(bn=Ge);w!==b.ADVANCED||bn||(bn=qe),(Er=Ot.charSpace||ao)!==void 0&&(Yn+=q(R(Er))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=Ot.horizontalScale)!==void 0&&(Yn+=q(100*pn)+` Tz
`),Ot.lang;var Li=-1,Rl=Ot.renderingMode!==void 0?Ot.renderingMode:Ot.stroke,Ha=Rn.internal.getCurrentPageInfo().pageContext;switch(Rl){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var qs=Ha.usedRenderingMode!==void 0?Ha.usedRenderingMode:-1;Li!==-1?Yn+=Li+` Tr
`:qs!==-1&&(Yn+=`0 Tr
`),Li!==-1&&(Ha.usedRenderingMode=Li),pr=Ot.align||"left";var Ri,xs=St*Oi,_s=Rn.internal.pageSize.getWidth(),Dl=xe[Me];Er=Ot.charSpace||ao,Cr=Ot.maxWidth||0,Wr=Object.assign({autoencode:!0,noBOM:!0},Ot.flags);var D=[],X=function(_e){return Rn.getStringUnitWidth(_e,{font:Dl,charSpace:Er,fontSize:St,doKerning:!1})*St/Us};if(Object.prototype.toString.call(G)==="[object Array]"){var Q;ke=ia(G),pr!=="left"&&(Ri=ke.map(X));var rt,ot=0;if(pr==="right"){ut-=Ri[0],G=[],Dn=ke.length;for(var ht=0;ht<Dn;ht++)ht===0?(rt=Ds(ut),Q=oo(Ct)):(rt=R(ot-Ri[ht]),Q=-xs),G.push([ke[ht],rt,Q]),ot=Ri[ht]}else if(pr==="center"){ut-=Ri[0]/2,G=[],Dn=ke.length;for(var wt=0;wt<Dn;wt++)wt===0?(rt=Ds(ut),Q=oo(Ct)):(rt=R((ot-Ri[wt])/2),Q=-xs),G.push([ke[wt],rt,Q]),ot=Ri[wt]}else if(pr==="left"){G=[],Dn=ke.length;for(var At=0;At<Dn;At++)G.push(ke[At])}else if(pr==="justify"&&Dl.encoding==="Identity-H"){G=[],Dn=ke.length,Cr=Cr!==0?Cr:_s;for(var Nt=0,Et=0;Et<Dn;Et++)if(Q=Et===0?oo(Ct):-xs,rt=Et===0?Ds(ut):Nt,Et<Dn-1){var Ht=R((Cr-Ri[Et])/(ke[Et].split(" ").length-1)),jt=ke[Et].split(" ");G.push([jt[0]+" ",rt,Q]),Nt=0;for(var $t=1;$t<jt.length;$t++){var Pt=(X(jt[$t-1]+" "+jt[$t])-X(jt[$t]))*Us+Ht;$t==jt.length-1?G.push([jt[$t],Pt,0]):G.push([jt[$t]+" ",Pt,0]),Nt-=Pt}}else G.push([ke[Et],rt,Q]);G.push(["",Nt,0])}else{if(pr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],Dn=ke.length,Cr=Cr!==0?Cr:_s,Et=0;Et<Dn;Et++)Q=Et===0?oo(Ct):-xs,rt=Et===0?Ds(ut):0,Et<Dn-1?D.push(q(R((Cr-Ri[Et])/(ke[Et].split(" ").length-1)))):D.push(0),G.push([ke[Et],rt,Q])}}var zt=typeof Ot.R2L=="boolean"?Ot.R2L:Lt;zt===!0&&(G=qa(G,function(_e,Pe,or){return[_e.split("").reverse().join(""),Pe,or]})),ae={text:G,x:ut,y:Ct,options:Ot,mutex:{pdfEscape:fn,activeFontKey:Me,fonts:xe,activeFontSize:St}},er.publish("postProcessText",ae),G=ae.text,ss=ae.mutex.isHex||!1;var Bt=xe[Me].encoding;Bt!=="WinAnsiEncoding"&&Bt!=="StandardEncoding"||(G=qa(G,function(_e,Pe,or){return[Ol(_e),Pe,or]})),ke=ia(G),G=[];for(var Wt,Kt,Qt,se=0,fe=1,Oe=Array.isArray(ke[0])?fe:se,Fe="",je=function(_e,Pe,or){var dr="";return or instanceof Be?(or=typeof Ot.angle=="number"?Nr(or,new Be(1,0,0,1,_e,Pe)):Nr(new Be(1,0,0,1,_e,Pe),or),w===b.ADVANCED&&(or=Nr(new Be(1,0,0,-1,0,0),or)),dr=or.join(" ")+` Tm
`):dr=q(_e)+" "+q(Pe)+` Td
`,dr},Ee=0;Ee<ke.length;Ee++){switch(Fe="",Oe){case fe:Qt=(ss?"<":"(")+ke[Ee][0]+(ss?">":")"),Wt=parseFloat(ke[Ee][1]),Kt=parseFloat(ke[Ee][2]);break;case se:Qt=(ss?"<":"(")+ke[Ee]+(ss?">":")"),Wt=Ds(ut),Kt=oo(Ct)}D!==void 0&&D[Ee]!==void 0&&(Fe=D[Ee]+` Tw
`),Ee===0?G.push(Fe+je(Wt,Kt,bn)+Qt):Oe===se?G.push(Fe+Qt):Oe===fe&&G.push(Fe+je(Wt,Kt,bn)+Qt)}G=Oe===se?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var Ie=`BT
/`;return Ie+=Me+" "+St+` Tf
`,Ie+=q(St*Oi)+` TL
`,Ie+=Fs+`
`,Ie+=Yn,Ie+=G,it(Ie+="ET"),f[Me]=!0,Rn};var ri=h.__private__.clip=h.clip=function(G){return it(G==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ri("evenodd")},h.__private__.discardPath=h.discardPath=function(){return it("n"),this};var Ni=h.__private__.isValidStyle=function(G){var ut=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(ut=!0),ut};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(G){return Ni(G)&&(a=G),this};var Oo=h.__private__.getStyle=h.getStyle=function(G){var ut=a;switch(G){case"D":case"S":ut="S";break;case"F":ut="f";break;case"FD":case"DF":ut="B";break;case"f":case"f*":case"B":case"B*":ut=G}return ut},Ra=h.close=function(){return it("h"),this};h.stroke=function(){return it("S"),this},h.fill=function(G){return Vi("f",G),this},h.fillEvenOdd=function(G){return Vi("f*",G),this},h.fillStroke=function(G){return Vi("B",G),this},h.fillStrokeEvenOdd=function(G){return Vi("B*",G),this};var Vi=function(G,ut){ln(ut)==="object"?El(ut,G):it(G)},jl=function(G){G===null||w===b.ADVANCED&&G===void 0||(G=Oo(G),it(G))};function is(G,ut,Ct,Ot,Gt){var ae=new Hu(ut||this.boundingBox,Ct||this.xStep,Ot||this.yStep,this.gState,Gt||this.matrix);ae.stream=this.stream;var ke=G+"$$"+this.cloneIndex+++"$$";return Mt(ke,ae),ae}var El=function(G,ut){var Ct=Or[G.key],Ot=We[Ct];if(Ot instanceof Hl)it("q"),it(fu(ut)),Ot.gState&&h.setGState(Ot.gState),it(G.matrix.toString()+" cm"),it("/"+Ct+" sh"),it("Q");else if(Ot instanceof Hu){var Gt=new Be(1,0,0,-1,0,lo());G.matrix&&(Gt=Gt.multiply(G.matrix||qe),Ct=is.call(Ot,G.key,G.boundingBox,G.xStep,G.yStep,Gt).id),it("q"),it("/Pattern cs"),it("/"+Ct+" scn"),Ot.gState&&h.setGState(Ot.gState),it(ut),it("Q")}},fu=function(G){switch(G){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Zo=h.moveTo=function(G,ut){return it(q(R(G))+" "+q(E(ut))+" m"),this},ws=h.lineTo=function(G,ut){return it(q(R(G))+" "+q(E(ut))+" l"),this},Rs=h.curveTo=function(G,ut,Ct,Ot,Gt,ae){return it([q(R(G)),q(E(ut)),q(R(Ct)),q(E(Ot)),q(R(Gt)),q(E(ae)),"c"].join(" ")),this};h.__private__.line=h.line=function(G,ut,Ct,Ot,Gt){if(isNaN(G)||isNaN(ut)||isNaN(Ct)||isNaN(Ot)||!Ni(Gt))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Ct-G,Ot-ut]],G,ut,[1,1],Gt||"S"):this.lines([[Ct-G,Ot-ut]],G,ut,[1,1]).stroke()},h.__private__.lines=h.lines=function(G,ut,Ct,Ot,Gt,ae){var ke,Ge,pr,Er,Cr,Wr,pn,bn,Rn,ni,Yn,ss;if(typeof G=="number"&&(ss=Ct,Ct=ut,ut=G,G=ss),Ot=Ot||[1,1],ae=ae||!1,isNaN(ut)||isNaN(Ct)||!Array.isArray(G)||!Array.isArray(Ot)||!Ni(Gt)||typeof ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zo(ut,Ct),ke=Ot[0],Ge=Ot[1],Er=G.length,ni=ut,Yn=Ct,pr=0;pr<Er;pr++)(Cr=G[pr]).length===2?(ni=Cr[0]*ke+ni,Yn=Cr[1]*Ge+Yn,ws(ni,Yn)):(Wr=Cr[0]*ke+ni,pn=Cr[1]*Ge+Yn,bn=Cr[2]*ke+ni,Rn=Cr[3]*Ge+Yn,ni=Cr[4]*ke+ni,Yn=Cr[5]*Ge+Yn,Rs(Wr,pn,bn,Rn,ni,Yn));return ae&&Ra(),jl(Gt),this},h.path=function(G){for(var ut=0;ut<G.length;ut++){var Ct=G[ut],Ot=Ct.c;switch(Ct.op){case"m":Zo(Ot[0],Ot[1]);break;case"l":ws(Ot[0],Ot[1]);break;case"c":Rs.apply(this,Ot);break;case"h":Ra()}}return this},h.__private__.rect=h.rect=function(G,ut,Ct,Ot,Gt){if(isNaN(G)||isNaN(ut)||isNaN(Ct)||isNaN(Ot)||!Ni(Gt))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Ot=-Ot),it([q(R(G)),q(E(ut)),q(R(Ct)),q(R(Ot)),"re"].join(" ")),jl(Gt),this},h.__private__.triangle=h.triangle=function(G,ut,Ct,Ot,Gt,ae,ke){if(isNaN(G)||isNaN(ut)||isNaN(Ct)||isNaN(Ot)||isNaN(Gt)||isNaN(ae)||!Ni(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ct-G,Ot-ut],[Gt-Ct,ae-Ot],[G-Gt,ut-ae]],G,ut,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(G,ut,Ct,Ot,Gt,ae,ke){if(isNaN(G)||isNaN(ut)||isNaN(Ct)||isNaN(Ot)||isNaN(Gt)||isNaN(ae)||!Ni(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return Gt=Math.min(Gt,.5*Ct),ae=Math.min(ae,.5*Ot),this.lines([[Ct-2*Gt,0],[Gt*Ge,0,Gt,ae-ae*Ge,Gt,ae],[0,Ot-2*ae],[0,ae*Ge,-Gt*Ge,ae,-Gt,ae],[2*Gt-Ct,0],[-Gt*Ge,0,-Gt,-ae*Ge,-Gt,-ae],[0,2*ae-Ot],[0,-ae*Ge,Gt*Ge,-ae,Gt,-ae]],G+Gt,ut,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(G,ut,Ct,Ot,Gt){if(isNaN(G)||isNaN(ut)||isNaN(Ct)||isNaN(Ot)||!Ni(Gt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ae=4/3*(Math.SQRT2-1)*Ct,ke=4/3*(Math.SQRT2-1)*Ot;return Zo(G+Ct,ut),Rs(G+Ct,ut-ke,G+ae,ut-Ot,G,ut-Ot),Rs(G-ae,ut-Ot,G-Ct,ut-ke,G-Ct,ut),Rs(G-Ct,ut+ke,G-ae,ut+Ot,G,ut+Ot),Rs(G+ae,ut+Ot,G+Ct,ut+ke,G+Ct,ut),jl(Gt),this},h.__private__.circle=h.circle=function(G,ut,Ct,Ot){if(isNaN(G)||isNaN(ut)||isNaN(Ct)||!Ni(Ot))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,ut,Ct,Ct,Ot)},h.setFont=function(G,ut,Ct){return Ct&&(ut=I(ut,Ct)),Me=Ps(G,ut,{disableWarning:!1}),this};var du=h.__private__.getFont=h.getFont=function(){return xe[Ps.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var G,ut,Ct={};for(G in ne)if(ne.hasOwnProperty(G))for(ut in Ct[G]=[],ne[G])ne[G].hasOwnProperty(ut)&&Ct[G].push(ut);return Ct},h.addFont=function(G,ut,Ct,Ot,Gt){var ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ae.indexOf(arguments[3])!==-1?Gt=arguments[3]:arguments[3]&&ae.indexOf(arguments[3])==-1&&(Ct=I(Ct,Ot)),Gt=Gt||"Identity-H",Tn.call(this,G,ut,Ct,Gt)};var Jo,so=n.lineWidth||.200025,Da=h.__private__.getLineWidth=h.getLineWidth=function(){return so},pu=h.__private__.setLineWidth=h.setLineWidth=function(G){return so=G,it(q(R(G))+" w"),this};h.__private__.setLineDash=_r.API.setLineDash=_r.API.setLineDashPattern=function(G,ut){if(G=G||[],ut=ut||0,isNaN(ut)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(Ct){return q(R(Ct))}).join(" "),ut=q(R(ut)),it("["+G+"] "+ut+" d"),this};var Qo=h.__private__.getLineHeight=h.getLineHeight=function(){return St*Jo};h.__private__.getLineHeight=h.getLineHeight=function(){return St*Jo};var ta=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(Jo=G),this},Ia=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Jo};ta(n.lineHeight);var Ds=h.__private__.getHorizontalCoordinate=function(G){return R(G)},oo=h.__private__.getVerticalCoordinate=function(G){return w===b.ADVANCED?G:Ve[H].mediaBox.topRightY-Ve[H].mediaBox.bottomLeftY-R(G)},_c=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(G){return q(Ds(G))},Is=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(G){return q(oo(G))},Xi=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ke(Xi)},h.__private__.setStrokeColor=h.setDrawColor=function(G,ut,Ct,Ot){return Xi=He({ch1:G,ch2:ut,ch3:Ct,ch4:Ot,pdfColorType:"draw",precision:2}),it(Xi),this};var Fa=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ke(Fa)},h.__private__.setFillColor=h.setFillColor=function(G,ut,Ct,Ot){return Fa=He({ch1:G,ch2:ut,ch3:Ct,ch4:Ot,pdfColorType:"fill",precision:2}),it(Fa),this};var Fs=n.textColor||"0 g",Ba=h.__private__.getTextColor=h.getTextColor=function(){return Ke(Fs)};h.__private__.setTextColor=h.setTextColor=function(G,ut,Ct,Ot){return Fs=He({ch1:G,ch2:ut,ch3:Ct,ch4:Ot,pdfColorType:"text",precision:3}),this};var ao=n.charSpace,mu=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ao||0)};h.__private__.setCharSpace=h.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ao=G,this};var Nl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(G){var ut=h.CapJoinStyles[G];if(ut===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=ut,it(ut+" J"),this};var Bs=0;h.__private__.setLineJoin=h.setLineJoin=function(G){var ut=h.CapJoinStyles[G];if(ut===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bs=ut,it(ut+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return it(q(R(G))+" M"),this},h.GState=rp,h.setGState=function(G){(G=typeof G=="string"?te[Sr[G]]:za(null,G)).equals(br)||(it("/"+G.id+" gs"),br=G)};var za=function(G,ut){if(!G||!Sr[G]){var Ct=!1;for(var Ot in te)if(te.hasOwnProperty(Ot)&&te[Ot].equals(ut)){Ct=!0;break}if(Ct)ut=te[Ot];else{var Gt="GS"+(Object.keys(te).length+1).toString(10);te[Gt]=ut,ut.id=Gt}return G&&(Sr[G]=ut.id),er.publish("addGState",ut),ut}};h.addGState=function(G,ut){return za(G,ut),this},h.saveGraphicsState=function(){return it("q"),ze.push({key:Me,size:St,color:Fs}),this},h.restoreGraphicsState=function(){it("Q");var G=ze.pop();return Me=G.key,St=G.size,Fs=G.color,br=null,this},h.setCurrentTransformationMatrix=function(G){return it(G.toString()+" cm"),this},h.comment=function(G){return it("#"+G),this};var Po=function(G,ut){var Ct=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ct},set:function(ae){isNaN(ae)||(Ct=parseFloat(ae))}});var Ot=ut||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ot},set:function(ae){isNaN(ae)||(Ot=parseFloat(ae))}});var Gt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Gt},set:function(ae){Gt=ae.toString()}}),this},ea=function(G,ut,Ct,Ot){Po.call(this,G,ut),this.type="rect";var Gt=Ct||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Gt},set:function(ke){isNaN(ke)||(Gt=parseFloat(ke))}});var ae=Ot||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ae},set:function(ke){isNaN(ke)||(ae=parseFloat(ke))}}),this},ra=function(){this.page=Ye,this.currentPage=H,this.pages=nt.slice(0),this.pagesContext=Ve.slice(0),this.x=Ue,this.y=me,this.matrix=Ce,this.width=Lo(H),this.height=lo(H),this.outputDestination=st,this.id="",this.objectNumber=-1};ra.prototype.restore=function(){Ye=this.page,H=this.currentPage,Ve=this.pagesContext,nt=this.pages,Ue=this.x,me=this.y,Ce=this.matrix,Ro(H,this.width),Ua(H,this.height),st=this.outputDestination};var zn=function(G,ut,Ct,Ot,Gt){rr.push(new ra),Ye=H=0,nt=[],Ue=G,me=ut,Ce=Gt,hi([Ct,Ot])},na=function(G){if(jr[G])rr.pop().restore();else{var ut=new ra,Ct="Xo"+(Object.keys(mr).length+1).toString(10);ut.id=Ct,jr[G]=Ct,mr[Ct]=ut,er.publish("addFormObject",ut),rr.pop().restore()}};for(var zs in h.beginFormObject=function(G,ut,Ct,Ot,Gt){return zn(G,ut,Ct,Ot,Gt),this},h.endFormObject=function(G){return na(G),this},h.doFormObject=function(G,ut){var Ct=mr[jr[G]];return it("q"),it(ut.toString()+" cm"),it("/"+Ct.id+" Do"),it("Q"),this},h.getFormObject=function(G){var ut=mr[jr[G]];return{x:ut.x,y:ut.y,width:ut.width,height:ut.height,matrix:ut.matrix}},h.save=function(G,ut){return G=G||"generated.pdf",(ut=ut||{}).returnPromise=ut.returnPromise||!1,ut.returnPromise===!1?(ql(xi(di()),G),typeof ql.unload=="function"&&Tr.setTimeout&&setTimeout(ql.unload,911),this):new Promise(function(Ct,Ot){try{var Gt=ql(xi(di()),G);typeof ql.unload=="function"&&Tr.setTimeout&&setTimeout(ql.unload,911),Ct(Gt)}catch(ae){Ot(ae.message)}})},_r.API)_r.API.hasOwnProperty(zs)&&(zs==="events"&&_r.API.events.length?function(G,ut){var Ct,Ot,Gt;for(Gt=ut.length-1;Gt!==-1;Gt--)Ct=ut[Gt][0],Ot=ut[Gt][1],G.subscribe.apply(G,[Ct].concat(typeof Ot=="function"?[Ot]:Ot))}(er,_r.API.events):h[zs]=_r.API[zs]);var Lo=h.getPageWidth=function(G){return(Ve[G=G||H].mediaBox.topRightX-Ve[G].mediaBox.bottomLeftX)/ie},Ro=h.setPageWidth=function(G,ut){Ve[G].mediaBox.topRightX=ut*ie+Ve[G].mediaBox.bottomLeftX},lo=h.getPageHeight=function(G){return(Ve[G=G||H].mediaBox.topRightY-Ve[G].mediaBox.bottomLeftY)/ie},Ua=h.setPageHeight=function(G,ut){Ve[G].mediaBox.topRightY=ut*ie+Ve[G].mediaBox.bottomLeftY};return h.internal={pdfEscape:fn,getStyle:Oo,getFont:du,getFontSize:Tt,getCharSpace:mu,getTextColor:Ba,getLineHeight:Qo,getLineHeightFactor:Ia,getLineWidth:Da,write:at,getHorizontalCoordinate:Ds,getVerticalCoordinate:oo,getCoordinateString:_c,getVerticalCoordinateString:Is,collections:{},newObject:qt,newAdditionalObject:sr,newObjectDeferred:ee,newObjectDeferredBegin:Ae,getFilters:hr,putStream:lr,events:er,scaleFactor:ie,pageSize:{getWidth:function(){return Lo(H)},setWidth:function(G){Ro(H,G)},getHeight:function(){return lo(H)},setHeight:function(G){Ua(H,G)}},encryptionOptions:c,encryption:xn,getEncryptor:_i,output:Mn,getNumberOfPages:ji,pages:nt,out:it,f2:W,f3:z,getPageInfo:Ls,getPageInfoByObjId:vr,getCurrentPageInfo:dn,getPDFVersion:y,Point:Po,Rectangle:ea,Matrix:Be,hasHotfix:Ei},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Lo(H)},set:function(G){Ro(H,G)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return lo(H)},set:function(G){Ua(H,G)},enumerable:!0,configurable:!0}),ci.call(h,gt),Me="F1",Dr(s,t),er.publish("initialized"),h}Au.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Au.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Au.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Au.prototype.processOwnerPassword=function(n,e){return ag(og(e).substr(0,5),n)},Au.prototype.encryptor=function(n,e){var t=og(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return ag(t,r)}},rp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ln(n)!==ln(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},_r.API={events:[]},_r.version="2.5.2";var Fn=_r.API,E1=1,hu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ku=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pr=function(n){return n.toFixed(2)},nl=function(n){return n.toFixed(5)};Fn.__acroform__={};var vs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},yb=function(n){return n*E1},Fo=function(n){var e=new d3,t=ar.internal.getHeight(n)||0,r=ar.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Pr(r)),Number(Pr(t))],e},US=Fn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},qS=Fn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},$S=Fn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Hn=Fn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $S(n,e-1)},Wn=Fn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return US(n,e-1)},Vn=Fn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qS(n,e-1)},HS=Fn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],i=n[1],o=n[2],l=n[3],u={};return u.lowerLeft_X=t(s)||0,u.lowerLeft_Y=r(i+l)||0,u.upperRight_X=t(s+o)||0,u.upperRight_Y=r(i)||0,[Number(Pr(u.lowerLeft_X)),Number(Pr(u.lowerLeft_Y)),Number(Pr(u.upperRight_X)),Number(Pr(u.upperRight_Y))]},WS=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=lg(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Pr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Fo(n);return i.scope=n.scope,i.stream=e.join(`
`),i}},lg=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(z){return z.split(`
`)}):s.map(function(z){return[z]});var i=t,o=ar.internal.getHeight(n)||0;o=o<0?-o:o;var l=ar.internal.getWidth(n)||0;l=l<0?-l:l;var u=function(z,R,T){if(z+1<s.length){var E=R+" "+s[z+1][0];return Vf(E,n,T).width<=l-4}return!1};i++;t:for(;i>0;){e="",i--;var a,c,d=Vf("3",n,i).height,f=n.multiline?o-i:(o-d)/2,h=f+=2,p=0,y=0,m=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Vf(e,n,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",b=0,w=0;w<s.length;w++)if(s.hasOwnProperty(w)){var C=!1;if(s[w].length!==1&&m!==s[w].length-1){if((d+2)*(b+2)+2>o)continue t;g+=s[w][m],C=!0,y=w,w--}else{g=(g+=s[w][m]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var j=parseInt(w),I=u(j,g,i),q=w>=s.length-1;if(I&&!q){g+=" ",m=0;continue}if(I||q){if(q)y=j;else if(n.multiline&&(d+2)*(b+2)+2>o)continue t}else{if(!n.multiline||(d+2)*(b+2)+2>o)continue t;y=j}}for(var P="",U=p;U<=y;U++){var W=s[U];if(n.multiline){if(U===y){P+=W[m]+" ",m=(m+1)%W.length;continue}if(U===p){P+=W[W.length-1]+" ";continue}}P+=W[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,c=Vf(P,n,i).width,n.textAlign){case"right":a=l-c-2;break;case"center":a=(l-c)/2;break;case"left":default:a=2}e+=Pr(a)+" "+Pr(h)+` Td
`,e+="("+hu(P)+`) Tj
`,e+=-Pr(a)+` 0 Td
`,h=-(i+2),c=0,p=C?y:y+1,b++,g=""}break}return r.text=e,r.fontSize=i,r},Vf=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},VS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XS=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},YS=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,s=n[t];e.internal.newObjectDeferredBegin(s.objId,!0),ln(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[r]}},GS=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Eo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(VS)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");E1=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new p3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&XS(i,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],u=[],a=l.Rect;if(l.Rect&&(l.Rect=HS(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ar.createDefaultAppearanceStream(l),ln(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=a,l.hasAppearanceStream&&!l.appearanceStreamContent){var c=WS(l);u.push({key:"AP",value:"<</N "+c+">>"}),s.internal.acroformPlugin.xForms.push(c)}if(l.appearanceStreamContent){var d="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var h=l.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];typeof p=="function"&&(p=p.call(s,l)),d+="/"+o+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(s,l)),d+="/"+o+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);d+=">>"}u.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:l.objId}),s.internal.out("endobj")}i&&YS(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},f3=Fn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var s="[",i=0;i<n.length;i++)switch(i!==0&&(s+=" "),ln(n[i])){case"boolean":case"number":case"object":s+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+hu(r(n[i].toString()))+")"):s+=n[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+hu(r(n))+")"},Ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ho.prototype.toString=function(){return this.objId+" 0 R"},Ho.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ho.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:f3(s,this.objId,this.scope)}):s instanceof Ho?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var d3=function(){Ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};vs(d3,Ho);var p3=function(){Ho.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hu(t(n))+")"}},set:function(t){n=t}})};vs(p3,Ho);var Eo=function n(){Ho.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hn(e,3)},set:function(g){g?this.F=Wn(e,3):this.F=Vn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof np)return;i="FieldObject"+n.FieldNum++}var g=function(b){return b};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+hu(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var a=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return a===void 0?50/E1:a},set:function(g){a=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof np||this instanceof tu))return H0(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof bi?f:H0(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=this instanceof bi?g:g.substr(0,1)==="("?ku(g.substr(1,g.length-2)):ku(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof bi?ku(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof bi?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof bi?h:H0(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof bi?g:g.substr(0,1)==="("?ku(g.substr(1,g.length-2)):ku(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof bi?ku(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof bi?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(g){g=!!g,y=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,1)},set:function(g){g?this.Ff=Wn(this.Ff,1):this.Ff=Vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,2)},set:function(g){g?this.Ff=Wn(this.Ff,2):this.Ff=Vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,3)},set:function(g){g?this.Ff=Wn(this.Ff,3):this.Ff=Vn(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};vs(Eo,Ho);var tc=function(){Eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return f3(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=function(i,o,l){l||(l=1);for(var u,a=[];u=o.exec(i);)a.push(u[l]);return a}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,18)},set:function(t){t?this.Ff=Wn(this.Ff,18):this.Ff=Vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Wn(this.Ff,19):this.Ff=Vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,20)},set:function(t){t?(this.Ff=Wn(this.Ff,20),e.sort()):this.Ff=Vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,22)},set:function(t){t?this.Ff=Wn(this.Ff,22):this.Ff=Vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,23)},set:function(t){t?this.Ff=Wn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,27)},set:function(t){t?this.Ff=Wn(this.Ff,27):this.Ff=Vn(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(tc,Eo);var ec=function(){tc.call(this),this.fontName="helvetica",this.combo=!1};vs(ec,tc);var rc=function(){ec.call(this),this.combo=!0};vs(rc,ec);var dd=function(){rc.call(this),this.edit=!0};vs(dd,rc);var bi=function(){Eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,15)},set:function(t){t?this.Ff=Wn(this.Ff,15):this.Ff=Vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,16)},set:function(t){t?this.Ff=Wn(this.Ff,16):this.Ff=Vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,17)},set:function(t){t?this.Ff=Wn(this.Ff,17):this.Ff=Vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,26)},set:function(t){t?this.Ff=Wn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+hu(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){ln(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};vs(bi,Eo);var pd=function(){bi.call(this),this.pushButton=!0};vs(pd,bi);var nc=function(){bi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};vs(nc,bi);var np=function(){var n,e;Eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+hu(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){ln(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(np,Eo),nc.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},nc.prototype.createOption=function(n){var e=new np;return e.Parent=this,e.optionName=n,this.Kids.push(e),KS.call(this.scope,e),e};var md=function(){bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ar.CheckBox.createAppearanceStream()};vs(md,bi);var tu=function(){Eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,13)},set:function(e){e?this.Ff=Wn(this.Ff,13):this.Ff=Vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,21)},set:function(e){e?this.Ff=Wn(this.Ff,21):this.Ff=Vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,23)},set:function(e){e?this.Ff=Wn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,24)},set:function(e){e?this.Ff=Wn(this.Ff,24):this.Ff=Vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,25)},set:function(e){e?this.Ff=Wn(this.Ff,25):this.Ff=Vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,26)},set:function(e){e?this.Ff=Wn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(tu,Eo);var gd=function(){tu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hn(this.Ff,14)},set:function(n){n?this.Ff=Wn(this.Ff,14):this.Ff=Vn(this.Ff,14)}}),this.password=!0};vs(gd,tu);var ar={CheckBox:{createAppearanceStream:function(){return{N:{On:ar.CheckBox.YesNormal},D:{On:ar.CheckBox.YesPushDown,Off:ar.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),i=lg(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Pr(ar.internal.getWidth(n))+" "+Pr(ar.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Pr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Fo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],i=ar.internal.getHeight(n),o=ar.internal.getWidth(n),l=lg(n,n.caption);return s.push("1 g"),s.push("0 0 "+Pr(o)+" "+Pr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Pr(o-1)+" "+Pr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Pr(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Pr(ar.internal.getWidth(n))+" "+Pr(ar.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ar.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ar.RadioButton.Circle.YesNormal,e.D[n]=ar.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=ar.internal.getWidth(n)<=ar.internal.getHeight(n)?ar.internal.getWidth(n)/4:ar.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=ar.internal.Bezier_C,i=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+nl(ar.internal.getWidth(n)/2)+" "+nl(ar.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=ar.internal.getWidth(n)<=ar.internal.getHeight(n)?ar.internal.getWidth(n)/4:ar.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*ar.internal.Bezier_C).toFixed(5)),o=Number((r*ar.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nl(ar.internal.getWidth(n)/2)+" "+nl(ar.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+nl(ar.internal.getWidth(n)/2)+" "+nl(ar.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=ar.internal.getWidth(n)<=ar.internal.getHeight(n)?ar.internal.getWidth(n)/4:ar.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*ar.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nl(ar.internal.getWidth(n)/2)+" "+nl(ar.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ar.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ar.RadioButton.Cross.YesNormal,e.D[n]=ar.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Fo(n);e.scope=n.scope;var t=[],r=ar.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Pr(ar.internal.getWidth(n)-2)+" "+Pr(ar.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Pr(r.x1.x)+" "+Pr(r.x1.y)+" m"),t.push(Pr(r.x2.x)+" "+Pr(r.x2.y)+" l"),t.push(Pr(r.x4.x)+" "+Pr(r.x4.y)+" m"),t.push(Pr(r.x3.x)+" "+Pr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=ar.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pr(ar.internal.getWidth(n))+" "+Pr(ar.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pr(ar.internal.getWidth(n)-2)+" "+Pr(ar.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Pr(t.x1.x)+" "+Pr(t.x1.y)+" m"),r.push(Pr(t.x2.x)+" "+Pr(t.x2.y)+" l"),r.push(Pr(t.x4.x)+" "+Pr(t.x4.y)+" m"),r.push(Pr(t.x3.x)+" "+Pr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Fo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Pr(ar.internal.getWidth(n))+" "+Pr(ar.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};ar.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ar.internal.getWidth(n),t=ar.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},ar.internal.getWidth=function(n){var e=0;return ln(n)==="object"&&(e=yb(n.Rect[2])),e},ar.internal.getHeight=function(n){var e=0;return ln(n)==="object"&&(e=yb(n.Rect[3])),e};var KS=Fn.addField=function(n){if(GS(this,n),!(n instanceof Eo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fn.AcroFormChoiceField=tc,Fn.AcroFormListBox=ec,Fn.AcroFormComboBox=rc,Fn.AcroFormEditBox=dd,Fn.AcroFormButton=bi,Fn.AcroFormPushButton=pd,Fn.AcroFormRadioButton=nc,Fn.AcroFormCheckBox=md,Fn.AcroFormTextField=tu,Fn.AcroFormPasswordField=gd,Fn.AcroFormAppearance=ar,Fn.AcroForm={ChoiceField:tc,ListBox:ec,ComboBox:rc,EditBox:dd,Button:bi,PushButton:pd,RadioButton:nc,CheckBox:md,TextField:tu,PasswordField:gd,Appearance:ar},_r.AcroForm={ChoiceField:tc,ListBox:ec,ComboBox:rc,EditBox:dd,Button:bi,PushButton:pd,RadioButton:nc,CheckBox:md,TextField:tu,PasswordField:gd,Appearance:ar};_r.AcroForm;function m3(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(z,R){var T,E,k,v,_,x=e;if((R=R||e)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(I(z))for(_ in t)for(k=t[_],T=0;T<k.length;T+=1){for(v=!0,E=0;E<k[T].length;E+=1)if(k[T][E]!==void 0&&k[T][E]!==z[E]){v=!1;break}if(v===!0){x=_;break}}else for(_ in t)for(k=t[_],T=0;T<k.length;T+=1){for(v=!0,E=0;E<k[T].length;E+=1)if(k[T][E]!==void 0&&k[T][E]!==z.charCodeAt(E)){v=!1;break}if(v===!0){x=_;break}}return x===e&&R!==e&&(x=R),x},s=function z(R){for(var T=this.internal.write,E=this.internal.putStream,k=(0,this.internal.getFilters)();k.indexOf("FlateEncode")!==-1;)k.splice(k.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var v=[];if(v.push({key:"Type",value:"/XObject"}),v.push({key:"Subtype",value:"/Image"}),v.push({key:"Width",value:R.width}),v.push({key:"Height",value:R.height}),R.colorSpace===m.INDEXED?v.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(v.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===m.DEVICE_CMYK&&v.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),v.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&v.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var _="",x=0,S=R.transparency.length;x<S;x++)_+=R.transparency[x]+" "+R.transparency[x]+" ";v.push({key:"Mask",value:"["+_+"]"})}R.sMask!==void 0&&v.push({key:"SMask",value:R.objectId+1+" 0 R"});var A=R.filter!==void 0?["/"+R.filter]:void 0;if(E({data:R.data,additionalKeyValues:v,alreadyAppliedFilters:A,objectId:R.objectId}),T("endobj"),"sMask"in R&&R.sMask!==void 0){var B="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,M={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:B,data:R.sMask};"filter"in R&&(M.filter=R.filter),z.call(this,M)}if(R.colorSpace===m.INDEXED){var H=this.internal.newObject();E({data:P(new Uint8Array(R.palette)),objectId:H}),T("endobj")}},i=function(){var z=this.internal.collections.addImage_images;for(var R in z)s.call(this,z[R])},o=function(){var z,R=this.internal.collections.addImage_images,T=this.internal.write;for(var E in R)T("/I"+(z=R[E]).index,z.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var z=this.internal.collections.addImage_images;return l.call(this),z},a=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(z){return typeof n["process"+z.toUpperCase()]=="function"},d=function(z){return ln(z)==="object"&&z.nodeType===1},f=function(z,R){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var T=""+z.getAttribute("src");if(T.indexOf("data:image/")===0)return sh(unescape(T).split("base64,").pop());var E=n.loadFile(T,!0);if(E!==void 0)return E}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var k;switch(R){case"PNG":k="image/png";break;case"WEBP":k="image/webp";break;case"JPEG":case"JPG":default:k="image/jpeg"}return sh(z.toDataURL(k,1).split("base64,").pop())}},h=function(z){var R=this.internal.collections.addImage_images;if(R){for(var T in R)if(z===R[T].alias)return R[T]}},p=function(z,R,T){return z||R||(z=-96,R=-96),z<0&&(z=-1*T.width*72/z/this.internal.scaleFactor),R<0&&(R=-1*T.height*72/R/this.internal.scaleFactor),z===0&&(z=R*T.width/T.height),R===0&&(R=z*T.height/T.width),[z,R]},y=function(z,R,T,E,k,v){var _=p.call(this,T,E,k),x=this.internal.getCoordinateString,S=this.internal.getVerticalCoordinateString,A=u.call(this);if(T=_[0],E=_[1],A[k.index]=k,v){v*=Math.PI/180;var B=Math.cos(v),M=Math.sin(v),H=function(tt){return tt.toFixed(4)},V=[H(B),H(M),H(-1*M),H(B),0,0,"cm"]}this.internal.write("q"),v?(this.internal.write([1,"0","0",1,x(z),S(R+E),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([x(T),"0","0",x(E),"0","0","cm"].join(" "))):this.internal.write([x(T),"0","0",x(E),x(z),S(R+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+k.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=n.__addimage__.sHashCode=function(z){var R,T,E=0;if(typeof z=="string")for(T=z.length,R=0;R<T;R++)E=(E<<5)-E+z.charCodeAt(R),E|=0;else if(I(z))for(T=z.byteLength/2,R=0;R<T;R++)E=(E<<5)-E+z[R],E|=0;return E},w=n.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var R=!0;return z.length===0&&(R=!1),z.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(R=!1),R},C=n.__addimage__.extractImageFromDataUrl=function(z){var R=(z=z||"").split("base64,"),T=null;if(R.length===2){var E=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(E)&&(T={mimeType:E[1],charset:E[2],data:R[1]})}return T},j=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(z){return j()&&z instanceof ArrayBuffer};var I=n.__addimage__.isArrayBufferView=function(z){return j()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},q=n.__addimage__.binaryStringToUint8Array=function(z){for(var R=z.length,T=new Uint8Array(R),E=0;E<R;E++)T[E]=z.charCodeAt(E);return T},P=n.__addimage__.arrayBufferToBinaryString=function(z){for(var R="",T=I(z)?z:new Uint8Array(z),E=0;E<T.length;E+=8192)R+=String.fromCharCode.apply(null,T.subarray(E,E+8192));return R};n.addImage=function(){var z,R,T,E,k,v,_,x,S;if(typeof arguments[1]=="number"?(R=e,T=arguments[1],E=arguments[2],k=arguments[3],v=arguments[4],_=arguments[5],x=arguments[6],S=arguments[7]):(R=arguments[1],T=arguments[2],E=arguments[3],k=arguments[4],v=arguments[5],_=arguments[6],x=arguments[7],S=arguments[8]),ln(z=arguments[0])==="object"&&!d(z)&&"imageData"in z){var A=z;z=A.imageData,R=A.format||R||e,T=A.x||T||0,E=A.y||E||0,k=A.w||A.width||k,v=A.h||A.height||v,_=A.alias||_,x=A.compression||x,S=A.rotation||A.angle||S}var B=this.internal.getFilters();if(x===void 0&&B.indexOf("FlateEncode")!==-1&&(x="SLOW"),isNaN(T)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=U.call(this,z,R,_,x);return y.call(this,T,E,k,v,M,S),this};var U=function(z,R,T,E){var k,v,_;if(typeof z=="string"&&r(z)===e){z=unescape(z);var x=W(z,!1);(x!==""||(x=n.loadFile(z,!0))!==void 0)&&(z=x)}if(d(z)&&(z=f(z,R)),R=r(z,R),!c(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((_=T)==null||_.length===0)&&(T=function(S){return typeof S=="string"||I(S)?b(S):I(S.data)?b(S.data):null}(z)),(k=h.call(this,T))||(j()&&(z instanceof Uint8Array||R==="RGBA"||(v=z,z=q(z))),k=this["process"+R.toUpperCase()](z,a.call(this),T,function(S){return S&&typeof S=="string"&&(S=S.toUpperCase()),S in n.image_compression?S:g.NONE}(E),v)),!k)throw new Error("An unknown error occurred whilst processing the image.");return k},W=n.__addimage__.convertBase64ToBinaryString=function(z,R){var T;R=typeof R!="boolean"||R;var E,k="";if(typeof z=="string"){E=(T=C(z))!==null?T.data:z;try{k=sh(E)}catch(v){if(R)throw w(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+v.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};n.getImageProperties=function(z){var R,T,E="";if(d(z)&&(z=f(z)),typeof z=="string"&&r(z)===e&&((E=W(z,!1))===""&&(E=n.loadFile(z)||""),z=E),T=r(z),!c(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!j()||z instanceof Uint8Array||(z=q(z)),!(R=this["process"+T.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=T,R}})(_r.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};_r.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),a=t.pageContext.annotations,c=!1,d=0;d<a.length&&!c;d++)switch((r=a[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<a.length;f++){r=a[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(y.objId),b=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+h(g(b))+") >>",y.content=i;var w=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(y.objId,"0 R",m.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(p(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var I=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+I+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,i,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:a(r),w:u(t+s),h:a(r+i)},options:o,type:"link"})},n.textWithLink=function(t,r,s,i){var o,l,u=this.getTextWidth(t),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var c=this.splitTextToSize(t,l).length;o=Math.ceil(a*c)}else l=u,o=a;return this.text(t,r,s,i),s+=.2*a,i.align==="center"&&(r-=u/2),i.align==="right"&&(r-=u),this.link(r,s-a,l,o,i),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(_r.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=n.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&s.indexOf(y.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var a=n.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var c=n.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(y){var m=0,g=t,b="",w=0;for(m=0;m<y.length;m+=1)g[y.charCodeAt(m)]!==void 0?(w++,typeof(g=g[y.charCodeAt(m)])=="number"&&(b+=String.fromCharCode(g),g=t,w=0),m===y.length-1&&(g=t,b+=y.charAt(m-(w-1)),m-=w-1,w=0)):(g=t,b+=y.charAt(m-w),m-=w,w=0);return b};n.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var f=n.__arabicParser__.getCorrectForm=function(y,m,g){return o(y)?i(y)===!1?-1:!a(y)||!o(m)&&!o(g)||!o(g)&&l(m)||l(y)&&!o(m)||l(y)&&u(m)||l(y)&&l(m)?0:c(y)&&o(m)&&!l(m)&&o(g)&&a(g)?3:l(y)||!o(g)?1:2:-1},h=function(y){var m=0,g=0,b=0,w="",C="",j="",I=(y=y||"").split("\\s+"),q=[];for(m=0;m<I.length;m+=1){for(q.push(""),g=0;g<I[m].length;g+=1)w=I[m][g],C=I[m][g-1],j=I[m][g+1],o(w)?(b=f(w,C,j),q[m]+=b!==-1?String.fromCharCode(e[w.charCodeAt(0)][b]):w):q[m]+=w;q[m]=d(q[m])}return q.join(" ")},p=n.__arabicParser__.processArabic=n.processArabic=function(){var y,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var b=0;for(g=[],b=0;b<m.length;b+=1)Array.isArray(m[b])?g.push([h(m[b][0]),m[b][1],m[b][2]]):g.push([h(m[b])]);y=g}else y=h(m);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};n.events.push(["preProcessText",p])}(_r.API),_r.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_r.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var a=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return a},set:function(y){a=y}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(y){p=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,a){r.call(this);var c=(a=a||{}).fontSize||this.getFontSize(),d=a.font||this.getFont(),f=a.scaleFactor||this.internal.scaleFactor,h=0,p=0,y=0,m=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var g=a.maxWidth;g>0?typeof u=="string"?u=this.splitTextToSize(u,g):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(w,C){return w.concat(m.splitTextToSize(C,g))},[])):u=Array.isArray(u)?u:[u];for(var b=0;b<u.length;b++)h<(y=this.getStringUnitWidth(u[b],{font:d})*c)&&(h=y);return h!==0&&(p=u.length),{w:h/=f,h:Math.max((p*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return a.lineNumber!==void 0&&(a.lineNumber===u.lineNumber?(u.x=(a.x||0)+(a.width||0),u.y=a.y||0):a.y+a.height+u.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=d.top,h&&f&&(this.printHeaderRow(u.lineNumber,!0),u.y+=f[0].height)):u.y=a.y+a.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};n.table=function(u,a,c,d,f){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,p,y,m,g=[],b=[],w=[],C={},j={},I=[],q=[],P=(f=f||{}).autoSize||!1,U=f.printHeaders!==!1,W=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,z=f.margins||Object.assign({width:this.getPageWidth()},e),R=typeof f.padding=="number"?f.padding:3,T=f.headerBackgroundColor||"#c8c8c8",E=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=E,this.setFontSize(W),d==null)b=g=Object.keys(c[0]),w=g.map(function(){return"left"});else if(Array.isArray(d)&&ln(d[0])==="object")for(g=d.map(function(A){return A.name}),b=d.map(function(A){return A.prompt||A.name||""}),w=d.map(function(A){return A.align||"left"}),h=0;h<d.length;h+=1)j[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=g=d,w=g.map(function(){return"left"}));if(P||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<g.length;h+=1){for(C[m=g[h]]=c.map(function(A){return A[m]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=C[m],this.setFont(void 0,"normal"),y=0;y<p.length;y+=1)I.push(this.getTextDimensions(p[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[m]=Math.max.apply(null,I)+R+R,I=[]}if(U){var k={};for(h=0;h<g.length;h+=1)k[g[h]]={},k[g[h]].text=b[h],k[g[h]].align=w[h];var v=l.call(this,k,j);q=g.map(function(A){return new i(u,a,j[A],v,k[A].text,void 0,k[A].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var _=d.reduce(function(A,B){return A[B.name]=B.align,A},{});for(h=0;h<c.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:c[h]},this);var x=l.call(this,c[h],j);for(y=0;y<g.length;y+=1){var S=c[h][g[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:y,data:S},this),o.call(this,new i(u,a,j[g[y]],x,S,h+2,_[g[y]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=a,this};var l=function(u,a){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(u).map(function(h){var p=u[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,a[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+c+c},this).reduce(function(h,p){return Math.max(h,p)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,a){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),a&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=u;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(_r.API);var g3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ug=m3(y3),b3=[100,200,300,400,500,600,700,800,900],ZS=m3(b3);function cg(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return g3[i=i||"normal"]?i:"normal"}(n.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(i){return typeof ug[i=i||"normal"]=="number"?i:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function bb(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var JS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function wb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function QS(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},JS,t.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(s[(i=cg(e[l])).family]&&(i.family=s[i.family]),n.hasOwnProperty(i.family)){o=n[i.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+wb(i)+"' and default family '"+r+"'.");if(o=function(u,a){if(a[u])return a[u];var c=ug[u],d=c<=ug.normal?-1:1,f=bb(a,y3,c,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+u);return f}(i.stretch,o),o=function(u,a){if(a[u])return a[u];for(var c=g3[u],d=0;d<c.length;++d)if(a[c[d]])return a[c[d]];throw new Error("Could not find a matching font-style for "+u)}(i.style,o),!(o=function(u,a){if(a[u])return a[u];if(u===400&&a[500])return a[500];if(u===500&&a[400])return a[400];var c=ZS[u],d=bb(a,b3,c,u<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+u);return d}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+wb(i)+"'.");return o}function xb(n){return n.trimLeft()}function tk(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function ek(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Xf,_b,Sb,W0=["times"];(function(n){var e,t,r,s,i,o,l,u,a,c=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,a=new c}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ft){V=!!ft}});var tt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return tt},set:function(ft){tt=!!ft}});var F=0;Object.defineProperty(this,"posX",{get:function(){return F},set:function(ft){isNaN(ft)||(F=ft)}});var J=0;Object.defineProperty(this,"posY",{get:function(){return J},set:function(ft){isNaN(ft)||(J=ft)}}),Object.defineProperty(this,"margin",{get:function(){return a.margin},set:function(ft){var it;typeof ft=="number"?it=[ft,ft,ft,ft]:((it=new Array(4))[0]=ft[0],it[1]=ft.length>=2?ft[1]:it[0],it[2]=ft.length>=3?ft[2]:it[0],it[3]=ft.length>=4?ft[3]:it[1]),a.margin=it}});var L=!1;Object.defineProperty(this,"autoPaging",{get:function(){return L},set:function(ft){L=ft}});var N=0;Object.defineProperty(this,"lastBreak",{get:function(){return N},set:function(ft){N=ft}});var Y=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Y},set:function(ft){Y=ft}}),Object.defineProperty(this,"ctx",{get:function(){return a},set:function(ft){ft instanceof c&&(a=ft)}}),Object.defineProperty(this,"path",{get:function(){return a.path},set:function(ft){a.path=ft}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(ft){nt=ft}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ft){var it;it=f(ft),this.ctx.fillStyle=it.style,this.ctx.isFillTransparent=it.a===0,this.ctx.fillOpacity=it.a,this.pdf.setFillColor(it.r,it.g,it.b,{a:it.a}),this.pdf.setTextColor(it.r,it.g,it.b,{a:it.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ft){var it=f(ft);this.ctx.strokeStyle=it.style,this.ctx.isStrokeTransparent=it.a===0,this.ctx.strokeOpacity=it.a,it.a===0?this.pdf.setDrawColor(255,255,255):(it.a,this.pdf.setDrawColor(it.r,it.g,it.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ft){["butt","round","square"].indexOf(ft)!==-1&&(this.ctx.lineCap=ft,this.pdf.setLineCap(ft))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ft){isNaN(ft)||(this.ctx.lineWidth=ft,this.pdf.setLineWidth(ft))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ft){["bevel","round","miter"].indexOf(ft)!==-1&&(this.ctx.lineJoin=ft,this.pdf.setLineJoin(ft))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ft){isNaN(ft)||(this.ctx.miterLimit=ft,this.pdf.setMiterLimit(ft))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ft){this.ctx.textBaseline=ft}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ft){["right","end","center","left","start"].indexOf(ft)!==-1&&(this.ctx.textAlign=ft)}});var lt=null;function st(ft,it){if(lt===null){var at=function(bt){var gt=[];return Object.keys(bt).forEach(function(St){bt[St].forEach(function(kt){var Tt=null;switch(kt){case"bold":Tt={family:St,weight:"bold"};break;case"italic":Tt={family:St,style:"italic"};break;case"bolditalic":Tt={family:St,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:St}}Tt!==null&&(Tt.ref={name:St,style:kt},gt.push(Tt))})}),gt}(ft.getFontList());lt=function(bt){for(var gt={},St=0;St<bt.length;++St){var kt=cg(bt[St]),Tt=kt.family,Lt=kt.stretch,Xt=kt.style,re=kt.weight;gt[Tt]=gt[Tt]||{},gt[Tt][Lt]=gt[Tt][Lt]||{},gt[Tt][Lt][Xt]=gt[Tt][Lt][Xt]||{},gt[Tt][Lt][Xt][re]=kt}return gt}(at.concat(it))}return lt}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(ft){lt=null,pt=ft}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ft){var it;if(this.ctx.font=ft,(it=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ft))!==null){var at=it[1],bt=(it[2],it[3]),gt=it[4],St=(it[5],it[6]),kt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gt)[2];gt=Math.floor(kt==="px"?parseFloat(gt)*this.pdf.internal.scaleFactor:kt==="em"?parseFloat(gt)*this.pdf.getFontSize():parseFloat(gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gt);var Tt=function(we){var Me,ie,Ue=[],me=we.trim();if(me==="")return W0;if(me in vb)return[vb[me]];for(;me!=="";){switch(ie=null,Me=(me=xb(me)).charAt(0)){case'"':case"'":ie=tk(me.substring(1),Me);break;default:ie=ek(me)}if(ie===null||(Ue.push(ie[0]),(me=xb(ie[1]))!==""&&me.charAt(0)!==","))return W0;me=me.replace(/^,/,"")}return Ue}(St);if(this.fontFaces){var Lt=QS(st(this.pdf,this.fontFaces),Tt.map(function(we){return{family:we,stretch:"normal",weight:bt,style:at}}));this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var Xt="";(bt==="bold"||parseInt(bt,10)>=700||at==="bold")&&(Xt="bold"),at==="italic"&&(Xt+="italic"),Xt.length===0&&(Xt="normal");for(var re="",ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ce=0;ce<Tt.length;ce++){if(this.pdf.internal.getFont(Tt[ce],Xt,{noFallback:!0,disableWarning:!0})!==void 0){re=Tt[ce];break}if(Xt==="bolditalic"&&this.pdf.internal.getFont(Tt[ce],"bold",{noFallback:!0,disableWarning:!0})!==void 0)re=Tt[ce],Xt="bold";else if(this.pdf.internal.getFont(Tt[ce],"normal",{noFallback:!0,disableWarning:!0})!==void 0){re=Tt[ce],Xt="normal";break}}if(re===""){for(var de=0;de<Tt.length;de++)if(ue[Tt[de]]){re=ue[Tt[de]];break}}re=re===""?"Times":re,this.pdf.setFont(re,Xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ft){this.ctx.globalCompositeOperation=ft}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ft){this.ctx.globalAlpha=ft}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ft){this.ctx.lineDashOffset=ft,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ft){this.ctx.lineDash=ft,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ft){this.ctx.ignoreClearRect=!!ft}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw gn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(M,H)},d.prototype.closePath=function(){var M=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ln(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},d.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw gn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,H,V,tt){if(isNaN(V)||isNaN(tt)||isNaN(M)||isNaN(H))throw gn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var F=this.ctx.transform.applyToPoint(new o(V,tt)),J=this.ctx.transform.applyToPoint(new o(M,H));this.path.push({type:"qct",x1:J.x,y1:J.y,x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},d.prototype.bezierCurveTo=function(M,H,V,tt,F,J){if(isNaN(F)||isNaN(J)||isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt))throw gn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var L=this.ctx.transform.applyToPoint(new o(F,J)),N=this.ctx.transform.applyToPoint(new o(M,H)),Y=this.ctx.transform.applyToPoint(new o(V,tt));this.path.push({type:"bct",x1:N.x,y1:N.y,x2:Y.x,y2:Y.y,x:L.x,y:L.y}),this.ctx.lastPoint=new o(L.x,L.y)},d.prototype.arc=function(M,H,V,tt,F,J){if(isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt)||isNaN(F))throw gn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(J=!!J,!this.ctx.transform.isIdentity){var L=this.ctx.transform.applyToPoint(new o(M,H));M=L.x,H=L.y;var N=this.ctx.transform.applyToPoint(new o(0,V)),Y=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(N.x-Y.x,2)+Math.pow(N.y-Y.y,2))}Math.abs(F-tt)>=2*Math.PI&&(tt=0,F=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:V,startAngle:tt,endAngle:F,counterclockwise:J})},d.prototype.arcTo=function(M,H,V,tt,F){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,H,V,tt){if(isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt))throw gn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+V,H),this.lineTo(M+V,H+tt),this.lineTo(M,H+tt),this.lineTo(M,H),this.lineTo(M+V,H),this.lineTo(M,H)},d.prototype.fillRect=function(M,H,V,tt){if(isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt))throw gn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var F={};this.lineCap!=="butt"&&(F.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(F.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,V,tt),this.fill(),F.hasOwnProperty("lineCap")&&(this.lineCap=F.lineCap),F.hasOwnProperty("lineJoin")&&(this.lineJoin=F.lineJoin)}},d.prototype.strokeRect=function(M,H,V,tt){if(isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt))throw gn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(M,H,V,tt),this.stroke())},d.prototype.clearRect=function(M,H,V,tt){if(isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt))throw gn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,V,tt))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var tt=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=tt}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(M){var H,V,tt,F;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,V=0,tt=0,F=0;else{var J=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(J!==null)H=parseInt(J[1]),V=parseInt(J[2]),tt=parseInt(J[3]),F=1;else if((J=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(J[1]),V=parseInt(J[2]),tt=parseInt(J[3]),F=parseFloat(J[4]);else{if(F=1,typeof M=="string"&&M.charAt(0)!=="#"){var L=new u3(M);M=L.ok?L.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,V=M.substring(2,3),V+=V,tt=M.substring(3,4),tt+=tt):(H=M.substring(1,3),V=M.substring(3,5),tt=M.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),tt=parseInt(tt,16)}}return{r:H,g:V,b:tt,a:F,style:M}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,H,V,tt){if(isNaN(H)||isNaN(V)||typeof M!="string")throw gn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(tt=isNaN(tt)?void 0:tt,!h.call(this)){var F=x(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;R.call(this,{text:M,x:H,y:V,scale:J,angle:F,align:this.textAlign,maxWidth:tt})}},d.prototype.strokeText=function(M,H,V,tt){if(isNaN(H)||isNaN(V)||typeof M!="string")throw gn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){tt=isNaN(tt)?void 0:tt;var F=x(this.ctx.transform.rotation),J=this.ctx.transform.scaleX;R.call(this,{text:M,x:H,y:V,scale:J,renderingMode:"stroke",angle:F,align:this.textAlign,maxWidth:tt})}},d.prototype.measureText=function(M){if(typeof M!="string")throw gn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,tt=H.internal.getFontSize(),F=H.getStringUnitWidth(M)*tt/H.internal.scaleFactor,J=function(L){var N=(L=L||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return N}}),this};return new J({width:F*=Math.round(96*V/72*1e4)/1e4})},d.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw gn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new u(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.rotate=function(M){if(isNaN(M))throw gn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw gn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new u(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(V)},d.prototype.transform=function(M,H,V,tt,F,J){if(isNaN(M)||isNaN(H)||isNaN(V)||isNaN(tt)||isNaN(F)||isNaN(J))throw gn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var L=new u(M,H,V,tt,F,J);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.setTransform=function(M,H,V,tt,F,J){M=isNaN(M)?1:M,H=isNaN(H)?0:H,V=isNaN(V)?0:V,tt=isNaN(tt)?1:tt,F=isNaN(F)?0:F,J=isNaN(J)?0:J,this.ctx.transform=new u(M,H,V,tt,F,J)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,H,V,tt,F,J,L,N,Y){var nt=this.pdf.getImageProperties(M),lt=1,st=1,pt=1,ft=1;tt!==void 0&&N!==void 0&&(pt=N/tt,ft=Y/F,lt=nt.width/tt*N/tt,st=nt.height/F*Y/F),J===void 0&&(J=H,L=V,H=0,V=0),tt!==void 0&&N===void 0&&(N=tt,Y=F),tt===void 0&&N===void 0&&(N=nt.width,Y=nt.height);for(var it,at=this.ctx.transform.decompose(),bt=x(at.rotate.shx),gt=new u,St=(gt=(gt=(gt=gt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new l(J-H*pt,L-V*ft,tt*lt,F*st)),kt=m.call(this,St),Tt=[],Lt=0;Lt<kt.length;Lt+=1)Tt.indexOf(kt[Lt])===-1&&Tt.push(kt[Lt]);if(w(Tt),this.autoPaging)for(var Xt=Tt[0],re=Tt[Tt.length-1],ue=Xt;ue<re+1;ue++){this.pdf.setPage(ue);var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=ue===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ie=ue===1?0:we+(ue-2)*Me;if(this.ctx.clip_path.length!==0){var Ue=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(it,this.posX+this.margin[3],-ie+de+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ue}var me=JSON.parse(JSON.stringify(St));me=b([me],this.posX+this.margin[3],-ie+de+this.ctx.prevPageLastElemOffset)[0];var Ce=(ue>Xt||ue<re)&&y.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,Me,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",me.x,me.y,me.w,me.h,null,null,bt),Ce&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",St.x,St.y,St.w,St.h,null,null,bt)};var m=function(M,H,V){var tt=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var F=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":tt.push(Math.floor((M.y+F)/V)+1);break;case"arc":tt.push(Math.floor((M.y+F-M.radius)/V)+1),tt.push(Math.floor((M.y+F+M.radius)/V)+1);break;case"qct":var J=S(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);tt.push(Math.floor((J.y+F)/V)+1),tt.push(Math.floor((J.y+J.h+F)/V)+1);break;case"bct":var L=A(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);tt.push(Math.floor((L.y+F)/V)+1),tt.push(Math.floor((L.y+L.h+F)/V)+1);break;case"rect":tt.push(Math.floor((M.y+F)/V)+1),tt.push(Math.floor((M.y+M.h+F)/V)+1)}for(var N=0;N<tt.length;N+=1)for(;this.pdf.internal.getNumberOfPages()<tt[N];)g.call(this);return tt},g=function(){var M=this.fillStyle,H=this.strokeStyle,V=this.font,tt=this.lineCap,F=this.lineWidth,J=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=V,this.lineCap=tt,this.lineWidth=F,this.lineJoin=J},b=function(M,H,V){for(var tt=0;tt<M.length;tt++)switch(M[tt].type){case"bct":M[tt].x2+=H,M[tt].y2+=V;case"qct":M[tt].x1+=H,M[tt].y1+=V;case"mt":case"lt":case"arc":default:M[tt].x+=H,M[tt].y+=V}return M},w=function(M){return M.sort(function(H,V){return H-V})},C=function(M,H){for(var V,tt,F=this.fillStyle,J=this.strokeStyle,L=this.lineCap,N=this.lineWidth,Y=Math.abs(N*this.ctx.transform.scaleX),nt=this.lineJoin,lt=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),pt=[],ft=0;ft<st.length;ft++)if(st[ft].x!==void 0)for(var it=m.call(this,st[ft]),at=0;at<it.length;at+=1)pt.indexOf(it[at])===-1&&pt.push(it[at]);for(var bt=0;bt<pt.length;bt++)for(;this.pdf.internal.getNumberOfPages()<pt[bt];)g.call(this);if(w(pt),this.autoPaging)for(var gt=pt[0],St=pt[pt.length-1],kt=gt;kt<St+1;kt++){this.pdf.setPage(kt),this.fillStyle=F,this.strokeStyle=J,this.lineCap=L,this.lineWidth=Y,this.lineJoin=nt;var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=kt===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=kt===1?0:Xt+(kt-2)*re;if(this.ctx.clip_path.length!==0){var ce=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(V,this.posX+this.margin[3],-ue+Lt+this.ctx.prevPageLastElemOffset),j.call(this,M,!0),this.path=ce}if(tt=JSON.parse(JSON.stringify(lt)),this.path=b(tt,this.posX+this.margin[3],-ue+Lt+this.ctx.prevPageLastElemOffset),H===!1||kt===0){var de=(kt>gt||kt<St)&&y.call(this);de&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,re,null).clip().discardPath()),j.call(this,M,H),de&&this.pdf.restoreGraphicsState()}this.lineWidth=N}else this.lineWidth=Y,j.call(this,M,H),this.lineWidth=N;this.path=lt},j=function(M,H){if((M!=="stroke"||H||!p.call(this))&&(M==="stroke"||H||!h.call(this))){for(var V,tt,F=[],J=this.path,L=0;L<J.length;L++){var N=J[L];switch(N.type){case"begin":F.push({begin:!0});break;case"close":F.push({close:!0});break;case"mt":F.push({start:N,deltas:[],abs:[]});break;case"lt":var Y=F.length;if(J[L-1]&&!isNaN(J[L-1].x)&&(V=[N.x-J[L-1].x,N.y-J[L-1].y],Y>0)){for(;Y>=0;Y--)if(F[Y-1].close!==!0&&F[Y-1].begin!==!0){F[Y-1].deltas.push(V),F[Y-1].abs.push(N);break}}break;case"bct":V=[N.x1-J[L-1].x,N.y1-J[L-1].y,N.x2-J[L-1].x,N.y2-J[L-1].y,N.x-J[L-1].x,N.y-J[L-1].y],F[F.length-1].deltas.push(V);break;case"qct":var nt=J[L-1].x+2/3*(N.x1-J[L-1].x),lt=J[L-1].y+2/3*(N.y1-J[L-1].y),st=N.x+2/3*(N.x1-N.x),pt=N.y+2/3*(N.y1-N.y),ft=N.x,it=N.y;V=[nt-J[L-1].x,lt-J[L-1].y,st-J[L-1].x,pt-J[L-1].y,ft-J[L-1].x,it-J[L-1].y],F[F.length-1].deltas.push(V);break;case"arc":F.push({deltas:[],abs:[],arc:!0}),Array.isArray(F[F.length-1].abs)&&F[F.length-1].abs.push(N)}}tt=H?null:M==="stroke"?"stroke":"fill";for(var at=!1,bt=0;bt<F.length;bt++)if(F[bt].arc)for(var gt=F[bt].abs,St=0;St<gt.length;St++){var kt=gt[St];kt.type==="arc"?P.call(this,kt.x,kt.y,kt.radius,kt.startAngle,kt.endAngle,kt.counterclockwise,void 0,H,!at):T.call(this,kt.x,kt.y),at=!0}else if(F[bt].close===!0)this.pdf.internal.out("h"),at=!1;else if(F[bt].begin!==!0){var Tt=F[bt].start.x,Lt=F[bt].start.y;E.call(this,F[bt].deltas,Tt,Lt),at=!0}tt&&U.call(this,tt),H&&W.call(this)}},I=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-V;case"top":return M+H-V;case"hanging":return M+H-2*V;case"middle":return M+H/2-V;case"ideographic":return M;case"alphabetic":default:return M}},q=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,V){this.colorStops.push([H,V])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(M,H,V,tt,F,J,L,N,Y){for(var nt=v.call(this,V,tt,F,J),lt=0;lt<nt.length;lt++){var st=nt[lt];lt===0&&(Y?z.call(this,st.x1+M,st.y1+H):T.call(this,st.x1+M,st.y1+H)),k.call(this,M,H,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}N?W.call(this):U.call(this,L)},U=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(M,H){this.pdf.internal.out(t(M)+" "+r(H)+" m")},R=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var V=this.pdf.getTextDimensions(M.text),tt=I.call(this,M.y),F=q.call(this,tt)-V.h,J=this.ctx.transform.applyToPoint(new o(M.x,tt)),L=this.ctx.transform.decompose(),N=new u;N=(N=(N=N.multiply(L.translate)).multiply(L.skew)).multiply(L.scale);for(var Y,nt,lt,st=this.ctx.transform.applyToRectangle(new l(M.x,tt,V.w,V.h)),pt=N.applyToRectangle(new l(M.x,F,V.w,V.h)),ft=m.call(this,pt),it=[],at=0;at<ft.length;at+=1)it.indexOf(ft[at])===-1&&it.push(ft[at]);if(w(it),this.autoPaging)for(var bt=it[0],gt=it[it.length-1],St=bt;St<gt+1;St++){this.pdf.setPage(St);var kt=St===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],Xt=Lt-this.margin[0],re=this.pdf.internal.pageSize.width-this.margin[1],ue=re-this.margin[3],ce=St===1?0:Tt+(St-2)*Xt;if(this.ctx.clip_path.length!==0){var de=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-1*ce+kt),j.call(this,"fill",!0),this.path=de}var we=b([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-ce+kt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*M.scale),lt=this.lineWidth,this.lineWidth=lt*M.scale);var Me=this.autoPaging!=="text";if(Me||we.y+we.h<=Lt){if(Me||we.y>=kt&&we.x<=re){var ie=Me?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||re-we.x)[0],Ue=b([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-ce+kt+this.ctx.prevPageLastElemOffset)[0],me=Me&&(St>bt||St<gt)&&y.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,Xt,null).clip().discardPath()),this.pdf.text(ie,Ue.x,Ue.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),me&&this.pdf.restoreGraphicsState()}}else we.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-we.y);M.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=lt)}else M.scale>=.01&&(nt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(nt*M.scale),lt=this.lineWidth,this.lineWidth=lt*M.scale),this.pdf.text(M.text,J.x+this.posX,J.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(nt),this.lineWidth=lt)},T=function(M,H,V,tt){V=V||0,tt=tt||0,this.pdf.internal.out(t(M+V)+" "+r(H+tt)+" l")},E=function(M,H,V){return this.pdf.lines(M,H,V,null,null)},k=function(M,H,V,tt,F,J,L,N){this.pdf.internal.out([e(s(V+M)),e(i(tt+H)),e(s(F+M)),e(i(J+H)),e(s(L+M)),e(i(N+H)),"c"].join(" "))},v=function(M,H,V,tt){for(var F=2*Math.PI,J=Math.PI/2;H>V;)H-=F;var L=Math.abs(V-H);L<F&&tt&&(L=F-L);for(var N=[],Y=tt?-1:1,nt=H;L>1e-5;){var lt=nt+Y*Math.min(L,J);N.push(_.call(this,M,nt,lt)),L-=Math.abs(lt-nt),nt=lt}return N},_=function(M,H,V){var tt=(V-H)/2,F=M*Math.cos(tt),J=M*Math.sin(tt),L=F,N=-J,Y=L*L+N*N,nt=Y+L*F+N*J,lt=4/3*(Math.sqrt(2*Y*nt)-nt)/(L*J-N*F),st=L-lt*N,pt=N+lt*L,ft=st,it=-pt,at=tt+H,bt=Math.cos(at),gt=Math.sin(at);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:st*bt-pt*gt,y2:st*gt+pt*bt,x3:ft*bt-it*gt,y3:ft*gt+it*bt,x4:M*Math.cos(V),y4:M*Math.sin(V)}},x=function(M){return 180*M/Math.PI},S=function(M,H,V,tt,F,J){var L=M+.5*(V-M),N=H+.5*(tt-H),Y=F+.5*(V-F),nt=J+.5*(tt-J),lt=Math.min(M,F,L,Y),st=Math.max(M,F,L,Y),pt=Math.min(H,J,N,nt),ft=Math.max(H,J,N,nt);return new l(lt,pt,st-lt,ft-pt)},A=function(M,H,V,tt,F,J,L,N){var Y,nt,lt,st,pt,ft,it,at,bt,gt,St,kt,Tt,Lt,Xt=V-M,re=tt-H,ue=F-V,ce=J-tt,de=L-F,we=N-J;for(nt=0;nt<41;nt++)bt=(it=(lt=M+(Y=nt/40)*Xt)+Y*((pt=V+Y*ue)-lt))+Y*(pt+Y*(F+Y*de-pt)-it),gt=(at=(st=H+Y*re)+Y*((ft=tt+Y*ce)-st))+Y*(ft+Y*(J+Y*we-ft)-at),nt==0?(St=bt,kt=gt,Tt=bt,Lt=gt):(St=Math.min(St,bt),kt=Math.min(kt,gt),Tt=Math.max(Tt,bt),Lt=Math.max(Lt,gt));return new l(Math.round(St),Math.round(kt),Math.round(Tt-St),Math.round(Lt-kt))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,V=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(_r.API),function(n){var e=function(i){var o,l,u,a,c,d,f,h,p,y;for(l=[],u=0,a=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;a>u;u+=4)(c=(i.charCodeAt(u)<<24)+(i.charCodeAt(u+1)<<16)+(i.charCodeAt(u+2)<<8)+i.charCodeAt(u+3))!==0?(d=(c=((c=((c=((c=(c-(y=c%85))/85)-(p=c%85))/85)-(h=c%85))/85)-(f=c%85))/85)%85,l.push(d+33,f+33,h+33,p+33,y+33)):l.push(122);return function(m,g){for(var b=g;b>0;b--)m.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(i){var o,l,u,a,c,d=String,f="length",h=255,p="charCodeAt",y="slice",m="replace";for(i[y](-2),i=i[y](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),u=[],a=0,c=(i+=o="uuuuu"[y](i[f]%5||5))[f];c>a;a+=5)l=52200625*(i[p](a)-33)+614125*(i[p](a+1)-33)+7225*(i[p](a+2)-33)+85*(i[p](a+3)-33)+(i[p](a+4)-33),u.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(g,b){for(var w=b;w>0;w--)g.pop()}(u,o[f]),d.fromCharCode.apply(d,u)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",u=0;u<i.length;u+=2)l+=String.fromCharCode("0x"+(i[u]+i[u+1]));return l},s=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=ig(o)).reduce(function(u,a){return u+String.fromCharCode(a)},"")};n.processDataByFilters=function(i,o){var l=0,u=i||"",a=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),a.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),a.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),a.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",a.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),a.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:a.reverse().join(" ")}}}(_r.API),function(n){n.loadFile=function(e,t,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(u,a,c){var d=new XMLHttpRequest,f=0,h=function(p){var y=p.length,m=[],g=String.fromCharCode;for(f=0;f<y;f+=1)m.push(g(255&p.charCodeAt(f)));return m.join("")};if(d.open("GET",u,!a),d.overrideMimeType("text/plain; charset=x-user-defined"),a===!1&&(d.onload=function(){d.status===200?c(h(this.responseText)):c(void 0)}),d.send(null),a&&d.status===200)return h(d.responseText)}(s,i,o)}catch{}return l}(e,t,r)},n.loadImageFile=n.loadFile}(_r.API),function(n){function e(){return(Tr.html2canvas?Promise.resolve(Tr.html2canvas):Qm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Tr.DOMPurify?Promise.resolve(Tr.DOMPurify):Qm(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=ln(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var u=document.createElement(o);for(var a in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[a]=l.style[a];return u},i=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),a=o.convert(Promise.resolve(),u);return a=(a=a.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(u){return this.set({src:s("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(a,c){for(var d=a.nodeType===3?document.createTextNode(a.nodeValue):a.cloneNode(!1),f=a.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(u(f,c));return a.nodeType===1&&(a.nodeName==="CANVAS"?(d.width=a.width,d.height=a.height,d.getContext("2d").drawImage(a,0,0)):a.nodeName!=="TEXTAREA"&&a.nodeName!=="SELECT"||(d.value=a.value),d.addEventListener("load",function(){d.scrollTop=a.scrollTop,d.scrollLeft=a.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,a=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=a,a)for(var f=0;f<a.length;++f){var h=a[f],p=h.src.find(function(y){return y.format==="truetype"});p&&u.addFont(p.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in i.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var u=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},i.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(u,a){return Math.floor(u*a/72*96)}return this.then(function(){(o=o||_r.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,u,a){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),a!=null&&(this.progress.stack=a),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,u,a){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,a?this.progress.stack.concat(a):null)},i.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(a,c){return u.updateProgress(null,null,1,[a]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,a),d}).then(a,c).then(function(d){return u.updateProgress(1),d})})},i.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var a=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=u.call(a,o,l);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,_r.getPageSize=function(o,l,u){if(ln(o)==="object"){var a=o;o=a.orientation,l=a.unit||l,u=a.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var c,d=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+l}var h,p=0,y=0;if(f.hasOwnProperty(d))p=f[d][1]/c,y=f[d][0]/c;else try{p=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",y>p&&(h=y,y=p,p=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>y&&(h=y,y=p,p=h)}return{width:y,height:p,unit:l,k:c,orientation:o}},n.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(cg):null;var u=new i(l);return l.worker?u:u.from(o).doCallback()}}(_r.API),_r.API.addJS=function(n){return Sb=n,this.internal.events.subscribe("postPutResources",function(){Xf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_b=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Sb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xf!==void 0&&_b!==void 0&&this.internal.out("/Names <</JavaScript "+Xf+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=r.exec(o);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,c=[];for(i=0;i<a;i++){var d=t.internal.newObject();c.push(d);var f=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<c.length;i++)t.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var a=0;a<r.children.length;a++)this.renderItems(r.children[a])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(_r.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,i,o,l){var u,a=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,y={width:0,height:0,numcomponents:1},m=4;m<p;m+=2){if(m+=h,e.indexOf(d.charCodeAt(m+1))!==-1){f=256*d.charCodeAt(m+5)+d.charCodeAt(m+6),y={width:256*d.charCodeAt(m+7)+d.charCodeAt(m+8),height:f,numcomponents:d.charCodeAt(m+9)};break}h=256*d.charCodeAt(m+2)+d.charCodeAt(m+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}c={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:a,index:r,alias:s}}return c}}(_r.API);var Cu,Yf,kb,Cb,Tb,rk=function(){var n,e,t;function r(i){var o,l,u,a,c,d,f,h,p,y,m,g,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),p=(function(){var C,j;for(j=[],C=0;C<4;++C)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),a=this.readUInt16()||100,d.delay=1e3*c/a,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,o-=4),i=(d!=null?d.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((y=u-this.transparency.indexed.length)>0)for(b=0;0<=y?b<y:b>y;0<=y?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(m=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,m.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,m.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),u=0,a=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(d,f,h,p){var y,m,g,b,w,C,j,I,q,P,U,W,z,R,T,E,k,v,_,x,S,A=Math.ceil((a.width-d)/h),B=Math.ceil((a.height-f)/p),M=a.width==A&&a.height==B;for(R=o*A,W=M?l:new Uint8Array(R*B),C=i.length,z=0,m=0;z<B&&u<C;){switch(i[u++]){case 0:for(b=k=0;k<R;b=k+=1)W[m++]=i[u++];break;case 1:for(b=v=0;v<R;b=v+=1)y=i[u++],w=b<o?0:W[m-o],W[m++]=(y+w)%256;break;case 2:for(b=_=0;_<R;b=_+=1)y=i[u++],g=(b-b%o)/o,T=z&&W[(z-1)*R+g*o+b%o],W[m++]=(T+y)%256;break;case 3:for(b=x=0;x<R;b=x+=1)y=i[u++],g=(b-b%o)/o,w=b<o?0:W[m-o],T=z&&W[(z-1)*R+g*o+b%o],W[m++]=(y+Math.floor((w+T)/2))%256;break;case 4:for(b=S=0;S<R;b=S+=1)y=i[u++],g=(b-b%o)/o,w=b<o?0:W[m-o],z===0?T=E=0:(T=W[(z-1)*R+g*o+b%o],E=g&&W[(z-1)*R+(g-1)*o+b%o]),j=w+T-E,I=Math.abs(j-w),P=Math.abs(j-T),U=Math.abs(j-E),q=I<=P&&I<=U?w:P<=U?T:E,W[m++]=(y+q)%256;break;default:throw new Error("Invalid filter algorithm: "+i[u-1])}if(!M){var H=((f+z*p)*a.width+d)*o,V=z*R;for(b=0;b<A;b+=1){for(var tt=0;tt<o;tt+=1)l[H++]=W[V++];H+=(h-1)*o}}z++}}return i=LS(i),a.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),l},r.prototype.decodePalette=function(){var i,o,l,u,a,c,d,f,h;for(l=this.palette,c=this.transparency.indexed||[],a=new Uint8Array((c.length||0)+l.length),u=0,i=0,o=d=0,f=l.length;d<f;o=d+=3)a[u++]=l[o],a[u++]=l[o+1],a[u++]=l[o+2],a[u++]=(h=c[i++])!=null?h:255;return a},r.prototype.copyToImageData=function(i,o){var l,u,a,c,d,f,h,p,y,m,g;if(u=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),u=4,l=!0),p=(a=i.data||i).length,d=y||o,c=f=0,u===1)for(;c<p;)h=y?4*o[c/4]:f,m=d[h++],a[c++]=m,a[c++]=m,a[c++]=m,a[c++]=l?d[h++]:255,f=h;else for(;c<p;)h=y?4*o[c/4]:f,a[c++]=d[h++],a[c++]=d[h++],a[c++]=d[h++],a[c++]=l?d[h++]:255,f=h},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Tr)==="[object Window]"){try{e=Tr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(i){var o;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,l,u,a,c,d,f,h;if(this.animation){for(h=[],l=c=0,d=(f=this.animation.frames).length;c<d;l=++c)o=f[l],u=i.createImageData(o.width,o.height),a=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,a),o.imageData=u,h.push(o.image=n(u));return h}},r.prototype.renderFrame=function(i,o){var l,u,a;return l=(u=this.animation.frames)[o],a=u[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(a!=null?a.disposeOp:void 0)===1?i.clearRect(a.xOffset,a.yOffset,a.width,a.height):(a!=null?a.disposeOp:void 0)===2&&i.putImageData(a.imageData,a.xOffset,a.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(i){var o,l,u,a,c,d,f=this;return l=0,d=this.animation,a=d.numFrames,u=d.frames,c=d.numPlays,(o=function(){var h,p;if(h=l++%a,p=u[h],f.renderFrame(i,h),a>1&&l/a<c)return f.animation._timeout=setTimeout(o,p.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nk(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],i=s>>7,o=1<<(7&s)+1;n[e++],n[e++];var l=null,u=null;i&&(l=e,u=o,e+=3*o);var a=!0,c=[],d=0,f=null,h=0,p=null;for(this.width=t,this.height=r;a&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,p=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=n[e++];d=n[e++]|n[e++]<<8,f=n[e++],!(1&y)&&(f=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var m=n[e++]|n[e++]<<8,g=n[e++]|n[e++]<<8,b=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,C=n[e++],j=C>>6&1,I=1<<(7&C)+1,q=l,P=u,U=!1;C>>7&&(U=!0,q=e,P=I,e+=3*I);var W=e;for(e++;;){var z;if(!((z=n[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}c.push({x:m,y:g,width:b,height:w,has_local_palette:U,palette_offset:q,palette_size:P,data_offset:W,data_length:e-W,transparent_index:f,interlaced:!!j,delay:d,disposal:h});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(R){if(R<0||R>=c.length)throw new Error("Frame index out of range.");return c[R]},this.decodeAndBlitFrameBGRA=function(R,T){var E=this.frameInfo(R),k=E.width*E.height,v=new Uint8Array(k);Ab(n,E.data_offset,v,k);var _=E.palette_offset,x=E.transparent_index;x===null&&(x=256);var S=E.width,A=t-S,B=S,M=4*(E.y*t+E.x),H=4*((E.y+E.height)*t+E.x),V=M,tt=4*A;E.interlaced===!0&&(tt+=4*t*7);for(var F=8,J=0,L=v.length;J<L;++J){var N=v[J];if(B===0&&(B=S,(V+=tt)>=H&&(tt=4*A+4*t*(F-1),V=M+(S+A)*(F<<1),F>>=1)),N===x)V+=4;else{var Y=n[_+3*N],nt=n[_+3*N+1],lt=n[_+3*N+2];T[V++]=lt,T[V++]=nt,T[V++]=Y,T[V++]=255}--B}},this.decodeAndBlitFrameRGBA=function(R,T){var E=this.frameInfo(R),k=E.width*E.height,v=new Uint8Array(k);Ab(n,E.data_offset,v,k);var _=E.palette_offset,x=E.transparent_index;x===null&&(x=256);var S=E.width,A=t-S,B=S,M=4*(E.y*t+E.x),H=4*((E.y+E.height)*t+E.x),V=M,tt=4*A;E.interlaced===!0&&(tt+=4*t*7);for(var F=8,J=0,L=v.length;J<L;++J){var N=v[J];if(B===0&&(B=S,(V+=tt)>=H&&(tt=4*A+4*t*(F-1),V=M+(S+A)*(F<<1),F>>=1)),N===x)V+=4;else{var Y=n[_+3*N],nt=n[_+3*N+1],lt=n[_+3*N+2];T[V++]=Y,T[V++]=nt,T[V++]=lt,T[V++]=255}--B}}}function Ab(n,e,t,r){for(var s=n[e++],i=1<<s,o=i+1,l=o+1,u=s+1,a=(1<<u)-1,c=0,d=0,f=0,h=n[e++],p=new Int32Array(4096),y=null;;){for(;c<16&&h!==0;)d|=n[e++]<<c,c+=8,h===1?h=n[e++]:--h;if(c<u)break;var m=d&a;if(d>>=u,c-=u,m!==i){if(m===o)break;for(var g=m<l?m:y,b=0,w=g;w>i;)w=p[w]>>8,++b;var C=w;if(f+b+(g!==m?1:0)>r)return void gn.log("Warning, gif stream longer than expected.");t[f++]=C;var j=f+=b;for(g!==m&&(t[f++]=C),w=g;b--;)w=p[w],t[--j]=255&w,w>>=8;y!==null&&l<4096&&(p[l++]=y<<8|C,l>=a+1&&u<12&&(++u,a=a<<1|1)),y=m}else l=o+1,a=(1<<(u=s+1))-1,y=null}return f!==r&&gn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function V0(n){var e,t,r,s,i,o=Math.floor,l=new Array(64),u=new Array(64),a=new Array(64),c=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),y=[],m=0,g=7,b=new Array(64),w=new Array(64),C=new Array(64),j=new Array(256),I=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],k=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function v(M,H){for(var V=0,tt=0,F=new Array,J=1;J<=16;J++){for(var L=1;L<=M[J];L++)F[H[tt]]=[],F[H[tt]][0]=V,F[H[tt]][1]=J,tt++,V++;V*=2}return F}function _(M){for(var H=M[0],V=M[1]-1;V>=0;)H&1<<V&&(m|=1<<g),V--,--g<0&&(m==255?(x(255),x(0)):x(m),g=7,m=0)}function x(M){y.push(M)}function S(M){x(M>>8&255),x(255&M)}function A(M,H,V,tt,F){for(var J,L=F[0],N=F[240],Y=function(gt,St){var kt,Tt,Lt,Xt,re,ue,ce,de,we,Me,ie=0;for(we=0;we<8;++we){kt=gt[ie],Tt=gt[ie+1],Lt=gt[ie+2],Xt=gt[ie+3],re=gt[ie+4],ue=gt[ie+5],ce=gt[ie+6];var Ue=kt+(de=gt[ie+7]),me=kt-de,Ce=Tt+ce,xe=Tt-ce,ne=Lt+ue,ze=Lt-ue,We=Xt+re,Or=Xt-re,te=Ue+We,Sr=Ue-We,br=Ce+ne,Ye=Ce-ne;gt[ie]=te+br,gt[ie+4]=te-br;var Ve=.707106781*(Ye+Sr);gt[ie+2]=Sr+Ve,gt[ie+6]=Sr-Ve;var er=.382683433*((te=Or+ze)-(Ye=xe+me)),cr=.5411961*te+er,mr=1.306562965*Ye+er,jr=.707106781*(br=ze+xe),rr=me+jr,Be=me-jr;gt[ie+5]=Be+cr,gt[ie+3]=Be-cr,gt[ie+1]=rr+mr,gt[ie+7]=rr-mr,ie+=8}for(ie=0,we=0;we<8;++we){kt=gt[ie],Tt=gt[ie+8],Lt=gt[ie+16],Xt=gt[ie+24],re=gt[ie+32],ue=gt[ie+40],ce=gt[ie+48];var Nr=kt+(de=gt[ie+56]),qe=kt-de,Mt=Tt+ce,qt=Tt-ce,ee=Lt+ue,Ae=Lt-ue,sr=Xt+re,Le=Xt-re,Je=Nr+sr,Ke=Nr-sr,He=Mt+ee,hr=Mt-ee;gt[ie]=Je+He,gt[ie+32]=Je-He;var lr=.707106781*(hr+Ke);gt[ie+16]=Ke+lr,gt[ie+48]=Ke-lr;var fr=.382683433*((Je=Le+Ae)-(hr=qt+qe)),Xr=.5411961*Je+fr,Rr=1.306562965*hr+fr,en=.707106781*(He=Ae+qt),Qr=qe+en,Lr=qe-en;gt[ie+40]=Lr+Xr,gt[ie+24]=Lr-Xr,gt[ie+8]=Qr+Rr,gt[ie+56]=Qr-Rr,ie++}for(we=0;we<64;++we)Me=gt[we]*St[we],h[we]=Me>0?Me+.5|0:Me-.5|0;return h}(M,H),nt=0;nt<64;++nt)p[q[nt]]=Y[nt];var lt=p[0]-V;V=p[0],lt==0?_(tt[0]):(_(tt[f[J=32767+lt]]),_(d[J]));for(var st=63;st>0&&p[st]==0;)st--;if(st==0)return _(L),V;for(var pt,ft=1;ft<=st;){for(var it=ft;p[ft]==0&&ft<=st;)++ft;var at=ft-it;if(at>=16){pt=at>>4;for(var bt=1;bt<=pt;++bt)_(N);at&=15}J=32767+p[ft],_(F[(at<<4)+f[J]]),_(d[J]),ft++}return st!=63&&_(L),V}function B(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],tt=0;tt<64;tt++){var F=o((V[tt]*H+50)/100);F=Math.min(Math.max(F,1),255),l[q[tt]]=F}for(var J=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],L=0;L<64;L++){var N=o((J[L]*H+50)/100);N=Math.min(Math.max(N,1),255),u[q[L]]=N}for(var Y=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,lt=0;lt<8;lt++)for(var st=0;st<8;st++)a[nt]=1/(l[q[nt]]*Y[lt]*Y[st]*8),c[nt]=1/(u[q[nt]]*Y[lt]*Y[st]*8),nt++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,H){H&&B(H),y=new Array,m=0,g=7,S(65496),S(65504),S(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),S(1),S(1),x(0),x(0),function(){S(65499),S(132),x(0);for(var Tt=0;Tt<64;Tt++)x(l[Tt]);x(1);for(var Lt=0;Lt<64;Lt++)x(u[Lt])}(),function(Tt,Lt){S(65472),S(17),x(8),S(Lt),S(Tt),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}(M.width,M.height),function(){S(65476),S(418),x(0);for(var Tt=0;Tt<16;Tt++)x(P[Tt+1]);for(var Lt=0;Lt<=11;Lt++)x(U[Lt]);x(16);for(var Xt=0;Xt<16;Xt++)x(W[Xt+1]);for(var re=0;re<=161;re++)x(z[re]);x(1);for(var ue=0;ue<16;ue++)x(R[ue+1]);for(var ce=0;ce<=11;ce++)x(T[ce]);x(17);for(var de=0;de<16;de++)x(E[de+1]);for(var we=0;we<=161;we++)x(k[we])}(),S(65498),S(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0);var V=0,tt=0,F=0;m=0,g=7,this.encode.displayName="_encode_";for(var J,L,N,Y,nt,lt,st,pt,ft,it=M.data,at=M.width,bt=M.height,gt=4*at,St=0;St<bt;){for(J=0;J<gt;){for(nt=gt*St+J,st=-1,pt=0,ft=0;ft<64;ft++)lt=nt+(pt=ft>>3)*gt+(st=4*(7&ft)),St+pt>=bt&&(lt-=gt*(St+1+pt-bt)),J+st>=gt&&(lt-=J+st-gt+4),L=it[lt++],N=it[lt++],Y=it[lt++],b[ft]=(I[L]+I[N+256>>0]+I[Y+512>>0]>>16)-128,w[ft]=(I[L+768>>0]+I[N+1024>>0]+I[Y+1280>>0]>>16)-128,C[ft]=(I[L+1280>>0]+I[N+1536>>0]+I[Y+1792>>0]>>16)-128;V=A(b,a,V,e,r),tt=A(w,c,tt,t,s),F=A(C,c,F,t,s),J+=32}St+=8}if(g>=0){var kt=[];kt[1]=g+1,kt[0]=(1<<g+1)-1,_(kt)}return S(65497),new Uint8Array(y)},n=n||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)j[H]=M(H)}(),e=v(P,U),t=v(R,T),r=v(W,z),s=v(E,k),function(){for(var M=1,H=2,V=1;V<=15;V++){for(var tt=M;tt<H;tt++)f[32767+tt]=V,d[32767+tt]=[],d[32767+tt][1]=V,d[32767+tt][0]=tt;for(var F=-(H-1);F<=-M;F++)f[32767+F]=V,d[32767+F]=[],d[32767+F][1]=V,d[32767+F][0]=H-1+F;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)I[M]=19595*M,I[M+256>>0]=38470*M,I[M+512>>0]=7471*M+32768,I[M+768>>0]=-11059*M,I[M+1024>>0]=-21709*M,I[M+1280>>0]=32768*M+8421375,I[M+1536>>0]=-27439*M,I[M+1792>>0]=-5329*M}(),B(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function go(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Mb(n){function e(P){if(!P)throw Error("assert :P")}function t(P,U,W){for(var z=0;4>z;z++)if(P[U+z]!=W.charCodeAt(z))return!0;return!1}function r(P,U,W,z,R){for(var T=0;T<R;T++)P[U+T]=W[z+T]}function s(P,U,W,z){for(var R=0;R<z;R++)P[U+R]=W}function i(P){return new Int32Array(P)}function o(P,U){for(var W=[],z=0;z<P;z++)W.push(new U);return W}function l(P,U){var W=[];return function z(R,T,E){for(var k=E[T],v=0;v<k&&(R.push(E.length>T+1?[]:new U),!(E.length<T+1));v++)z(R[v],T+1,E)}(W,0,P),W}var u=function(){var P=this;function U(O,$){for(var K=1<<$-1>>>0;O&K;)K>>>=1;return K?(O&K-1)+K:O}function W(O,$,K,et,ct){e(!(et%K));do O[$+(et-=K)]=ct;while(0<et)}function z(O,$,K,et,ct){if(e(2328>=ct),512>=ct)var dt=i(512);else if((dt=i(ct))==null)return 0;return function(mt,yt,vt,_t,Rt,Zt){var Jt,Vt,ve=yt,oe=1<<vt,Dt=i(16),Ut=i(16);for(e(Rt!=0),e(_t!=null),e(mt!=null),e(0<vt),Vt=0;Vt<Rt;++Vt){if(15<_t[Vt])return 0;++Dt[_t[Vt]]}if(Dt[0]==Rt)return 0;for(Ut[1]=0,Jt=1;15>Jt;++Jt){if(Dt[Jt]>1<<Jt)return 0;Ut[Jt+1]=Ut[Jt]+Dt[Jt]}for(Vt=0;Vt<Rt;++Vt)Jt=_t[Vt],0<_t[Vt]&&(Zt[Ut[Jt]++]=Vt);if(Ut[15]==1)return(_t=new R).g=0,_t.value=Zt[0],W(mt,ve,1,oe,_t),oe;var pe,Se=-1,ye=oe-1,tr=0,$e=1,yr=1,Xe=1<<vt;for(Vt=0,Jt=1,Rt=2;Jt<=vt;++Jt,Rt<<=1){if($e+=yr<<=1,0>(yr-=Dt[Jt]))return 0;for(;0<Dt[Jt];--Dt[Jt])(_t=new R).g=Jt,_t.value=Zt[Vt++],W(mt,ve+tr,Rt,Xe,_t),tr=U(tr,Jt)}for(Jt=vt+1,Rt=2;15>=Jt;++Jt,Rt<<=1){if($e+=yr<<=1,0>(yr-=Dt[Jt]))return 0;for(;0<Dt[Jt];--Dt[Jt]){if(_t=new R,(tr&ye)!=Se){for(ve+=Xe,pe=1<<(Se=Jt)-vt;15>Se&&!(0>=(pe-=Dt[Se]));)++Se,pe<<=1;oe+=Xe=1<<(pe=Se-vt),mt[yt+(Se=tr&ye)].g=pe+vt,mt[yt+Se].value=ve-yt-Se}_t.g=Jt-vt,_t.value=Zt[Vt++],W(mt,ve+(tr>>vt),Rt,Xe,_t),tr=U(tr,Jt)}}return $e!=2*Ut[15]-1?0:oe}(O,$,K,et,ct,dt)}function R(){this.value=this.g=0}function T(){this.value=this.g=0}function E(){this.G=o(5,R),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dn,T)}function k(O,$,K,et){e(O!=null),e($!=null),e(2147483648>et),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=$,O.pa=K,O.Jd=$,O.Yc=K+et,O.Zc=4<=et?K+et-4+1:K,J(O)}function v(O,$){for(var K=0;0<$--;)K|=N(O,128)<<$;return K}function _(O,$){var K=v(O,$);return L(O)?-K:K}function x(O,$,K,et){var ct,dt=0;for(e(O!=null),e($!=null),e(4294967288>et),O.Sb=et,O.Ra=0,O.u=0,O.h=0,4<et&&(et=4),ct=0;ct<et;++ct)dt+=$[K+ct]<<8*ct;O.Ra=dt,O.bb=et,O.oa=$,O.pa=K}function S(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<uo-8>>>0,++O.bb,O.u-=8;V(O)&&(O.h=1,O.u=0)}function A(O,$){if(e(0<=$),!O.h&&$<=cn){var K=H(O)&Pi[$];return O.u+=$,S(O),K}return O.h=1,O.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(O){return O.Ra>>>(O.u&uo-1)>>>0}function V(O){return e(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>uo}function tt(O,$){O.u=$,O.h=V(O)}function F(O){O.u>=pi&&(e(O.u>=pi),S(O))}function J(O){e(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(e(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function L(O){return v(O,1)}function N(O,$){var K=O.Ca;0>O.b&&J(O);var et=O.b,ct=K*$>>>8,dt=(O.I>>>et>ct)+0;for(dt?(K-=ct,O.I-=ct+1<<et>>>0):K=ct+1,et=K,ct=0;256<=et;)ct+=8,et>>=8;return et=7^ct+Li[et],O.b-=et,O.Ca=(K<<et)-1,dt}function Y(O,$,K){O[$+0]=K>>24&255,O[$+1]=K>>16&255,O[$+2]=K>>8&255,O[$+3]=K>>0&255}function nt(O,$){return O[$+0]<<0|O[$+1]<<8}function lt(O,$){return nt(O,$)|O[$+2]<<16}function st(O,$){return nt(O,$)|nt(O,$+2)<<16}function pt(O,$){var K=1<<$;return e(O!=null),e(0<$),O.X=i(K),O.X==null?0:(O.Mb=32-$,O.Xa=$,1)}function ft(O,$){e(O!=null),e($!=null),e(O.Xa==$.Xa),r($.X,0,O.X,0,1<<$.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function at(O,$,K,et){e(K!=null),e(et!=null);var ct=K[0],dt=et[0];return ct==0&&(ct=(O*dt+$/2)/$),dt==0&&(dt=($*ct+O/2)/O),0>=ct||0>=dt?0:(K[0]=ct,et[0]=dt,1)}function bt(O,$){return O+(1<<$)-1>>>$}function gt(O,$){return((4278255360&O)+(4278255360&$)>>>0&4278255360)+((16711935&O)+(16711935&$)>>>0&16711935)>>>0}function St(O,$){P[$]=function(K,et,ct,dt,mt,yt,vt){var _t;for(_t=0;_t<mt;++_t){var Rt=P[O](yt[vt+_t-1],ct,dt+_t);yt[vt+_t]=gt(K[et+_t],Rt)}}}function kt(){this.ud=this.hd=this.jd=0}function Tt(O,$){return((4278124286&(O^$))>>>1)+(O&$)>>>0}function Lt(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function Xt(O,$){return Lt(O+(O-$+.5>>1))}function re(O,$,K){return Math.abs($-K)-Math.abs(O-K)}function ue(O,$,K,et,ct,dt,mt){for(et=dt[mt-1],K=0;K<ct;++K)dt[mt+K]=et=gt(O[$+K],et)}function ce(O,$,K,et,ct){var dt;for(dt=0;dt<K;++dt){var mt=O[$+dt],yt=mt>>8&255,vt=16711935&(vt=(vt=16711935&mt)+((yt<<16)+yt));et[ct+dt]=(4278255360&mt)+vt>>>0}}function de(O,$){$.jd=O>>0&255,$.hd=O>>8&255,$.ud=O>>16&255}function we(O,$,K,et,ct,dt){var mt;for(mt=0;mt<et;++mt){var yt=$[K+mt],vt=yt>>>8,_t=yt,Rt=255&(Rt=(Rt=yt>>>16)+((O.jd<<24>>24)*(vt<<24>>24)>>>5));_t=255&(_t=(_t=_t+((O.hd<<24>>24)*(vt<<24>>24)>>>5))+((O.ud<<24>>24)*(Rt<<24>>24)>>>5)),ct[dt+mt]=(4278255360&yt)+(Rt<<16)+_t}}function Me(O,$,K,et,ct){P[$]=function(dt,mt,yt,vt,_t,Rt,Zt,Jt,Vt){for(vt=Zt;vt<Jt;++vt)for(Zt=0;Zt<Vt;++Zt)_t[Rt++]=ct(yt[et(dt[mt++])])},P[O]=function(dt,mt,yt,vt,_t,Rt,Zt){var Jt=8>>dt.b,Vt=dt.Ea,ve=dt.K[0],oe=dt.w;if(8>Jt)for(dt=(1<<dt.b)-1,oe=(1<<Jt)-1;mt<yt;++mt){var Dt,Ut=0;for(Dt=0;Dt<Vt;++Dt)Dt&dt||(Ut=et(vt[_t++])),Rt[Zt++]=ct(ve[Ut&oe]),Ut>>=Jt}else P["VP8LMapColor"+K](vt,_t,ve,oe,Rt,Zt,mt,yt,Vt)}}function ie(O,$,K,et,ct){for(K=$+K;$<K;){var dt=O[$++];et[ct++]=dt>>16&255,et[ct++]=dt>>8&255,et[ct++]=dt>>0&255}}function Ue(O,$,K,et,ct){for(K=$+K;$<K;){var dt=O[$++];et[ct++]=dt>>16&255,et[ct++]=dt>>8&255,et[ct++]=dt>>0&255,et[ct++]=dt>>24&255}}function me(O,$,K,et,ct){for(K=$+K;$<K;){var dt=(mt=O[$++])>>16&240|mt>>12&15,mt=mt>>0&240|mt>>28&15;et[ct++]=dt,et[ct++]=mt}}function Ce(O,$,K,et,ct){for(K=$+K;$<K;){var dt=(mt=O[$++])>>16&248|mt>>13&7,mt=mt>>5&224|mt>>3&31;et[ct++]=dt,et[ct++]=mt}}function xe(O,$,K,et,ct){for(K=$+K;$<K;){var dt=O[$++];et[ct++]=dt>>0&255,et[ct++]=dt>>8&255,et[ct++]=dt>>16&255}}function ne(O,$,K,et,ct,dt){if(dt==0)for(K=$+K;$<K;)Y(et,((dt=O[$++])[0]>>24|dt[1]>>8&65280|dt[2]<<8&16711680|dt[3]<<24)>>>0),ct+=32;else r(et,ct,O,$,K)}function ze(O,$){P[$][0]=P[O+"0"],P[$][1]=P[O+"1"],P[$][2]=P[O+"2"],P[$][3]=P[O+"3"],P[$][4]=P[O+"4"],P[$][5]=P[O+"5"],P[$][6]=P[O+"6"],P[$][7]=P[O+"7"],P[$][8]=P[O+"8"],P[$][9]=P[O+"9"],P[$][10]=P[O+"10"],P[$][11]=P[O+"11"],P[$][12]=P[O+"12"],P[$][13]=P[O+"13"],P[$][14]=P[O+"0"],P[$][15]=P[O+"0"]}function We(O){return O==Rp||O==Dp||O==Uh||O==Ip}function Or(){this.eb=[],this.size=this.A=this.fb=0}function te(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Or,this.f.kb=new te,this.sd=null}function br(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ye(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ve(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function er(O,$){var K=O.T,et=$.ba.f.RGBA,ct=et.eb,dt=et.fb+O.ka*et.A,mt=$s[$.ba.S],yt=O.y,vt=O.O,_t=O.f,Rt=O.N,Zt=O.ea,Jt=O.W,Vt=$.cc,ve=$.dc,oe=$.Mc,Dt=$.Nc,Ut=O.ka,pe=O.ka+O.T,Se=O.U,ye=Se+1>>1;for(Ut==0?mt(yt,vt,null,null,_t,Rt,Zt,Jt,_t,Rt,Zt,Jt,ct,dt,null,null,Se):(mt($.ec,$.fc,yt,vt,Vt,ve,oe,Dt,_t,Rt,Zt,Jt,ct,dt-et.A,ct,dt,Se),++K);Ut+2<pe;Ut+=2)Vt=_t,ve=Rt,oe=Zt,Dt=Jt,Rt+=O.Rc,Jt+=O.Rc,dt+=2*et.A,mt(yt,(vt+=2*O.fa)-O.fa,yt,vt,Vt,ve,oe,Dt,_t,Rt,Zt,Jt,ct,dt-et.A,ct,dt,Se);return vt+=O.fa,O.j+pe<O.o?(r($.ec,$.fc,yt,vt,Se),r($.cc,$.dc,_t,Rt,ye),r($.Mc,$.Nc,Zt,Jt,ye),K--):1&pe||mt(yt,vt,null,null,_t,Rt,Zt,Jt,_t,Rt,Zt,Jt,ct,dt+et.A,null,null,Se),K}function cr(O,$,K){var et=O.F,ct=[O.J];if(et!=null){var dt=O.U,mt=$.ba.S,yt=mt==zh||mt==Uh;$=$.ba.f.RGBA;var vt=[0],_t=O.ka;vt[0]=O.T,O.Kb&&(_t==0?--vt[0]:(--_t,ct[0]-=O.width),O.j+O.ka+O.T==O.o&&(vt[0]=O.o-O.j-_t));var Rt=$.eb;_t=$.fb+_t*$.A,O=Pe(et,ct[0],O.width,dt,vt,Rt,_t+(yt?0:3),$.A),e(K==vt),O&&We(mt)&&Ie(Rt,_t,yt,dt,vt,$.A)}return 0}function mr(O){var $=O.ma,K=$.ba.S,et=11>K,ct=K==Fh||K==Bh||K==zh||K==Lp||K==12||We(K);if($.memory=null,$.Ib=null,$.Jb=null,$.Nd=null,!Pl($.Oa,O,ct?11:12))return 0;if(ct&&We(K)&&ke(),O.da)alert("todo:use_scaling");else{if(et){if($.Ib=Ve,O.Kb){if(K=O.U+1>>1,$.memory=i(O.U+2*K),$.memory==null)return 0;$.ec=$.memory,$.fc=0,$.cc=$.ec,$.dc=$.fc+O.U,$.Mc=$.cc,$.Nc=$.dc+K,$.Ib=er,ke()}}else alert("todo:EmitYUV");ct&&($.Jb=cr,et&&Gt())}if(et&&!z1){for(O=0;256>O;++O)z3[O]=89858*(O-128)+$h>>qh,$3[O]=-22014*(O-128)+$h,q3[O]=-45773*(O-128),U3[O]=113618*(O-128)+$h>>qh;for(O=kc;O<zp;++O)$=76283*(O-16)+$h>>qh,H3[O-kc]=Oi($,255),W3[O-kc]=Oi($+8>>4,15);z1=1}return 1}function jr(O){var $=O.ma,K=O.U,et=O.T;return e(!(1&O.ka)),0>=K||0>=et?0:(K=$.Ib(O,$),$.Jb!=null&&$.Jb(O,$,K),$.Dc+=K,1)}function rr(O){O.ma.memory=null}function Be(O,$,K,et){return A(O,8)!=47?0:($[0]=A(O,14)+1,K[0]=A(O,14)+1,et[0]=A(O,1),A(O,3)!=0?0:!O.h)}function Nr(O,$){if(4>O)return O+1;var K=O-2>>1;return(2+(1&O)<<K)+A($,K)+1}function qe(O,$){return 120<$?$-120:1<=(K=((K=T3[$-1])>>4)*O+(8-(15&K)))?K:1;var K}function Mt(O,$,K){var et=H(K),ct=O[$+=255&et].g-8;return 0<ct&&(tt(K,K.u+8),et=H(K),$+=O[$].value,$+=et&(1<<ct)-1),tt(K,K.u+O[$].g),O[$].value}function qt(O,$,K){return K.g+=O.g,K.value+=O.value<<$>>>0,e(8>=K.g),O.g}function ee(O,$,K){var et=O.xc;return e(($=et==0?0:O.vc[O.md*(K>>et)+($>>et)])<O.Wb),O.Ya[$]}function Ae(O,$,K,et){var ct=O.ab,dt=O.c*$,mt=O.C;$=mt+$;var yt=K,vt=et;for(et=O.Ta,K=O.Ua;0<ct--;){var _t=O.gc[ct],Rt=mt,Zt=$,Jt=yt,Vt=vt,ve=(vt=et,yt=K,_t.Ea);switch(e(Rt<Zt),e(Zt<=_t.nc),_t.hc){case 2:qs(Jt,Vt,(Zt-Rt)*ve,vt,yt);break;case 0:var oe=Rt,Dt=Zt,Ut=vt,pe=yt,Se=(Xe=_t).Ea;oe==0&&(Rl(Jt,Vt,null,null,1,Ut,pe),ue(Jt,Vt+1,0,0,Se-1,Ut,pe+1),Vt+=Se,pe+=Se,++oe);for(var ye=1<<Xe.b,tr=ye-1,$e=bt(Se,Xe.b),yr=Xe.K,Xe=Xe.w+(oe>>Xe.b)*$e;oe<Dt;){var Jr=yr,sn=Xe,Gr=1;for(Ha(Jt,Vt,Ut,pe-Se,1,Ut,pe);Gr<Se;){var Vr=(Gr&~tr)+ye;Vr>Se&&(Vr=Se),(0,D[Jr[sn++]>>8&15])(Jt,Vt+ +Gr,Ut,pe+Gr-Se,Vr-Gr,Ut,pe+Gr),Gr=Vr}Vt+=Se,pe+=Se,++oe&tr||(Xe+=$e)}Zt!=_t.nc&&r(vt,yt-ve,vt,yt+(Zt-Rt-1)*ve,ve);break;case 1:for(ve=Jt,Dt=Vt,Se=(Jt=_t.Ea)-(pe=Jt&~(Ut=(Vt=1<<_t.b)-1)),oe=bt(Jt,_t.b),ye=_t.K,_t=_t.w+(Rt>>_t.b)*oe;Rt<Zt;){for(tr=ye,$e=_t,yr=new kt,Xe=Dt+pe,Jr=Dt+Jt;Dt<Xe;)de(tr[$e++],yr),X(yr,ve,Dt,Vt,vt,yt),Dt+=Vt,yt+=Vt;Dt<Jr&&(de(tr[$e++],yr),X(yr,ve,Dt,Se,vt,yt),Dt+=Se,yt+=Se),++Rt&Ut||(_t+=oe)}break;case 3:if(Jt==vt&&Vt==yt&&0<_t.b){for(Dt=vt,Jt=ve=yt+(Zt-Rt)*ve-(pe=(Zt-Rt)*bt(_t.Ea,_t.b)),Vt=vt,Ut=yt,oe=[],pe=(Se=pe)-1;0<=pe;--pe)oe[pe]=Vt[Ut+pe];for(pe=Se-1;0<=pe;--pe)Dt[Jt+pe]=oe[pe];Ri(_t,Rt,Zt,vt,ve,vt,yt)}else Ri(_t,Rt,Zt,Jt,Vt,vt,yt)}yt=et,vt=K}vt!=K&&r(et,K,yt,vt,dt)}function sr(O,$){var K=O.V,et=O.Ba+O.c*O.C,ct=$-O.C;if(e($<=O.l.o),e(16>=ct),0<ct){var dt=O.l,mt=O.Ta,yt=O.Ua,vt=dt.width;if(Ae(O,ct,K,et),ct=yt=[yt],e((K=O.C)<(et=$)),e(dt.v<dt.va),et>dt.o&&(et=dt.o),K<dt.j){var _t=dt.j-K;K=dt.j,ct[0]+=_t*vt}if(K>=et?K=0:(ct[0]+=4*dt.v,dt.ka=K-dt.j,dt.U=dt.va-dt.v,dt.T=et-K,K=1),K){if(yt=yt[0],11>(K=O.ca).S){var Rt=K.f.RGBA,Zt=(et=K.S,ct=dt.U,dt=dt.T,_t=Rt.eb,Rt.A),Jt=dt;for(Rt=Rt.fb+O.Ma*Rt.A;0<Jt--;){var Vt=mt,ve=yt,oe=ct,Dt=_t,Ut=Rt;switch(et){case Wa:Q(Vt,ve,oe,Dt,Ut);break;case Fh:rt(Vt,ve,oe,Dt,Ut);break;case Rp:rt(Vt,ve,oe,Dt,Ut),Ie(Dt,Ut,0,oe,1,0);break;case N1:wt(Vt,ve,oe,Dt,Ut);break;case Bh:ne(Vt,ve,oe,Dt,Ut,1);break;case Dp:ne(Vt,ve,oe,Dt,Ut,1),Ie(Dt,Ut,0,oe,1,0);break;case zh:ne(Vt,ve,oe,Dt,Ut,0);break;case Uh:ne(Vt,ve,oe,Dt,Ut,0),Ie(Dt,Ut,1,oe,1,0);break;case Lp:ot(Vt,ve,oe,Dt,Ut);break;case Ip:ot(Vt,ve,oe,Dt,Ut),_e(Dt,Ut,oe,1,0);break;case O1:ht(Vt,ve,oe,Dt,Ut);break;default:e(0)}yt+=vt,Rt+=Zt}O.Ma+=dt}else alert("todo:EmitRescaledRowsYUVA");e(O.Ma<=K.height)}}O.C=$,e(O.C<=O.i)}function Le(O){var $;if(0<O.ua)return 0;for($=0;$<O.Wb;++$){var K=O.Ya[$].G,et=O.Ya[$].H;if(0<K[1][et[1]+0].g||0<K[2][et[2]+0].g||0<K[3][et[3]+0].g)return 0}return 1}function Je(O,$,K,et,ct,dt){if(O.Z!=0){var mt=O.qd,yt=O.rd;for(e(Xa[O.Z]!=null);$<K;++$)Xa[O.Z](mt,yt,et,ct,et,ct,dt),mt=et,yt=ct,ct+=dt;O.qd=mt,O.rd=yt}}function Ke(O,$){var K=O.l.ma,et=K.Z==0||K.Z==1?O.l.j:O.C;if(et=O.C<et?et:O.C,e($<=O.l.o),$>et){var ct=O.l.width,dt=K.ca,mt=K.tb+ct*et,yt=O.V,vt=O.Ba+O.c*et,_t=O.gc;e(O.ab==1),e(_t[0].hc==3),_s(_t[0],et,$,yt,vt,dt,mt),Je(K,et,$,dt,mt,ct)}O.C=O.Ma=$}function He(O,$,K,et,ct,dt,mt){var yt=O.$/et,vt=O.$%et,_t=O.m,Rt=O.s,Zt=K+O.$,Jt=Zt;ct=K+et*ct;var Vt=K+et*dt,ve=280+Rt.ua,oe=O.Pb?yt:16777216,Dt=0<Rt.ua?Rt.Wa:null,Ut=Rt.wc,pe=Zt<Vt?ee(Rt,vt,yt):null;e(O.C<dt),e(Vt<=ct);var Se=!1;t:for(;;){for(;Se||Zt<Vt;){var ye=0;if(yt>=oe){var tr=Zt-K;e((oe=O).Pb),oe.wd=oe.m,oe.xd=tr,0<oe.s.ua&&ft(oe.s.Wa,oe.s.vb),oe=yt+M3}if(vt&Ut||(pe=ee(Rt,vt,yt)),e(pe!=null),pe.Qb&&($[Zt]=pe.qb,Se=!0),!Se)if(F(_t),pe.jc){ye=_t,tr=$;var $e=Zt,yr=pe.pd[H(ye)&Dn-1];e(pe.jc),256>yr.g?(tt(ye,ye.u+yr.g),tr[$e]=yr.value,ye=0):(tt(ye,ye.u+yr.g-256),e(256<=yr.value),ye=yr.value),ye==0&&(Se=!0)}else ye=Mt(pe.G[0],pe.H[0],_t);if(_t.h)break;if(Se||256>ye){if(!Se)if(pe.nd)$[Zt]=(pe.qb|ye<<8)>>>0;else{if(F(_t),Se=Mt(pe.G[1],pe.H[1],_t),F(_t),tr=Mt(pe.G[2],pe.H[2],_t),$e=Mt(pe.G[3],pe.H[3],_t),_t.h)break;$[Zt]=($e<<24|Se<<16|ye<<8|tr)>>>0}if(Se=!1,++Zt,++vt>=et&&(vt=0,++yt,mt!=null&&yt<=dt&&!(yt%16)&&mt(O,yt),Dt!=null))for(;Jt<Zt;)ye=$[Jt++],Dt.X[(506832829*ye&4294967295)>>>Dt.Mb]=ye}else if(280>ye){if(ye=Nr(ye-256,_t),tr=Mt(pe.G[4],pe.H[4],_t),F(_t),tr=qe(et,tr=Nr(tr,_t)),_t.h)break;if(Zt-K<tr||ct-Zt<ye)break t;for($e=0;$e<ye;++$e)$[Zt+$e]=$[Zt+$e-tr];for(Zt+=ye,vt+=ye;vt>=et;)vt-=et,++yt,mt!=null&&yt<=dt&&!(yt%16)&&mt(O,yt);if(e(Zt<=ct),vt&Ut&&(pe=ee(Rt,vt,yt)),Dt!=null)for(;Jt<Zt;)ye=$[Jt++],Dt.X[(506832829*ye&4294967295)>>>Dt.Mb]=ye}else{if(!(ye<ve))break t;for(Se=ye-280,e(Dt!=null);Jt<Zt;)ye=$[Jt++],Dt.X[(506832829*ye&4294967295)>>>Dt.Mb]=ye;ye=Zt,e(!(Se>>>(tr=Dt).Xa)),$[ye]=tr.X[Se],Se=!0}Se||e(_t.h==V(_t))}if(O.Pb&&_t.h&&Zt<ct)e(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&ft(O.s.vb,O.s.Wa);else{if(_t.h)break t;mt!=null&&mt(O,yt>dt?dt:yt),O.a=0,O.$=Zt-K}return 1}return O.a=3,0}function hr(O){e(O!=null),O.vc=null,O.yc=null,O.Ya=null;var $=O.Wa;$!=null&&($.X=null),O.vb=null,e(O!=null)}function lr(){var O=new na;return O==null?null:(O.a=0,O.xb=R1,ze("Predictor","VP8LPredictors"),ze("Predictor","VP8LPredictors_C"),ze("PredictorAdd","VP8LPredictorsAdd"),ze("PredictorAdd","VP8LPredictorsAdd_C"),qs=ce,X=we,Q=ie,rt=Ue,ot=me,ht=Ce,wt=xe,P.VP8LMapColor32b=xs,P.VP8LMapColor8b=Dl,O)}function fr(O,$,K,et,ct){var dt=1,mt=[O],yt=[$],vt=et.m,_t=et.s,Rt=null,Zt=0;t:for(;;){if(K)for(;dt&&A(vt,1);){var Jt=mt,Vt=yt,ve=et,oe=1,Dt=ve.m,Ut=ve.gc[ve.ab],pe=A(Dt,2);if(ve.Oc&1<<pe)dt=0;else{switch(ve.Oc|=1<<pe,Ut.hc=pe,Ut.Ea=Jt[0],Ut.nc=Vt[0],Ut.K=[null],++ve.ab,e(4>=ve.ab),pe){case 0:case 1:Ut.b=A(Dt,3)+2,oe=fr(bt(Ut.Ea,Ut.b),bt(Ut.nc,Ut.b),0,ve,Ut.K),Ut.K=Ut.K[0];break;case 3:var Se,ye=A(Dt,8)+1,tr=16<ye?0:4<ye?1:2<ye?2:3;if(Jt[0]=bt(Ut.Ea,tr),Ut.b=tr,Se=oe=fr(ye,1,0,ve,Ut.K)){var $e,yr=ye,Xe=Ut,Jr=1<<(8>>Xe.b),sn=i(Jr);if(sn==null)Se=0;else{var Gr=Xe.K[0],Vr=Xe.w;for(sn[0]=Xe.K[0][0],$e=1;$e<1*yr;++$e)sn[$e]=gt(Gr[Vr+$e],sn[$e-1]);for(;$e<4*Jr;++$e)sn[$e]=0;Xe.K[0]=null,Xe.K[0]=sn,Se=1}}oe=Se;break;case 2:break;default:e(0)}dt=oe}}if(mt=mt[0],yt=yt[0],dt&&A(vt,1)&&!(dt=1<=(Zt=A(vt,4))&&11>=Zt)){et.a=3;break t}var mn;if(mn=dt)e:{var hn,Br,Zn,os=et,Jn=mt,as=yt,on=Zt,Ss=K,ks=os.m,mi=os.s,Si=[null],Yi=1,Hs=0,Do=A3[on];r:for(;;){if(Ss&&A(ks,1)){var gi=A(ks,3)+2,la=bt(Jn,gi),Il=bt(as,gi),gu=la*Il;if(!fr(la,Il,0,os,Si))break r;for(Si=Si[0],mi.xc=gi,hn=0;hn<gu;++hn){var Ya=Si[hn]>>8&65535;Si[hn]=Ya,Ya>=Yi&&(Yi=Ya+1)}}if(ks.h)break r;for(Br=0;5>Br;++Br){var In=P1[Br];!Br&&0<on&&(In+=1<<on),Hs<In&&(Hs=In)}var Up=o(Yi*Do,R),$1=Yi,H1=o($1,E);if(H1==null)var Wh=null;else e(65536>=$1),Wh=H1;var Cc=i(Hs);if(Wh==null||Cc==null||Up==null){os.a=1;break r}var Vh=Up;for(hn=Zn=0;hn<Yi;++hn){var ho=Wh[hn],yu=ho.G,bu=ho.H,W1=0,Xh=1,V1=0;for(Br=0;5>Br;++Br){In=P1[Br],yu[Br]=Vh,bu[Br]=Zn,!Br&&0<on&&(In+=1<<on);i:{var Yh,qp=In,Gh=os,Tc=Cc,Y3=Vh,G3=Zn,$p=0,Ga=Gh.m,K3=A(Ga,1);if(s(Tc,0,0,qp),K3){var Z3=A(Ga,1)+1,J3=A(Ga,1),X1=A(Ga,J3==0?1:8);Tc[X1]=1,Z3==2&&(Tc[X1=A(Ga,8)]=1);var Kh=1}else{var Y1=i(19),G1=A(Ga,4)+4;if(19<G1){Gh.a=3;var Zh=0;break i}for(Yh=0;Yh<G1;++Yh)Y1[C3[Yh]]=A(Ga,3);var Hp=void 0,Ac=void 0,K1=Gh,Q3=Y1,Jh=qp,Z1=Tc,Wp=0,Ka=K1.m,J1=8,Q1=o(128,R);n:for(;z(Q1,0,7,Q3,19);){if(A(Ka,1)){var tx=2+2*A(Ka,3);if((Hp=2+A(Ka,tx))>Jh)break n}else Hp=Jh;for(Ac=0;Ac<Jh&&Hp--;){F(Ka);var t2=Q1[0+(127&H(Ka))];tt(Ka,Ka.u+t2.g);var vu=t2.value;if(16>vu)Z1[Ac++]=vu,vu!=0&&(J1=vu);else{var ex=vu==16,e2=vu-16,rx=S3[e2],r2=A(Ka,_3[e2])+rx;if(Ac+r2>Jh)break n;for(var nx=ex?J1:0;0<r2--;)Z1[Ac++]=nx}}Wp=1;break n}Wp||(K1.a=3),Kh=Wp}(Kh=Kh&&!Ga.h)&&($p=z(Y3,G3,8,Tc,qp)),Kh&&$p!=0?Zh=$p:(Gh.a=3,Zh=0)}if(Zh==0)break r;if(Xh&&k3[Br]==1&&(Xh=Vh[Zn].g==0),W1+=Vh[Zn].g,Zn+=Zh,3>=Br){var Mc,Vp=Cc[0];for(Mc=1;Mc<In;++Mc)Cc[Mc]>Vp&&(Vp=Cc[Mc]);V1+=Vp}}if(ho.nd=Xh,ho.Qb=0,Xh&&(ho.qb=(yu[3][bu[3]+0].value<<24|yu[1][bu[1]+0].value<<16|yu[2][bu[2]+0].value)>>>0,W1==0&&256>yu[0][bu[0]+0].value&&(ho.Qb=1,ho.qb+=yu[0][bu[0]+0].value<<8)),ho.jc=!ho.Qb&&6>V1,ho.jc){var Qh,ua=ho;for(Qh=0;Qh<Dn;++Qh){var Za=Qh,Ja=ua.pd[Za],tf=ua.G[0][ua.H[0]+Za];256<=tf.value?(Ja.g=tf.g+256,Ja.value=tf.value):(Ja.g=0,Ja.value=0,Za>>=qt(tf,8,Ja),Za>>=qt(ua.G[1][ua.H[1]+Za],16,Ja),Za>>=qt(ua.G[2][ua.H[2]+Za],0,Ja),qt(ua.G[3][ua.H[3]+Za],24,Ja))}}}mi.vc=Si,mi.Wb=Yi,mi.Ya=Wh,mi.yc=Up,mn=1;break e}mn=0}if(!(dt=mn)){et.a=3;break t}if(0<Zt){if(_t.ua=1<<Zt,!pt(_t.Wa,Zt)){et.a=1,dt=0;break t}}else _t.ua=0;var Xp=et,n2=mt,ix=yt,Yp=Xp.s,Gp=Yp.xc;if(Xp.c=n2,Xp.i=ix,Yp.md=bt(n2,Gp),Yp.wc=Gp==0?-1:(1<<Gp)-1,K){et.xb=R3;break t}if((Rt=i(mt*yt))==null){et.a=1,dt=0;break t}dt=(dt=He(et,Rt,0,mt,yt,yt,null))&&!vt.h;break t}return dt?(ct!=null?ct[0]=Rt:(e(Rt==null),e(K)),et.$=0,K||hr(_t)):hr(_t),dt}function Xr(O,$){var K=O.c*O.i,et=K+$+16*$;return e(O.c<=$),O.V=i(et),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+K+$,1)}function Rr(O,$){var K=O.C,et=$-K,ct=O.V,dt=O.Ba+O.c*K;for(e($<=O.l.o);0<et;){var mt=16<et?16:et,yt=O.l.ma,vt=O.l.width,_t=vt*mt,Rt=yt.ca,Zt=yt.tb+vt*K,Jt=O.Ta,Vt=O.Ua;Ae(O,mt,ct,dt),or(Jt,Vt,Rt,Zt,_t),Je(yt,K,K+mt,Rt,Zt,vt),et-=mt,ct+=mt*O.c,K+=mt}e(K==$),O.C=O.Ma=$}function en(){this.ub=this.yd=this.td=this.Rb=0}function Qr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function xt(){this.Yb=function(){var O=[];return function $(K,et,ct){for(var dt=ct[et],mt=0;mt<dt&&(K.push(ct.length>et+1?[]:0),!(ct.length<et+1));mt++)$(K[mt],et+1,ct)}(O,0,[3,11]),O}()}function Yt(){this.jb=i(3),this.Wc=l([4,8],xt),this.Xc=l([4,17],xt)}function he(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ge(){this.ld=this.La=this.dd=this.tc=0}function Ze(){this.Na=this.la=0}function Ne(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Re(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ar(){this.uc=this.M=this.Nb=0,this.wa=Array(new ge),this.Y=0,this.ya=Array(new Re),this.aa=0,this.l=new ur}function wr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function kr(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new en,this.Kc=new Qr,this.ed=new he,this.Qa=new Lr,this.Ic=this.$c=this.Aa=0,this.D=new Ar,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,B),this.ia=0,this.pb=o(4,Ne),this.Pa=new Yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wr),this.Hd=0,this.rb=Array(new Ze),this.sb=0,this.wa=Array(new ge),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Re),this.L=this.aa=0,this.gd=l([4,2],ge),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ur(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qe(){var O=new kr;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,Sc||(Sc=rn)),O}function gr(O,$,K){return O.a==0&&(O.a=$,O.sc=K,O.cb=0),0}function $r(O,$,K){return 3<=K&&O[$+0]==157&&O[$+1]==1&&O[$+2]==42}function Yr(O,$){if(O==null)return 0;if(O.a=0,O.sc="OK",$==null)return gr(O,2,"null VP8Io passed to VP8GetHeaders()");var K=$.data,et=$.w,ct=$.ha;if(4>ct)return gr(O,7,"Truncated header.");var dt=K[et+0]|K[et+1]<<8|K[et+2]<<16,mt=O.Od;if(mt.Rb=!(1&dt),mt.td=dt>>1&7,mt.yd=dt>>4&1,mt.ub=dt>>5,3<mt.td)return gr(O,3,"Incorrect keyframe parameters.");if(!mt.yd)return gr(O,4,"Frame not displayable.");et+=3,ct-=3;var yt=O.Kc;if(mt.Rb){if(7>ct)return gr(O,7,"cannot parse picture header");if(!$r(K,et,ct))return gr(O,3,"Bad code word");yt.c=16383&(K[et+4]<<8|K[et+3]),yt.Td=K[et+4]>>6,yt.i=16383&(K[et+6]<<8|K[et+5]),yt.Ud=K[et+6]>>6,et+=7,ct-=7,O.za=yt.c+15>>4,O.Ub=yt.i+15>>4,$.width=yt.c,$.height=yt.i,$.Da=0,$.j=0,$.v=0,$.va=$.width,$.o=$.height,$.da=0,$.ib=$.width,$.hb=$.height,$.U=$.width,$.T=$.height,s((dt=O.Pa).jb,0,255,dt.jb.length),e((dt=O.Qa)!=null),dt.Cb=0,dt.Bb=0,dt.Fb=1,s(dt.Zb,0,0,dt.Zb.length),s(dt.Lb,0,0,dt.Lb)}if(mt.ub>ct)return gr(O,7,"bad partition length");k(dt=O.m,K,et,mt.ub),et+=mt.ub,ct-=mt.ub,mt.Rb&&(yt.Ld=L(dt),yt.Kd=L(dt)),yt=O.Qa;var vt,_t=O.Pa;if(e(dt!=null),e(yt!=null),yt.Cb=L(dt),yt.Cb){if(yt.Bb=L(dt),L(dt)){for(yt.Fb=L(dt),vt=0;4>vt;++vt)yt.Zb[vt]=L(dt)?_(dt,7):0;for(vt=0;4>vt;++vt)yt.Lb[vt]=L(dt)?_(dt,6):0}if(yt.Bb)for(vt=0;3>vt;++vt)_t.jb[vt]=L(dt)?v(dt,8):255}else yt.Bb=0;if(dt.Ka)return gr(O,3,"cannot parse segment header");if((yt=O.ed).zd=L(dt),yt.Tb=v(dt,6),yt.wb=v(dt,3),yt.Pc=L(dt),yt.Pc&&L(dt)){for(_t=0;4>_t;++_t)L(dt)&&(yt.vd[_t]=_(dt,6));for(_t=0;4>_t;++_t)L(dt)&&(yt.od[_t]=_(dt,6))}if(O.L=yt.Tb==0?0:yt.zd?1:2,dt.Ka)return gr(O,3,"cannot parse filter header");var Rt=ct;if(ct=vt=et,et=vt+Rt,yt=Rt,O.Xb=(1<<v(O.m,2))-1,Rt<3*(_t=O.Xb))K=7;else{for(vt+=3*_t,yt-=3*_t,Rt=0;Rt<_t;++Rt){var Zt=K[ct+0]|K[ct+1]<<8|K[ct+2]<<16;Zt>yt&&(Zt=yt),k(O.Jc[+Rt],K,vt,Zt),vt+=Zt,yt-=Zt,ct+=3}k(O.Jc[+_t],K,vt,yt),K=vt<et?0:5}if(K!=0)return gr(O,K,"cannot parse partitions");for(K=v(vt=O.m,7),ct=L(vt)?_(vt,4):0,et=L(vt)?_(vt,4):0,yt=L(vt)?_(vt,4):0,_t=L(vt)?_(vt,4):0,vt=L(vt)?_(vt,4):0,Rt=O.Qa,Zt=0;4>Zt;++Zt){if(Rt.Cb){var Jt=Rt.Zb[Zt];Rt.Fb||(Jt+=K)}else{if(0<Zt){O.pb[Zt]=O.pb[0];continue}Jt=K}var Vt=O.pb[Zt];Vt.Sc[0]=Fp[Oi(Jt+ct,127)],Vt.Sc[1]=Bp[Oi(Jt+0,127)],Vt.Eb[0]=2*Fp[Oi(Jt+et,127)],Vt.Eb[1]=101581*Bp[Oi(Jt+yt,127)]>>16,8>Vt.Eb[1]&&(Vt.Eb[1]=8),Vt.Qc[0]=Fp[Oi(Jt+_t,117)],Vt.Qc[1]=Bp[Oi(Jt+vt,127)],Vt.lc=Jt+vt}if(!mt.Rb)return gr(O,4,"Not a key frame.");for(L(dt),mt=O.Pa,K=0;4>K;++K){for(ct=0;8>ct;++ct)for(et=0;3>et;++et)for(yt=0;11>yt;++yt)_t=N(dt,P3[K][ct][et][yt])?v(dt,8):N3[K][ct][et][yt],mt.Wc[K][ct].Yb[et][yt]=_t;for(ct=0;17>ct;++ct)mt.Xc[K][ct]=mt.Wc[K][L3[ct]]}return O.kc=L(dt),O.kc&&(O.Bd=v(dt,8)),O.cb=1}function rn(O,$,K,et,ct,dt,mt){var yt=$[ct].Yb[K];for(K=0;16>ct;++ct){if(!N(O,yt[K+0]))return ct;for(;!N(O,yt[K+1]);)if(yt=$[++ct].Yb[0],K=0,ct==16)return 16;var vt=$[ct+1].Yb;if(N(O,yt[K+2])){var _t=O,Rt=0;if(N(_t,(Jt=yt)[(Zt=K)+3]))if(N(_t,Jt[Zt+6])){for(yt=0,Zt=2*(Rt=N(_t,Jt[Zt+8]))+(Jt=N(_t,Jt[Zt+9+Rt])),Rt=0,Jt=j3[Zt];Jt[yt];++yt)Rt+=Rt+N(_t,Jt[yt]);Rt+=3+(8<<Zt)}else N(_t,Jt[Zt+7])?(Rt=7+2*N(_t,165),Rt+=N(_t,145)):Rt=5+N(_t,159);else Rt=N(_t,Jt[Zt+4])?3+N(_t,Jt[Zt+5]):2;yt=vt[2]}else Rt=1,yt=vt[1];vt=mt+E3[ct],0>(_t=O).b&&J(_t);var Zt,Jt=_t.b,Vt=(Zt=_t.Ca>>1)-(_t.I>>Jt)>>31;--_t.b,_t.Ca+=Vt,_t.Ca|=1,_t.I-=(Zt+1&Vt)<<Jt,dt[vt]=((Rt^Vt)-Vt)*et[(0<ct)+0]}return 16}function Tn(O){var $=O.rb[O.sb-1];$.la=0,$.Na=0,s(O.zc,0,0,O.zc.length),O.ja=0}function ci(O,$){if(O==null)return 0;if($==null)return gr(O,2,"NULL VP8Io parameter in VP8Decode().");if(!O.cb&&!Yr(O,$))return 0;if(e(O.cb),$.ac==null||$.ac($)){$.ob&&(O.L=0);var K=Hh[O.L];if(O.L==2?(O.yb=0,O.zb=0):(O.yb=$.v-K>>4,O.zb=$.j-K>>4,0>O.yb&&(O.yb=0),0>O.zb&&(O.zb=0)),O.Va=$.o+15+K>>4,O.Hb=$.va+15+K>>4,O.Hb>O.za&&(O.Hb=O.za),O.Va>O.Ub&&(O.Va=O.Ub),0<O.L){var et=O.ed;for(K=0;4>K;++K){var ct;if(O.Qa.Cb){var dt=O.Qa.Lb[K];O.Qa.Fb||(dt+=et.Tb)}else dt=et.Tb;for(ct=0;1>=ct;++ct){var mt=O.gd[K][ct],yt=dt;if(et.Pc&&(yt+=et.vd[0],ct&&(yt+=et.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var vt=yt;0<et.wb&&(vt=4<et.wb?vt>>2:vt>>1)>9-et.wb&&(vt=9-et.wb),1>vt&&(vt=1),mt.dd=vt,mt.tc=2*yt+vt,mt.ld=40<=yt?2:15<=yt?1:0}else mt.tc=0;mt.La=ct}}}K=0}else gr(O,6,"Frame setup failed"),K=O.a;if(K=K==0){if(K){O.$c=0,0<O.Aa||(O.Ic=X3);t:{K=O.Ic,et=4*(vt=O.za);var _t=32*vt,Rt=vt+1,Zt=0<O.L?vt*(0<O.Aa?2:1):0,Jt=(O.Aa==2?2:1)*vt;if((mt=et+832+(ct=3*(16*K+Hh[O.L])/2*_t)+(dt=O.Fa!=null&&0<O.Fa.length?O.Kc.c*O.Kc.i:0))!=mt)K=0;else{if(mt>O.Vb){if(O.Vb=0,O.Ec=i(mt),O.Fc=0,O.Ec==null){K=gr(O,1,"no memory during frame initialization.");break t}O.Vb=mt}mt=O.Ec,yt=O.Fc,O.Ac=mt,O.Bc=yt,yt+=et,O.Gd=o(_t,wr),O.Hd=0,O.rb=o(Rt+1,Ze),O.sb=1,O.wa=Zt?o(Zt,ge):null,O.Y=0,O.D.Nb=0,O.D.wa=O.wa,O.D.Y=O.Y,0<O.Aa&&(O.D.Y+=vt),e(!0),O.oc=mt,O.pc=yt,yt+=832,O.ya=o(Jt,Re),O.aa=0,O.D.ya=O.ya,O.D.aa=O.aa,O.Aa==2&&(O.D.aa+=vt),O.R=16*vt,O.B=8*vt,vt=(_t=Hh[O.L])*O.R,_t=_t/2*O.B,O.sa=mt,O.ta=yt+vt,O.qa=O.sa,O.ra=O.ta+16*K*O.R+_t,O.Ha=O.qa,O.Ia=O.ra+8*K*O.B+_t,O.$c=0,yt+=ct,O.mb=dt?mt:null,O.nb=dt?yt:null,e(yt+dt<=O.Fc+O.Vb),Tn(O),s(O.Ac,O.Bc,0,et),K=1}}if(K){if($.ka=0,$.y=O.sa,$.O=O.ta,$.f=O.qa,$.N=O.ra,$.ea=O.Ha,$.Vd=O.Ia,$.fa=O.R,$.Rc=O.B,$.F=null,$.J=0,!Un){for(K=-255;255>=K;++K)dr[255+K]=0>K?-K:K;for(K=-1020;1020>=K;++K)Mr[1020+K]=-128>K?-128:127<K?127:K;for(K=-112;112>=K;++K)ii[112+K]=-16>K?-16:15<K?15:K;for(K=-255;510>=K;++K)xr[255+K]=0>K?0:255<K?255:K;Un=1}At=Ln,Nt=Ir,Ht=wi,jt=ji,$t=Ps,Et=Dr,Pt=Fa,zt=Fs,Bt=mu,Wt=Nl,Kt=Ba,Qt=ao,se=Bs,fe=za,Oe=Ia,Fe=Ds,je=oo,Ee=_c,co[0]=Ni,co[1]=ns,co[2]=dn,co[3]=ri,co[4]=Oo,co[5]=Vi,co[6]=Ra,co[7]=jl,co[8]=El,co[9]=is,Va[0]=Ei,Va[1]=io,Va[2]=di,Va[3]=xi,Va[4]=xn,Va[5]=_i,Va[6]=Ls,aa[0]=Rs,aa[1]=Fr,aa[2]=fu,aa[3]=Zo,aa[4]=Jo,aa[5]=du,aa[6]=so,K=1}else K=0}K&&(K=function(Vt,ve){for(Vt.M=0;Vt.M<Vt.Va;++Vt.M){var oe,Dt=Vt.Jc[Vt.M&Vt.Xb],Ut=Vt.m,pe=Vt;for(oe=0;oe<pe.za;++oe){var Se=Ut,ye=pe,tr=ye.Ac,$e=ye.Bc+4*oe,yr=ye.zc,Xe=ye.ya[ye.aa+oe];if(ye.Qa.Bb?Xe.$b=N(Se,ye.Pa.jb[0])?2+N(Se,ye.Pa.jb[2]):N(Se,ye.Pa.jb[1]):Xe.$b=0,ye.kc&&(Xe.Ad=N(Se,ye.Bd)),Xe.Za=!N(Se,145)+0,Xe.Za){var Jr=Xe.Ob,sn=0;for(ye=0;4>ye;++ye){var Gr,Vr=yr[0+ye];for(Gr=0;4>Gr;++Gr){Vr=O3[tr[$e+Gr]][Vr];for(var mn=L1[N(Se,Vr[0])];0<mn;)mn=L1[2*mn+N(Se,Vr[mn])];Vr=-mn,tr[$e+Gr]=Vr}r(Jr,sn,tr,$e,4),sn+=4,yr[0+ye]=Vr}}else Vr=N(Se,156)?N(Se,128)?1:3:N(Se,163)?2:0,Xe.Ob[0]=Vr,s(tr,$e,Vr,4),s(yr,0,Vr,4);Xe.Dd=N(Se,142)?N(Se,114)?N(Se,183)?1:3:2:0}if(pe.m.Ka)return gr(Vt,7,"Premature end-of-partition0 encountered.");for(;Vt.ja<Vt.za;++Vt.ja){if(pe=Dt,Se=(Ut=Vt).rb[Ut.sb-1],tr=Ut.rb[Ut.sb+Ut.ja],oe=Ut.ya[Ut.aa+Ut.ja],$e=Ut.kc?oe.Ad:0)Se.la=tr.la=0,oe.Za||(Se.Na=tr.Na=0),oe.Hc=0,oe.Gc=0,oe.ia=0;else{var hn,Br;if(Se=tr,tr=pe,$e=Ut.Pa.Xc,yr=Ut.ya[Ut.aa+Ut.ja],Xe=Ut.pb[yr.$b],ye=yr.ad,Jr=0,sn=Ut.rb[Ut.sb-1],Vr=Gr=0,s(ye,Jr,0,384),yr.Za)var Zn=0,os=$e[3];else{mn=i(16);var Jn=Se.Na+sn.Na;if(Jn=Sc(tr,$e[1],Jn,Xe.Eb,0,mn,0),Se.Na=sn.Na=(0<Jn)+0,1<Jn)At(mn,0,ye,Jr);else{var as=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)ye[Jr+mn]=as}Zn=1,os=$e[0]}var on=15&Se.la,Ss=15&sn.la;for(mn=0;4>mn;++mn){var ks=1&Ss;for(as=Br=0;4>as;++as)on=on>>1|(ks=(Jn=Sc(tr,os,Jn=ks+(1&on),Xe.Sc,Zn,ye,Jr))>Zn)<<7,Br=Br<<2|(3<Jn?3:1<Jn?2:ye[Jr+0]!=0),Jr+=16;on>>=4,Ss=Ss>>1|ks<<7,Gr=(Gr<<8|Br)>>>0}for(os=on,Zn=Ss>>4,hn=0;4>hn;hn+=2){for(Br=0,on=Se.la>>4+hn,Ss=sn.la>>4+hn,mn=0;2>mn;++mn){for(ks=1&Ss,as=0;2>as;++as)Jn=ks+(1&on),on=on>>1|(ks=0<(Jn=Sc(tr,$e[2],Jn,Xe.Qc,0,ye,Jr)))<<3,Br=Br<<2|(3<Jn?3:1<Jn?2:ye[Jr+0]!=0),Jr+=16;on>>=2,Ss=Ss>>1|ks<<5}Vr|=Br<<4*hn,os|=on<<4<<hn,Zn|=(240&Ss)<<hn}Se.la=os,sn.la=Zn,yr.Hc=Gr,yr.Gc=Vr,yr.ia=43690&Vr?0:Xe.ia,$e=!(Gr|Vr)}if(0<Ut.L&&(Ut.wa[Ut.Y+Ut.ja]=Ut.gd[oe.$b][oe.Za],Ut.wa[Ut.Y+Ut.ja].La|=!$e),pe.Ka)return gr(Vt,7,"Premature end-of-file encountered.")}if(Tn(Vt),Ut=ve,pe=1,oe=(Dt=Vt).D,Se=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)t:{if(oe.M=Dt.M,oe.uc=Se,qa(Dt,oe),pe=1,oe=(Br=Dt.D).Nb,Se=(Vr=Hh[Dt.L])*Dt.R,tr=Vr/2*Dt.B,mn=16*oe*Dt.R,as=8*oe*Dt.B,$e=Dt.sa,yr=Dt.ta-Se+mn,Xe=Dt.qa,ye=Dt.ra-tr+as,Jr=Dt.Ha,sn=Dt.Ia-tr+as,Ss=(on=Br.M)==0,Gr=on>=Dt.Va-1,Dt.Aa==2&&qa(Dt,Br),Br.uc)for(ks=(Jn=Dt).D.M,e(Jn.D.uc),Br=Jn.yb;Br<Jn.Hb;++Br){Zn=Br,os=ks;var mi=(Si=(In=Jn).D).Nb;hn=In.R;var Si=Si.wa[Si.Y+Zn],Yi=In.sa,Hs=In.ta+16*mi*hn+16*Zn,Do=Si.dd,gi=Si.tc;if(gi!=0)if(e(3<=gi),In.L==1)0<Zn&&Fe(Yi,Hs,hn,gi+4),Si.La&&Ee(Yi,Hs,hn,gi),0<os&&Oe(Yi,Hs,hn,gi+4),Si.La&&je(Yi,Hs,hn,gi);else{var la=In.B,Il=In.qa,gu=In.ra+8*mi*la+8*Zn,Ya=In.Ha,In=In.Ia+8*mi*la+8*Zn;mi=Si.ld,0<Zn&&(zt(Yi,Hs,hn,gi+4,Do,mi),Wt(Il,gu,Ya,In,la,gi+4,Do,mi)),Si.La&&(Qt(Yi,Hs,hn,gi,Do,mi),fe(Il,gu,Ya,In,la,gi,Do,mi)),0<os&&(Pt(Yi,Hs,hn,gi+4,Do,mi),Bt(Il,gu,Ya,In,la,gi+4,Do,mi)),Si.La&&(Kt(Yi,Hs,hn,gi,Do,mi),se(Il,gu,Ya,In,la,gi,Do,mi))}}if(Dt.ia&&alert("todo:DitherRow"),Ut.put!=null){if(Br=16*on,on=16*(on+1),Ss?(Ut.y=Dt.sa,Ut.O=Dt.ta+mn,Ut.f=Dt.qa,Ut.N=Dt.ra+as,Ut.ea=Dt.Ha,Ut.W=Dt.Ia+as):(Br-=Vr,Ut.y=$e,Ut.O=yr,Ut.f=Xe,Ut.N=ye,Ut.ea=Jr,Ut.W=sn),Gr||(on-=Vr),on>Ut.o&&(on=Ut.o),Ut.F=null,Ut.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&Br<on&&(Ut.J=Ua(Dt,Ut,Br,on-Br),Ut.F=Dt.mb,Ut.F==null&&Ut.F.length==0)){pe=gr(Dt,3,"Could not decode alpha data.");break t}Br<Ut.j&&(Vr=Ut.j-Br,Br=Ut.j,e(!(1&Vr)),Ut.O+=Dt.R*Vr,Ut.N+=Dt.B*(Vr>>1),Ut.W+=Dt.B*(Vr>>1),Ut.F!=null&&(Ut.J+=Ut.width*Vr)),Br<on&&(Ut.O+=Ut.v,Ut.N+=Ut.v>>1,Ut.W+=Ut.v>>1,Ut.F!=null&&(Ut.J+=Ut.v),Ut.ka=Br-Ut.j,Ut.U=Ut.va-Ut.v,Ut.T=on-Br,pe=Ut.put(Ut))}oe+1!=Dt.Ic||Gr||(r(Dt.sa,Dt.ta-Se,$e,yr+16*Dt.R,Se),r(Dt.qa,Dt.ra-tr,Xe,ye+8*Dt.B,tr),r(Dt.Ha,Dt.Ia-tr,Jr,sn+8*Dt.B,tr))}if(!pe)return gr(Vt,6,"Output aborted.")}return 1}(O,$)),$.bc!=null&&$.bc($),K&=1}return K?(O.cb=0,K):0}function Pn(O,$,K,et,ct){ct=O[$+K+32*et]+(ct>>3),O[$+K+32*et]=-256&ct?0>ct?0:255:ct}function zr(O,$,K,et,ct,dt){Pn(O,$,0,K,et+ct),Pn(O,$,1,K,et+dt),Pn(O,$,2,K,et-dt),Pn(O,$,3,K,et-ct)}function fn(O){return(20091*O>>16)+O}function hi(O,$,K,et){var ct,dt=0,mt=i(16);for(ct=0;4>ct;++ct){var yt=O[$+0]+O[$+8],vt=O[$+0]-O[$+8],_t=(35468*O[$+4]>>16)-fn(O[$+12]),Rt=fn(O[$+4])+(35468*O[$+12]>>16);mt[dt+0]=yt+Rt,mt[dt+1]=vt+_t,mt[dt+2]=vt-_t,mt[dt+3]=yt-Rt,dt+=4,$++}for(ct=dt=0;4>ct;++ct)yt=(O=mt[dt+0]+4)+mt[dt+8],vt=O-mt[dt+8],_t=(35468*mt[dt+4]>>16)-fn(mt[dt+12]),Pn(K,et,0,0,yt+(Rt=fn(mt[dt+4])+(35468*mt[dt+12]>>16))),Pn(K,et,1,0,vt+_t),Pn(K,et,2,0,vt-_t),Pn(K,et,3,0,yt-Rt),dt++,et+=32}function Dr(O,$,K,et){var ct=O[$+0]+4,dt=35468*O[$+4]>>16,mt=fn(O[$+4]),yt=35468*O[$+1]>>16;zr(K,et,0,ct+mt,O=fn(O[$+1]),yt),zr(K,et,1,ct+dt,O,yt),zr(K,et,2,ct-dt,O,yt),zr(K,et,3,ct-mt,O,yt)}function Ir(O,$,K,et,ct){hi(O,$,K,et),ct&&hi(O,$+16,K,et+4)}function wi(O,$,K,et){Nt(O,$+0,K,et,1),Nt(O,$+32,K,et+128,1)}function ji(O,$,K,et){var ct;for(O=O[$+0]+4,ct=0;4>ct;++ct)for($=0;4>$;++$)Pn(K,et,$,ct,O)}function Ps(O,$,K,et){O[$+0]&&jt(O,$+0,K,et),O[$+16]&&jt(O,$+16,K,et+4),O[$+32]&&jt(O,$+32,K,et+128),O[$+48]&&jt(O,$+48,K,et+128+4)}function Ln(O,$,K,et){var ct,dt=i(16);for(ct=0;4>ct;++ct){var mt=O[$+0+ct]+O[$+12+ct],yt=O[$+4+ct]+O[$+8+ct],vt=O[$+4+ct]-O[$+8+ct],_t=O[$+0+ct]-O[$+12+ct];dt[0+ct]=mt+yt,dt[8+ct]=mt-yt,dt[4+ct]=_t+vt,dt[12+ct]=_t-vt}for(ct=0;4>ct;++ct)mt=(O=dt[0+4*ct]+3)+dt[3+4*ct],yt=dt[1+4*ct]+dt[2+4*ct],vt=dt[1+4*ct]-dt[2+4*ct],_t=O-dt[3+4*ct],K[et+0]=mt+yt>>3,K[et+16]=_t+vt>>3,K[et+32]=mt-yt>>3,K[et+48]=_t-vt>>3,et+=64}function fi(O,$,K){var et,ct=$-32,dt=nn,mt=255-O[ct-1];for(et=0;et<K;++et){var yt,vt=dt,_t=mt+O[$-1];for(yt=0;yt<K;++yt)O[$+yt]=vt[_t+O[ct+yt]];$+=32}}function ns(O,$){fi(O,$,4)}function Fr(O,$){fi(O,$,8)}function io(O,$){fi(O,$,16)}function di(O,$){var K;for(K=0;16>K;++K)r(O,$+32*K,O,$-32,16)}function xi(O,$){var K;for(K=16;0<K;--K)s(O,$,O[$-1],16),$+=32}function Mn(O,$,K){var et;for(et=0;16>et;++et)s($,K+32*et,O,16)}function Ei(O,$){var K,et=16;for(K=0;16>K;++K)et+=O[$-1+32*K]+O[$+K-32];Mn(et>>5,O,$)}function xn(O,$){var K,et=8;for(K=0;16>K;++K)et+=O[$-1+32*K];Mn(et>>4,O,$)}function _i(O,$){var K,et=8;for(K=0;16>K;++K)et+=O[$+K-32];Mn(et>>4,O,$)}function Ls(O,$){Mn(128,O,$)}function vr(O,$,K){return O+2*$+K+2>>2}function dn(O,$){var K,et=$-32;for(et=new Uint8Array([vr(O[et-1],O[et+0],O[et+1]),vr(O[et+0],O[et+1],O[et+2]),vr(O[et+1],O[et+2],O[et+3]),vr(O[et+2],O[et+3],O[et+4])]),K=0;4>K;++K)r(O,$+32*K,et,0,et.length)}function ri(O,$){var K=O[$-1],et=O[$-1+32],ct=O[$-1+64],dt=O[$-1+96];Y(O,$+0,16843009*vr(O[$-1-32],K,et)),Y(O,$+32,16843009*vr(K,et,ct)),Y(O,$+64,16843009*vr(et,ct,dt)),Y(O,$+96,16843009*vr(ct,dt,dt))}function Ni(O,$){var K,et=4;for(K=0;4>K;++K)et+=O[$+K-32]+O[$-1+32*K];for(et>>=3,K=0;4>K;++K)s(O,$+32*K,et,4)}function Oo(O,$){var K=O[$-1+0],et=O[$-1+32],ct=O[$-1+64],dt=O[$-1-32],mt=O[$+0-32],yt=O[$+1-32],vt=O[$+2-32],_t=O[$+3-32];O[$+0+96]=vr(et,ct,O[$-1+96]),O[$+1+96]=O[$+0+64]=vr(K,et,ct),O[$+2+96]=O[$+1+64]=O[$+0+32]=vr(dt,K,et),O[$+3+96]=O[$+2+64]=O[$+1+32]=O[$+0+0]=vr(mt,dt,K),O[$+3+64]=O[$+2+32]=O[$+1+0]=vr(yt,mt,dt),O[$+3+32]=O[$+2+0]=vr(vt,yt,mt),O[$+3+0]=vr(_t,vt,yt)}function Ra(O,$){var K=O[$+1-32],et=O[$+2-32],ct=O[$+3-32],dt=O[$+4-32],mt=O[$+5-32],yt=O[$+6-32],vt=O[$+7-32];O[$+0+0]=vr(O[$+0-32],K,et),O[$+1+0]=O[$+0+32]=vr(K,et,ct),O[$+2+0]=O[$+1+32]=O[$+0+64]=vr(et,ct,dt),O[$+3+0]=O[$+2+32]=O[$+1+64]=O[$+0+96]=vr(ct,dt,mt),O[$+3+32]=O[$+2+64]=O[$+1+96]=vr(dt,mt,yt),O[$+3+64]=O[$+2+96]=vr(mt,yt,vt),O[$+3+96]=vr(yt,vt,vt)}function Vi(O,$){var K=O[$-1+0],et=O[$-1+32],ct=O[$-1+64],dt=O[$-1-32],mt=O[$+0-32],yt=O[$+1-32],vt=O[$+2-32],_t=O[$+3-32];O[$+0+0]=O[$+1+64]=dt+mt+1>>1,O[$+1+0]=O[$+2+64]=mt+yt+1>>1,O[$+2+0]=O[$+3+64]=yt+vt+1>>1,O[$+3+0]=vt+_t+1>>1,O[$+0+96]=vr(ct,et,K),O[$+0+64]=vr(et,K,dt),O[$+0+32]=O[$+1+96]=vr(K,dt,mt),O[$+1+32]=O[$+2+96]=vr(dt,mt,yt),O[$+2+32]=O[$+3+96]=vr(mt,yt,vt),O[$+3+32]=vr(yt,vt,_t)}function jl(O,$){var K=O[$+0-32],et=O[$+1-32],ct=O[$+2-32],dt=O[$+3-32],mt=O[$+4-32],yt=O[$+5-32],vt=O[$+6-32],_t=O[$+7-32];O[$+0+0]=K+et+1>>1,O[$+1+0]=O[$+0+64]=et+ct+1>>1,O[$+2+0]=O[$+1+64]=ct+dt+1>>1,O[$+3+0]=O[$+2+64]=dt+mt+1>>1,O[$+0+32]=vr(K,et,ct),O[$+1+32]=O[$+0+96]=vr(et,ct,dt),O[$+2+32]=O[$+1+96]=vr(ct,dt,mt),O[$+3+32]=O[$+2+96]=vr(dt,mt,yt),O[$+3+64]=vr(mt,yt,vt),O[$+3+96]=vr(yt,vt,_t)}function is(O,$){var K=O[$-1+0],et=O[$-1+32],ct=O[$-1+64],dt=O[$-1+96];O[$+0+0]=K+et+1>>1,O[$+2+0]=O[$+0+32]=et+ct+1>>1,O[$+2+32]=O[$+0+64]=ct+dt+1>>1,O[$+1+0]=vr(K,et,ct),O[$+3+0]=O[$+1+32]=vr(et,ct,dt),O[$+3+32]=O[$+1+64]=vr(ct,dt,dt),O[$+3+64]=O[$+2+64]=O[$+0+96]=O[$+1+96]=O[$+2+96]=O[$+3+96]=dt}function El(O,$){var K=O[$-1+0],et=O[$-1+32],ct=O[$-1+64],dt=O[$-1+96],mt=O[$-1-32],yt=O[$+0-32],vt=O[$+1-32],_t=O[$+2-32];O[$+0+0]=O[$+2+32]=K+mt+1>>1,O[$+0+32]=O[$+2+64]=et+K+1>>1,O[$+0+64]=O[$+2+96]=ct+et+1>>1,O[$+0+96]=dt+ct+1>>1,O[$+3+0]=vr(yt,vt,_t),O[$+2+0]=vr(mt,yt,vt),O[$+1+0]=O[$+3+32]=vr(K,mt,yt),O[$+1+32]=O[$+3+64]=vr(et,K,mt),O[$+1+64]=O[$+3+96]=vr(ct,et,K),O[$+1+96]=vr(dt,ct,et)}function fu(O,$){var K;for(K=0;8>K;++K)r(O,$+32*K,O,$-32,8)}function Zo(O,$){var K;for(K=0;8>K;++K)s(O,$,O[$-1],8),$+=32}function ws(O,$,K){var et;for(et=0;8>et;++et)s($,K+32*et,O,8)}function Rs(O,$){var K,et=8;for(K=0;8>K;++K)et+=O[$+K-32]+O[$-1+32*K];ws(et>>4,O,$)}function du(O,$){var K,et=4;for(K=0;8>K;++K)et+=O[$+K-32];ws(et>>3,O,$)}function Jo(O,$){var K,et=4;for(K=0;8>K;++K)et+=O[$-1+32*K];ws(et>>3,O,$)}function so(O,$){ws(128,O,$)}function Da(O,$,K){var et=O[$-K],ct=O[$+0],dt=3*(ct-et)+Gn[1020+O[$-2*K]-O[$+K]],mt=oa[112+(dt+4>>3)];O[$-K]=nn[255+et+oa[112+(dt+3>>3)]],O[$+0]=nn[255+ct-mt]}function pu(O,$,K,et){var ct=O[$+0],dt=O[$+K];return Kn[255+O[$-2*K]-O[$-K]]>et||Kn[255+dt-ct]>et}function Qo(O,$,K,et){return 4*Kn[255+O[$-K]-O[$+0]]+Kn[255+O[$-2*K]-O[$+K]]<=et}function ta(O,$,K,et,ct){var dt=O[$-3*K],mt=O[$-2*K],yt=O[$-K],vt=O[$+0],_t=O[$+K],Rt=O[$+2*K],Zt=O[$+3*K];return 4*Kn[255+yt-vt]+Kn[255+mt-_t]>et?0:Kn[255+O[$-4*K]-dt]<=ct&&Kn[255+dt-mt]<=ct&&Kn[255+mt-yt]<=ct&&Kn[255+Zt-Rt]<=ct&&Kn[255+Rt-_t]<=ct&&Kn[255+_t-vt]<=ct}function Ia(O,$,K,et){var ct=2*et+1;for(et=0;16>et;++et)Qo(O,$+et,K,ct)&&Da(O,$+et,K)}function Ds(O,$,K,et){var ct=2*et+1;for(et=0;16>et;++et)Qo(O,$+et*K,1,ct)&&Da(O,$+et*K,1)}function oo(O,$,K,et){var ct;for(ct=3;0<ct;--ct)Ia(O,$+=4*K,K,et)}function _c(O,$,K,et){var ct;for(ct=3;0<ct;--ct)Ds(O,$+=4,K,et)}function Is(O,$,K,et,ct,dt,mt,yt){for(dt=2*dt+1;0<ct--;){if(ta(O,$,K,dt,mt))if(pu(O,$,K,yt))Da(O,$,K);else{var vt=O,_t=$,Rt=K,Zt=vt[_t-2*Rt],Jt=vt[_t-Rt],Vt=vt[_t+0],ve=vt[_t+Rt],oe=vt[_t+2*Rt],Dt=27*(pe=Gn[1020+3*(Vt-Jt)+Gn[1020+Zt-ve]])+63>>7,Ut=18*pe+63>>7,pe=9*pe+63>>7;vt[_t-3*Rt]=nn[255+vt[_t-3*Rt]+pe],vt[_t-2*Rt]=nn[255+Zt+Ut],vt[_t-Rt]=nn[255+Jt+Dt],vt[_t+0]=nn[255+Vt-Dt],vt[_t+Rt]=nn[255+ve-Ut],vt[_t+2*Rt]=nn[255+oe-pe]}$+=et}}function Xi(O,$,K,et,ct,dt,mt,yt){for(dt=2*dt+1;0<ct--;){if(ta(O,$,K,dt,mt))if(pu(O,$,K,yt))Da(O,$,K);else{var vt=O,_t=$,Rt=K,Zt=vt[_t-Rt],Jt=vt[_t+0],Vt=vt[_t+Rt],ve=oa[112+((oe=3*(Jt-Zt))+4>>3)],oe=oa[112+(oe+3>>3)],Dt=ve+1>>1;vt[_t-2*Rt]=nn[255+vt[_t-2*Rt]+Dt],vt[_t-Rt]=nn[255+Zt+oe],vt[_t+0]=nn[255+Jt-ve],vt[_t+Rt]=nn[255+Vt-Dt]}$+=et}}function Fa(O,$,K,et,ct,dt){Is(O,$,K,1,16,et,ct,dt)}function Fs(O,$,K,et,ct,dt){Is(O,$,1,K,16,et,ct,dt)}function Ba(O,$,K,et,ct,dt){var mt;for(mt=3;0<mt;--mt)Xi(O,$+=4*K,K,1,16,et,ct,dt)}function ao(O,$,K,et,ct,dt){var mt;for(mt=3;0<mt;--mt)Xi(O,$+=4,1,K,16,et,ct,dt)}function mu(O,$,K,et,ct,dt,mt,yt){Is(O,$,ct,1,8,dt,mt,yt),Is(K,et,ct,1,8,dt,mt,yt)}function Nl(O,$,K,et,ct,dt,mt,yt){Is(O,$,1,ct,8,dt,mt,yt),Is(K,et,1,ct,8,dt,mt,yt)}function Bs(O,$,K,et,ct,dt,mt,yt){Xi(O,$+4*ct,ct,1,8,dt,mt,yt),Xi(K,et+4*ct,ct,1,8,dt,mt,yt)}function za(O,$,K,et,ct,dt,mt,yt){Xi(O,$+4,1,ct,8,dt,mt,yt),Xi(K,et+4,1,ct,8,dt,mt,yt)}function Po(){this.ba=new Sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ye,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ea(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ra(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zn(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new E,this.yc=new R}function na(){this.xb=this.a=0,this.l=new ur,this.ca=new Sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zn,this.ab=0,this.gc=o(4,ra),this.Oc=0}function zs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ur,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lo(O,$,K,et,ct,dt,mt){for(O=O==null?0:O[$+0],$=0;$<mt;++$)ct[dt+$]=O+K[et+$]&255,O=ct[dt+$]}function Ro(O,$,K,et,ct,dt,mt){var yt;if(O==null)Lo(null,null,K,et,ct,dt,mt);else for(yt=0;yt<mt;++yt)ct[dt+yt]=O[$+yt]+K[et+yt]&255}function lo(O,$,K,et,ct,dt,mt){if(O==null)Lo(null,null,K,et,ct,dt,mt);else{var yt,vt=O[$+0],_t=vt,Rt=vt;for(yt=0;yt<mt;++yt)_t=Rt+(vt=O[$+yt])-_t,Rt=K[et+yt]+(-256&_t?0>_t?0:255:_t)&255,_t=vt,ct[dt+yt]=Rt}}function Ua(O,$,K,et){var ct=$.width,dt=$.o;if(e(O!=null&&$!=null),0>K||0>=et||K+et>dt)return null;if(!O.Cc){if(O.ga==null){var mt;if(O.ga=new zs,(mt=O.ga==null)||(mt=$.width*$.o,e(O.Gb.length==0),O.Gb=i(mt),O.Uc=0,O.Gb==null?mt=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,mt=1),mt=!mt),!mt){mt=O.ga;var yt=O.Fa,vt=O.P,_t=O.qc,Rt=O.mb,Zt=O.nb,Jt=vt+1,Vt=_t-1,ve=mt.l;if(e(yt!=null&&Rt!=null&&$!=null),Xa[0]=null,Xa[1]=Lo,Xa[2]=Ro,Xa[3]=lo,mt.ca=Rt,mt.tb=Zt,mt.c=$.width,mt.i=$.height,e(0<mt.c&&0<mt.i),1>=_t)$=0;else if(mt.$a=yt[vt+0]>>0&3,mt.Z=yt[vt+0]>>2&3,mt.Lc=yt[vt+0]>>4&3,vt=yt[vt+0]>>6&3,0>mt.$a||1<mt.$a||4<=mt.Z||1<mt.Lc||vt)$=0;else if(ve.put=jr,ve.ac=mr,ve.bc=rr,ve.ma=mt,ve.width=$.width,ve.height=$.height,ve.Da=$.Da,ve.v=$.v,ve.va=$.va,ve.j=$.j,ve.o=$.o,mt.$a)t:{e(mt.$a==1),$=lr();e:for(;;){if($==null){$=0;break t}if(e(mt!=null),mt.mc=$,$.c=mt.c,$.i=mt.i,$.l=mt.l,$.l.ma=mt,$.l.width=mt.c,$.l.height=mt.i,$.a=0,x($.m,yt,Jt,Vt),!fr(mt.c,mt.i,1,$,null)||($.ab==1&&$.gc[0].hc==3&&Le($.s)?(mt.ic=1,yt=$.c*$.i,$.Ta=null,$.Ua=0,$.V=i(yt),$.Ba=0,$.V==null?($.a=1,$=0):$=1):(mt.ic=0,$=Xr($,mt.c)),!$))break e;$=1;break t}mt.mc=null,$=0}else $=Vt>=mt.c*mt.i;mt=!$}if(mt)return null;O.ga.Lc!=1?O.Ga=0:et=dt-K}e(O.ga!=null),e(K+et<=dt);t:{if($=(yt=O.ga).c,dt=yt.l.o,yt.$a==0){if(Jt=O.rc,Vt=O.Vc,ve=O.Fa,vt=O.P+1+K*$,_t=O.mb,Rt=O.nb+K*$,e(vt<=O.P+O.qc),yt.Z!=0)for(e(Xa[yt.Z]!=null),mt=0;mt<et;++mt)Xa[yt.Z](Jt,Vt,ve,vt,_t,Rt,$),Jt=_t,Vt=Rt,Rt+=$,vt+=$;else for(mt=0;mt<et;++mt)r(_t,Rt,ve,vt,$),Jt=_t,Vt=Rt,Rt+=$,vt+=$;O.rc=Jt,O.Vc=Vt}else{if(e(yt.mc!=null),$=K+et,e((mt=yt.mc)!=null),e($<=mt.i),mt.C>=$)$=1;else if(yt.ic||Gt(),yt.ic){yt=mt.V,Jt=mt.Ba,Vt=mt.c;var oe=mt.i,Dt=(ve=1,vt=mt.$/Vt,_t=mt.$%Vt,Rt=mt.m,Zt=mt.s,mt.$),Ut=Vt*oe,pe=Vt*$,Se=Zt.wc,ye=Dt<pe?ee(Zt,_t,vt):null;e(Dt<=Ut),e($<=oe),e(Le(Zt));e:for(;;){for(;!Rt.h&&Dt<pe;){if(_t&Se||(ye=ee(Zt,_t,vt)),e(ye!=null),F(Rt),256>(oe=Mt(ye.G[0],ye.H[0],Rt)))yt[Jt+Dt]=oe,++Dt,++_t>=Vt&&(_t=0,++vt<=$&&!(vt%16)&&Ke(mt,vt));else{if(!(280>oe)){ve=0;break e}oe=Nr(oe-256,Rt);var tr,$e=Mt(ye.G[4],ye.H[4],Rt);if(F(Rt),!(Dt>=($e=qe(Vt,$e=Nr($e,Rt)))&&Ut-Dt>=oe)){ve=0;break e}for(tr=0;tr<oe;++tr)yt[Jt+Dt+tr]=yt[Jt+Dt+tr-$e];for(Dt+=oe,_t+=oe;_t>=Vt;)_t-=Vt,++vt<=$&&!(vt%16)&&Ke(mt,vt);Dt<pe&&_t&Se&&(ye=ee(Zt,_t,vt))}e(Rt.h==V(Rt))}Ke(mt,vt>$?$:vt);break e}!ve||Rt.h&&Dt<Ut?(ve=0,mt.a=Rt.h?5:3):mt.$=Dt,$=ve}else $=He(mt,mt.V,mt.Ba,mt.c,mt.i,$,Rr);if(!$){et=0;break t}}K+et>=dt&&(O.Cc=1),et=1}if(!et)return null;if(O.Cc&&((et=O.ga)!=null&&(et.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+K*ct}function G(O,$,K,et,ct,dt){for(;0<ct--;){var mt,yt=O,vt=$+(K?1:0),_t=O,Rt=$+(K?0:3);for(mt=0;mt<et;++mt){var Zt=_t[Rt+4*mt];Zt!=255&&(Zt*=32897,yt[vt+4*mt+0]=yt[vt+4*mt+0]*Zt>>23,yt[vt+4*mt+1]=yt[vt+4*mt+1]*Zt>>23,yt[vt+4*mt+2]=yt[vt+4*mt+2]*Zt>>23)}$+=dt}}function ut(O,$,K,et,ct){for(;0<et--;){var dt;for(dt=0;dt<K;++dt){var mt=O[$+2*dt+0],yt=15&(_t=O[$+2*dt+1]),vt=4369*yt,_t=(240&_t|_t>>4)*vt>>16;O[$+2*dt+0]=(240&mt|mt>>4)*vt>>16&240|(15&mt|mt<<4)*vt>>16>>4&15,O[$+2*dt+1]=240&_t|yt}$+=ct}}function Ct(O,$,K,et,ct,dt,mt,yt){var vt,_t,Rt=255;for(_t=0;_t<ct;++_t){for(vt=0;vt<et;++vt){var Zt=O[$+vt];dt[mt+4*vt]=Zt,Rt&=Zt}$+=K,mt+=yt}return Rt!=255}function Ot(O,$,K,et,ct){var dt;for(dt=0;dt<ct;++dt)K[et+dt]=O[$+dt]>>8}function Gt(){Ie=G,_e=ut,Pe=Ct,or=Ot}function ae(O,$,K){P[O]=function(et,ct,dt,mt,yt,vt,_t,Rt,Zt,Jt,Vt,ve,oe,Dt,Ut,pe,Se){var ye,tr=Se-1>>1,$e=yt[vt+0]|_t[Rt+0]<<16,yr=Zt[Jt+0]|Vt[ve+0]<<16;e(et!=null);var Xe=3*$e+yr+131074>>2;for($(et[ct+0],255&Xe,Xe>>16,oe,Dt),dt!=null&&(Xe=3*yr+$e+131074>>2,$(dt[mt+0],255&Xe,Xe>>16,Ut,pe)),ye=1;ye<=tr;++ye){var Jr=yt[vt+ye]|_t[Rt+ye]<<16,sn=Zt[Jt+ye]|Vt[ve+ye]<<16,Gr=$e+Jr+yr+sn+524296,Vr=Gr+2*(Jr+yr)>>3;Xe=Vr+$e>>1,$e=(Gr=Gr+2*($e+sn)>>3)+Jr>>1,$(et[ct+2*ye-1],255&Xe,Xe>>16,oe,Dt+(2*ye-1)*K),$(et[ct+2*ye-0],255&$e,$e>>16,oe,Dt+(2*ye-0)*K),dt!=null&&(Xe=Gr+yr>>1,$e=Vr+sn>>1,$(dt[mt+2*ye-1],255&Xe,Xe>>16,Ut,pe+(2*ye-1)*K),$(dt[mt+2*ye+0],255&$e,$e>>16,Ut,pe+(2*ye+0)*K)),$e=Jr,yr=sn}1&Se||(Xe=3*$e+yr+131074>>2,$(et[ct+Se-1],255&Xe,Xe>>16,oe,Dt+(Se-1)*K),dt!=null&&(Xe=3*yr+$e+131074>>2,$(dt[mt+Se-1],255&Xe,Xe>>16,Ut,pe+(Se-1)*K)))}}function ke(){$s[Wa]=D3,$s[Fh]=D1,$s[N1]=I3,$s[Bh]=I1,$s[zh]=F1,$s[Lp]=B1,$s[O1]=F3,$s[Rp]=D1,$s[Dp]=I1,$s[Uh]=F1,$s[Ip]=B1}function Ge(O){return O&-16384?0>O?0:255:O>>B3}function pr(O,$){return Ge((19077*O>>8)+(26149*$>>8)-14234)}function Er(O,$,K){return Ge((19077*O>>8)-(6419*$>>8)-(13320*K>>8)+8708)}function Cr(O,$){return Ge((19077*O>>8)+(33050*$>>8)-17685)}function Wr(O,$,K,et,ct){et[ct+0]=pr(O,K),et[ct+1]=Er(O,$,K),et[ct+2]=Cr(O,$)}function pn(O,$,K,et,ct){et[ct+0]=Cr(O,$),et[ct+1]=Er(O,$,K),et[ct+2]=pr(O,K)}function bn(O,$,K,et,ct){var dt=Er(O,$,K);$=dt<<3&224|Cr(O,$)>>3,et[ct+0]=248&pr(O,K)|dt>>5,et[ct+1]=$}function Rn(O,$,K,et,ct){var dt=240&Cr(O,$)|15;et[ct+0]=240&pr(O,K)|Er(O,$,K)>>4,et[ct+1]=dt}function ni(O,$,K,et,ct){et[ct+0]=255,Wr(O,$,K,et,ct+1)}function Yn(O,$,K,et,ct){pn(O,$,K,et,ct),et[ct+3]=255}function ss(O,$,K,et,ct){Wr(O,$,K,et,ct),et[ct+3]=255}function Oi(O,$){return 0>O?0:O>$?$:O}function Us(O,$,K){P[O]=function(et,ct,dt,mt,yt,vt,_t,Rt,Zt){for(var Jt=Rt+(-2&Zt)*K;Rt!=Jt;)$(et[ct+0],dt[mt+0],yt[vt+0],_t,Rt),$(et[ct+1],dt[mt+0],yt[vt+0],_t,Rt+K),ct+=2,++mt,++vt,Rt+=2*K;1&Zt&&$(et[ct+0],dt[mt+0],yt[vt+0],_t,Rt)}}function Ol(O,$,K){return K==0?O==0?$==0?6:5:$==0?4:0:K}function ia(O,$,K,et,ct){switch(O>>>30){case 3:Nt($,K,et,ct,0);break;case 2:Et($,K,et,ct);break;case 1:jt($,K,et,ct)}}function qa(O,$){var K,et,ct=$.M,dt=$.Nb,mt=O.oc,yt=O.pc+40,vt=O.oc,_t=O.pc+584,Rt=O.oc,Zt=O.pc+600;for(K=0;16>K;++K)mt[yt+32*K-1]=129;for(K=0;8>K;++K)vt[_t+32*K-1]=129,Rt[Zt+32*K-1]=129;for(0<ct?mt[yt-1-32]=vt[_t-1-32]=Rt[Zt-1-32]=129:(s(mt,yt-32-1,127,21),s(vt,_t-32-1,127,9),s(Rt,Zt-32-1,127,9)),et=0;et<O.za;++et){var Jt=$.ya[$.aa+et];if(0<et){for(K=-1;16>K;++K)r(mt,yt+32*K-4,mt,yt+32*K+12,4);for(K=-1;8>K;++K)r(vt,_t+32*K-4,vt,_t+32*K+4,4),r(Rt,Zt+32*K-4,Rt,Zt+32*K+4,4)}var Vt=O.Gd,ve=O.Hd+et,oe=Jt.ad,Dt=Jt.Hc;if(0<ct&&(r(mt,yt-32,Vt[ve].y,0,16),r(vt,_t-32,Vt[ve].f,0,8),r(Rt,Zt-32,Vt[ve].ea,0,8)),Jt.Za){var Ut=mt,pe=yt-32+16;for(0<ct&&(et>=O.za-1?s(Ut,pe,Vt[ve].y[15],4):r(Ut,pe,Vt[ve+1].y,0,4)),K=0;4>K;K++)Ut[pe+128+K]=Ut[pe+256+K]=Ut[pe+384+K]=Ut[pe+0+K];for(K=0;16>K;++K,Dt<<=2)Ut=mt,pe=yt+U1[K],co[Jt.Ob[K]](Ut,pe),ia(Dt,oe,16*+K,Ut,pe)}else if(Ut=Ol(et,ct,Jt.Ob[0]),Va[Ut](mt,yt),Dt!=0)for(K=0;16>K;++K,Dt<<=2)ia(Dt,oe,16*+K,mt,yt+U1[K]);for(K=Jt.Gc,Ut=Ol(et,ct,Jt.Dd),aa[Ut](vt,_t),aa[Ut](Rt,Zt),Dt=oe,Ut=vt,pe=_t,255&(Jt=K>>0)&&(170&Jt?Ht(Dt,256,Ut,pe):$t(Dt,256,Ut,pe)),Jt=Rt,Dt=Zt,255&(K>>=8)&&(170&K?Ht(oe,320,Jt,Dt):$t(oe,320,Jt,Dt)),ct<O.Ub-1&&(r(Vt[ve].y,0,mt,yt+480,16),r(Vt[ve].f,0,vt,_t+224,8),r(Vt[ve].ea,0,Rt,Zt+224,8)),K=8*dt*O.B,Vt=O.sa,ve=O.ta+16*et+16*dt*O.R,oe=O.qa,Jt=O.ra+8*et+K,Dt=O.Ha,Ut=O.Ia+8*et+K,K=0;16>K;++K)r(Vt,ve+K*O.R,mt,yt+32*K,16);for(K=0;8>K;++K)r(oe,Jt+K*O.B,vt,_t+32*K,8),r(Dt,Ut+K*O.B,Rt,Zt+32*K,8)}}function sa(O,$,K,et,ct,dt,mt,yt,vt){var _t=[0],Rt=[0],Zt=0,Jt=vt!=null?vt.kd:0,Vt=vt!=null?vt:new ea;if(O==null||12>K)return 7;Vt.data=O,Vt.w=$,Vt.ha=K,$=[$],K=[K],Vt.gb=[Vt.gb];t:{var ve=$,oe=K,Dt=Vt.gb;if(e(O!=null),e(oe!=null),e(Dt!=null),Dt[0]=0,12<=oe[0]&&!t(O,ve[0],"RIFF")){if(t(O,ve[0]+8,"WEBP")){Dt=3;break t}var Ut=st(O,ve[0]+4);if(12>Ut||4294967286<Ut){Dt=3;break t}if(Jt&&Ut>oe[0]-8){Dt=7;break t}Dt[0]=Ut,ve[0]+=12,oe[0]-=12}Dt=0}if(Dt!=0)return Dt;for(Ut=0<Vt.gb[0],K=K[0];;){t:{var pe=O;oe=$,Dt=K;var Se=_t,ye=Rt,tr=ve=[0];if((Xe=Zt=[Zt])[0]=0,8>Dt[0])Dt=7;else{if(!t(pe,oe[0],"VP8X")){if(st(pe,oe[0]+4)!=10){Dt=3;break t}if(18>Dt[0]){Dt=7;break t}var $e=st(pe,oe[0]+8),yr=1+lt(pe,oe[0]+12);if(2147483648<=yr*(pe=1+lt(pe,oe[0]+15))){Dt=3;break t}tr!=null&&(tr[0]=$e),Se!=null&&(Se[0]=yr),ye!=null&&(ye[0]=pe),oe[0]+=18,Dt[0]-=18,Xe[0]=1}Dt=0}}if(Zt=Zt[0],ve=ve[0],Dt!=0)return Dt;if(oe=!!(2&ve),!Ut&&Zt)return 3;if(dt!=null&&(dt[0]=!!(16&ve)),mt!=null&&(mt[0]=oe),yt!=null&&(yt[0]=0),mt=_t[0],ve=Rt[0],Zt&&oe&&vt==null){Dt=0;break}if(4>K){Dt=7;break}if(Ut&&Zt||!Ut&&!Zt&&!t(O,$[0],"ALPH")){K=[K],Vt.na=[Vt.na],Vt.P=[Vt.P],Vt.Sa=[Vt.Sa];t:{$e=O,Dt=$,Ut=K;var Xe=Vt.gb;Se=Vt.na,ye=Vt.P,tr=Vt.Sa,yr=22,e($e!=null),e(Ut!=null),pe=Dt[0];var Jr=Ut[0];for(e(Se!=null),e(tr!=null),Se[0]=null,ye[0]=null,tr[0]=0;;){if(Dt[0]=pe,Ut[0]=Jr,8>Jr){Dt=7;break t}var sn=st($e,pe+4);if(4294967286<sn){Dt=3;break t}var Gr=8+sn+1&-2;if(yr+=Gr,0<Xe&&yr>Xe){Dt=3;break t}if(!t($e,pe,"VP8 ")||!t($e,pe,"VP8L")){Dt=0;break t}if(Jr[0]<Gr){Dt=7;break t}t($e,pe,"ALPH")||(Se[0]=$e,ye[0]=pe+8,tr[0]=sn),pe+=Gr,Jr-=Gr}}if(K=K[0],Vt.na=Vt.na[0],Vt.P=Vt.P[0],Vt.Sa=Vt.Sa[0],Dt!=0)break}K=[K],Vt.Ja=[Vt.Ja],Vt.xa=[Vt.xa];t:if(Xe=O,Dt=$,Ut=K,Se=Vt.gb[0],ye=Vt.Ja,tr=Vt.xa,$e=Dt[0],pe=!t(Xe,$e,"VP8 "),yr=!t(Xe,$e,"VP8L"),e(Xe!=null),e(Ut!=null),e(ye!=null),e(tr!=null),8>Ut[0])Dt=7;else{if(pe||yr){if(Xe=st(Xe,$e+4),12<=Se&&Xe>Se-12){Dt=3;break t}if(Jt&&Xe>Ut[0]-8){Dt=7;break t}ye[0]=Xe,Dt[0]+=8,Ut[0]-=8,tr[0]=yr}else tr[0]=5<=Ut[0]&&Xe[$e+0]==47&&!(Xe[$e+4]>>5),ye[0]=Ut[0];Dt=0}if(K=K[0],Vt.Ja=Vt.Ja[0],Vt.xa=Vt.xa[0],$=$[0],Dt!=0)break;if(4294967286<Vt.Ja)return 3;if(yt==null||oe||(yt[0]=Vt.xa?2:1),mt=[mt],ve=[ve],Vt.xa){if(5>K){Dt=7;break}yt=mt,Jt=ve,oe=dt,O==null||5>K?O=0:5<=K&&O[$+0]==47&&!(O[$+4]>>5)?(Ut=[0],Xe=[0],Se=[0],x(ye=new M,O,$,K),Be(ye,Ut,Xe,Se)?(yt!=null&&(yt[0]=Ut[0]),Jt!=null&&(Jt[0]=Xe[0]),oe!=null&&(oe[0]=Se[0]),O=1):O=0):O=0}else{if(10>K){Dt=7;break}yt=ve,O==null||10>K||!$r(O,$+3,K-3)?O=0:(Jt=O[$+0]|O[$+1]<<8|O[$+2]<<16,oe=16383&(O[$+7]<<8|O[$+6]),O=16383&(O[$+9]<<8|O[$+8]),1&Jt||3<(Jt>>1&7)||!(Jt>>4&1)||Jt>>5>=Vt.Ja||!oe||!O?O=0:(mt&&(mt[0]=oe),yt&&(yt[0]=O),O=1))}if(!O||(mt=mt[0],ve=ve[0],Zt&&(_t[0]!=mt||Rt[0]!=ve)))return 3;vt!=null&&(vt[0]=Vt,vt.offset=$-vt.w,e(4294967286>$-vt.w),e(vt.offset==vt.ha-K));break}return Dt==0||Dt==7&&Zt&&vt==null?(dt!=null&&(dt[0]|=Vt.na!=null&&0<Vt.na.length),et!=null&&(et[0]=mt),ct!=null&&(ct[0]=ve),0):Dt}function Pl(O,$,K){var et=$.width,ct=$.height,dt=0,mt=0,yt=et,vt=ct;if($.Da=O!=null&&0<O.Da,$.Da&&(yt=O.cd,vt=O.bd,dt=O.v,mt=O.j,11>K||(dt&=-2,mt&=-2),0>dt||0>mt||0>=yt||0>=vt||dt+yt>et||mt+vt>ct))return 0;if($.v=dt,$.j=mt,$.va=dt+yt,$.o=mt+vt,$.U=yt,$.T=vt,$.da=O!=null&&0<O.da,$.da){if(!at(yt,vt,K=[O.ib],dt=[O.hb]))return 0;$.ib=K[0],$.hb=dt[0]}return $.ob=O!=null&&O.ob,$.Kb=O==null||!O.Sd,$.da&&($.ob=$.ib<3*et/4&&$.hb<3*ct/4,$.Kb=0),1}function Ll(O){if(O==null)return 2;if(11>O.S){var $=O.f.RGBA;$.fb+=(O.height-1)*$.A,$.A=-$.A}else $=O.f.kb,O=O.height,$.O+=(O-1)*$.fa,$.fa=-$.fa,$.N+=(O-1>>1)*$.Ab,$.Ab=-$.Ab,$.W+=(O-1>>1)*$.Db,$.Db=-$.Db,$.F!=null&&($.J+=(O-1)*$.lb,$.lb=-$.lb);return 0}function $a(O,$,K,et){if(et==null||0>=O||0>=$)return 2;if(K!=null){if(K.Da){var ct=K.cd,dt=K.bd,mt=-2&K.v,yt=-2&K.j;if(0>mt||0>yt||0>=ct||0>=dt||mt+ct>O||yt+dt>$)return 2;O=ct,$=dt}if(K.da){if(!at(O,$,ct=[K.ib],dt=[K.hb]))return 2;O=ct[0],$=dt[0]}}et.width=O,et.height=$;t:{var vt=et.width,_t=et.height;if(O=et.S,0>=vt||0>=_t||!(O>=Wa&&13>O))O=2;else{if(0>=et.Rd&&et.sd==null){mt=dt=ct=$=0;var Rt=(yt=vt*q1[O])*_t;if(11>O||(dt=(_t+1)/2*($=(vt+1)/2),O==12&&(mt=(ct=vt)*_t)),(_t=i(Rt+2*dt+mt))==null){O=1;break t}et.sd=_t,11>O?((vt=et.f.RGBA).eb=_t,vt.fb=0,vt.A=yt,vt.size=Rt):((vt=et.f.kb).y=_t,vt.O=0,vt.fa=yt,vt.Fd=Rt,vt.f=_t,vt.N=0+Rt,vt.Ab=$,vt.Cd=dt,vt.ea=_t,vt.W=0+Rt+dt,vt.Db=$,vt.Ed=dt,O==12&&(vt.F=_t,vt.J=0+Rt+2*dt),vt.Tc=mt,vt.lb=ct)}if($=1,ct=et.S,dt=et.width,mt=et.height,ct>=Wa&&13>ct)if(11>ct)O=et.f.RGBA,$&=(yt=Math.abs(O.A))*(mt-1)+dt<=O.size,$&=yt>=dt*q1[ct],$&=O.eb!=null;else{O=et.f.kb,yt=(dt+1)/2,Rt=(mt+1)/2,vt=Math.abs(O.fa),_t=Math.abs(O.Ab);var Zt=Math.abs(O.Db),Jt=Math.abs(O.lb),Vt=Jt*(mt-1)+dt;$&=vt*(mt-1)+dt<=O.Fd,$&=_t*(Rt-1)+yt<=O.Cd,$=($&=Zt*(Rt-1)+yt<=O.Ed)&vt>=dt&_t>=yt&Zt>=yt,$&=O.y!=null,$&=O.f!=null,$&=O.ea!=null,ct==12&&($&=Jt>=dt,$&=Vt<=O.Tc,$&=O.F!=null)}else $=0;O=$?0:2}}return O!=0||K!=null&&K.fd&&(O=Ll(et)),O}var Dn=64,Pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cn=24,uo=32,pi=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];St("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(O){return O},P.Predictor2=function(O,$,K){return $[K+0]},P.Predictor3=function(O,$,K){return $[K+1]},P.Predictor4=function(O,$,K){return $[K-1]},P.Predictor5=function(O,$,K){return Tt(Tt(O,$[K+1]),$[K+0])},P.Predictor6=function(O,$,K){return Tt(O,$[K-1])},P.Predictor7=function(O,$,K){return Tt(O,$[K+0])},P.Predictor8=function(O,$,K){return Tt($[K-1],$[K+0])},P.Predictor9=function(O,$,K){return Tt($[K+0],$[K+1])},P.Predictor10=function(O,$,K){return Tt(Tt(O,$[K-1]),Tt($[K+0],$[K+1]))},P.Predictor11=function(O,$,K){var et=$[K+0];return 0>=re(et>>24&255,O>>24&255,($=$[K-1])>>24&255)+re(et>>16&255,O>>16&255,$>>16&255)+re(et>>8&255,O>>8&255,$>>8&255)+re(255&et,255&O,255&$)?et:O},P.Predictor12=function(O,$,K){var et=$[K+0];return(Lt((O>>24&255)+(et>>24&255)-(($=$[K-1])>>24&255))<<24|Lt((O>>16&255)+(et>>16&255)-($>>16&255))<<16|Lt((O>>8&255)+(et>>8&255)-($>>8&255))<<8|Lt((255&O)+(255&et)-(255&$)))>>>0},P.Predictor13=function(O,$,K){var et=$[K-1];return(Xt((O=Tt(O,$[K+0]))>>24&255,et>>24&255)<<24|Xt(O>>16&255,et>>16&255)<<16|Xt(O>>8&255,et>>8&255)<<8|Xt(O>>0&255,et>>0&255))>>>0};var Rl=P.PredictorAdd0;P.PredictorAdd1=ue,St("Predictor2","PredictorAdd2"),St("Predictor3","PredictorAdd3"),St("Predictor4","PredictorAdd4"),St("Predictor5","PredictorAdd5"),St("Predictor6","PredictorAdd6"),St("Predictor7","PredictorAdd7"),St("Predictor8","PredictorAdd8"),St("Predictor9","PredictorAdd9"),St("Predictor10","PredictorAdd10"),St("Predictor11","PredictorAdd11"),St("Predictor12","PredictorAdd12"),St("Predictor13","PredictorAdd13");var Ha=P.PredictorAdd2;Me("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),Me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var qs,Ri=P.ColorIndexInverseTransform,xs=P.MapARGB,_s=P.VP8LColorIndexInverseTransformAlpha,Dl=P.MapAlpha,D=P.VP8LPredictorsAdd=[];D.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var X,Q,rt,ot,ht,wt,At,Nt,Et,Ht,jt,$t,Pt,zt,Bt,Wt,Kt,Qt,se,fe,Oe,Fe,je,Ee,Ie,_e,Pe,or,dr=i(511),Mr=i(2041),ii=i(225),xr=i(767),Un=0,Gn=Mr,oa=ii,nn=xr,Kn=dr,Wa=0,Fh=1,N1=2,Bh=3,zh=4,Lp=5,O1=6,Rp=7,Dp=8,Uh=9,Ip=10,_3=[2,3,7],S3=[3,3,11],P1=[280,256,256,256,40],k3=[0,1,1,1,0],C3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],A3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],M3=8,Fp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sc=null,j3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],E3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],L1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],N3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],O3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],P3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],L3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Va=[],co=[],aa=[],R3=1,R1=2,Xa=[],$s=[];ae("UpsampleRgbLinePair",Wr,3),ae("UpsampleBgrLinePair",pn,3),ae("UpsampleRgbaLinePair",ss,4),ae("UpsampleBgraLinePair",Yn,4),ae("UpsampleArgbLinePair",ni,4),ae("UpsampleRgba4444LinePair",Rn,2),ae("UpsampleRgb565LinePair",bn,2);var D3=P.UpsampleRgbLinePair,I3=P.UpsampleBgrLinePair,D1=P.UpsampleRgbaLinePair,I1=P.UpsampleBgraLinePair,F1=P.UpsampleArgbLinePair,B1=P.UpsampleRgba4444LinePair,F3=P.UpsampleRgb565LinePair,qh=16,$h=1<<qh-1,kc=-227,zp=482,B3=6,z1=0,z3=i(256),U3=i(256),q3=i(256),$3=i(256),H3=i(zp-kc),W3=i(zp-kc);Us("YuvToRgbRow",Wr,3),Us("YuvToBgrRow",pn,3),Us("YuvToRgbaRow",ss,4),Us("YuvToBgraRow",Yn,4),Us("YuvToArgbRow",ni,4),Us("YuvToRgba4444Row",Rn,2),Us("YuvToRgb565Row",bn,2);var U1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hh=[0,2,8],V3=[8,7,6,4,4,2,2,2,1,1,1,1],X3=1;this.WebPDecodeRGBA=function(O,$,K,et,ct){var dt=Fh,mt=new Po,yt=new Sr;mt.ba=yt,yt.S=dt,yt.width=[yt.width],yt.height=[yt.height];var vt=yt.width,_t=yt.height,Rt=new br;if(Rt==null||O==null)var Zt=2;else e(Rt!=null),Zt=sa(O,$,K,Rt.width,Rt.height,Rt.Pd,Rt.Qd,Rt.format,null);if(Zt!=0?vt=0:(vt!=null&&(vt[0]=Rt.width[0]),_t!=null&&(_t[0]=Rt.height[0]),vt=1),vt){yt.width=yt.width[0],yt.height=yt.height[0],et!=null&&(et[0]=yt.width),ct!=null&&(ct[0]=yt.height);t:{if(et=new ur,(ct=new ea).data=O,ct.w=$,ct.ha=K,ct.kd=1,$=[0],e(ct!=null),((O=sa(ct.data,ct.w,ct.ha,null,null,null,$,null,ct))==0||O==7)&&$[0]&&(O=4),($=O)==0){if(e(mt!=null),et.data=ct.data,et.w=ct.w+ct.offset,et.ha=ct.ha-ct.offset,et.put=jr,et.ac=mr,et.bc=rr,et.ma=mt,ct.xa){if((O=lr())==null){mt=1;break t}if(function(Jt,Vt){var ve=[0],oe=[0],Dt=[0];e:for(;;){if(Jt==null)return 0;if(Vt==null)return Jt.a=2,0;if(Jt.l=Vt,Jt.a=0,x(Jt.m,Vt.data,Vt.w,Vt.ha),!Be(Jt.m,ve,oe,Dt)){Jt.a=3;break e}if(Jt.xb=R1,Vt.width=ve[0],Vt.height=oe[0],!fr(ve[0],oe[0],1,Jt,null))break e;return 1}return e(Jt.a!=0),0}(O,et)){if(et=($=$a(et.width,et.height,mt.Oa,mt.ba))==0){e:{et=O;r:for(;;){if(et==null){et=0;break e}if(e(et.s.yc!=null),e(et.s.Ya!=null),e(0<et.s.Wb),e((K=et.l)!=null),e((ct=K.ma)!=null),et.xb!=0){if(et.ca=ct.ba,et.tb=ct.tb,e(et.ca!=null),!Pl(ct.Oa,K,Bh)){et.a=2;break r}if(!Xr(et,K.width)||K.da)break r;if((K.da||We(et.ca.S))&&Gt(),11>et.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),et.ca.f.kb.F!=null&&Gt()),et.Pb&&0<et.s.ua&&et.s.vb.X==null&&!pt(et.s.vb,et.s.Wa.Xa)){et.a=1;break r}et.xb=0}if(!He(et,et.V,et.Ba,et.c,et.i,K.o,sr))break r;ct.Dc=et.Ma,et=1;break e}e(et.a!=0),et=0}et=!et}et&&($=O.a)}else $=O.a}else{if((O=new Qe)==null){mt=1;break t}if(O.Fa=ct.na,O.P=ct.P,O.qc=ct.Sa,Yr(O,et)){if(($=$a(et.width,et.height,mt.Oa,mt.ba))==0){if(O.Aa=0,K=mt.Oa,e((ct=O)!=null),K!=null){if(0<(vt=0>(vt=K.Md)?0:100<vt?255:255*vt/100)){for(_t=Rt=0;4>_t;++_t)12>(Zt=ct.pb[_t]).lc&&(Zt.ia=vt*V3[0>Zt.lc?0:Zt.lc]>>3),Rt|=Zt.ia;Rt&&(alert("todo:VP8InitRandom"),ct.ia=1)}ct.Ga=K.Id,100<ct.Ga?ct.Ga=100:0>ct.Ga&&(ct.Ga=0)}ci(O,et)||($=O.a)}}else $=O.a}$==0&&mt.Oa!=null&&mt.Oa.fd&&($=Ll(mt.ba))}mt=$}dt=mt!=0?null:11>dt?yt.f.RGBA.eb:yt.f.kb.y}else dt=null;return dt};var q1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function a(P,U){for(var W="",z=0;z<4;z++)W+=String.fromCharCode(P[U++]);return W}function c(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16)>>>0}function d(P,U){return(P[U+0]<<0|P[U+1]<<8|P[U+2]<<16|P[U+3]<<24)>>>0}new u;var f=[0],h=[0],p=[],y=new u,m=n,g=function(P,U){var W={},z=0,R=!1,T=0,E=0;if(W.frames=[],!function(H,V,tt,F){for(var J=0;J<F;J++)if(H[V+J]!=tt.charCodeAt(J))return!0;return!1}(P,U,"RIFF",4)){var k,v;for(d(P,U+=4),U+=8;U<P.length;){var _=a(P,U),x=d(P,U+=4);U+=4;var S=x+(1&x);switch(_){case"VP8 ":case"VP8L":W.frames[z]===void 0&&(W.frames[z]={}),(M=W.frames[z]).src_off=R?E:U-8,M.src_size=T+x+8,z++,R&&(R=!1,T=0,E=0);break;case"VP8X":(M=W.header={}).feature_flags=P[U];var A=U+4;M.canvas_width=1+c(P,A),A+=3,M.canvas_height=1+c(P,A),A+=3;break;case"ALPH":R=!0,T=S+8,E=U-8;break;case"ANIM":(M=W.header).bgcolor=d(P,U),A=U+4,M.loop_count=(k=P)[(v=A)+0]<<0|k[v+1]<<8,A+=2;break;case"ANMF":var B,M;(M=W.frames[z]={}).offset_x=2*c(P,U),U+=3,M.offset_y=2*c(P,U),U+=3,M.width=1+c(P,U),U+=3,M.height=1+c(P,U),U+=3,M.duration=c(P,U),U+=3,B=P[U++],M.dispose=1&B,M.blend=B>>1&1}_!="ANMF"&&(U+=S)}return W}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var b=g.header?g.header:null,w=g.frames?g.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],h=[b.canvas_width];for(var C=0;C<w.length&&w[C].blend!=0;C++);}var j=w[0],I=y.WebPDecodeRGBA(m,j.src_off,j.src_size,h,f);j.rgba=I,j.imgwidth=h[0],j.imgheight=f[0];for(var q=0;q<h[0]*f[0]*4;q++)p[q]=I[q];return this.width=h,this.height=f,this.data=p,this}(function(n){var e=function(){return typeof ig=="function"},t=function(f,h,p,y){var m=4,g=o;switch(y){case n.image_compression.FAST:m=1,g=i;break;case n.image_compression.MEDIUM:m=6,g=l;break;case n.image_compression.SLOW:m=9,g=u}f=r(f,h,p,g);var b=ig(f,{level:m});return n.__addimage__.arrayBufferToBinaryString(b)},r=function(f,h,p,y){for(var m,g,b,w=f.length/h,C=new Uint8Array(f.length+w),j=c(),I=0;I<w;I+=1){if(b=I*h,m=f.subarray(b,b+h),y)C.set(y(m,p,g),b+I);else{for(var q,P=j.length,U=[];q<P;q+=1)U[q]=j[q](m,p,g);var W=d(U.concat());C.set(U[W],b+I)}g=m}return C},s=function(f){var h=Array.apply([],f);return h.unshift(0),h},i=function(f,h){var p,y=[],m=f.length;y[0]=1;for(var g=0;g<m;g+=1)p=f[g-h]||0,y[g+1]=f[g]-p+256&255;return y},o=function(f,h,p){var y,m=[],g=f.length;m[0]=2;for(var b=0;b<g;b+=1)y=p&&p[b]||0,m[b+1]=f[b]-y+256&255;return m},l=function(f,h,p){var y,m,g=[],b=f.length;g[0]=3;for(var w=0;w<b;w+=1)y=f[w-h]||0,m=p&&p[w]||0,g[w+1]=f[w]+256-(y+m>>>1)&255;return g},u=function(f,h,p){var y,m,g,b,w=[],C=f.length;w[0]=4;for(var j=0;j<C;j+=1)y=f[j-h]||0,m=p&&p[j]||0,g=p&&p[j-h]||0,b=a(y,m,g),w[j+1]=f[j]-b+256&255;return w},a=function(f,h,p){if(f===h&&h===p)return f;var y=Math.abs(h-p),m=Math.abs(f-p),g=Math.abs(f+h-p-p);return y<=m&&y<=g?f:m<=g?h:p},c=function(){return[s,i,o,l,u]},d=function(f){var h=f.map(function(p){return p.reduce(function(y,m){return y+Math.abs(m)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(f,h,p,y){var m,g,b,w,C,j,I,q,P,U,W,z,R,T,E,k=this.decode.FLATE_DECODE,v="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(b=new rk(f)).imgData,g=b.bits,m=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){P=(q=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,W=new Uint8Array(P*b.colors),U=new Uint8Array(P);var _,x=b.pixelBitlength-b.bits;for(T=0,E=0;T<P;T++){for(R=q[T],_=0;_<x;)W[E++]=R>>>_&255,_+=b.bits;U[T]=R>>>_&255}}if(b.bits===16){P=(q=new Uint32Array(b.decodePixels().buffer)).length,W=new Uint8Array(P*(32/b.pixelBitlength)*b.colors),U=new Uint8Array(P*(32/b.pixelBitlength)),z=b.colors>1,T=0,E=0;for(var S=0;T<P;)R=q[T++],W[E++]=R>>>0&255,z&&(W[E++]=R>>>16&255,R=q[T++],W[E++]=R>>>0&255),U[S++]=R>>>16&255;g=8}y!==n.image_compression.NONE&&e()?(f=t(W,b.width*b.colors,b.colors,y),I=t(U,b.width,1,y)):(f=W,I=U,k=void 0)}if(b.colorType===3&&(m=this.color_spaces.INDEXED,j=b.palette,b.transparency.indexed)){var A=b.transparency.indexed,B=0;for(T=0,P=A.length;T<P;++T)B+=A[T];if((B/=255)===P-1&&A.indexOf(0)!==-1)w=[A.indexOf(0)];else if(B!==P){for(q=b.decodePixels(),U=new Uint8Array(q.length),T=0,P=q.length;T<P;T++)U[T]=A[q[T]];I=t(U,b.width,1)}}var M=function(H){var V;switch(H){case n.image_compression.FAST:V=11;break;case n.image_compression.MEDIUM:V=13;break;case n.image_compression.SLOW:V=14;break;default:V=12}return V}(y);return k===this.decode.FLATE_DECODE&&(v="/Predictor "+M+" "),v+="/Colors "+C+" /BitsPerComponent "+g+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:p,data:f,index:h,filter:k,decodeParameters:v,transparency:w,palette:j,sMask:I,predictor:M,width:b.width,height:b.height,bitsPerComponent:g,colorSpace:m}}}})(_r.API),function(n){n.processGIF89A=function(e,t,r,s){var i=new nk(e),o=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var a={data:u,width:o,height:l},c=new V0(100).encode(a,100);return n.processJPEG.call(this,c,t,r,s)},n.processGIF87A=n.processGIF89A}(_r.API),go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},go.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){gn.log("bit decode error:"+t)}},go.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}t!==0&&(this.pos+=4-t)}},go.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,l=i>>4,u=15&i,a=this.palette[l];if(this.data[o]=a.blue,this.data[o+1]=a.green,this.data[o+2]=a.red,this.data[o+3]=255,2*s+1>=this.width)break;a=this.palette[u],this.data[o+4]=a.blue,this.data[o+4+1]=a.green,this.data[o+4+2]=a.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},go.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},go.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,a=i>>15?255:0,c=r*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=a}this.pos+=n}},go.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,a=(o>>11)/e*255|0,c=s*this.width*4+4*i;this.data[c]=a,this.data[c+1]=u,this.data[c+2]=l,this.data[c+3]=255}this.pos+=n}},go.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},go.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=o}},go.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,s){var i=new go(e,!1),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},a=new V0(100).encode(u,100);return n.processJPEG.call(this,a,t,r,s)}}(_r.API),Mb.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,s){var i=new Mb(e),o=i.width,l=i.height,u={data:i.getData(),width:o,height:l},a=new V0(100).encode(u,100);return n.processJPEG.call(this,a,t,r,s)}}(_r.API),_r.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,u=0,a=0;a<s;a+=4){var c=r[a],d=r[a+1],f=r[a+2],h=r[a+3];i[l++]=c,i[l++]=d,i[l++]=f,o[u++]=h}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},_r.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cu=_r.API,Yf=Cu.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,u=l.fof?l.fof:1,a=e.kerning?e.kerning:s.metadata.Unicode.kerning,c=a.fof?a.fof:1,d=e.doKerning!==!1,f=0,h=n.length,p=0,y=l[0]||u,m=[];for(t=0;t<h;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?m.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(f=d&&ln(a[r])==="object"&&!isNaN(parseInt(a[r][p],10))?a[r][p]/c:0,m.push((l[r]||y)/u+f)),p=r;return m},kb=Cu.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Cu.processArabic&&(n=Cu.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Yf.apply(this,arguments).reduce(function(i,o){return i+o},0)},Cb=function(n,e,t,r){for(var s=[],i=0,o=n.length,l=0;i!==o&&l+e[i]<t;)l+=e[i],i++;s.push(n.slice(0,i));var u=i;for(l=0;i!==o;)l+e[i]>r&&(s.push(n.slice(u,i)),l=0,u=i),l+=e[i],i++;return u!==i&&s.push(n.slice(u,i)),s},Tb=function(n,e,t){t||(t={});var r,s,i,o,l,u,a,c=[],d=[c],f=t.textIndent||0,h=0,p=0,y=n.split(" "),m=Yf.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var g=Array(u).join(" "),b=[];y.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(j,I){return(I&&j.length?`
`:"")+j})):b.push(C[0])}),y=b,u=kb.apply(this,[g,t])}for(i=0,o=y.length;i<o;i++){var w=0;if(r=y[i],u&&r[0]==`
`&&(r=r.substr(1),w=1),f+h+(p=(s=Yf.apply(this,[r,t])).reduce(function(C,j){return C+j},0))>e||w){if(p>e){for(l=Cb.apply(this,[r,s,e-(f+h),e]),c.push(l.shift()),c=[l.pop()];l.length;)d.push([l.shift()]);p=s.slice(r.length-(c[0]?c[0].length:0)).reduce(function(C,j){return C+j},0)}else c=[r];d.push(c),f=p+u,h=m}else c.push(r),f+=h+p,h=m}return a=u?function(C,j){return(j?g:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(a)},Cu.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var l,u,a=[];for(l=0,u=r.length;l<u;l++)a=a.concat(Tb.apply(this,[r[l],o,i]));return a},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},o=n.__fontmetrics__.compress=function(d){var f,h,p,y,m=["{"];for(var g in d){if(f=d[g],isNaN(parseInt(g,10))?h="'"+g+"'":(g=parseInt(g,10),h=(h=i(g).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof f=="number")f<0?(p=i(f).slice(3),y="-"):(p=i(f).slice(2),y=""),p=y+p.slice(0,-1)+r[p.slice(-1)];else{if(ln(f)!=="object")throw new Error("Don't know what to do with value type "+ln(f)+".");p=o(f)}m.push(h+p)}return m.push("}"),m.join("")},l=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,y,m={},g=1,b=m,w=[],C="",j="",I=d.length-1,q=1;q<I;q+=1)(y=d[q])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(w.push([b,p]),b={},p=void 0):y=="}"?((h=w.pop())[0][h[1]]=b,p=void 0,b=h[0]):y=="-"?g=-1:p===void 0?t.hasOwnProperty(y)?(C+=t[y],p=parseInt(C,16)*g,g=1,C=""):C+=y:t.hasOwnProperty(y)?(j+=t[y],b[p]=parseInt(j,16)*g,g=1,p=void 0,j=""):j+=y;return m},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},a={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},c={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var f=d.font,h=c.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=a.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(_r.API),function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=t.charCodeAt(i);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(sh(l)),o.metadata=n.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(_r),function(n){function e(){return(Tr.canvg?Promise.resolve(Tr.canvg):Qm(()=>import("./index.es-du7PZyQS.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}_r.API.addSvgAsImage=function(t,r,s,i,o,l,u,a){if(isNaN(r)||isNaN(s))throw gn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw gn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(p){return p.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),r,s,i,o,u,a)})}}(),_r.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},_r.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],a=0,c=0,d=0;function f(p,y){var m,g=!1;for(m=0;m<p.length;m+=1)p[m]===y&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var h=l.length;for(d=0;d<h;d+=1)t[l[d]].value=t[l[d]].defaultValue,t[l[d]].explicitSet=!1}if(ln(n)==="object"){for(s in n)if(i=n[s],f(l,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&f(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(a=0;a<i.length;a+=1)if(r=!0,i[a].length===1&&typeof i[a][0]=="number")u.push(String(i[a]-1));else if(i[a].length>1){for(c=0;c<i[a].length;c+=1)typeof i[a][c]!="number"&&(r=!1);r===!0&&u.push([i[a][0]-1,i[a][1]-1].join(" "))}t[s].value="["+u.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,y=[];for(p in t)t[p].explicitSet===!0&&(t[p].type==="name"?y.push("/"+p+" /"+t[p].value):y.push("/"+p+" "+t[p].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),a=i.length+o.length+l.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(_r.API),function(n){var e=n.API,t=e.pdfEscape16=function(i,o){for(var l,u=o.metadata.Unicode.widths,a=["","0","00","000","0000"],c=[""],d=0,f=i.length;d<f;++d){if(l=o.metadata.characterToGlyph(i.charCodeAt(d)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(d),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return c.join("");l=l.toString(16),c.push(a[4-l.length],l)}return c.join("")},r=function(i){var o,l,u,a,c,d,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],d=0,f=(l=Object.keys(i).sort(function(h,p){return h-p})).length;d<f;d++)o=l[d],u.length>=100&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(a=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+a+">"));return u.length&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,a=o.newObject,c=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=a();c({data:h,addLength1:!0,objectId:y}),u("endobj");var m=a();c({data:r(l.metadata.toUnicode),addLength1:!0,objectId:m}),u("endobj");var g=a();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Mu(l.fontName)),u("/FontFile2 "+y+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var b=a();u("<<"),u("/Type /Font"),u("/BaseFont /"+Mu(l.fontName)),u("/FontDescriptor "+g+" 0 R"),u("/W "+n.API.PDFObject.convert(d)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=a(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+m+" 0 R"),u("/BaseFont /"+Mu(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+b+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,u=o.out,a=o.newObject,c=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=a();c({data:f,addLength1:!0,objectId:p}),u("endobj");var y=a();c({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var m=a();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+p+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Mu(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=a();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Mu(l.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",u=i.x,a=i.y,c=i.options||{},d=i.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,y=h,m="",g=0,b="",w=p[y].encoding;if(p[y].encoding!=="Identity-H")return{text:l,x:u,y:a,options:c,mutex:d};for(b=l,y=h,Array.isArray(l)&&(b=l[0]),g=0;g<b.length;g+=1)p[y].metadata.hasOwnProperty("cmap")&&(o=p[y].metadata.cmap.unicode.codeMap[b[g].charCodeAt(0)]),o||b[g].charCodeAt(0)<256&&p[y].metadata.hasOwnProperty("Unicode")?m+=b[g]:m+="";var C="";return parseInt(y.slice(1))<14||w==="WinAnsiEncoding"?C=f(m,y).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(C=t(m,p[y])),d.isHex=!0,{text:C,x:u,y:a,options:c,mutex:d}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],u={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var a=0;for(a=0;a<o.length;a+=1)Array.isArray(o[a])&&o[a].length===3?l.push([s(Object.assign({},u,{text:o[a][0]})).text,o[a][1],o[a][2]]):l.push(s(Object.assign({},u,{text:o[a]})).text);i.text=l}else i.text=s(Object.assign({},u,{text:o})).text}])}(_r),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(_r.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,i,o,l,u,a,c,d=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var C=function(z){var R=z.charCodeAt(),T=R>>8,E=y[T];return E!==void 0?d[256*E+(255&R)]:T===252||T===253?"AL":g.test(T)?"L":T===8?"R":"N"},j=function(z){for(var R,T=0;T<z.length;T++){if((R=C(z.charAt(T)))==="L")return!1;if(R==="R")return!0}return!1},I=function(z,R,T,E){var k,v,_,x,S=R[E];switch(S){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(S="AN");break;case"AL":b=!0,S="R";break;case"WS":S="N";break;case"CS":E<1||E+1>=R.length||(k=T[E-1])!=="EN"&&k!=="AN"||(v=R[E+1])!=="EN"&&v!=="AN"?S="N":b&&(v="AN"),S=v===k?v:"N";break;case"ES":S=(k=E>0?T[E-1]:"B")==="EN"&&E+1<R.length&&R[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&T[E-1]==="EN"){S="EN";break}if(b){S="N";break}for(_=E+1,x=R.length;_<x&&R[_]==="ET";)_++;S=_<x&&R[_]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(x=R.length,_=E+1;_<x&&R[_]==="NSM";)_++;if(_<x){var A=z[E],B=A>=1425&&A<=2303||A===64286;if(k=R[_],B&&(k==="R"||k==="AL")){S="R";break}}}S=E<1||(k=R[E-1])==="B"?"N":T[E-1];break;case"B":b=!1,s=!0,S=w;break;case"S":i=!0,S="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":S="N"}return S},q=function(z,R,T){var E=z.split("");return T&&P(E,T,{hiLevel:w}),E.reverse(),R&&R.reverse(),E.join("")},P=function(z,R,T){var E,k,v,_,x,S=-1,A=z.length,B=0,M=[],H=w?h:f,V=[];for(b=!1,s=!1,i=!1,k=0;k<A;k++)V[k]=C(z[k]);for(v=0;v<A;v++){if(x=B,M[v]=I(z,V,M,v),E=240&(B=H[x][p[M[v]]]),B&=15,R[v]=_=H[B][5],E>0)if(E===16){for(k=S;k<v;k++)R[k]=1;S=-1}else S=-1;if(H[B][6])S===-1&&(S=v);else if(S>-1){for(k=S;k<v;k++)R[k]=_;S=-1}V[v]==="B"&&(R[v]=0),T.hiLevel|=_}i&&function(tt,F,J){for(var L=0;L<J;L++)if(tt[L]==="S"){F[L]=w;for(var N=L-1;N>=0&&tt[N]==="WS";N--)F[N]=w}}(V,R,A)},U=function(z,R,T,E,k){if(!(k.hiLevel<z)){if(z===1&&w===1&&!s)return R.reverse(),void(T&&T.reverse());for(var v,_,x,S,A=R.length,B=0;B<A;){if(E[B]>=z){for(x=B+1;x<A&&E[x]>=z;)x++;for(S=B,_=x-1;S<_;S++,_--)v=R[S],R[S]=R[_],R[_]=v,T&&(v=T[S],T[S]=T[_],T[_]=v);B=x}B++}}},W=function(z,R,T){var E=z.split(""),k={hiLevel:w};return T||(T=[]),P(E,T,k),function(v,_,x){if(x.hiLevel!==0&&c)for(var S,A=0;A<v.length;A++)_[A]===1&&(S=m.indexOf(v[A]))>=0&&(v[A]=m[S+1])}(E,T,k),U(2,E,R,T,k),U(1,E,R,T,k),E.join("")};return this.__bidiEngine__.doBidiReorder=function(z,R,T){if(function(k,v){if(v)for(var _=0;_<k.length;_++)v[_]=_;l===void 0&&(l=j(k)),a===void 0&&(a=j(k))}(z,R),o||!u||a)if(o&&u&&l^a)w=l?1:0,z=q(z,R,T);else if(!o&&u&&a)w=l?1:0,z=W(z,R,T),z=q(z,R);else if(!o||l||u||a){if(o&&!u&&l^a)z=q(z,R),l?(w=0,z=W(z,R,T)):(w=1,z=W(z,R,T),z=q(z,R));else if(o&&l&&!u&&a)w=1,z=W(z,R,T),z=q(z,R);else if(!o&&!u&&l^a){var E=c;l?(w=1,z=W(z,R,T),w=0,c=!1,z=W(z,R,T),c=E):(w=0,z=W(z,R,T),z=q(z,R),w=1,c=!1,z=W(z,R,T),c=E,z=q(z,R))}}else w=0,z=W(z,R,T);else w=l?1:0,z=W(z,R,T);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,u=z.isOutputVisual,l=z.isInputRtl,a=z.isOutputRtl,c=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text,i=(r.x,r.y,r.options||{}),o=(r.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([t.doBidiReorder(s[l])]);r.text=o}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(_r),_r.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new kl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bk(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new ik(this.contents),this.head=new ok(this),this.name=new hk(this),this.cmap=new v3(this),this.toUnicode={},this.hhea=new ak(this),this.maxp=new fk(this),this.hmtx=new dk(this),this.post=new uk(this),this.os2=new lk(this),this.loca=new yk(this),this.glyf=new pk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,a;for(a=[],o=0,l=(u=this.bbox).length;o<l;o++)e=u[o],a.push(Math.round(e*this.scaleFactor));return a}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var No,kl=function(){function n(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,i,o,l,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*i+65536*o+256*l+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)t=e[r],i.push(this.writeByte(t));return i},n}(),ik=function(){var n;function e(t){var r,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,i,o,l,u,a,c,d,f,h,p,y;for(y in h=Object.keys(t).length,u=Math.log(2),d=16*Math.floor(Math.log(h)/u),o=Math.floor(d/u),c=16*h-d,(s=new kl).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(o),s.writeShort(c),i=16*h,a=s.pos+i,l=null,p=[],t)for(f=t[y],s.writeString(y),s.writeInt(n(f)),s.writeInt(a),s.writeInt(f.length),p=p.concat(f),y==="head"&&(l=a),a+=f.length;a%4;)p.push(0),a++;return s.write(p),r=2981146554-n(s.data),s.pos=l+8,s.writeUInt32(r),s.data},n=function(t){var r,s,i,o;for(t=w3.call(t);t.length%4;)t.push(0);for(i=new kl(t),s=0,r=0,o=t.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),sk={}.hasOwnProperty,Ko=function(n,e){for(var t in e)sk.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};No=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var ok=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),jb=function(){function n(e,t){var r,s,i,o,l,u,a,c,d,f,h,p,y,m,g,b,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,i=function(){var C,j;for(j=[],u=C=0;0<=f?C<f:C>f;u=0<=f?++C:--C)j.push(e.readUInt16());return j}(),e.pos+=2,y=function(){var C,j;for(j=[],u=C=0;0<=f?C<f:C>f;u=0<=f?++C:--C)j.push(e.readUInt16());return j}(),a=function(){var C,j;for(j=[],u=C=0;0<=f?C<f:C>f;u=0<=f?++C:--C)j.push(e.readUInt16());return j}(),c=function(){var C,j;for(j=[],u=C=0;0<=f?C<f:C>f;u=0<=f?++C:--C)j.push(e.readUInt16());return j}(),s=(this.length-e.pos+this.offset)/2,l=function(){var C,j;for(j=[],u=C=0;0<=s?C<s:C>s;u=0<=s?++C:--C)j.push(e.readUInt16());return j}(),u=g=0,w=i.length;g<w;u=++g)for(m=i[u],r=b=p=y[u];p<=m?b<=m:b>=m;r=p<=m?++b:--b)c[u]===0?o=r+a[u]:(o=l[c[u]/2+(r-p)-(f-u)]||0)!==0&&(o+=a[u]),this.codeMap[r]=65535&o}e.pos=d}return n.encode=function(e,t){var r,s,i,o,l,u,a,c,d,f,h,p,y,m,g,b,w,C,j,I,q,P,U,W,z,R,T,E,k,v,_,x,S,A,B,M,H,V,tt,F,J,L,N,Y,nt,lt;switch(E=new kl,o=Object.keys(e).sort(function(st,pt){return st-pt}),t){case"macroman":for(y=0,m=function(){var st=[];for(p=0;p<256;++p)st.push(0);return st}(),b={0:0},i={},k=0,S=o.length;k<S;k++)b[N=e[s=o[k]]]==null&&(b[N]=++y),i[s]={old:e[s],new:b[e[s]]},m[s]=b[e[s]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(m),{charMap:i,subtable:E.data,maxGlyphID:y+1};case"unicode":for(R=[],d=[],w=0,b={},r={},g=a=null,v=0,A=o.length;v<A;v++)b[j=e[s=o[v]]]==null&&(b[j]=++w),r[s]={old:j,new:b[j]},l=b[j]-s,g!=null&&l===a||(g&&d.push(g),R.push(s),a=l),g=s;for(g&&d.push(g),d.push(65535),R.push(65535),W=2*(U=R.length),P=2*Math.pow(Math.log(U)/Math.LN2,2),f=Math.log(P/2)/Math.LN2,q=2*U-P,u=[],I=[],h=[],p=_=0,B=R.length;_<B;p=++_){if(z=R[p],c=d[p],z===65535){u.push(0),I.push(0);break}if(z-(T=r[z].new)>=32768)for(u.push(0),I.push(2*(h.length+U-p)),s=x=z;z<=c?x<=c:x>=c;s=z<=c?++x:--x)h.push(r[s].new);else u.push(T-z),I.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*U+2*h.length),E.writeUInt16(0),E.writeUInt16(W),E.writeUInt16(P),E.writeUInt16(f),E.writeUInt16(q),J=0,M=d.length;J<M;J++)s=d[J],E.writeUInt16(s);for(E.writeUInt16(0),L=0,H=R.length;L<H;L++)s=R[L],E.writeUInt16(s);for(Y=0,V=u.length;Y<V;Y++)l=u[Y],E.writeUInt16(l);for(nt=0,tt=I.length;nt<tt;nt++)C=I[nt],E.writeUInt16(C);for(lt=0,F=h.length;lt<F;lt++)y=h[lt],E.writeUInt16(y);return{charMap:r,subtable:E.data,maxGlyphID:w+1}}},n}(),v3=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new jb(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,i;return r==null&&(r="macroman"),s=jb.encode(t,r),(i=new kl).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),ak=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),lk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),uk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(s=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var l,u,a;for(a=[],o=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;o=0<=u?++l:--l)a.push(t.readUInt32());return a}).call(this)}},e}(),ck=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,i,o,l,u,a,c,d,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(a={},o=d=0,f=s.length;d<f;o=++d)i=s[o],t.pos=i.offset,c=t.readString(i.length),l=new ck(c,i),a[h=i.nameID]==null&&(a[h]=[]),a[i.nameID].push(l);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),fk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),dk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,i,o,l,u,a;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(t.readInt16());return d}(),this.widths=(function(){var c,d,f,h;for(h=[],c=0,d=(f=this.metrics).length;c<d;c++)o=f[c],h.push(o.advance);return h}).call(this),s=this.widths[this.widths.length-1],a=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)a.push(this.widths.push(s));return a},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),w3=[].slice,pk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,i,o,l,u,a,c,d,f;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(t),(i=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,l=(u=new kl(r.read(i))).readShort(),c=u.readShort(),f=u.readShort(),a=u.readShort(),d=u.readShort(),this.cache[t]=l===-1?new gk(u,c,f,a,d):new mk(u,l,c,f,a,d),this.cache[t]))},e.prototype.encode=function(t,r,s){var i,o,l,u,a;for(l=[],o=[],u=0,a=r.length;u<a;u++)i=t[r[u]],o.push(l.length),i&&(l=l.concat(i.encode(s)));return o.push(l.length),{table:l,offsets:o}},e}(),mk=function(){function n(e,t,r,s,i,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),gk=function(){function n(e,t,r,s,i){var o,l;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new kl(w3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),yk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ko(e,No),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<s.length;++l)if(s[l]=i,o<r.length&&r[o]==l){++o,s[l]=i;var u=this.offsets[l],a=this.offsets[l+1]-u;a>0&&(i+=a)}for(var c=new Array(4*s.length),d=0;d<s.length;++d)c[4*d+3]=255&s[d],c[4*d+2]=(65280&s[d])>>8,c[4*d+1]=(16711680&s[d])>>16,c[4*d]=(4278190080&s[d])>>24;return c},e}(),bk=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,i,o,l,u;for(s={},o=0,l=e.length;o<l;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(r=s[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in u=this.glyphsFor(t))r=u[i],s[i]=r;return s},n.prototype.encode=function(e,t){var r,s,i,o,l,u,a,c,d,f,h,p,y,m,g;for(s in r=v3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=r.charMap)h[(u=g[s]).old]=u.new;for(p in f=r.maxGlyphID,o)p in h||(h[p]=f++);return c=function(b){var w,C;for(w in C={},b)C[b[w]]=w;return C}(h),d=Object.keys(c).sort(function(b,w){return b-w}),y=function(){var b,w,C;for(C=[],b=0,w=d.length;b<w;b++)l=d[b],C.push(c[l]);return C}(),i=this.font.glyf.encode(o,y,h),a=this.font.loca.encode(i.offsets,y),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},n}();_r.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,i,o;if(Array.isArray(t))return"["+function(){var l,u,a;for(a=[],l=0,u=t.length;l<u;l++)r=t[l],a.push(e.convert(r));return a}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)o=t[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+t},e}();async function vk(n,e){var T,E;if(!n.grid)throw new Error("Project has no grid data");const{grid:t,palette:r,settings:s}=n,{pages:i,includeGridLines:o,includeLegend:l,backgroundColor:u,selection:a}=e,c=a?Math.min(a.startRow,a.endRow):0,d=a?Math.max(a.startRow,a.endRow):s.height-1,f=a?Math.min(a.startCol,a.endCol):0,p=(a?Math.max(a.startCol,a.endCol):s.width-1)-f+1,y=d-c+1,m=new Map(r.map(k=>[k.id,k])),g=210,b=297,w=10,C=i===1||i===4?1:i===9?3:4,j=i===1?1:i===4?2:i===9?3:4,I=(T=s.showNumbers)!=null?T:!1,q=I?8:0,P=g-2*w-q*2,U=b-2*w-(l?40:0)-q*2,W=w+q,z=w+q,R=new _r({orientation:"portrait",unit:"mm",format:"a4"});for(let k=0;k<j;k++)for(let v=0;v<C;v++){(v>0||k>0)&&R.addPage(),R.setFillColor(u),R.rect(0,0,g,b,"F");const _=Math.ceil(p/C),x=Math.ceil(y/j),S=v*_,A=Math.min((v+1)*_,p),B=k*x,M=Math.min((k+1)*x,y),H=A-S,V=M-B,tt=P/H,F=U/V,J=Math.min(tt,F);for(let L=B;L<M;L++)for(let N=S;N<A;N++){const Y=(E=t.cells[c+L])==null?void 0:E[f+N];if(Y!=null&&Y.colorId){const nt=m.get(Y.colorId);nt&&(R.setFillColor(nt.color),R.rect(W+(N-S)*J,z+(L-B)*J,J,J,"F"))}}if(o){R.setDrawColor(s.gridLines.color),R.setLineWidth(.1);for(let L=0;L<=H;L++)R.line(W+L*J,z,W+L*J,z+V*J);for(let L=0;L<=V;L++)R.line(W,z+L*J,W+H*J,z+L*J)}if(I){const L=Math.max(4,Math.min(8,J*.4));R.setFontSize(L),R.setTextColor(100,100,100);for(let N=B;N<M;N++){const Y=a?s.height-(c+N):y-N,nt=z+(N-B)*J+J/2+L/4;R.text(String(Y),W-2,nt,{align:"right"}),R.text(String(Y),W+H*J+2,nt,{align:"left"})}for(let N=S;N<A;N++){const Y=a?s.width-(f+N):p-N,nt=W+(N-S)*J+J/2;R.text(String(Y),nt,z-2,{align:"center"}),R.text(String(Y),nt,z+V*J+L+2,{align:"center"})}}if(l&&v===0&&k===0&&r.length>0){const L=z+V*J+q+5,N=5,Y=50;R.setFontSize(8),R.setTextColor(0,0,0),r.forEach((nt,lt)=>{const st=lt%4,pt=Math.floor(lt/4),ft=w+st*Y,it=L+pt*8;R.setFillColor(nt.color),R.rect(ft,it,N,N,"F"),R.setDrawColor(0,0,0),R.rect(ft,it,N,N,"S"),R.text(nt.abbreviation||nt.name.substring(0,8),ft+N+2,it+3.5)})}if(i>1){const L=k*C+v+1;R.setFontSize(8),R.setTextColor(100,100,100),R.text(`Page ${L} of ${i}`,g-w-20,b-5)}}return R}async function wk(n,e){(await vk(n,e)).save(`${n.name.replace(/[^a-zA-Z0-9-_]/g,"_")}.pdf`)}function Gf(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x3={exports:{}};/*! ExcelJS 19-10-2023 */(function(n,e){(function(t){n.exports=t()})(function(){return function t(r,s,i){function o(a,c){if(!s[a]){if(!r[a]){var d=typeof Gf=="function"&&Gf;if(!c&&d)return d(a,!0);if(l)return l(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[a]={exports:{}};r[a][0].call(h.exports,function(p){return o(r[a][1][p]||p)},h,h.exports,t,r,s,i)}return s[a].exports}for(var l=typeof Gf=="function"&&Gf,u=0;u<i.length;u++)o(i[u]);return o}({1:[function(t,r,s){const i=t("fs"),o=t("fast-csv"),l=t("dayjs/plugin/customParseFormat"),u=t("dayjs/plugin/utc"),a=t("dayjs").extend(l).extend(u),c=t("../utils/stream-buf"),{fs:{exists:d}}=t("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};r.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,p){if(p=p||{},!await d(h))throw new Error("File not found: "+h);const y=i.createReadStream(h),m=await this.read(y,p);return y.close(),m}read(h,p){return p=p||{},new Promise((y,m)=>{const g=this.workbook.addWorksheet(p.sheetName),b=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=p.map||function(j){if(j==="")return null;const I=Number(j);if(!Number.isNaN(I)&&I!==1/0)return I;const q=b.reduce((U,W)=>{if(U)return U;const z=a(j,W,!0);return z.isValid()?z:null},null);if(q)return new Date(q.valueOf());const P=f[j];return P!==void 0?P:j},C=o.parse(p.parserOptions).on("data",j=>{g.addRow(j.map(w))}).on("end",()=>{C.emit("worksheet",g)});C.on("worksheet",y).on("error",m),h.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,p){return new Promise((y,m)=>{p=p||{};const g=this.workbook.getWorksheet(p.sheetName||p.sheetId),b=o.format(p.formatterOptions);h.on("finish",()=>{y()}),b.on("error",m),b.pipe(h);const{dateFormat:w,dateUTC:C}=p,j=p.map||(P=>{if(P){if(P.text||P.hyperlink)return P.hyperlink||P.text||"";if(P.formula||P.result)return P.result||"";if(P instanceof Date)return w?C?a.utc(P).format(w):a(P).format(w):C?a.utc(P).format():a(P).format();if(P.error)return P.error;if(typeof P=="object")return JSON.stringify(P)}return P}),I=p.includeEmptyRows===void 0||p.includeEmptyRows;let q=1;g&&g.eachRow((P,U)=>{if(I)for(;q++<U-1;)b.write([]);const{values:W}=P;W.shift(),b.write(W.map(j)),q=U}),b.end()})}writeFile(h,p){const y={encoding:(p=p||{}).encoding||"utf8"},m=i.createWriteStream(h,y);return this.write(m,p)}async writeBuffer(h){const p=new c;return await this.write(p,h),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,r,s){const i=t("../utils/col-cache");class o{constructor(u,a){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,a)if(typeof a=="string"){const d=i.decodeAddress(a);this.nativeCol=d.col+c,this.nativeColOff=0,this.nativeRow=d.row+c,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+c,this.row=a.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof o||u==null?u:new o(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}r.exports=o},{"../utils/col-cache":19}],3:[function(t,r,s){const i=t("../utils/col-cache"),o=t("../utils/under-dash"),l=t("./enums"),{slideFormula:u}=t("../utils/shared-formula"),a=t("./note");class c{constructor(h,p,y){if(!h||!p)throw new Error("A Cell needs a Row");this._row=h,this._column=p,i.validateAddress(y),this._address=y,this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(h.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,p,y){const m=h&&h.numFmt||p&&p.numFmt;m&&(y.numFmt=m);const g=h&&h.font||p&&p.font;g&&(y.font=g);const b=h&&h.alignment||p&&p.alignment;b&&(y.alignment=b);const w=h&&h.border||p&&p.border;w&&(y.border=w);const C=h&&h.fill||p&&p.fill;C&&(y.fill=C);const j=h&&h.protection||p&&p.protection;return j&&(y.protection=j),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(h,p){this._value.release(),this._value=d.create(c.Types.Merge,this,h),p||(this.style=h.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=d.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===c.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==c.Types.Merge?(this._value.release(),this._value=d.create(d.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new a(h)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===c.Types.String&&(this._value=d.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),h.forEach(y=>{p.addEx(this.fullAddress,y)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=d.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=a.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}c.Types=l.ValueType;const d={getType:f=>f==null?c.Types.Null:f instanceof String||typeof f=="string"?c.Types.String:typeof f=="number"?c.Types.Number:typeof f=="boolean"?c.Types.Boolean:f instanceof Date?c.Types.Date:f.text&&f.hyperlink?c.Types.Hyperlink:f.formula||f.sharedFormula?c.Types.Formula:f.richText?c.Types.RichText:f.sharedString?c.Types.SharedString:f.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(f){this.model={address:f.address,type:c.Types.Null}}get value(){return null}set value(f){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:c.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},p=y=>{const m=f[y];m&&(h[y]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(d.getType(f)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return c.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?l.ValueType.Null:f instanceof String||typeof f=="string"?l.ValueType.String:typeof f=="number"?l.ValueType.Number:f instanceof Date?l.ValueType.Date:f.text&&f.hyperlink?l.ValueType.Hyperlink:f.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&u(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof c?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:c.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,p){const y=this.types[f];if(!y)throw new Error("Could not create Value of type "+f);return new y(h,p)}};r.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,r,s){const i=t("../utils/under-dash"),o=t("./enums"),l=t("../utils/col-cache");class u{constructor(c,d,f){this._worksheet=c,this._number=d,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((d,f)=>{this._worksheet.getCell(f+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&i.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,d){const f=this.number;d||(d=c,c=null),this._worksheet.eachRow(c,(h,p)=>{d(h.getCell(f),p)})}get values(){const c=[];return this.eachCell((d,f)=>{d&&d.type!==o.ValueType.Null&&(c[f]=d.value)}),c}set values(c){if(!c)return;const d=this.number;let f=0;c.hasOwnProperty("0")&&(f=1),c.forEach((h,p)=>{this._worksheet.getCell(p+f,d).value=h})}_applyStyle(c,d){return this.style[c]=d,this.eachCell(f=>{f[c]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const d=[];let f=null;return c&&c.forEach((h,p)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=p+1:(f={min:p+1,max:p+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},d.push(f))}),d.length?d:void 0}static fromModel(c,d){const f=[];let h=1,p=0;for(d=(d=d||[]).sort(function(y,m){return y.min-m.min});p<d.length;){const y=d[p++];for(;h<y.min;)f.push(new u(c,h++));for(;h<=y.max;)f.push(new u(c,h++,y))}return f.length?f:null}}r.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,r,s){r.exports=class{constructor(i){this.model=i||{}}add(i,o){return this.model[i]=o}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(t,r,s){const i=t("../utils/under-dash"),o=t("../utils/col-cache"),l=t("../utils/cell-matrix"),u=t("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;r.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new l)}add(c,d){const f=o.decodeEx(c);this.addEx(f,d)}addEx(c,d){const f=this.getMatrix(d);if(c.top)for(let h=c.left;h<=c.right;h++)for(let p=c.top;p<=c.bottom;p++){const y={sheetName:c.sheetName,address:o.n2l(h)+p,row:p,col:h};f.addCellEx(y)}else f.addCellEx(c)}remove(c,d){const f=o.decodeEx(c);this.removeEx(f,d)}removeEx(c,d){this.getMatrix(d).removeCellEx(c)}removeAllNames(c){i.each(this.matrixMap,d=>{d.removeCellEx(c)})}forEach(c){i.each(this.matrixMap,(d,f)=>{d.forEach(h=>{c(f,h)})})}getNames(c){return this.getNamesEx(o.decodeEx(c))}getNamesEx(c){return i.map(this.matrixMap,(d,f)=>d.findCellEx(c)&&f).filter(Boolean)}_explore(c,d){d.mark=!1;const{sheetName:f}=d,h=new u(d.row,d.col,d.row,d.col,f);let p,y;function m(b,w){const C=c.findCellAt(f,b,d.col);return!(!C||!C.mark)&&(h[w]=b,C.mark=!1,!0)}for(y=d.row-1;m(y,"top");y--);for(y=d.row+1;m(y,"bottom");y++);function g(b,w){const C=[];for(y=h.top;y<=h.bottom;y++){const j=c.findCellAt(f,y,b);if(!j||!j.mark)return!1;C.push(j)}h[w]=b;for(let j=0;j<C.length;j++)C[j].mark=!1;return!0}for(p=d.col-1;g(p,"left");p--);for(p=d.col+1;g(p,"right");p++);return h}getRanges(c,d){return(d=d||this.matrixMap[c])?(d.forEach(f=>{f.mark=!0}),{name:c,ranges:d.map(f=>f.mark&&this._explore(d,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,d){c.forEachInSheet(d,(f,h,p)=>{f&&(f.row===h&&f.col===p||(f.row=h,f.col=p,f.address=o.n2l(p)+h))})}spliceRows(c,d,f,h){i.each(this.matrixMap,p=>{p.spliceRows(c,d,f,h),this.normaliseMatrix(p,c)})}spliceColumns(c,d,f,h){i.each(this.matrixMap,p=>{p.spliceColumns(c,d,f,h),this.normaliseMatrix(p,c)})}get model(){return i.map(this.matrixMap,(c,d)=>this.getRanges(d,c)).filter(c=>c.ranges.length)}set model(c){const d=this.matrixMap={};c.forEach(f=>{const h=d[f.name]=new l;f.ranges.forEach(p=>{a.test(p.split("!").pop()||"")&&h.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,r,s){r.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,r,s){const i=t("../utils/col-cache"),o=t("./anchor");r.exports=class{constructor(l,u){this.worksheet=l,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:u,imageId:a,range:c,hyperlinks:d}=l;if(this.type=u,this.imageId=a,u==="image")if(typeof c=="string"){const f=i.decode(c);this.range={tl:new o(this.worksheet,{col:f.left,row:f.top},-1),br:new o(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,c.tl,0),br:c.br&&new o(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:d||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,r,s){const i=t("../utils/under-dash");class o{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return i.deepMerge({},o.DEFAULT_CONFIGS,u)}set model(u){const{note:a}=u,{texts:c}=a;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=a}static fromModel(u){const a=new o;return a.model=u,a}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},r.exports=o},{"../utils/under-dash":26}],10:[function(t,r,s){const i=t("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(u,a,c,d,f){if(arguments.length<4){const h=i.decodeAddress(u),p=i.decodeAddress(a);this.model={top:Math.min(h.row,p.row),left:Math.min(h.col,p.col),bottom:Math.max(h.row,p.row),right:Math.max(h.col,p.col),sheetName:c},this.setTLBR(h.row,h.col,p.row,p.col,f)}else this.model={top:Math.min(u,c),left:Math.min(a,d),bottom:Math.max(u,c),right:Math.max(a,d),sheetName:f}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const a=u[0];if(a instanceof o)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{const c=i.decodeEx(a);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,a,c,d){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(u){if(u){const{dimensions:a,number:c}=u;a&&this.expand(c,a.min,c,a.max)}}expandToAddress(u){const a=i.decodeEx(u);this.expand(a.row,a.col,a.row,a.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const a=i.decodeEx(u);return this.containsEx(a)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let a=this.left;a<=this.right;a++)for(let c=this.top;c<=this.bottom;c++)u(i.encodeAddress(c,a),c,a)}}r.exports=o},{"../utils/col-cache":19}],11:[function(t,r,s){const i=t("../utils/under-dash"),o=t("./enums"),l=t("../utils/col-cache"),u=t("./cell");r.exports=class{constructor(a,c){this._worksheet=a,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let c=this._cells[a.col-1];if(!c){const d=this._worksheet.getColumn(a.col);c=new u(this,d,a.address),this._cells[a.col-1]=c}return c}getCell(a){if(typeof a=="string"){const c=this._worksheet.getColumnKey(a);a=c?c.number:l.l2n(a)}return this._cells[a-1]||this.getCellEx({address:l.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,c){const d=a+c;for(var f=arguments.length,h=new Array(f>2?f-2:0),p=2;p<f;p++)h[p-2]=arguments[p];const y=h.length-c,m=this._cells.length;let g,b,w;if(y<0)for(g=a+h.length;g<=m;g++)w=this._cells[g-1],b=this._cells[g-y-1],b?(w=this.getCell(g),w.value=b.value,w.style=b.style,w._comment=b._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(y>0)for(g=m;g>=d;g--)b=this._cells[g-1],b?(w=this.getCell(g+y),w.value=b.value,w.style=b.style,w._comment=b._comment):this._cells[g+y-1]=void 0;for(g=0;g<h.length;g++)w=this.getCell(a+g),w.value=h[g],w.style={},w._comment=void 0}eachCell(a,c){if(c||(c=a,a=null),a&&a.includeEmpty){const d=this._cells.length;for(let f=1;f<=d;f++)c(this.getCell(f),f)}else this._cells.forEach((d,f)=>{d&&d.type!==o.ValueType.Null&&c(d,f+1)})}addPageBreak(a,c){const d=this._worksheet,f=Math.max(0,a-1)||0,h=Math.max(0,c-1)||16838,p={id:this._number,max:h,man:1};f&&(p.min=f),d.rowBreaks.push(p)}get values(){const a=[];return this._cells.forEach(c=>{c&&c.type!==o.ValueType.Null&&(a[c.col]=c.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let c=0;a.hasOwnProperty("0")&&(c=1),a.forEach((d,f)=>{d!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,f+c),row:this._number,col:f+c}).value=d)})}else this._worksheet.eachColumnKey((c,d)=>{a[d]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=a[d])})}get hasValues(){return i.some(this._cells,a=>a&&a.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,c=0;return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&((!a||a>d.col)&&(a=d.col),c<d.col&&(c=d.col))}),a>0?{min:a,max:c}:null}_applyStyle(a,c){return this.style[a]=c,this._cells.forEach(d=>{d&&(d[a]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const a=[];let c=0,d=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!c||c>f.col)&&(c=f.col),d<f.col&&(d=f.col),a.push(h))}}),this.height||a.length?{cells:a,number:this.number,min:c,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],a.cells.forEach(d=>{switch(d.type){case u.Types.Merge:break;default:{let f;if(d.address)f=l.decodeAddress(d.address);else if(c){const{row:h}=c,p=c.col+1;f={row:h,col:p,address:l.encodeAddress(h,p),$col$row:`$${l.n2l(p)}$${h}`}}c=f,this.getCellEx(f).model=d;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,r,s){const i=t("../utils/col-cache");class o{constructor(u,a,c){this.table=u,this.column=a,this.index=c}_set(u,a){this.table.cacheState(),this.column[u]=a}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}r.exports=class{constructor(l,u){this.worksheet=l,u&&(this.table=u,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,u=(y,m,g)=>{y[m]===void 0&&(y[m]=g)};u(l,"headerRow",!0),u(l,"totalsRow",!1),u(l,"style",{}),u(l.style,"theme","TableStyleMedium2"),u(l.style,"showFirstColumn",!1),u(l.style,"showLastColumn",!1),u(l.style,"showRowStripes",!1),u(l.style,"showColumnStripes",!1);const a=(y,m)=>{if(!y)throw new Error(m)};a(l.ref,"Table must have ref"),a(l.columns,"Table must have column definitions"),a(l.rows,"Table must have row definitions"),l.tl=i.decodeAddress(l.ref);const{row:c,col:d}=l.tl;a(c>0,"Table must be on valid row"),a(d>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:p}=this;l.autoFilterRef=i.encode(c,d,c+h-1,d+f-1),l.tableRef=i.encode(c,d,c+p-1,d+f-1),l.columns.forEach((y,m)=>{a(y.name,`Column ${m} must have a name`),m===0?u(y,"totalsRowLabel","Total"):(u(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const l=(h,p)=>{p&&Object.keys(p).forEach(y=>{h[y]=p[y]})},{worksheet:u,table:a}=this,{row:c,col:d}=a.tl;let f=0;if(a.headerRow){const h=u.getRow(c+f++);a.columns.forEach((p,y)=>{const{style:m,name:g}=p,b=h.getCell(d+y);b.value=g,l(b,m)})}if(a.rows.forEach(h=>{const p=u.getRow(c+f++);h.forEach((y,m)=>{const g=p.getCell(d+m);g.value=y,l(g,a.columns[m].style)})}),a.totalsRow){const h=u.getRow(c+f++);a.columns.forEach((p,y)=>{const m=h.getCell(d+y);if(y===0)m.value=p.totalsRowLabel;else{const g=this.getFormula(p);m.value=g?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}l(m,p.style)})}}load(l){const{table:u}=this,{row:a,col:c}=u.tl;let d=0;if(u.headerRow){const f=l.getRow(a+d++);u.columns.forEach((h,p)=>{f.getCell(c+p).value=h.name})}if(u.rows.forEach(f=>{const h=l.getRow(a+d++);f.forEach((p,y)=>{h.getCell(c+y).value=p})}),u.totalsRow){const f=l.getRow(a+d++);u.columns.forEach((h,p)=>{const y=f.getCell(c+p);p===0?y.value=h.totalsRowLabel:this.getFormula(h)&&(y.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const a=this.worksheet.getRow(l.row+u);for(let c=0;c<this._cache.width;c++)a.getCell(l.col+c).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const a=this.worksheet.getRow(l.row+u);for(let c=0;c<this._cache.width;c++)a.getCell(l.col+c).value=null}for(let u=0;u<this.tableHeight;u++){const a=this.worksheet.getRow(l.row+u);for(let c=this.width;c<this._cache.width;c++)a.getCell(l.col+c).value=null}}this.store()}addRow(l,u){this.cacheState(),u===void 0?this.table.rows.push(l):this.table.rows.splice(u,0,l)}removeRows(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,u)}getColumn(l){const u=this.table.columns[l];return new o(this,u,l)}addColumn(l,u,a){this.cacheState(),a===void 0?(this.table.columns.push(l),this.table.rows.forEach((c,d)=>{c.push(u[d])})):(this.table.columns.splice(a,0,l),this.table.rows.forEach((c,d)=>{c.splice(a,0,u[d])}))}removeColumns(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,u),this.table.rows.forEach(a=>{a.splice(l,u)})}_assign(l,u,a){this.cacheState(),l[u]=a}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(t,r,s){const i=t("./worksheet"),o=t("./defined-names"),l=t("../xlsx/xlsx"),u=t("../csv/csv");r.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,c){const d=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const f=this._worksheets.reduce((y,m)=>(m&&m.orderNo)>y?m.orderNo:y,0),h=Object.assign({},c,{id:d,name:a,orderNo:f+1,workbook:this}),p=new i(h);return this._worksheets[d]=p,p}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){const c=this.getWorksheet(a);c&&c.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(c=>c&&c.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,c)=>a.orderNo-c.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(c=>{a(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){const c=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),c}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(c=>{const{id:d,name:f,state:h}=c,p=a.sheets&&a.sheets.findIndex(y=>y.id===d);(this._worksheets[d]=new i({id:d,name:f,orderNo:p,state:h,workbook:this})).model=c}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,r,s){const i=t("../utils/under-dash"),o=t("../utils/col-cache"),l=t("./range"),u=t("./row"),a=t("./column"),c=t("./enums"),d=t("./image"),f=t("./table"),h=t("./data-validations"),p=t("../utils/encryptor"),{copyStyle:y}=t("../utils/copy-style");r.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new l;return this._rows.forEach(g=>{if(g){const b=g.dimensions;b&&m.expand(g.number,b.min,g.number,b.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((w,C)=>{const j=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(w,j)},0);let g=1;const b=this._columns=[];m.forEach(w=>{const C=new a(this,g++,!1);b.push(C),C.defn=w})}getColumnKey(m){return this._keys[m]}setColumnKey(m,g){this._keys[m]=g}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const g=this._keys[m];if(g)return g;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let g=this._columns.length+1;for(;g<=m;)this._columns.push(new a(this,g++))}return this._columns[m-1]}spliceColumns(m,g){const b=this._rows.length;for(var w=arguments.length,C=new Array(w>2?w-2:0),j=2;j<w;j++)C[j-2]=arguments[j];if(C.length>0)for(let U=0;U<b;U++){const W=[m,g];C.forEach(R=>{W.push(R[U]||null)});const z=this.getRow(U+1);z.splice.apply(z,W)}else this._rows.forEach(U=>{U&&U.splice(m,g)});const I=C.length-g,q=m+g,P=this._columns.length;if(I<0)for(let U=m+C.length;U<=P;U++)this.getColumn(U).defn=this.getColumn(U-I).defn;else if(I>0)for(let U=P;U>=q;U--)this.getColumn(U+I).defn=this.getColumn(U).defn;for(let U=m;U<m+C.length;U++)this.getColumn(U).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,g,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(g=>{m=Math.max(m,g.cellCount)}),m}get actualColumnCount(){const m=[];let g=0;return this.eachRow(b=>{b.eachCell(w=>{let{col:C}=w;m[C]||(m[C]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){const m=this._rows;let g=m.length;for(;g>0&&m[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,g){return this._rows.slice(m-1,m-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let g=this._rows[m-1];return g||(g=this._rows[m-1]=new u(this,m)),g}getRows(m,g){if(g<1)return;const b=[];for(let w=m;w<m+g;w++)b.push(this.getRow(w));return b}addRow(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,w=this.getRow(b);return w.values=m,this._setStyleOption(b,g[0]==="i"?g:"n"),w}addRows(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return m.forEach(w=>{b.push(this.addRow(w,g))}),b}insertRow(m,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,g),this._setStyleOption(m,b),this.getRow(m)}insertRows(m,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...g),b!=="n")for(let w=0;w<g.length;w++)b[0]==="o"&&this.findRow(g.length+m+w)!==void 0?this._copyStyle(g.length+m+w,m+w,b[1]==="+"):b[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+w,b[1]==="+");return this.getRows(m,g.length)}_setStyleOption(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,g[1]==="+"):g[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,g[1]==="+")}_copyStyle(m,g){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(m),C=this.getRow(g);C.style=y(w.style),w.eachCell({includeEmpty:b},(j,I)=>{C.getCell(I).style=y(j.style)}),C.height=w.height}duplicateRow(m,g){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[m-1],C=new Array(g).fill(w.values);this.spliceRows(m+1,b?0:g,...C);for(let j=0;j<g;j++){const I=this._rows[m+j];I.style=w.style,I.height=w.height,w.eachCell({includeEmpty:!0},(q,P)=>{I.getCell(P).style=q.style})}}spliceRows(m,g){const b=m+g;for(var w=arguments.length,C=new Array(w>2?w-2:0),j=2;j<w;j++)C[j-2]=arguments[j];const I=C.length,q=I-g,P=this._rows.length;let U,W;if(q<0)for(m===P&&(this._rows[P-1]=void 0),U=b;U<=P;U++)if(W=this._rows[U-1],W){const z=this.getRow(U+q);z.values=W.values,z.style=W.style,z.height=W.height,W.eachCell({includeEmpty:!0},(R,T)=>{z.getCell(T).style=R.style}),this._rows[U-1]=void 0}else this._rows[U+q-1]=void 0;else if(q>0)for(U=P;U>=b;U--)if(W=this._rows[U-1],W){const z=this.getRow(U+q);z.values=W.values,z.style=W.style,z.height=W.height,W.eachCell({includeEmpty:!0},(R,T)=>{if(z.getCell(T).style=R.style,R._value.constructor.name==="MergeValue"){const E=this.getRow(R._row._number+I).getCell(T),k=R._value._master,v=this.getRow(k._row._number+I).getCell(k._column._number);E.merge(v)}})}else this._rows[U+q-1]=void 0;for(U=0;U<I;U++){const z=this.getRow(m+U);z.style={},z.values=C[U]}this.workbook.definedNames.spliceRows(this.name,m,g,I)}eachRow(m,g){if(g||(g=m,m=void 0),m&&m.includeEmpty){const b=this._rows.length;for(let w=1;w<=b;w++)g(this.getRow(w),w)}else this._rows.forEach(b=>{b&&b.hasValues&&g(b,b.number)})}getSheetValues(){const m=[];return this._rows.forEach(g=>{g&&(m[g.number]=g.values)}),m}findCell(m,g){const b=o.getAddress(m,g),w=this._rows[b.row-1];return w?w.findCell(b.col):void 0}getCell(m,g){const b=o.getAddress(m,g);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];const w=new l(g);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];const w=new l(g);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(m,g){i.each(this._merges,w=>{if(w.intersects(m))throw new Error("Cannot merge already merged cells")});const b=this.getCell(m.top,m.left);for(let w=m.top;w<=m.bottom;w++)for(let C=m.left;C<=m.right;C++)(w>m.top||C>m.left)&&this.getCell(w,C).merge(b,g);this._merges[b.address]=m}_unMergeMaster(m){const g=this._merges[m.address];if(g){for(let b=g.top;b<=g.bottom;b++)for(let w=g.left;w<=g.right;w++)this.getCell(b,w).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,g=new Array(m),b=0;b<m;b++)g[b]=arguments[b];const w=new l(g);for(let C=w.top;C<=w.bottom;C++)for(let j=w.left;j<=w.right;j++){const I=this.findCell(C,j);I&&(I.type===c.ValueType.Merge?this._unMergeMaster(I.master):this._merges[I.address]&&this._unMergeMaster(I))}}fillFormula(m,g,b){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=o.decode(m),{top:j,left:I,bottom:q,right:P}=C,U=P-I+1,W=o.encodeAddress(j,I),z=w==="shared";let R;R=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(E,k)=>b[E-j][k-I]:(E,k)=>b[(E-j)*U+(k-I)]:()=>{};let T=!0;for(let E=j;E<=q;E++)for(let k=I;k<=P;k++)T?(this.getCell(E,k).value={shareType:w,formula:g,ref:m,result:R(E,k)},T=!1):this.getCell(E,k).value=z?{sharedFormula:W,result:R(E,k)}:R(E,k)}addImage(m,g){const b={type:"image",imageId:m,range:g};this._media.push(new d(this,b))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const g={type:"background",imageId:m};this._media.push(new d(this,g))}getBackgroundImageId(){const m=this._media.find(g=>g.type==="background");return m&&m.imageId}protect(m,g){return new Promise(b=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!m&&"spinCount"in g&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(m){const g=new f(this,m);return this.tables[m.name]=g,g}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};m.cols=a.toModel(this.columns);const g=m.rows=[],b=m.dimensions=new l;return this._rows.forEach(w=>{const C=w&&w.model;C&&(b.expand(C.number,C.min,C.number,C.max),g.push(C))}),m.merges=[],i.each(this._merges,w=>{m.merges.push(w.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(g=>{const b=new u(this,g.number);this._rows[b.number-1]=b,b.model=g})}_parseMergeCells(m){i.each(m.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(m){this.name=m.name,this._columns=a.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(g=>new d(this,g)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((g,b)=>{const w=new f;return w.model=b,g[b.name]=w,g},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,r,s){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const i={Workbook:t("./doc/workbook")},o=t("./doc/enums");Object.keys(o).forEach(l=>{i[l]=o[l]}),r.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,r,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(o){return typeof o=="string"?o:i?i.decode(o):o.toString()}},{}],17:[function(t,r,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=t("buffer");s.stringToBuffer=function(l){return typeof l!="string"?l:i?o.from(i.encode(l).buffer):o.from(l)}},{buffer:220}],18:[function(t,r,s){const i=t("./under-dash"),o=t("./col-cache");r.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(o.decodeEx(l))}getCell(l){return this.findCellEx(o.decodeEx(l),!0)}findCell(l){return this.findCellEx(o.decodeEx(l),!1)}findCellAt(l,u,a){const c=this.sheets[l],d=c&&c[u];return d&&d[a]}addCellEx(l){if(l.top)for(let u=l.top;u<=l.bottom;u++)for(let a=l.left;a<=l.right;a++)this.getCellAt(l.sheetName,u,a);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,u){const a=this.findSheet(l,u),c=this.findSheetRow(a,l,u);return this.findRowCell(c,l,u)}getCellAt(l,u,a){const c=this.sheets[l]||(this.sheets[l]=[]),d=c[u]||(c[u]=[]);return d[a]||(d[a]={sheetName:l,address:o.n2l(a)+u,row:u,col:a})}removeCellEx(l){const u=this.findSheet(l);if(!u)return;const a=this.findSheetRow(u,l);a&&delete a[l.col]}forEachInSheet(l,u){const a=this.sheets[l];a&&a.forEach((c,d)=>{c&&c.forEach((f,h)=>{f&&u(f,d,h)})})}forEach(l){i.each(this.sheets,(u,a)=>{this.forEachInSheet(a,l)})}map(l){const u=[];return this.forEach(a=>{u.push(l(a))}),u}findSheet(l,u){const a=l.sheetName;return this.sheets[a]?this.sheets[a]:u?this.sheets[a]=[]:void 0}findSheetRow(l,u,a){const{row:c}=u;return l&&l[c]?l[c]:a?l[c]=[]:void 0}findRowCell(l,u,a){const{col:c}=u;return l&&l[c]?l[c]:a?l[c]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(l,u,a,c){const d=this.sheets[l];if(d){const f=[];for(let h=0;h<c;h++)f.push([]);d.splice(u,a,...f)}}spliceColumns(l,u,a,c){const d=this.sheets[l];if(d){const f=[];for(let h=0;h<c;h++)f.push(null);i.each(d,h=>{h.splice(u,a,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,r,s){const i=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let u,a,c,d,f,h=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;h<=26;)u=this._dictionary[h-1],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(h=27;h<=702;)a=h-27,c=a%26,d=Math.floor(a/26),u=this._dictionary[d]+this._dictionary[c],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(h=703;h<=16384;)a=h-703,c=a%26,d=Math.floor(a/26)%26,f=Math.floor(a/676),u=this._dictionary[f]+this._dictionary[d]+this._dictionary[c],this._n2l[h]=u,this._l2n[u]=h,h++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!i.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const u=l.length<5&&this._hash[l];if(u)return u;let a=!1,c="",d=0,f=!1,h="",p=0;for(let m,g=0;g<l.length;g++)if(m=l.charCodeAt(g),!f&&m>=65&&m<=90)a=!0,c+=l[g],d=26*d+m-64;else if(m>=48&&m<=57)f=!0,h+=l[g],p=10*p+m-48;else if(f&&a&&m!==36)break;if(a){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else d=void 0;f||(p=void 0);const y={address:l=c+h,col:d,row:p,$col$row:`$${c}$${h}`};return d<=100&&p<=100&&(this._hash[l]=y,this._hash[y.$col$row]=y),y},getAddress(l,u){if(u){const a=this.n2l(u)+l;return this.decodeAddress(a)}return this.decodeAddress(l)},decode(l){const u=l.split(":");if(u.length===2){const a=this.decodeAddress(u[0]),c=this.decodeAddress(u[1]),d={top:Math.min(a.row,c.row),left:Math.min(a.col,c.col),bottom:Math.max(a.row,c.row),right:Math.max(a.col,c.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(l)},decodeEx(l){const u=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=u[1]||u[2],c=u[3],d=c.split(":");if(d.length>1){let h=this.decodeAddress(d[0]),p=this.decodeAddress(d[1]);const y=Math.min(h.row,p.row),m=Math.min(h.col,p.col),g=Math.max(h.row,p.row),b=Math.max(h.col,p.col);return h=this.n2l(m)+y,p=this.n2l(b)+g,{top:y,left:m,bottom:g,right:b,sheetName:a,tl:{address:h,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:a},br:{address:p,col:b,row:g,$col$row:`$${this.n2l(b)}$${g}`,sheetName:a},dimensions:`${h}:${p}`}}if(c.startsWith("#"))return a?{sheetName:a,error:c}:{error:c};const f=this.decodeAddress(c);return a?{sheetName:a,...f}:f},encodeAddress:(l,u)=>o.n2l(u)+l,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,u){const[a,c,,d,f]=l,[h,p]=u;return h>=a&&h<=d&&p>=c&&p<=f}};r.exports=o},{}],20:[function(t,r,s){const i=(l,u)=>({...l,...u.reduce((a,c)=>(l[c]&&(a[c]={...l[c]}),a),{})}),o=function(l,u,a){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[a]&&(u[a]=i(l[a],c))};s.copyStyle=l=>{if(!l)return l;if(u=l,Object.keys(u).length===0)return{};var u;const a={...l};return o(l,a,"font",["color"]),o(l,a,"alignment"),o(l,a,"protection"),l.border&&(o(l,a,"border"),o(l.border,a.border,"top",["color"]),o(l.border,a.border,"left",["color"]),o(l.border,a.border,"bottom",["color"]),o(l.border,a.border,"right",["color"]),o(l.border,a.border,"diagonal",["color"])),l.fill&&(o(l,a,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(a.fill.stops=l.fill.stops.map(c=>i(c,["color"])))),a}},{}],21:[function(t,r,s){(function(i){(function(){const o=t("crypto"),l={hash(u){const a=o.createHash(u);for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return a.update(i.concat(d)),a.digest()},convertPasswordToHash(u,a,c,d){if(a=a.toLowerCase(),o.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);const f=i.from(u,"utf16le");let h=this.hash(a,i.from(c,"base64"),f);for(let p=0;p<d;p++){const y=i.alloc(4);y.writeUInt32LE(p,0),h=this.hash(a,h,y)}return h.toString("base64")},randomBytes:u=>o.randomBytes(u)};r.exports=l}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,r,s){const{SaxesParser:i}=t("saxes"),{PassThrough:o}=t("readable-stream"),{bufferToString:l}=t("./browser-buffer-decode");r.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new o));const a=new i;let c;a.on("error",f=>{c=f});let d=[];a.on("opentag",f=>d.push({eventType:"opentag",value:f})),a.on("text",f=>d.push({eventType:"text",value:f})),a.on("closetag",f=>d.push({eventType:"closetag",value:f}));for await(const f of u){if(a.write(l(f)),c)throw c;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,r,s){const i=t("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;r.exports={slideFormula:function(u,a,c){const d=i.decode(a),f=i.decode(c);return u.replace(o,(h,p,y,m,g)=>{if(g)return h;const b=l.exec(m);if(b){const w=b[1],C=b[2].toUpperCase(),j=b[3],I=b[4];if(C.length>3||C.length===3&&C>"XFD")return h;let q=i.l2n(C),P=parseInt(I,10);return w||(q+=f.col-d.col),j||(P+=f.row-d.row),(p||"")+(w||"")+i.n2l(q)+(j||"")+P}return h})}}},{"./col-cache":19}],24:[function(t,r,s){(function(i,o){(function(){const l=t("readable-stream"),u=t("./utils"),a=t("./string-buf");class c{constructor(m,g){this._data=m,this._encoding=g}get length(){return this.toBuffer().length}copy(m,g,b,w){return this.toBuffer().copy(m,g,b,w)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,b,w){return this._data._buf.copy(m,g,b,w)}toBuffer(){return this._data.toBuffer()}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,b,w){this._data.copy(m,g,b,w)}toBuffer(){return this._data}}class h{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let g;return m===0?null:m===void 0||m>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=o.alloc(m),this.buffer.copy(g,0,this.iRead,m),this.iRead+=m,g)}write(m,g,b){const w=Math.min(b,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,g,g+w),this.iWrite+=w,w}}const p=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(p,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const y=new h(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map(function(m){return new Promise(g=>{m.write(y.toBuffer(),()=>{g()})})}))},_writeToBuffers(y){let m=0;const g=y.length;for(;m<g;)m+=this._getWritableBuffer().write(y,m,g-m)},async write(y,m,g){let b;if(m instanceof Function&&(g=m,m="utf8"),g=g||u.nop,y instanceof a)b=new d(y);else if(y instanceof o)b=new f(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new c(y,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),i.nextTick(g)):(await this._pipe(b),g());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,m,g){const b=w=>{w?g(w):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};y?this.write(y,m,b):b()},read(y){let m;if(y){for(m=[];y&&this.buffers.length&&!this.buffers[0].eod;){const g=this.buffers[0],b=g.read(y);y-=b.length,m.push(b),g.eod&&g.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(m=>m!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),r.exports=p}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,r,s){(function(i){(function(){r.exports=class{constructor(o){this._buf=i.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let l=2*this._buf.length;for(;l<o;)l*=2;const u=i.alloc(l);this._buf.copy(u,0),this._buf=u}addText(o){this._buffer=void 0;let l=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+o.length),l=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=l}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,r,s){const{toString:i}=Object.prototype,o=/["&<>]/,l={each:function(u,a){u&&(Array.isArray(u)?u.forEach(a):Object.keys(u).forEach(c=>{a(u[c],c)}))},some:function(u,a){return!!u&&(Array.isArray(u)?u.some(a):Object.keys(u).some(c=>a(u[c],c)))},every:function(u,a){return!u||(Array.isArray(u)?u.every(a):Object.keys(u).every(c=>a(u[c],c)))},map:function(u,a){return u?Array.isArray(u)?u.map(a):Object.keys(u).map(c=>a(u[c],c)):[]},keyBy:(u,a)=>u.reduce((c,d)=>(c[d[a]]=d,c),{}),isEqual:function(u,a){const c=typeof u,d=typeof a,f=Array.isArray(u),h=Array.isArray(a);let p;if(c!==d)return!1;switch(typeof u){case"object":if(f||h)return!(!f||!h)&&u.length===a.length&&u.every((y,m)=>{const g=a[m];return l.isEqual(y,g)});if(u===null||a===null)return u===a;if(p=Object.keys(u),Object.keys(a).length!==p.length)return!1;for(const y of p)if(!a.hasOwnProperty(y))return!1;return l.every(u,(y,m)=>{const g=a[m];return l.isEqual(y,g)});default:return u===a}},escapeHtml(u){const a=o.exec(u);if(!a)return u;let c="",d="",f=0,h=a.index;for(;h<u.length;h++){switch(u.charAt(h)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}f!==h&&(c+=u.substring(f,h)),f=h+1,c+=d}return f!==h?c+u.substring(f,h):c},strcmp:(u,a)=>u<a?-1:u>a?1:0,isUndefined:u=>i.call(u)==="[object Undefined]",isObject:u=>i.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:a}=arguments;let c,d,f;function h(p,y){c=u[y],f=Array.isArray(p),l.isObject(p)||f?(f?(f=!1,d=c&&Array.isArray(c)?c:[]):d=c&&l.isObject(c)?c:{},u[y]=l.deepMerge(d,p)):l.isUndefined(p)||(u[y]=p)}for(let p=0;p<a;p++)l.each(arguments[p],h);return u}};r.exports=l},{}],27:[function(t,r,s){(function(i,o){(function(){const l=t("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:c=>new Promise(d=>{i.setImmediate?o(()=>{d(c)}):setTimeout(()=>{d(c)},1)}),inherits:function(c,d,f,h){c.super_=d,h||(h=f,f=null),f&&Object.keys(f).forEach(y=>{Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(f,y))});const p={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(y=>{p[y]=Object.getOwnPropertyDescriptor(h,y)}),c.prototype=Object.create(d.prototype,p)},dateToExcel:(c,d)=>25569+c.getTime()/864e5-(d?1462:0),excelToDate(c,d){const f=Math.round(24*(c-25569+(d?1462:0))*3600*1e3);return new Date(f)},parsePath(c){const d=c.lastIndexOf("/");return{path:c.substring(0,d),name:c.substring(d+1)}},getRelsPath(c){const d=a.parsePath(c);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(c){const d=u.exec(c);if(!d)return c;let f="",h="",p=0,y=d.index;for(;y<c.length;y++){const m=c.charCodeAt(y);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}p!==y&&(f+=c.substring(p,y)),p=y+1,h&&(f+=h)}return p!==y?f+c.substring(p,y):f},xmlDecode:c=>c.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(c){const d=parseInt(c,10);return Number.isNaN(d)?0:d},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(d=>{l.access(c,l.constants.F_OK,f=>{d(!f)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};r.exports=a}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,r,s){const i=t("./under-dash"),o=t("./utils");function l(c,d,f){c.push(` ${d}="${o.xmlEncode(f.toString())}"`)}function u(c,d){if(d){const f=[];i.each(d,(h,p)=>{h!==void 0&&l(f,p,h)}),c.push(f.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const f=this._xml;f.push("<?xml"),u(f,d),f.push(`?>
`)}openNode(d,f){const h=this.tos,p=this._xml;h&&this.open&&p.push(">"),this._stack.push(d),p.push("<"),p.push(d),u(p,f),this.leaf=!0,this.open=!0}addAttribute(d,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&l(this._xml,d,f)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,d)}writeText(d){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(o.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(d),f.push(">")),this.open=!1,this.leaf=!1}leafNode(d,f,h){this.openNode(d,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},r.exports=a},{"./under-dash":26,"./utils":27}],29:[function(t,r,s){(function(i){(function(){const o=t("events"),l=t("jszip"),u=t("./stream-buf"),{stringToBuffer:a}=t("./browser-buffer-encode");class c extends o.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new l,this.stream=new u}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(i.browser&&typeof f=="string"&&(f=a(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}r.exports={ZipWriter:c}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,r,s){r.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,r,s){r.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,r,s){const i=t("../../utils/parse-sax"),o=t("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof l?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(const c of a)for(const{eventType:d,value:f}of c)if(d==="opentag")this.parseOpen(f);else if(d==="text")this.parseText(f);else if(d==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(a){return this.parse(i(a))}get xml(){return this.toXml(this.model)}toXml(a){const c=new o;return this.render(c,a),c.xml}static toAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return c}else if(d||a!==c)return a.toString()}static toStringAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(a,c,d)}static toStringValue(a,c){return a===void 0?c:a}static toBoolAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(d)return c}else if(d||a!==c)return a?"1":"0"}static toBoolValue(a,c){return a===void 0?c:a==="1"}static toIntAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(a,c,d)}static toIntValue(a,c){return a===void 0?c:parseInt(a,10)}static toFloatAttribute(a,c){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(a,c,d)}static toFloatValue(a,c){return a===void 0?c:parseFloat(a)}}r.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,r,s){const i=t("../base-xform"),o=t("../../../utils/col-cache");function l(a){try{return o.decodeEx(a),!0}catch{return!1}}function u(a){const c=[];let d=!1,f="";return a.split(",").forEach(h=>{if(!h)return;const p=(h.match(/'/g)||[]).length;if(!p)return void(d?f+=h+",":l(h)&&c.push(h));const y=p%2==0;!d&&y&&l(h)?c.push(h):d&&!y?(d=!1,l(f+h)&&c.push(f+h),f=""):(d=!0,f+=h+",")}),c}r.exports=class extends i{render(a,c){a.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),a.writeText(c.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,r,s){const i=t("../../../utils/utils"),o=t("../base-xform");r.exports=class extends o{render(l,u){l.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:i.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{render(o,l){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{render(o,l){o.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{render(o,l){const u={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(u.visibility=l.visibility),o.leafNode("workbookView",u)}parseOpen(o){if(o.name==="workbookView"){const l=this.model={},u=function(c,d,f){const h=d!==void 0?l[c]=d:f;h!==void 0&&(l[c]=h)},a=function(c,d,f){const h=d!==void 0?l[c]=parseInt(d,10):f;h!==void 0&&(l[c]=h)};return a("x",o.attributes.xWindow,0),a("y",o.attributes.yWindow,0),a("width",o.attributes.windowWidth,25e3),a("height",o.attributes.windowHeight,1e4),u("visibility",o.attributes.visibility,"visible"),a("activeTab",o.attributes.activeTab,void 0),a("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../../../utils/col-cache"),l=t("../../../utils/xml-stream"),u=t("../base-xform"),a=t("../static-xform"),c=t("../list-xform"),d=t("./defined-name-xform"),f=t("./sheet-xform"),h=t("./workbook-view-xform"),p=t("./workbook-properties-xform"),y=t("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new c({tag:"bookViews",count:!1,childXform:new h}),sheets:new c({tag:"sheets",count:!1,childXform:new f}),definedNames:new c({tag:"definedNames",count:!1,childXform:new d}),calcPr:new y}}prepare(b){b.sheets=b.worksheets;const w=[];let C=0;b.sheets.forEach(j=>{if(j.pageSetup&&j.pageSetup.printArea&&j.pageSetup.printArea.split("&&").forEach(I=>{const q=I.split(":"),P={name:"_xlnm.Print_Area",ranges:[`'${j.name}'!$${q[0]}:$${q[1]}`],localSheetId:C};w.push(P)}),j.pageSetup&&(j.pageSetup.printTitlesRow||j.pageSetup.printTitlesColumn)){const I=[];if(j.pageSetup.printTitlesColumn){const P=j.pageSetup.printTitlesColumn.split(":");I.push(`'${j.name}'!$${P[0]}:$${P[1]}`)}if(j.pageSetup.printTitlesRow){const P=j.pageSetup.printTitlesRow.split(":");I.push(`'${j.name}'!$${P[0]}:$${P[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:I,localSheetId:C};w.push(q)}C++}),w.length&&(b.definedNames=b.definedNames.concat(w)),(b.media||[]).forEach((j,I)=>{j.name=j.type+(I+1)})}render(b,w){b.openXml(l.StdDocAttributes),b.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,w.properties),this.map.bookViews.render(b,w.views),this.map.sheets.render(b,w.sheets),this.map.definedNames.render(b,w.definedNames),this.map.calcPr.render(b,w.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const w=(b.workbookRels||[]).reduce((P,U)=>(P[U.Id]=U,P),{}),C=[];let j,I=0;(b.sheets||[]).forEach(P=>{const U=w[P.rId];U&&(j=b.worksheetHash["xl/"+U.Target.replace(/^(\s|\/xl\/)+/,"")],j&&(j.name=P.name,j.id=P.id,j.state=P.state,C[I++]=j))});const q=[];i.each(b.definedNames,P=>{if(P.name==="_xlnm.Print_Area"){if(j=C[P.localSheetId],j){j.pageSetup||(j.pageSetup={});const U=o.decodeEx(P.ranges[0]);j.pageSetup.printArea=j.pageSetup.printArea?`${j.pageSetup.printArea}&&${U.dimensions}`:U.dimensions}}else if(P.name==="_xlnm.Print_Titles"){if(j=C[P.localSheetId],j){j.pageSetup||(j.pageSetup={});const U=P.ranges.join(","),W=/\$/g,z=/\$\d+:\$\d+/,R=U.match(z);if(R&&R.length){const k=R[0];j.pageSetup.printTitlesRow=k.replace(W,"")}const T=/\$[A-Z]+:\$[A-Z]+/,E=U.match(T);if(E&&E.length){const k=E[0];j.pageSetup.printTitlesColumn=k.replace(W,"")}}}else q.push(P)}),b.definedNames=q,b.media.forEach((P,U)=>{P.index=U})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},r.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,r,s){const i=t("../strings/rich-text-xform"),o=t("../../../utils/utils"),l=t("../base-xform"),u=r.exports=function(a){this.model=a};o.inherits(u,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(a,c){c=c||this.model,a.openNode("comment",{ref:c.ref,authorId:0}),a.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(d=>{this.richTextXform.render(a,d)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model={type:"note",note:{texts:[]},...a.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../../../utils/utils"),l=t("../base-xform"),u=t("./comment-xform"),a=r.exports=function(){this.map={comment:new u}};o.inherits(a,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,d){d=d||this.model,c.openXml(i.StdDocAttributes),c.openNode("comments",a.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),d.comments.forEach(f=>{this.map.comment.render(c,f)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,l,u){(l===u[2]||this.tag==="x:SizeWithCells"&&l===u[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(o){const l=Math.floor(o.left),u=Math.floor(68*(o.left-l)),a=Math.floor(o.top),c=Math.floor(18*(o.top-a)),d=Math.floor(o.right),f=Math.floor(68*(o.right-d)),h=Math.floor(o.bottom);return[l,u,a,c,d,f,h,Math.floor(18*(o.bottom-h))]}getDefaultRect(o){const l=o.col,u=Math.max(o.row-2,0);return[l,6,u,14,l+2,2,u+4,16]}render(o,l){const u=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);o.leafNode("x:Anchor",null,u.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,r,s){const i=t("../base-xform"),o=t("./vml-anchor-xform"),l=t("./style/vml-protection-xform"),u=t("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];r.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,d){const{protection:f,editAs:h}=d.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,h,a),this.map["x:SizeWithCells"].render(c,h,a),this.map["x:Anchor"].render(c,d),this.map["x:Locked"].render(c,f.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,f.lockText),c.leafNode("x:Row",null,d.refAddress.row-1),c.leafNode("x:Column",null,d.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(c).length;this.model.editAs=a[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("./vml-shape-xform");class u extends o{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(c,d){c.openXml(i.StdDocAttributes),c.openNode(this.tag,u.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),d.comments.forEach((f,h)=>{this.map["v:shape"].render(c,f,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,d){c.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},r.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,r,s){const i=t("../base-xform"),o=t("./vml-textbox-xform"),l=t("./vml-client-data-xform");class u extends i{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new l}}get tag(){return"v:shape"}render(c,d,f){c.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(d,f)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,d),this.map["x:ClientData"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(a,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),r.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(o,l,u){return`${parseFloat(o)*l.toFixed(2)}${u}`}reverseConversionUnit(o){return(o||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(o,l){const u={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:a}=l.note&&l.note.margins;Array.isArray(a)&&(a=a.map(c=>this.conversionUnit(c,10,"mm")).join(",")),a&&(u.inset=a)}o.openNode("v:textbox",u),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,r,s){const i=t("./base-xform");r.exports=class extends i{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,l){this.model[o]=l.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{render(o,l){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,l.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{render(o,l){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(u=>{o.leafNode("vt:lpstr",void 0,u.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("../simple/string-xform"),u=t("./app-heading-pairs-xform"),a=t("./app-titles-of-parts-xform");class c extends o{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new a}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("Properties",c.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform");class l extends o{render(a,c){a.openXml(i.StdDocAttributes),a.openNode("Types",l.PROPERTY_ATTRIBUTES);const d={};(c.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;d[h]||(d[h]=!0,a.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;a.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(f=>{a.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(f=>{a.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(f=>{let{commentName:h}=f;a.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},r.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("../simple/date-xform"),u=t("../simple/string-xform"),a=t("../simple/integer-xform");class c extends o{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(f,h){f.openXml(i.StdDocAttributes),f.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}c.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},r.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{render(o,l){o.leafNode("Relationship",l)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("./relationship-xform");class u extends o{constructor(){super(),this.map={Relationship:new l}}render(c,d){d=d||this._values,c.openXml(i.StdDocAttributes),c.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),d.forEach(f=>{this.map.Relationship.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},r.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,l){if(o&&o.rId){const u=l.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const a=u[1],c=l.mediaIndex[a];return l.media[c]}}}}},{"../base-xform":32}],57:[function(t,r,s){const i=t("../base-xform"),o=t("./blip-xform");r.exports=class extends i{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(l,u){l.openNode(this.tag),this.map["a:blip"].render(l,u),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"a:blip"}render(o,l){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,r,s){const i=t("../base-xform"),o=t("./hlink-click-xform"),l=t("./ext-lst-xform");r.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(u,a){u.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(u,a),this.map["a:extLst"].render(u,a),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,r,s){const i=t("../base-xform"),o=t("../simple/integer-xform");r.exports=class extends i{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(l,u){l.openNode(this.tag),this.map["xdr:col"].render(l,u.nativeCol),this.map["xdr:colOff"].render(l,u.nativeColOff),this.map["xdr:row"].render(l,u.nativeRow),this.map["xdr:rowOff"].render(l,u.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,r,s){const i=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../base-xform"),u=t("./two-cell-anchor-xform"),a=t("./one-cell-anchor-xform");class c extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new a}}prepare(f){f.anchors.forEach((h,p)=>{h.anchorType=function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:p})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(o.StdDocAttributes),f.openNode(this.tag,c.DRAWING_ATTRIBUTES),h.anchors.forEach(p=>{this.map[p.anchorType].render(f,p)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,h):this.map["xdr:oneCellAnchor"].reconcile(p,h)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},r.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,l){o.openNode(this.tag);const u=Math.floor(9525*l.width),a=Math.floor(9525*l.height);o.addAttribute("cx",u),o.addAttribute("cy",a),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"a:hlinkClick"}render(o,l){l.hyperlinks&&l.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,r,s){const i=t("../base-xform"),o=t("./c-nv-pr-xform"),l=t("./c-nv-pic-pr-xform");r.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(u,a){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,a),this.map["xdr:cNvPicPr"].render(u,a),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,r,s){const i=t("./base-cell-anchor-xform"),o=t("../static-xform"),l=t("./cell-position-xform"),u=t("./ext-xform"),a=t("./pic-xform");r.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,d){this.map["xdr:pic"].prepare(c.picture,d)}render(c,d){c.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,d.range.tl),this.map["xdr:ext"].render(c,d.range.ext),this.map["xdr:pic"].render(c,d.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,d){c.medium=this.reconcilePicture(c.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,r,s){const i=t("../base-xform"),o=t("../static-xform"),l=t("./blip-fill-xform"),u=t("./nv-pic-pr-xform"),a=t("./sp-pr");r.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new l,"xdr:spPr":new o(a)}}get tag(){return"xdr:pic"}prepare(c,d){c.index=d.index+1}render(c,d){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,d),this.map["xdr:blipFill"].render(c,d),this.map["xdr:spPr"].render(c,d),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,r,s){r.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,r,s){const i=t("./base-cell-anchor-xform"),o=t("../static-xform"),l=t("./cell-position-xform"),u=t("./pic-xform");r.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,c){this.map["xdr:pic"].prepare(a.picture,c)}render(a,c){a.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,c.range.tl),this.map["xdr:to"].render(a,c.range.br),this.map["xdr:pic"].render(a,c.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,c){a.medium=this.reconcilePicture(a.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,r,s){const i=t("./base-xform");r.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,l){const{childXform:u}=this;o&&o.forEach((a,c)=>{l.index=c,u.prepare(a,l)})}render(o,l){if(this.always||l&&l.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,l&&l.length||0);const{childXform:u}=this;(l||[]).forEach((a,c)=>{u.render(o,a,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,l){if(o){const{childXform:u}=this;o.forEach(a=>{u.reconcile(a,l)})}}}},{"./base-xform":32}],72:[function(t,r,s){const i=t("../../../utils/col-cache"),o=t("../base-xform");r.exports=class extends o{get tag(){return"autoFilter"}render(l,u){if(u)if(typeof u=="string")l.leafNode("autoFilter",{ref:u});else{const a=function(f){return typeof f=="string"?f:i.getAddress(f.row,f.column).address},c=a(u.from),d=a(u.to);c&&d&&l.leafNode("autoFilter",{ref:`${c}:${d}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,r,s){const i=t("../../../utils/utils"),o=t("../base-xform"),l=t("../../../doc/range"),u=t("../../../doc/enums"),a=t("../strings/rich-text-xform");function c(d){if(d==null)return u.ValueType.Null;if(d instanceof String||typeof d=="string")return u.ValueType.String;if(typeof d=="number")return u.ValueType.Number;if(typeof d=="boolean")return u.ValueType.Boolean;if(d instanceof Date)return u.ValueType.Date;if(d.text&&d.hyperlink)return u.ValueType.Hyperlink;if(d.formula)return u.ValueType.Formula;if(d.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}r.exports=class extends o{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(d,f){const h=f.styles.addStyleModel(d.style||{},function(p){switch(p.type){case u.ValueType.Formula:return c(p.result);default:return p.type}}(d));switch(h&&(d.styleId=h),d.comment&&f.comments.push({...d.comment,ref:d.address}),d.type){case u.ValueType.String:case u.ValueType.RichText:f.sharedStrings&&(d.ssId=f.sharedStrings.add(d.value));break;case u.ValueType.Date:f.date1904&&(d.date1904=!0);break;case u.ValueType.Hyperlink:f.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=f.sharedStrings.add(d.text)),f.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case u.ValueType.Merge:f.merges.add(d);break;case u.ValueType.Formula:if(f.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=f.siFormulae++),d.formula)f.formulae[d.address]=d;else if(d.sharedFormula){const p=f.formulae[d.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);p.si===void 0?(p.shareType="shared",p.si=f.siFormulae++,p.range=new l(p.address,d.address)):p.range&&p.range.expandToAddress(d.address),d.si=p.si}}}renderFormula(d,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(c(f.result)){case u.ValueType.Null:d.leafNode("f",h,f.formula);break;case u.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case u.ValueType.Number:d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case u.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result?1:0);break;case u.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result.error);break;case u.ValueType.Date:d.leafNode("f",h,f.formula),d.leafNode("v",null,i.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,f){if(f.type!==u.ValueType.Null||f.styleId){switch(d.openNode("c"),d.addAttribute("r",f.address),f.styleId&&d.addAttribute("s",f.styleId),f.type){case u.ValueType.Null:break;case u.ValueType.Number:d.leafNode("v",null,f.value);break;case u.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,f.value?"1":"0");break;case u.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,f.value.error);break;case u.ValueType.String:case u.ValueType.RichText:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(d,h)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,f.value));break;case u.ValueType.Date:d.leafNode("v",null,i.dateToExcel(f.value,f.date1904));break;case u.ValueType.Hyperlink:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,f.text));break;case u.ValueType.Formula:this.renderFormula(d,f);break;case u.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=u.ValueType.Formula,f.value&&(this.t==="str"?f.result=i.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=u.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=u.ValueType.String,f.value=i.xmlDecode(f.value);break;case"inlineStr":f.type=u.ValueType.String;break;case"b":f.type=u.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=u.ValueType.Error,f.value={error:f.value};break;default:f.type=u.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=u.ValueType.Null:f.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,f){const h=d.styleId&&f.styles&&f.styles.getStyleModel(d.styleId);switch(h&&(d.style=h),d.styleId!==void 0&&(d.styleId=void 0),d.type){case u.ValueType.String:typeof d.value=="number"&&f.sharedStrings&&(d.value=f.sharedStrings.getString(d.value)),d.value.richText&&(d.type=u.ValueType.RichText);break;case u.ValueType.Number:h&&i.isDateFmt(h.numFmt)&&(d.type=u.ValueType.Date,d.value=i.excelToDate(d.value,f.date1904));break;case u.ValueType.Formula:d.result!==void 0&&h&&i.isDateFmt(h.numFmt)&&(d.result=i.excelToDate(d.result,f.date1904)),d.shareType==="shared"&&(d.ref?f.formulae[d.si]=d.address:(d.sharedFormula=f.formulae[d.si],delete d.shareType),delete d.si)}const p=f.hyperlinkMap[d.address];p&&(d.type===u.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=u.ValueType.Hyperlink,d.hyperlink=p);const y=f.commentsMap&&f.commentsMap[d.address];y&&(d.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"x14:cfIcon"}render(o,l){o.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(o){let{attributes:l}=o;this.model={iconSet:l.iconSet,iconId:i.toIntValue(l.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(t,r,s){const{v4:i}=t("uuid"),o=t("../../base-xform"),l=t("../../composite-xform"),u=t("./databar-ext-xform"),a=t("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?u.isExt(h):!(h.type!=="iconSet"||!h.custom&&!c[h.iconSet])}prepare(h){d.isExt(h)&&(h.x14Id=`{${i()}}`.toUpperCase())}render(h,p){if(d.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(h,p);break;case"iconSet":this.renderIconSet(h,p)}}renderDataBar(h,p){h.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(h,p),h.closeNode()}renderIconSet(h,p){h.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${i()}}`}),this.iconSetXform.render(h,p),h.closeNode()}createNewModel(h){let{attributes:p}=h;return{type:p.type,x14Id:p.id,priority:o.toIntValue(p.priority)}}onParserClose(h,p){Object.assign(this.model,p.model)}}r.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,r,s){const i=t("../../composite-xform"),o=t("./f-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(l,u){l.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(l,u.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,u){switch(l){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,r,s){const i=t("../../composite-xform"),o=t("./sqref-ext-xform"),l=t("./cf-rule-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(u,a){u.rules.forEach(c=>{this.cfRule.prepare(c,a)})}render(u,a){a.rules.some(l.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(l.isExt).forEach(c=>this.cfRule.render(u,c)),this.sqRef.render(u,a.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,a){switch(u){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,r,s){const i=t("../../composite-xform"),o=t("./cf-rule-ext-xform"),l=t("./conditional-formatting-ext-xform");r.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(a=>a.rules.some(o.isExt))),u.hasExtContent}prepare(u,a){u.forEach(c=>{this.cfXform.prepare(c,a)})}render(u,a){this.hasContent(a)&&(u.openNode(this.tag),a.forEach(c=>this.cfXform.render(u,c)),u.closeNode())}createNewModel(){return[]}onParserClose(u,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,r,s){const i=t("../../base-xform"),o=t("../../composite-xform"),l=t("../../style/color-xform"),u=t("./cfvo-ext-xform");r.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,c){a.openNode(this.tag,{minLength:i.toIntAttribute(c.minLength,0,!0),maxLength:i.toIntAttribute(c.maxLength,100,!0),border:i.toBoolAttribute(c.border,!1),gradient:i.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(c.axisPosition,"auto"),direction:i.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),this.borderColorXform.render(a,c.borderColor),this.negativeBorderColorXform.render(a,c.negativeBorderColor),this.negativeFillColorXform.render(a,c.negativeFillColor),this.axisColorXform.render(a,c.axisColor),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],minLength:i.toIntValue(c.minLength,0),maxLength:i.toIntValue(c.maxLength,100),border:i.toBoolValue(c.border,!1),gradient:i.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(c.axisPosition,"auto"),direction:i.toStringValue(c.direction,"leftToRight")}}onParserClose(a,c){const[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"xm:f"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(t,r,s){const i=t("../../base-xform"),o=t("../../composite-xform"),l=t("./cfvo-ext-xform"),u=t("./cf-icon-ext-xform");r.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(a,c){a.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0),custom:i.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(d=>{this.cfvoXform.render(a,d)}),c.icons&&c.icons.forEach((d,f)=>{d.iconId=f,this.cfIconXform.render(a,d)}),a.closeNode()}createNewModel(a){let{attributes:c}=a;return{cfvo:[],iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse,!1),showValue:i.toBoolValue(c.showValue,!0)}}onParserClose(a,c){const[,d]=a.split(":");switch(d){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[d]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"xm:sqref"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(t,r,s){const i=t("../../base-xform"),o=t("../../composite-xform"),l=t("../../../../doc/range"),u=t("./databar-xform"),a=t("./ext-lst-ref-xform"),c=t("./formula-xform"),d=t("./color-scale-xform"),f=t("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:g,operator:b}=m;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:b}}};class y extends o{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!h[g.iconSet]}render(g,b){switch(b.type){case"expression":this.renderExpression(g,b);break;case"cellIs":this.renderCellIs(g,b);break;case"top10":this.renderTop10(g,b);break;case"aboveAverage":this.renderAboveAverage(g,b);break;case"dataBar":this.renderDataBar(g,b);break;case"colorScale":this.renderColorScale(g,b);break;case"iconSet":this.renderIconSet(g,b);break;case"containsText":this.renderText(g,b);break;case"timePeriod":this.renderTimePeriod(g,b)}}renderExpression(g,b){g.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(g,b.formulae[0]),g.closeNode()}renderCellIs(g,b){g.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(w=>{this.formulaXform.render(g,w)}),g.closeNode()}renderTop10(g,b){g.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:i.toBoolAttribute(b.percent,!1),bottom:i.toBoolAttribute(b.bottom,!1),rank:i.toIntValue(b.rank,10,!0)})}renderAboveAverage(g,b){g.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:i.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(g,b){g.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(g,b),this.extLstRefXform.render(g,b),g.closeNode()}renderColorScale(g,b){g.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(g,b),g.closeNode()}renderIconSet(g,b){y.isPrimitive(b)&&(g.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(g,b),g.closeNode())}renderText(g,b){g.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:i.toStringAttribute(b.operator,"containsText")});const w=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const j=new l(C.ref),{tl:I}=j;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${I})))`;case"containsBlanks":return`LEN(TRIM(${I}))=0`;case"notContainsBlanks":return`LEN(TRIM(${I}))>0`;case"containsErrors":return`ISERROR(${I})`;case"notContainsErrors":return`NOT(ISERROR(${I}))`;default:return}})(b);w&&this.formulaXform.render(g,w),g.closeNode()}renderTimePeriod(g,b){g.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const w=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const j=new l(C.ref),{tl:I}=j;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${I},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${I},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${I},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${I},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${I},1)=TODAY()-1`;case"today":return`FLOOR(${I},1)=TODAY()`;case"tomorrow":return`FLOOR(${I},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${I},1)<=6,FLOOR(${I},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0-1)),YEAR(${I})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${I})=MONTH(TODAY()),YEAR(${I})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0+1)),YEAR(${I})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);w&&this.formulaXform.render(g,w),g.closeNode()}createNewModel(g){let{attributes:b}=g;return{...p(b),dxfId:i.toIntValue(b.dxfId),priority:i.toIntValue(b.priority),timePeriod:b.timePeriod,percent:i.toBoolValue(b.percent),bottom:i.toBoolValue(b.bottom),rank:i.toIntValue(b.rank),aboveAverage:i.toBoolValue(b.aboveAverage)}}onParserClose(g,b){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}r.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"cfvo"}render(o,l){o.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(o){this.model={type:o.attributes.type,value:i.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(t,r,s){const i=t("../../composite-xform"),o=t("../../style/color-xform"),l=t("./cfvo-xform");r.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new o}}get tag(){return"colorScale"}render(u,a){u.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),a.color.forEach(c=>{this.colorXform.render(u,c)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,a){this.model[u].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,r,s){const i=t("../../composite-xform"),o=t("./cf-rule-xform");r.exports=class extends i{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(l,u){u.rules.some(o.isPrimitive)&&(l.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(a=>{o.isPrimitive(a)&&(a.ref=u.ref,this.map.cfRule.render(l,a))}),l.closeNode())}createNewModel(l){let{attributes:u}=l;return{ref:u.sqref,rules:[]}}onParserClose(l,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,r,s){const i=t("../../base-xform"),o=t("./conditional-formatting-xform");r.exports=class extends i{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,u){let a=l.reduce((c,d)=>Math.max(c,...d.rules.map(f=>f.priority||0)),1);l.forEach(c=>{c.rules.forEach(d=>{d.priority||(d.priority=a++),d.style&&(d.dxfId=u.styles.addDxfStyle(d.style))})})}render(l,u){u.forEach(a=>{this.cfXform.render(l,a)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,u){l.forEach(a=>{a.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=u.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,r,s){const i=t("../../composite-xform"),o=t("../../style/color-xform"),l=t("./cfvo-xform");r.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new o}}get tag(){return"dataBar"}render(u,a){u.openNode(this.tag),a.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),this.colorXform.render(u,a.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,a){switch(u){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,r,s){const i=t("../../base-xform"),o=t("../../composite-xform");class l extends i{get tag(){return"x14:id"}render(c,d){c.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class u extends o{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(c,d){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,d.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,d){this.model.x14Id=d.model}}r.exports=class extends o{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(a,c){a.openNode(this.tag),this.map.ext.render(a,c),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,r,s){const i=t("../../base-xform");r.exports=class extends i{get tag(){return"formula"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(t,r,s){const i=t("../../base-xform"),o=t("../../composite-xform"),l=t("./cfvo-xform");r.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(u,a){u.openNode(this.tag,{iconSet:i.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(a.reverse,!1),showValue:i.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),u.closeNode()}createNewModel(u){let{attributes:a}=u;return{iconSet:i.toStringValue(a.iconSet,"3TrafficLights"),reverse:i.toBoolValue(a.reverse),showValue:i.toBoolValue(a.showValue),cfvo:[]}}onParserClose(u,a){this.model[u].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,r,s){const i=t("../../../utils/utils"),o=t("../base-xform");r.exports=class extends o{get tag(){return"col"}prepare(l,u){const a=u.styles.addStyleModel(l.style||{});a&&(l.styleId=a)}render(l,u){l.openNode("col"),l.addAttribute("min",u.min),l.addAttribute("max",u.max),u.width&&l.addAttribute("width",u.width),u.styleId&&l.addAttribute("style",u.styleId),u.hidden&&l.addAttribute("hidden","1"),u.bestFit&&l.addAttribute("bestFit","1"),u.outlineLevel&&l.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const u=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(u.styleId=parseInt(l.attributes.style,10)),i.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),i.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),i.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,u){l.styleId&&(l.style=u.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../../../utils/utils"),l=t("../../../utils/col-cache"),u=t("../base-xform"),a=t("../../../doc/range");function c(f,h,p,y){const m=h[p];m!==void 0?f[p]=m:y!==void 0&&(f[p]=y)}function d(f,h,p,y){const m=h[p];m!==void 0&&(f[p]=o.parseBoolean(m))}r.exports=class extends u{get tag(){return"dataValidations"}render(f,h){const p=function(y){const m=i.map(y,(w,C)=>({address:C,dataValidation:w,marked:!1})).sort((w,C)=>i.strcmp(w.address,C.address)),g=i.keyBy(m,"address"),b=(w,C,j)=>{for(let I=0;I<C;I++){const q=l.encodeAddress(w.row+I,j);if(!y[q]||!i.isEqual(y[w.address],y[q]))return!1}return!0};return m.map(w=>{if(!w.marked){const C=l.decodeEx(w.address);if(C.dimensions)return g[C.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let j=1,I=l.encodeAddress(C.row+j,C.col);for(;y[I]&&i.isEqual(w.dataValidation,y[I]);)j++,I=l.encodeAddress(C.row+j,C.col);let q=1;for(;b(C,j,C.col+q);)q++;for(let P=0;P<j;P++)for(let U=0;U<q;U++)I=l.encodeAddress(C.row+P,C.col+U),g[I].marked=!0;if(j>1||q>1){const P=C.row+(j-1),U=C.col+(q-1);return{...w.dataValidation,sqref:`${w.address}:${l.encodeAddress(P,U)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(h);p.length&&(f.openNode("dataValidations",{count:p.length}),p.forEach(y=>{f.openNode("dataValidation"),y.type!=="any"&&(f.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&f.addAttribute("operator",y.operator),y.allowBlank&&f.addAttribute("allowBlank","1")),y.showInputMessage&&f.addAttribute("showInputMessage","1"),y.promptTitle&&f.addAttribute("promptTitle",y.promptTitle),y.prompt&&f.addAttribute("prompt",y.prompt),y.showErrorMessage&&f.addAttribute("showErrorMessage","1"),y.errorStyle&&f.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&f.addAttribute("errorTitle",y.errorTitle),y.error&&f.addAttribute("error",y.error),f.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((m,g)=>{f.openNode("formula"+(g+1)),y.type==="date"?f.writeText(o.dateToExcel(new Date(m))):f.writeText(m),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&d(h,f.attributes,"allowBlank"),d(h,f.attributes,"showInputMessage"),d(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:c(h,f.attributes,"operator","between")}return c(h,f.attributes,"promptTitle"),c(h,f.attributes,"prompt"),c(h,f.attributes,"errorStyle"),c(h,f.attributes,"errorTitle"),c(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new a(h).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=o.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"dimension"}render(o,l){l&&o.leafNode("dimension",{ref:l})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"drawing"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,r,s){const i=t("../composite-xform"),o=t("./cf-ext/conditional-formattings-ext-xform");class l extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,c){this.conditionalFormattings.prepare(a.conditionalFormattings,c)}render(a,c){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,c.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,c){this.model[a]=c.model}}r.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(u,a){this.ext.prepare(u,a)}hasContent(u){return this.ext.hasContent(u)}render(u,a){this.hasContent(a)&&(u.openNode("extLst"),this.ext.render(u,a),u.closeNode())}createNewModel(){return{}}onParserClose(u,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"headerFooter"}render(o,l){if(l){o.addRollback();let u=!1;o.openNode("headerFooter"),l.differentFirst&&(o.addAttribute("differentFirst","1"),u=!0),l.differentOddEven&&(o.addAttribute("differentOddEven","1"),u=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(o.leafNode("oddHeader",null,l.oddHeader),u=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(o.leafNode("oddFooter",null,l.oddFooter),u=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(o.leafNode("evenHeader",null,l.evenHeader),u=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(o.leafNode("evenFooter",null,l.evenFooter),u=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(o.leafNode("firstHeader",null,l.firstHeader),u=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(o.leafNode("firstFooter",null,l.firstFooter),u=!0),u?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"hyperlink"}render(o,l){this.isInternalLink(l)?o.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):o.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"mergeCell"}render(o,l){o.leafNode("mergeCell",{ref:l})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../../../doc/range"),l=t("../../../utils/col-cache"),u=t("../../../doc/enums");r.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{const c=`${a.master}:${a.address}`;this.merges[a.master]=new o(c)}}get mergeCells(){return i.map(this.merges,a=>a.range)}reconcile(a,c){i.each(a,d=>{const f=l.decode(d);for(let h=f.top;h<=f.bottom;h++){const p=c[h-1];for(let y=f.left;y<=f.right;y++){const m=p.cells[y-1];m?m.type===u.ValueType.Merge&&(m.master=f.tl):p.cells[y]={type:u.ValueType.Null,address:l.encodeAddress(h,y)}}}})}getMasterAddress(a){const c=this.hash[a];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,r,s){const i=t("../base-xform"),o=l=>l!==void 0;r.exports=class extends i{get tag(){return"outlinePr"}render(l,u){return!(!u||!o(u.summaryBelow)&&!o(u.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:o(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:o(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:o(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:o(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"brk"}render(o,l){o.leafNode("brk",l)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../base-xform");r.exports=class extends o{get tag(){return"pageMargins"}render(l,u){if(u){const a={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};i.some(a,c=>c!==void 0)&&l.leafNode(this.tag,a)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"pageSetUpPr"}render(o,l){return!(!l||!l.fitToPage)&&(o.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../base-xform");function l(d){return d?"1":void 0}function u(d){switch(d){case"overThenDown":return d;default:return}}function a(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function c(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}r.exports=class extends o{get tag(){return"pageSetup"}render(d,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:u(f.pageOrder),blackAndWhite:l(f.blackAndWhite),draft:l(f.draft),cellComments:a(f.cellComments),errors:c(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:l(f.firstPageNumber),usePrinterDefaults:l(f.usePrinterDefaults),copies:f.copies};i.some(h,p=>p!==void 0)&&d.leafNode(this.tag,h)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(f=d.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"picture"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../base-xform");function l(u){return u?"1":void 0}r.exports=class extends o{get tag(){return"printOptions"}render(u,a){if(a){const c={headings:l(a.showRowColHeaders),gridLines:l(a.showGridLines),horizontalCentered:l(a.horizontalCentered),verticalCentered:l(a.verticalCentered)};i.some(c,d=>d!==void 0)&&u.leafNode(this.tag,c)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,r,s){const i=t("./page-breaks-xform"),o=t("../list-xform");r.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(l,u){if(u&&u.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,u.length),l.addAttribute("manualBreakCount",u.length));const{childXform:a}=this;u.forEach(c=>{a.render(l,c)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,r,s){const i=t("../base-xform"),o=t("../../../utils/utils"),l=t("./cell-xform");r.exports=class extends i{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(u,a){const c=a.styles.addStyleModel(u.style);c&&(u.styleId=c);const d=this.map.c;u.cells.forEach(f=>{d.prepare(f,a)})}render(u,a,c){u.openNode("row"),u.addAttribute("r",a.number),a.height&&(u.addAttribute("ht",a.height),u.addAttribute("customHeight","1")),a.hidden&&u.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&u.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(u.addAttribute("s",a.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&u.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&u.addAttribute("collapsed","1");const d=this.map.c;a.cells.forEach(f=>{d.render(u,f,c)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const a=u.attributes.spans?u.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],c=this.model={number:parseInt(u.attributes.r,10),min:a[0],max:a[1],cells:[]};return u.attributes.s&&(c.styleId=parseInt(u.attributes.s,10)),o.parseBoolean(u.attributes.hidden)&&(c.hidden=!0),o.parseBoolean(u.attributes.bestFit)&&(c.bestFit=!0),u.attributes.ht&&(c.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(c.outlineLevel=parseInt(u.attributes.outlineLevel,10)),o.parseBoolean(u.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,a){u.style=u.styleId?a.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const c=this.map.c;u.cells.forEach(d=>{c.reconcile(d,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../base-xform");r.exports=class extends o{get tag(){return"sheetFormatPr"}render(l,u){if(u){const a={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(a.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(a.customHeight="1"),i.some(a,c=>c!==void 0)&&l.leafNode("sheetFormatPr",a)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,r,s){const i=t("../base-xform"),o=t("../style/color-xform"),l=t("./page-setup-properties-xform"),u=t("./outline-properties-xform");r.exports=class extends i{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new l,outlinePr:new u}}get tag(){return"sheetPr"}render(a,c){if(c){a.addRollback(),a.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(a,c.tabColor)||d,d=this.map.pageSetUpPr.render(a,c.pageSetup)||d,d=this.map.outlinePr.render(a,c.outlineProperties)||d,d?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../base-xform");function l(a,c){return a?c:void 0}function u(a,c){return a===c||void 0}r.exports=class extends o{get tag(){return"sheetProtection"}render(a,c){if(c){const d={sheet:l(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:l(c.formatCells,"0"),formatColumns:l(c.formatColumns,"0"),formatRows:l(c.formatRows,"0"),insertColumns:l(c.insertColumns,"0"),insertRows:l(c.insertRows,"0"),insertHyperlinks:l(c.insertHyperlinks,"0"),deleteColumns:l(c.deleteColumns,"0"),deleteRows:l(c.deleteRows,"0"),sort:l(c.sort,"0"),autoFilter:l(c.autoFilter,"0"),pivotTables:l(c.pivotTables,"0")};c.sheet&&(d.algorithmName=c.algorithmName,d.hashValue=c.hashValue,d.saltValue=c.saltValue,d.spinCount=c.spinCount,d.objects=l(c.objects===!1,"1"),d.scenarios=l(c.scenarios===!1,"1")),i.some(d,f=>f!==void 0)&&a.leafNode(this.tag,d)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:u(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(a.attributes.formatCells,"0"),formatColumns:u(a.attributes.formatColumns,"0"),formatRows:u(a.attributes.formatRows,"0"),insertColumns:u(a.attributes.insertColumns,"0"),insertRows:u(a.attributes.insertRows,"0"),insertHyperlinks:u(a.attributes.insertHyperlinks,"0"),deleteColumns:u(a.attributes.deleteColumns,"0"),deleteRows:u(a.attributes.deleteRows,"0"),sort:u(a.attributes.sort,"0"),autoFilter:u(a.attributes.autoFilter,"0"),pivotTables:u(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,r,s){const i=t("../../../utils/col-cache"),o=t("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};r.exports=class extends o{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,a){u.openNode("sheetView",{workbookViewId:a.workbookViewId||0});const c=function(y,m,g){g&&u.addAttribute(y,m)};let d,f,h,p;switch(c("rightToLeft","1",a.rightToLeft===!0),c("tabSelected","1",a.tabSelected),c("showRuler","0",a.showRuler===!1),c("showRowColHeaders","0",a.showRowColHeaders===!1),c("showGridLines","0",a.showGridLines===!1),c("zoomScale",a.zoomScale,a.zoomScale),c("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),c("view",a.style,a.style),a.state){case"frozen":f=a.xSplit||0,h=a.ySplit||0,d=a.topLeftCell||i.getAddress(h+1,f+1).address,p=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:d,activePane:p,state:"frozen"}),u.leafNode("selection",{pane:p,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),u.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),u.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&u.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const a=u.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let a,c;switch(u){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(a.activeCell=c.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"tablePart"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../../../utils/col-cache"),l=t("../../../utils/xml-stream"),u=t("../../rel-type"),a=t("./merges"),c=t("../base-xform"),d=t("../list-xform"),f=t("./row-xform"),h=t("./col-xform"),p=t("./dimension-xform"),y=t("./hyperlink-xform"),m=t("./merge-cell-xform"),g=t("./data-validations-xform"),b=t("./sheet-properties-xform"),w=t("./sheet-format-properties-xform"),C=t("./sheet-view-xform"),j=t("./sheet-protection-xform"),I=t("./page-margins-xform"),q=t("./page-setup-xform"),P=t("./print-options-xform"),U=t("./auto-filter-xform"),W=t("./picture-xform"),z=t("./drawing-xform"),R=t("./table-part-xform"),T=t("./row-breaks-xform"),E=t("./header-footer-xform"),k=t("./cf/conditional-formattings-xform"),v=t("./ext-lst-xform"),_=(S,A)=>{if(!A||!A.length)return S;if(!S||!S.length)return A;const B={},M={};return S.forEach(H=>{B[H.ref]=H,H.rules.forEach(V=>{const{x14Id:tt}=V;tt&&(M[tt]=V)})}),A.forEach(H=>{H.rules.forEach(V=>{const tt=M[V.x14Id];tt?((F,J)=>{Object.keys(J).forEach(L=>{const N=F[L],Y=J[L];N===void 0&&Y!==void 0&&(F[L]=Y)})})(tt,V):B[H.ref]?B[H.ref].rules.push(V):S.push({ref:H.ref,rules:[V]})})}),S};class x extends c{constructor(A){super();const{maxRows:B,maxCols:M,ignoreNodes:H}=A||{};this.ignoreNodes=H||[],this.map={sheetPr:new b,dimension:new p,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new w,cols:new d({tag:"cols",count:!1,childXform:new h}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:M}),maxItems:B}),autoFilter:new U,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new T,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new I,dataValidations:new g,pageSetup:new q,headerFooter:new E,printOptions:new P,picture:new W,drawing:new z,sheetProtection:new j,tableParts:new d({tag:"tableParts",count:!0,childXform:new R}),conditionalFormatting:new k,extLst:new v}}prepare(A,B){B.merges=new a,A.hyperlinks=B.hyperlinks=[],A.comments=B.comments=[],B.formulae={},B.siFormulae=0,this.map.cols.prepare(A.cols,B),this.map.sheetData.prepare(A.rows,B),this.map.conditionalFormatting.prepare(A.conditionalFormattings,B),A.mergeCells=B.merges.mergeCells;const M=A.rels=[];function H(F){return"rId"+(F.length+1)}if(A.hyperlinks.forEach(F=>{const J=H(M);F.rId=J,M.push({Id:J,Type:u.Hyperlink,Target:F.target,TargetMode:"External"})}),A.comments.length>0){const F={Id:H(M),Type:u.Comments,Target:`../comments${A.id}.xml`};M.push(F);const J={Id:H(M),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${A.id}.vml`};M.push(J),A.comments.forEach(L=>{L.refAddress=o.decodeAddress(L.ref)}),B.commentRefs.push({commentName:"comments"+A.id,vmlDrawing:"vmlDrawing"+A.id})}const V=[];let tt;A.media.forEach(F=>{if(F.type==="background"){const J=H(M);tt=B.media[F.imageId],M.push({Id:J,Type:u.Image,Target:`../media/${tt.name}.${tt.extension}`}),A.background={rId:J},A.image=B.media[F.imageId]}else if(F.type==="image"){let{drawing:J}=A;tt=B.media[F.imageId],J||(J=A.drawing={rId:H(M),name:"drawing"+ ++B.drawingsCount,anchors:[],rels:[]},B.drawings.push(J),M.push({Id:J.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${J.name}.xml`}));let L=this.preImageId===F.imageId?V[F.imageId]:V[J.rels.length];L||(L=H(J.rels),V[J.rels.length]=L,J.rels.push({Id:L,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${tt.name}.${tt.extension}`}));const N={picture:{rId:L},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const Y=H(J.rels);V[J.rels.length]=Y,N.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:Y},J.rels.push({Id:Y,Type:u.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,J.anchors.push(N)}}),A.tables.forEach(F=>{const J=H(M);F.rId=J,M.push({Id:J,Type:u.Table,Target:"../tables/"+F.target}),F.columns.forEach(L=>{const{style:N}=L;N&&(L.dxfId=B.styles.addDxfStyle(N))})}),this.map.extLst.prepare(A,B)}render(A,B){A.openXml(l.StdDocAttributes),A.openNode("worksheet",x.WORKSHEET_ATTRIBUTES);const M=B.properties?{defaultRowHeight:B.properties.defaultRowHeight,dyDescent:B.properties.dyDescent,outlineLevelCol:B.properties.outlineLevelCol,outlineLevelRow:B.properties.outlineLevelRow}:void 0;B.properties&&B.properties.defaultColWidth&&(M.defaultColWidth=B.properties.defaultColWidth);const H={outlineProperties:B.properties&&B.properties.outlineProperties,tabColor:B.properties&&B.properties.tabColor,pageSetup:B.pageSetup&&B.pageSetup.fitToPage?{fitToPage:B.pageSetup.fitToPage}:void 0},V=B.pageSetup&&B.pageSetup.margins,tt={showRowColHeaders:B.pageSetup&&B.pageSetup.showRowColHeaders,showGridLines:B.pageSetup&&B.pageSetup.showGridLines,horizontalCentered:B.pageSetup&&B.pageSetup.horizontalCentered,verticalCentered:B.pageSetup&&B.pageSetup.verticalCentered},F=B.sheetProtection;this.map.sheetPr.render(A,H),this.map.dimension.render(A,B.dimensions),this.map.sheetViews.render(A,B.views),this.map.sheetFormatPr.render(A,M),this.map.cols.render(A,B.cols),this.map.sheetData.render(A,B.rows),this.map.sheetProtection.render(A,F),this.map.autoFilter.render(A,B.autoFilter),this.map.mergeCells.render(A,B.mergeCells),this.map.conditionalFormatting.render(A,B.conditionalFormattings),this.map.dataValidations.render(A,B.dataValidations),this.map.hyperlinks.render(A,B.hyperlinks),this.map.printOptions.render(A,tt),this.map.pageMargins.render(A,V),this.map.pageSetup.render(A,B.pageSetup),this.map.headerFooter.render(A,B.headerFooter),this.map.rowBreaks.render(A,B.rowBreaks),this.map.drawing.render(A,B.drawing),this.map.picture.render(A,B.background),this.map.tableParts.render(A,B.tables),this.map.extLst.render(A,B),B.rels&&B.rels.forEach(J=>{J.Type===u.VmlDrawing&&A.leafNode("legacyDrawing",{"r:id":J.Id})}),A.closeNode()}parseOpen(A){return this.parser?(this.parser.parseOpen(A),!0):A.name==="worksheet"?(i.each(this.map,B=>{B.reset()}),!0):(this.map[A.name]&&!this.ignoreNodes.includes(A.name)&&(this.parser=this.map[A.name],this.parser.parseOpen(A)),!0)}parseText(A){this.parser&&this.parser.parseText(A)}parseClose(A){if(this.parser)return this.parser.parseClose(A)||(this.parser=void 0),!0;switch(A){case"worksheet":{const B=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(B.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(B.outlineProperties=this.map.sheetPr.model.outlineProperties);const M={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},H=Object.assign(M,this.map.pageSetup.model,this.map.printOptions.model),V=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:B,views:this.map.sheetViews.model,pageSetup:H,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:V},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(A,B){const M=(A.relationships||[]).reduce((V,tt)=>{if(V[tt.Id]=tt,tt.Type===u.Comments&&(A.comments=B.comments[tt.Target].comments),tt.Type===u.VmlDrawing&&A.comments&&A.comments.length){const F=B.vmlDrawings[tt.Target].comments;A.comments.forEach((J,L)=>{J.note=Object.assign({},J.note,F[L])})}return V},{});if(B.commentsMap=(A.comments||[]).reduce((V,tt)=>(tt.ref&&(V[tt.ref]=tt),V),{}),B.hyperlinkMap=(A.hyperlinks||[]).reduce((V,tt)=>(tt.rId&&(V[tt.address]=M[tt.rId].Target),V),{}),B.formulae={},A.rows=A.rows&&A.rows.filter(Boolean)||[],A.rows.forEach(V=>{V.cells=V.cells&&V.cells.filter(Boolean)||[]}),this.map.cols.reconcile(A.cols,B),this.map.sheetData.reconcile(A.rows,B),this.map.conditionalFormatting.reconcile(A.conditionalFormattings,B),A.media=[],A.drawing){const V=M[A.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(V){const tt=V[1];B.drawings[tt].anchors.forEach(F=>{if(F.medium){const J={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};A.media.push(J)}})}}const H=A.background&&M[A.background.rId];if(H){const V=H.Target.split("/media/")[1],tt=B.mediaIndex&&B.mediaIndex[V];tt!==void 0&&A.media.push({type:"background",imageId:tt})}A.tables=(A.tables||[]).map(V=>{const tt=M[V.rId];return B.tables[tt.Target]}),delete A.relationships,delete A.hyperlinks,delete A.comments}}x.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},r.exports=x},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,l){l&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=o.parse||function(l){return new Date(l)}}render(o,l){l&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(l)):o.writeText(this._format(l)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,l){(l||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,l):o.writeText(l),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,l){l!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,l):o.writeText(l),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,r,s){const i=t("./base-xform"),o=t("../../utils/xml-stream");r.exports=class extends i{constructor(l){super(),this._model=l}render(l){if(!this._xml){const u=new o;(function a(c,d){c.openNode(d.tag,d.$),d.c&&d.c.forEach(f=>{a(c,f)}),d.t&&c.writeText(d.t),c.closeNode()})(u,this._model),this._xml=u.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,r,s){const i=t("./text-xform"),o=t("./rich-text-xform"),l=t("../base-xform");r.exports=class extends l{constructor(){super(),this.map={r:new o,t:new i}}get tag(){return"rPh"}render(u,a){if(u.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){const{r:c}=this.map;a.richText.forEach(d=>{c.render(u,d)})}else a&&this.map.t.render(u,a.text);u.closeNode()}parseOpen(u){const{name:a}=u;return this.parser?(this.parser.parseOpen(u),!0):a===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,r,s){const i=t("./text-xform"),o=t("../style/font-xform"),l=t("../base-xform");class u extends l{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new o(u.FONT_OPTIONS))}render(c,d){d=d||this.model,c.openNode("r"),d.font&&this.fontXform.render(c,d.font),this.textXform.render(c,d.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},r.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,r,s){const i=t("./text-xform"),o=t("./rich-text-xform"),l=t("./phonetic-text-xform"),u=t("../base-xform");r.exports=class extends u{constructor(a){super(),this.model=a,this.map={r:new o,t:new i,rPh:new l}}get tag(){return"si"}render(a,c){a.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(d=>{this.map.r.render(a,d)}):this.map.t.render(a,""):c!=null&&this.map.t.render(a,c),a.closeNode()}parseOpen(a){const{name:c}=a;return this.parser?(this.parser.parseOpen(a),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("./shared-string-xform");r.exports=class extends o{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let a=this.hash[u];return a===void 0&&(a=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,a}addRichText(u){const a=this.sharedStringXform.toXml(u);let c=this.rich[a];return c===void 0&&(c=this.rich[a]=this.model.values.length,this.model.values.push(u)),this.model.count++,c}render(u,a){a=a||this._values,u.openXml(i.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});const c=this.sharedStringXform;a.values.forEach(d=>{c.render(u,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"t"}render(o,l){o.openNode("t"),/^\s|\n|\s$/.test(l)&&o.addAttribute("xml:space","preserve"),o.writeText(l),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,r,s){const i=t("../../../doc/enums"),o=t("../../../utils/utils"),l=t("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,d)=>(c[d]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=o.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=o.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},a={toXml(c){if(c=u.textRotation(c)){if(c==="vertical")return 255;const d=Math.round(c);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(c){const d=o.validInt(c);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};r.exports=class extends l{get tag(){return"alignment"}render(c,d){c.addRollback(),c.openNode("alignment");let f=!1;function h(p,y){y&&(c.addAttribute(p,y),f=!0)}h("horizontal",u.horizontal(d.horizontal)),h("vertical",u.vertical(d.vertical)),h("wrapText",!!u.wrapText(d.wrapText)&&"1"),h("shrinkToFit",!!u.shrinkToFit(d.shrinkToFit)&&"1"),h("indent",u.indent(d.indent)),h("textRotation",a.toXml(d.textRotation)),h("readingOrder",u.readingOrder(d.readingOrder)),c.closeNode(),f?c.commit():c.rollback()}parseOpen(c){const d={};let f=!1;function h(p,y,m){p&&(d[y]=m,f=!0)}h(c.attributes.horizontal,"horizontal",c.attributes.horizontal),h(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),h(c.attributes.wrapText,"wrapText",o.parseBoolean(c.attributes.wrapText)),h(c.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(c.attributes.shrinkToFit)),h(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),h(c.attributes.textRotation,"textRotation",a.toModel(c.attributes.textRotation)),h(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,r,s){const i=t("../base-xform"),o=t("../../../utils/utils"),l=t("./color-xform");class u extends i{constructor(c){super(),this.name=c,this.map={color:new l}}get tag(){return this.name}render(c,d,f){const h=d&&d.color||f||this.defaultColor;c.openNode(this.name),d&&d.style&&(c.addAttribute("style",d.style),h&&this.map.color.render(c,h)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:d}=c.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return u.validStyleValues[c]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,c)=>(a[c]=!0,a),{}),r.exports=class extends i{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(a,c){const{color:d}=c;function f(h,p){h&&!h.color&&c.color&&(h={...h,color:c.color}),p.render(a,h,d)}a.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&a.addAttribute("diagonalUp","1"),c.diagonal.down&&a.addAttribute("diagonalDown","1")),f(c.left,this.map.left),f(c.right,this.map.right),f(c.top,this.map.top),f(c.bottom,this.map.bottom),f(c.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){const c=this.model={},d=function(f,h,p){h&&(p&&Object.assign(h,p),c[f]=h)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,l){return!!l&&(o.openNode(this.name),l.argb?o.addAttribute("rgb",l.argb):l.theme!==void 0?(o.addAttribute("theme",l.theme),l.tint!==void 0&&o.addAttribute("tint",l.tint)):l.indexed!==void 0?o.addAttribute("indexed",l.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,r,s){const i=t("../base-xform"),o=t("./alignment-xform"),l=t("./border-xform"),u=t("./fill-xform"),a=t("./font-xform"),c=t("./numfmt-xform"),d=t("./protection-xform");r.exports=class extends i{constructor(){super(),this.map={alignment:new o,border:new l,fill:new u,font:new a,numFmt:new c,protection:new d}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const p={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,p)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,r,s){const i=t("../base-xform"),o=t("./color-xform");class l extends i{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const p=this.map.stop;h.stops.forEach(y=>{p.render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={patternFill:new u,gradientFill:new a}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return c.validPatternValues[f]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,f)=>(d[f]=!0,d),{}),c.StopXform=l,c.PatternFillXform=u,c.GradientFillXform=a,r.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(t,r,s){const i=t("./color-xform"),o=t("../simple/boolean-xform"),l=t("../simple/integer-xform"),u=t("../simple/string-xform"),a=t("./underline-xform"),c=t("../../../utils/under-dash"),d=t("../base-xform");class f extends d{constructor(p){super(),this.options=p||f.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,y){const{map:m}=this;p.openNode(this.options.tagName),c.each(this.map,(g,b)=>{m[b].xform.render(p,y[g.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const y=this.map[p];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},r.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,r,s){const i=t("../../../utils/under-dash"),o=t("../../defaultnumformats"),l=t("../base-xform"),u=function(){const c={};return i.each(o,(d,f)=>{d.f&&(c[d.f]=parseInt(f,10))}),c}();class a extends l{constructor(d,f){super(),this.id=d,this.formatCode=f}get tag(){return"numFmt"}render(d,f){d.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(c){return u[c]},a.getDefaultFmtCode=function(c){return o[c]&&o[c].f},r.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,r,s){const i=t("../base-xform"),o={boolean:(l,u)=>l===void 0?u:l};r.exports=class extends i{get tag(){return"protection"}render(l,u){l.addRollback(),l.openNode("protection");let a=!1;function c(d,f){f!==void 0&&(l.addAttribute(d,f),a=!0)}c("locked",o.boolean(u.locked,!0)?void 0:"0"),c("hidden",o.boolean(u.hidden,!1)?"1":void 0),l.closeNode(),a?l.commit():l.rollback()}parseOpen(l){const u={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},a=!u.locked||u.hidden;this.model=a?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,r,s){const i=t("../base-xform"),o=t("./alignment-xform"),l=t("./protection-xform");r.exports=class extends i{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new o,protection:new l}}get tag(){return"xf"}render(u,a){u.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&u.addAttribute("xfId",a.xfId||0),a.numFmtId&&u.addAttribute("applyNumberFormat","1"),a.fontId&&u.addAttribute("applyFont","1"),a.fillId&&u.addAttribute("applyFill","1"),a.borderId&&u.addAttribute("applyBorder","1"),a.alignment&&u.addAttribute("applyAlignment","1"),a.protection&&u.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(u,a.alignment),a.protection&&this.map.protection.render(u,a.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,r,s){const i=t("../../../doc/enums"),o=t("../../../utils/xml-stream"),l=t("../base-xform"),u=t("../static-xform"),a=t("../list-xform"),c=t("./font-xform"),d=t("./fill-xform"),f=t("./border-xform"),h=t("./numfmt-xform"),p=t("./style-xform"),y=t("./dxf-xform");class m extends l{constructor(b){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new h}),fonts:new a({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new d}),borders:new a({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new h,font:new c,fill:new d,border:new f,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,w){w=w||this.model,b.openXml(o.StdDocAttributes),b.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(b.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(C=>{b.writeXml(C)}),b.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(C=>{b.writeXml(C)}),b.closeNode(),b.openNode("fills",{count:w.fills.length}),w.fills.forEach(C=>{b.writeXml(C)}),b.closeNode(),b.openNode("borders",{count:w.borders.length}),w.borders.forEach(C=>{b.writeXml(C)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(C=>{b.writeXml(C)}),b.closeNode()):(this.map.numFmts.render(b,w.numFmts),this.map.fonts.render(b,w.fonts),this.map.fills.render(b,w.fills),this.map.borders.render(b,w.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,w.styles)),m.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,w.dxfs),m.STATIC_XFORMS.tableStyles.render(b),m.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const w=(C,j)=>{j.model&&j.model.length&&(this.model[C]=j.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(j=>{C[j.id]=j.formatCode})}return!1}default:return!0}}addStyleModel(b,w){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const C={};if(w=w||i.ValueType.Number,b.numFmt)C.numFmtId=this._addNumFmtStr(b.numFmt);else switch(w){case i.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(C.fontId=this._addFont(b.font)),b.border&&(C.borderId=this._addBorder(b.border)),b.fill&&(C.fillId=this._addFill(b.fill)),b.alignment&&(C.alignment=b.alignment),b.protection&&(C.protection=b.protection);const j=this._addStyle(C);return this.weakMap&&this.weakMap.set(b,j),j}getStyleModel(b){const w=this.model.styles[b];if(!w)return null;let C=this.index.model[b];if(C)return C;if(C=this.index.model[b]={},w.numFmtId){const I=this.index.numFmt[w.numFmtId]||h.getDefaultFmtCode(w.numFmtId);I&&(C.numFmt=I)}function j(I,q,P){if(P||P===0){const U=q[P];U&&(C[I]=U)}}return j("font",this.model.fonts,w.fontId),j("border",this.model.borders,w.borderId),j("fill",this.model.fills,w.fillId),w.alignment&&(C.alignment=w.alignment),w.protection&&(C.protection=w.protection),C}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const w=this.map.style.toXml(b);let C=this.index.style[w];return C===void 0&&(C=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),C}_addNumFmtStr(b){let w=h.getDefaultFmtId(b);if(w!==void 0||(w=this.index.numFmt[b],w!==void 0))return w;w=this.index.numFmt[b]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:w,formatCode:b});return this.model.numFmts.push(C),w}_addFont(b){const w=this.map.font.toXml(b);let C=this.index.font[w];return C===void 0&&(C=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),C}_addBorder(b){const w=this.map.border.toXml(b);let C=this.index.border[w];return C===void 0&&(C=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),C}_addFill(b){const w=this.map.fill.toXml(b);let C=this.index.fill[w];return C===void 0&&(C=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),C}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,b){switch(b){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const g={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},r.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,r,s){const i=t("../base-xform");class o extends i{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,a){if((a=a||this.model)===!0)u.leafNode("u");else{const c=o.Attributes[a];c&&u.leafNode("u",c)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},r.exports=o},{"../base-xform":32}],137:[function(t,r,s){const i=t("../base-xform"),o=t("./filter-column-xform");r.exports=class extends i{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((u,a)=>{this.map.filterColumn.prepare(u,{index:a})})}render(l,u){return l.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(a=>{this.map.filterColumn.render(l,a)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"customFilter"}render(o,l){o.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,r,s){const i=t("../base-xform"),o=t("../list-xform"),l=t("./custom-filter-xform"),u=t("./filter-xform");r.exports=class extends i{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(a,c){a.colId=c.index.toString()}render(a,c){return c.customFilters?(a.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(a,c.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;const{attributes:c}=a;switch(a.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"filter"}render(o,l){o.leafNode(this.tag,{val:l.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"tableColumn"}prepare(o,l){o.id=l.index+1}render(o,l){return o.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:l}=o;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,r,s){const i=t("../base-xform");r.exports=class extends i{get tag(){return"tableStyleInfo"}render(o,l){return o.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:l}=o;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,r,s){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("../list-xform"),u=t("./auto-filter-xform"),a=t("./table-column-xform"),c=t("./table-style-info-xform");class d extends o{constructor(){super(),this.map={autoFilter:new u,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new c}}prepare(h,p){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,p)}get tag(){return"table"}render(h,p){h.openXml(i.StdDocAttributes),h.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(h,p),this.map.tableColumns.render(h,p.columns),this.map.tableStyleInfo.render(h,p.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:p,attributes:y}=h;switch(p){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,y)=>{this.model.columns[y].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,p){h.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=p.styles.getDxfStyle(y.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},r.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,r,s){(function(i,o){(function(){const l=t("fs"),u=t("jszip"),{PassThrough:a}=t("readable-stream"),c=t("../utils/zip-stream"),d=t("../utils/stream-buf"),f=t("../utils/utils"),h=t("../utils/xml-stream"),{bufferToString:p}=t("../utils/browser-buffer-decode"),y=t("./xform/style/styles-xform"),m=t("./xform/core/core-xform"),g=t("./xform/strings/shared-strings-xform"),b=t("./xform/core/relationships-xform"),w=t("./xform/core/content-types-xform"),C=t("./xform/core/app-xform"),j=t("./xform/book/workbook-xform"),I=t("./xform/sheet/worksheet-xform"),q=t("./xform/drawing/drawing-xform"),P=t("./xform/table/table-xform"),U=t("./xform/comment/comments-xform"),W=t("./xform/comment/vml-notes-xform"),z=t("./xml/theme1");class R{constructor(E){this.workbook=E}async readFile(E,k){if(!await f.fs.exists(E))throw new Error("File not found: "+E);const v=l.createReadStream(E);try{const _=await this.read(v,k);return v.close(),_}catch(_){throw v.close(),_}}parseRels(E){return new b().parseStream(E)}parseWorkbook(E){return new j().parseStream(E)}parseSharedStrings(E){return new g().parseStream(E)}reconcile(E,k){const v=new j,_=new I(k),x=new q,S=new P;v.reconcile(E);const A={media:E.media,mediaIndex:E.mediaIndex};Object.keys(E.drawings).forEach(H=>{const V=E.drawings[H],tt=E.drawingRels[H];tt&&(A.rels=tt.reduce((F,J)=>(F[J.Id]=J,F),{}),(V.anchors||[]).forEach(F=>{const J=F.picture&&F.picture.hyperlinks;J&&A.rels[J.rId]&&(J.hyperlink=A.rels[J.rId].Target,delete J.rId)}),x.reconcile(V,A))});const B={styles:E.styles};Object.values(E.tables).forEach(H=>{S.reconcile(H,B)});const M={styles:E.styles,sharedStrings:E.sharedStrings,media:E.media,mediaIndex:E.mediaIndex,date1904:E.properties&&E.properties.date1904,drawings:E.drawings,comments:E.comments,tables:E.tables,vmlDrawings:E.vmlDrawings};E.worksheets.forEach(H=>{H.relationships=E.worksheetRels[H.sheetNo],_.reconcile(H,M)}),delete E.worksheetHash,delete E.worksheetRels,delete E.globalRels,delete E.sharedStrings,delete E.workbookRels,delete E.sheetDefs,delete E.styles,delete E.mediaIndex,delete E.drawings,delete E.drawingRels,delete E.vmlDrawings}async _processWorksheetEntry(E,k,v,_,x){const S=new I(_),A=await S.parseStream(E);A.sheetNo=v,k.worksheetHash[x]=A,k.worksheets.push(A)}async _processCommentEntry(E,k,v){const _=new U,x=await _.parseStream(E);k.comments[`../${v}.xml`]=x}async _processTableEntry(E,k,v){const _=new P,x=await _.parseStream(E);k.tables[`../tables/${v}.xml`]=x}async _processWorksheetRelsEntry(E,k,v){const _=new b,x=await _.parseStream(E);k.worksheetRels[v]=x}async _processMediaEntry(E,k,v){const _=v.lastIndexOf(".");if(_>=1){const x=v.substr(_+1),S=v.substr(0,_);await new Promise((A,B)=>{const M=new d;M.on("finish",()=>{k.mediaIndex[v]=k.media.length,k.mediaIndex[S]=k.media.length;const H={type:"image",name:S,extension:x,buffer:M.toBuffer()};k.media.push(H),A()}),E.on("error",H=>{B(H)}),E.pipe(M)})}}async _processDrawingEntry(E,k,v){const _=new q,x=await _.parseStream(E);k.drawings[v]=x}async _processDrawingRelsEntry(E,k,v){const _=new b,x=await _.parseStream(E);k.drawingRels[v]=x}async _processVmlDrawingEntry(E,k,v){const _=new W,x=await _.parseStream(E);k.vmlDrawings[`../drawings/${v}.vml`]=x}async _processThemeEntry(E,k,v){await new Promise((_,x)=>{const S=new d;E.on("error",x),S.on("error",x),S.on("finish",()=>{k.themes[v]=S.read().toString(),_()}),E.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(E,k){!E[Symbol.asyncIterator]&&E.pipe&&(E=E.pipe(new a));const v=[];for await(const _ of E)v.push(_);return this.load(o.concat(v),k)}async load(E,k){let v;v=k&&k.base64?o.from(E.toString(),"base64"):E;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},x=await u.loadAsync(v);for(const S of Object.values(x.files))if(!S.dir){let A,B=S.name;if(B[0]==="/"&&(B=B.substr(1)),B.match(/xl\/media\//)||B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))A=new a,A.write(await S.async("nodebuffer"));else{let M;A=new a({writableObjectMode:!0,readableObjectMode:!0}),M=i.browser?p(await S.async("nodebuffer")):await S.async("string");const H=16384;for(let V=0;V<M.length;V+=H)A.write(M.substring(V,V+H))}switch(A.end(),B){case"_rels/.rels":_.globalRels=await this.parseRels(A);break;case"xl/workbook.xml":{const M=await this.parseWorkbook(A);_.sheets=M.sheets,_.definedNames=M.definedNames,_.views=M.views,_.properties=M.properties,_.calcProperties=M.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(A);break;case"xl/sharedStrings.xml":_.sharedStrings=new g,await _.sharedStrings.parseStream(A);break;case"xl/styles.xml":_.styles=new y,await _.styles.parseStream(A);break;case"docProps/app.xml":{const M=new C,H=await M.parseStream(A);_.company=H.company,_.manager=H.manager;break}case"docProps/core.xml":{const M=new m,H=await M.parseStream(A);Object.assign(_,H);break}default:{let M=B.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(M){await this._processWorksheetEntry(A,_,M[1],k,B);break}if(M=B.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),M){await this._processWorksheetRelsEntry(A,_,M[1]);break}if(M=B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),M){await this._processThemeEntry(A,_,M[1]);break}if(M=B.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),M){await this._processMediaEntry(A,_,M[1]);break}if(M=B.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),M){await this._processDrawingEntry(A,_,M[1]);break}if(M=B.match(/xl\/(comments\d+)[.]xml/),M){await this._processCommentEntry(A,_,M[1]);break}if(M=B.match(/xl\/tables\/(table\d+)[.]xml/),M){await this._processTableEntry(A,_,M[1]);break}if(M=B.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),M){await this._processDrawingRelsEntry(A,_,M[1]);break}if(M=B.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),M){await this._processVmlDrawingEntry(A,_,M[1]);break}}}}return this.reconcile(_,k),this.workbook.model=_,this.workbook}async addMedia(E,k){await Promise.all(k.media.map(async v=>{if(v.type==="image"){const _=`xl/media/${v.name}.${v.extension}`;if(v.filename){const x=await function(S,A){return new Promise((B,M)=>{l.readFile(S,A,(H,V)=>{H?M(H):B(V)})})}(v.filename);return E.append(x,{name:_})}if(v.buffer)return E.append(v.buffer,{name:_});if(v.base64){const x=v.base64,S=x.substring(x.indexOf(",")+1);return E.append(S,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(E,k){const v=new q,_=new b;k.worksheets.forEach(x=>{const{drawing:S}=x;if(S){v.prepare(S,{});let A=v.toXml(S);E.append(A,{name:`xl/drawings/${S.name}.xml`}),A=_.toXml(S.rels),E.append(A,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(E,k){const v=new P;k.worksheets.forEach(_=>{const{tables:x}=_;x.forEach(S=>{v.prepare(S,{});const A=v.toXml(S);E.append(A,{name:"xl/tables/"+S.target})})})}async addContentTypes(E,k){const v=new w().toXml(k);E.append(v,{name:"[Content_Types].xml"})}async addApp(E,k){const v=new C().toXml(k);E.append(v,{name:"docProps/app.xml"})}async addCore(E,k){const v=new m;E.append(v.toXml(k),{name:"docProps/core.xml"})}async addThemes(E,k){const v=k.themes||{theme1:z};Object.keys(v).forEach(_=>{const x=v[_],S=`xl/theme/${_}.xml`;E.append(x,{name:S})})}async addOfficeRels(E){const k=new b().toXml([{Id:"rId1",Type:R.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:R.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:R.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);E.append(k,{name:"_rels/.rels"})}async addWorkbookRels(E,k){let v=1;const _=[{Id:"rId"+v++,Type:R.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:R.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&_.push({Id:"rId"+v++,Type:R.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(S=>{S.rId="rId"+v++,_.push({Id:S.rId,Type:R.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const x=new b().toXml(_);E.append(x,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(E,k){k.sharedStrings&&k.sharedStrings.count&&E.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(E,k){const{xml:v}=k.styles;v&&E.append(v,{name:"xl/styles.xml"})}async addWorkbook(E,k){const v=new j;E.append(v.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(E,k){const v=new I,_=new b,x=new U,S=new W;k.worksheets.forEach(A=>{let B=new h;v.render(B,A),E.append(B.xml,{name:`xl/worksheets/sheet${A.id}.xml`}),A.rels&&A.rels.length&&(B=new h,_.render(B,A.rels),E.append(B.xml,{name:`xl/worksheets/_rels/sheet${A.id}.xml.rels`})),A.comments.length>0&&(B=new h,x.render(B,A),E.append(B.xml,{name:`xl/comments${A.id}.xml`}),B=new h,S.render(B,A),E.append(B.xml,{name:`xl/drawings/vmlDrawing${A.id}.vml`}))})}_finalize(E){return new Promise((k,v)=>{E.on("finish",()=>{k(this)}),E.on("error",v),E.finalize()})}prepareModel(E,k){E.creator=E.creator||"ExcelJS",E.lastModifiedBy=E.lastModifiedBy||"ExcelJS",E.created=E.created||new Date,E.modified=E.modified||new Date,E.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,E.useStyles=k.useStyles===void 0||k.useStyles,E.sharedStrings=new g,E.styles=E.useStyles?new y(!0):new y.Mock;const v=new j,_=new I;v.prepare(E);const x={sharedStrings:E.sharedStrings,styles:E.styles,date1904:E.properties.date1904,drawingsCount:0,media:E.media};x.drawings=E.drawings=[],x.commentRefs=E.commentRefs=[];let S=0;E.tables=[],E.worksheets.forEach(A=>{A.tables.forEach(B=>{S++,B.target=`table${S}.xml`,B.id=S,E.tables.push(B)}),_.prepare(A,x)})}async write(E,k){k=k||{};const{model:v}=this.workbook,_=new c.ZipWriter(k.zip);return _.pipe(E),this.prepareModel(v,k),await this.addContentTypes(_,v),await this.addOfficeRels(_,v),await this.addWorkbookRels(_,v),await this.addWorksheets(_,v),await this.addSharedStrings(_,v),await this.addDrawings(_,v),await this.addTables(_,v),await Promise.all([this.addThemes(_,v),this.addStyles(_,v)]),await this.addMedia(_,v),await Promise.all([this.addApp(_,v),this.addCore(_,v)]),await this.addWorkbook(_,v),this._finalize(_)}writeFile(E,k){const v=l.createWriteStream(E);return new Promise((_,x)=>{v.on("finish",()=>{_()}),v.on("error",S=>{x(S)}),this.write(v,k).then(()=>{v.end()}).catch(S=>{x(S)})})}async writeBuffer(E){const k=new d;return await this.write(k,E),k.read()}}R.RelType=t("./rel-type"),r.exports=R}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,r,s){r.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,r,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const o=t("stream"),l=t("./formatter");class u extends o.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new l.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,d,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(p,y)=>p?(h=!0,f(p)):(y&&y.forEach(m=>{this.push(i.from(m,"utf8"))}),h=!0,f()))}catch(p){if(h)throw p;f(p)}}_flush(c){this.rowFormatter.finish((d,f)=>d?c(d):(f&&f.forEach(h=>{this.push(i.from(h,"utf8"))}),c()))}}s.CsvFormatterStream=u}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=i.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,r,s){var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const o=i(t("lodash.isboolean")),l=i(t("lodash.isnil")),u=i(t("lodash.escaperegexp"));s.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");const c=`[${a.delimiter}${u.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(a){this._headers=a}shouldQuote(a,c){const d=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(d)?d:Array.isArray(d)?d[a]:this._headers!==null&&d[this._headers[a]]}format(a,c,d){const f=(""+(l.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,d)?this.quoteField(f):f}quoteField(a){const{quote:c}=this.formatterOptions;return`${c}${a}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,r,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const o=i(t("lodash.isfunction")),l=i(t("lodash.isequal")),u=t("./FieldFormatter"),a=t("../types");class c{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new u.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return c.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return a.isSyncTransform(f)?(h,p)=>{let y=null;try{y=f(h)}catch(m){return p(m)}return p(null,y)}:(h,p)=>{f(h,p)}}set rowTransform(f){if(!o.default(f))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(f)}format(f,h){this.callTransformer(f,(p,y)=>{if(p)return h(p);if(!f)return h(null);const m=[];if(y){const{shouldFormatColumns:g,headers:b}=this.checkHeaders(y);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),g){const w=this.gatherColumns(y);m.push(this.formatColumns(w,!1))}}return h(null,m)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=c.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?c.isRowHashArray(f)?this.headers.map((h,p)=>{const y=f[p];return y?y[1]:""}):c.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,p)=>f[p]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const p=f.map((m,g)=>this.fieldFormatter.format(m,g,h)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,p].join(""):p}}s.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=t("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var o=t("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,r,s){(function(i){(function(){var o=Object.create?function(g,b,w,C){C===void 0&&(C=w),Object.defineProperty(g,C,{enumerable:!0,get:function(){return b[w]}})}:function(g,b,w,C){C===void 0&&(C=w),g[C]=b[w]},l=Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b},u=function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var w in g)w!=="default"&&Object.prototype.hasOwnProperty.call(g,w)&&o(b,g,w);return l(b,g),b},a=function(g,b){for(var w in g)w==="default"||Object.prototype.hasOwnProperty.call(b,w)||o(b,g,w)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const c=t("util"),d=t("stream"),f=u(t("fs")),h=t("./FormatterOptions"),p=t("./CsvFormatterStream");a(t("./types"),s);var y=t("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var m=t("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=g=>new p.CsvFormatterStream(new h.FormatterOptions(g)),s.write=(g,b)=>{const w=s.format(b),C=c.promisify((j,I)=>{w.write(j,void 0,I)});return g.reduce((j,I)=>j.then(()=>C(I)),Promise.resolve()).then(()=>w.end()).catch(j=>{w.emit("error",j)}),w},s.writeToStream=(g,b,w)=>s.write(b,w).pipe(g),s.writeToBuffer=function(g){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],C=new d.Writable({write(j,I,q){w.push(j),q()}});return new Promise((j,I)=>{C.on("error",I).on("finish",()=>j(i.concat(w))),s.write(g,b).pipe(C)})},s.writeToString=(g,b)=>s.writeToBuffer(g,b).then(w=>w.toString()),s.writeToPath=(g,b,w)=>{const C=f.createWriteStream(g,{encoding:"utf8"});return s.write(b,w).pipe(C)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(t,r,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const o=t("string_decoder"),l=t("stream"),u=t("./transforms"),a=t("./parser");class c extends l.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new a.Parser(f),this.headerTransformer=new u.HeaderTransformer(f),this.decoder=new o.StringDecoder(f.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,p=new Array(h>1?h-1:0),y=1;y<h;y++)p[y-1]=arguments[y];return super.emit(f,...p)}_transform(f,h,p){if(this.hasHitRowLimit)return p();const y=c.wrapDoneCallback(p);try{const{lines:m}=this,g=m+this.decoder.write(f),b=this.parse(g,!0);return this.processRows(b,y)}catch(m){return y(m)}}_flush(f){const h=c.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const p=this.lines+this.decoder.end(),y=this.parse(p,!1);return this.processRows(y,h)}catch(p){return h(p)}}parse(f,h){if(!f)return[];const{line:p,rows:y}=this.parser.parse(f,h);return this.lines=p,y}processRows(f,h){const p=f.length,y=m=>{const g=C=>C?h(C):m%100!=0?y(m+1):void i(()=>y(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();const b=f[m];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(b,(C,j)=>{if(C)return this.rowCount-=1,g(C);if(!j)return g(new Error("expected transform result"));if(j.isValid){if(j.row)return this.pushRow(j.row,g)}else this.emit("data-invalid",j.row,w,j.reason);return g()})};y(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(p,y)=>p?h(p):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(p){h(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(p){h(p)}}static wrapDoneCallback(f){let h=!1;return function(p){if(p){if(h)throw p;return h=!0,void f(p)}for(var y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];f(...m)}}}s.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,r,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const o=i(t("lodash.escaperegexp")),l=i(t("lodash.isnil"));s.ParserOptions=class{constructor(u){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,r,s){var i=Object.create?function(y,m,g,b){b===void 0&&(b=g),Object.defineProperty(y,b,{enumerable:!0,get:function(){return m[g]}})}:function(y,m,g,b){b===void 0&&(b=g),y[b]=m[g]},o=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},l=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&i(m,y,g);return o(m,y),m},u=function(y,m){for(var g in y)g==="default"||Object.prototype.hasOwnProperty.call(m,g)||i(m,y,g)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const a=l(t("fs")),c=t("stream"),d=t("./ParserOptions"),f=t("./CsvParserStream");u(t("./types"),s);var h=t("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var p=t("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),s.parse=y=>new f.CsvParserStream(new d.ParserOptions(y)),s.parseStream=(y,m)=>y.pipe(new f.CsvParserStream(new d.ParserOptions(m))),s.parseFile=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(y).pipe(new f.CsvParserStream(new d.ParserOptions(m)))},s.parseString=(y,m)=>{const g=new c.Readable;return g.push(y),g.push(null),g.pipe(new f.CsvParserStream(new d.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=t("./Scanner"),o=t("./RowParser"),l=t("./Token");class u{constructor(c){this.parserOptions=c,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,d){const f=new i.Scanner({line:u.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(c){const d=[];let f=!0;for(;f;)f=this.parseRow(c,d);return{line:c.line,rows:d}}parseWithComments(c){const{parserOptions:d}=this,f=[];for(let h=c.nextCharacterToken;h!==null;h=c.nextCharacterToken)if(l.Token.isTokenComment(h,d)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:f};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:f};c.truncateToCursor()}else if(!this.parseRow(c,f))break;return{line:c.line,rows:f}}parseRow(c,d){if(!c.nextNonSpaceToken)return!1;const f=this.rowParser.parse(c);return f!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(f)||d.push(f),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=t("./column"),o=t("./Token");s.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new i.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:u}=this,{hasMoreData:a}=l,c=l,d=[];let f=this.getStartToken(c,d);for(;f;){if(o.Token.isTokenRowDelimiter(f))return c.advancePastToken(f),!c.hasMoreCharacters&&o.Token.isTokenCarriageReturn(f,u)&&a?null:(c.truncateToCursor(),d);if(!this.shouldSkipColumnParse(c,f,d)){const h=this.columnParser.parse(c);if(h===null)return null;d.push(h)}f=c.nextNonSpaceToken}return a?null:(c.truncateToCursor(),d)}getStartToken(l,u){const a=l.nextNonSpaceToken;return a!==null&&o.Token.isTokenDelimiter(a,this.parserOptions)?(u.push(""),l.nextNonSpaceToken):a}shouldSkipColumnParse(l,u,a){const{parserOptions:c}=this;if(o.Token.isTokenDelimiter(u,c)){l.advancePastToken(u);const d=l.nextCharacterToken;if(!l.hasMoreCharacters||d!==null&&o.Token.isTokenRowDelimiter(d)||d!==null&&o.Token.isTokenDelimiter(d,c))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=t("./Token"),o=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(u)===-1)return null;const a=u.exec(l);if(a==null)return null;const c=a[1],d=this.cursor+(a.index||0);return new i.Token({token:c,startCursor:d,endCursor:d+c.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:u}=this;return u<=l?null:new i.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=o.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const o=i.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(i,o){return i.token===o.carriageReturn}static isTokenComment(i,o){return o.supportsComments&&!!i&&i.token===o.comment}static isTokenEscapeCharacter(i,o){return i.token===o.escapeChar}static isTokenQuote(i,o){return i.token===o.quote}static isTokenDelimiter(i,o){return i.token===o.delimiter}}},{}],160:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=o=>o.trim():i.ltrim?this.format=o=>o.trimLeft():i.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=t("./NonQuotedColumnParser"),o=t("./QuotedColumnParser"),l=t("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new o.QuotedColumnParser(u),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:a}=u;return a!==null&&l.Token.isTokenQuote(a,this.parserOptions)?(u.advanceToToken(a),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=t("./ColumnFormatter"),o=t("../Token");s.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:u}=this,a=[];let c=l.nextCharacterToken;for(;c&&!o.Token.isTokenDelimiter(c,u)&&!o.Token.isTokenRowDelimiter(c);c=l.nextCharacterToken)a.push(c.token),l.advancePastToken(c);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=t("./ColumnFormatter"),o=t("../Token");s.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const u=l.cursor,{foundClosingQuote:a,col:c}=this.gatherDataBetweenQuotes(l);if(!a){if(l.advanceTo(u),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),c}gatherDataBetweenQuotes(l){const{parserOptions:u}=this;let a=!1,c=!1;const d=[];let f=l.nextCharacterToken;for(;!c&&f!==null;f=l.nextCharacterToken){const h=o.Token.isTokenQuote(f,u);if(!a&&h)a=!0;else if(a)if(o.Token.isTokenEscapeCharacter(f,u)){l.advancePastToken(f);const p=l.nextCharacterToken;p!==null&&(o.Token.isTokenQuote(p,u)||o.Token.isTokenEscapeCharacter(p,u))?(d.push(p.token),f=p):h?c=!0:d.push(f.token)}else h?c=!0:d.push(f.token);l.advancePastToken(f)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:c}}checkForMalformedColumn(l){const{parserOptions:u}=this,{nextNonSpaceToken:a}=l;if(a){const c=o.Token.isTokenDelimiter(a,u),d=o.Token.isTokenRowDelimiter(a);if(!c&&!d){const f=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${a.token}'. at '${f}`)}l.advanceToToken(a)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=t("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var o=t("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var l=t("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var u=t("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=t("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=t("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var l=t("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var u=t("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var a=t("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,r,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const o=i(t("lodash.isundefined")),l=i(t("lodash.isfunction")),u=i(t("lodash.uniq")),a=i(t("lodash.groupby"));s.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):l.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,d){return this.shouldMapRow(c)?d(null,this.processRow(c)):d(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&c.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return d.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const d={},{headers:f,headersLength:h}=this;for(let p=0;p<h;p+=1){const y=f[p];if(!o.default(y)){const m=c[p];o.default(m)?d[y]="":d[y]=m}}return d}setHeaders(c){var d;const f=c.filter(h=>!!h);if(u.default(f).length!==f.length){const h=a.default(f),p=Object.keys(h).filter(y=>h[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,r,s){var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const o=i(t("lodash.isfunction")),l=t("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return l.isSyncTransform(c)?(d,f)=>{let h=null;try{h=c(d)}catch(p){return f(p)}return f(null,h)}:c}static createValidator(c){return l.isSyncValidate(c)?(d,f)=>{f(null,{row:d,isValid:c(d)})}:(d,f)=>{c(d,(h,p,y)=>h?f(h):f(null,p?{row:d,isValid:p,reason:y}:{row:d,isValid:!1,reason:y}))}}set rowTransform(c){if(!o.default(c))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(c)}set rowValidator(c){if(!o.default(c))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(c)}transformAndValidate(c,d){return this.callTransformer(c,(f,h)=>f?d(f):h?this.callValidator(h,(p,y)=>p?d(p):y&&!y.isValid?d(null,{row:h,isValid:!1,reason:y.reason}):d(null,{row:h,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(c,d){return this._rowTransform?this._rowTransform(c,d):d(null,c)}callValidator(c,d){return this._rowValidator?this._rowValidator(c,d):d(null,{row:c,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=t("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var o=t("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(t,r,s){const i=s;i.bignum=t("bn.js"),i.define=t("./asn1/api").define,i.base=t("./asn1/base"),i.constants=t("./asn1/constants"),i.decoders=t("./asn1/decoders"),i.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,r,s){const i=t("./encoders"),o=t("./decoders"),l=t("inherits");function u(a,c){this.name=a,this.body=c,this.decoders={},this.encoders={}}s.define=function(a,c){return new u(a,c)},u.prototype._createNamed=function(a){const c=this.name;function d(f){this._initNamed(f,c)}return l(d,a),d.prototype._initNamed=function(f,h){a.call(this,f,h)},new d(this)},u.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(o[a])),this.decoders[a]},u.prototype.decode=function(a,c,d){return this._getDecoder(c).decode(a,d)},u.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(i[a])),this.encoders[a]},u.prototype.encode=function(a,c,d){return this._getEncoder(c).encode(a,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,r,s){const i=t("inherits"),o=t("../base/reporter").Reporter,l=t("safer-buffer").Buffer;function u(c,d){o.call(this,d),l.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function a(c,d){if(Array.isArray(c))this.length=0,this.value=c.map(function(f){return a.isEncoderBuffer(f)||(f=new a(f,d)),this.length+=f.length,f},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return d.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=l.byteLength(c);else{if(!l.isBuffer(c))return d.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}i(u,o),s.DecoderBuffer=u,u.isDecoderBuffer=function(c){return c instanceof u?!0:typeof c=="object"&&l.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},u.prototype.restore=function(c){const d=new u(this.base);return d.offset=c.offset,d.length=this.offset,this.offset=c.offset,o.prototype.restore.call(this,c.reporter),d},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},u.prototype.skip=function(c,d){if(!(this.offset+c<=this.length))return this.error(d||"DecoderBuffer overrun");const f=new u(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+c,this.offset+=c,f},u.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},s.EncoderBuffer=a,a.isEncoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},a.prototype.join=function(c,d){return c||(c=l.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(c,d),d+=f.length}):(typeof this.value=="number"?c[d]=this.value:typeof this.value=="string"?c.write(this.value,d):l.isBuffer(this.value)&&this.value.copy(c,d),d+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,r,s){const i=s;i.Reporter=t("./reporter").Reporter,i.DecoderBuffer=t("./buffer").DecoderBuffer,i.EncoderBuffer=t("./buffer").EncoderBuffer,i.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,r,s){const i=t("../base/reporter").Reporter,o=t("../base/buffer").EncoderBuffer,l=t("../base/buffer").DecoderBuffer,u=t("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function d(h,p,y){const m={};this._baseState=m,m.name=y,m.enc=h,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}r.exports=d;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const h=this._baseState,p={};f.forEach(function(m){p[m]=h[m]});const y=new this.constructor(p.parent);return y._baseState=p,y},d.prototype._wrap=function(){const h=this._baseState;c.forEach(function(p){this[p]=function(){const y=new this.constructor(this);return h.children.push(y),y[p].apply(y,arguments)}},this)},d.prototype._init=function(h){const p=this._baseState;u(p.parent===null),h.call(this),p.children=p.children.filter(function(y){return y._baseState.parent===this},this),u.equal(p.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(h){const p=this._baseState,y=h.filter(function(m){return m instanceof this.constructor},this);h=h.filter(function(m){return!(m instanceof this.constructor)},this),y.length!==0&&(u(p.children===null),p.children=y,y.forEach(function(m){m._baseState.parent=this},this)),h.length!==0&&(u(p.args===null),p.args=h,p.reverseArgs=h.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const g={};return Object.keys(m).forEach(function(b){b==(0|b)&&(b|=0);const w=m[b];g[w]=b}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){d.prototype[h]=function(){const p=this._baseState;throw new Error(h+" not implemented for encoding: "+p.enc)}}),a.forEach(function(h){d.prototype[h]=function(){const p=this._baseState,y=Array.prototype.slice.call(arguments);return u(p.tag===null),p.tag=h,this._useArgs(y),this}}),d.prototype.use=function(h){u(h);const p=this._baseState;return u(p.use===null),p.use=h,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(h){const p=this._baseState;return u(p.default===null),p.default=h,p.optional=!0,this},d.prototype.explicit=function(h){const p=this._baseState;return u(p.explicit===null&&p.implicit===null),p.explicit=h,this},d.prototype.implicit=function(h){const p=this._baseState;return u(p.explicit===null&&p.implicit===null),p.implicit=h,this},d.prototype.obj=function(){const h=this._baseState,p=Array.prototype.slice.call(arguments);return h.obj=!0,p.length!==0&&this._useArgs(p),this},d.prototype.key=function(h){const p=this._baseState;return u(p.key===null),p.key=h,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(h){const p=this._baseState;return u(p.choice===null),p.choice=h,this._useArgs(Object.keys(h).map(function(y){return h[y]})),this},d.prototype.contains=function(h){const p=this._baseState;return u(p.use===null),p.contains=h,this},d.prototype._decode=function(h,p){const y=this._baseState;if(y.parent===null)return h.wrapResult(y.children[0]._decode(h,p));let m,g=y.default,b=!0,w=null;if(y.key!==null&&(w=h.enterKey(y.key)),y.optional){let C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C!==null||y.any){if(b=this._peekTag(h,C,y.any),h.isError(b))return b}else{const j=h.save();try{y.choice===null?this._decodeGeneric(y.tag,h,p):this._decodeChoice(h,p),b=!0}catch{b=!1}h.restore(j)}}if(y.obj&&b&&(m=h.enterObject()),b){if(y.explicit!==null){const j=this._decodeTag(h,y.explicit);if(h.isError(j))return j;h=j}const C=h.offset;if(y.use===null&&y.choice===null){let j;y.any&&(j=h.save());const I=this._decodeTag(h,y.implicit!==null?y.implicit:y.tag,y.any);if(h.isError(I))return I;y.any?g=h.raw(j):h=I}if(p&&p.track&&y.tag!==null&&p.track(h.path(),C,h.length,"tagged"),p&&p.track&&y.tag!==null&&p.track(h.path(),h.offset,h.length,"content"),y.any||(g=y.choice===null?this._decodeGeneric(y.tag,h,p):this._decodeChoice(h,p)),h.isError(g))return g;if(y.any||y.choice!==null||y.children===null||y.children.forEach(function(j){j._decode(h,p)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const j=new l(g);g=this._getUse(y.contains,h._reporterState.obj)._decode(j,p)}}return y.obj&&b&&(g=h.leaveObject(m)),y.key===null||g===null&&b!==!0?w!==null&&h.exitKey(w):h.leaveKey(w,y.key,g),g},d.prototype._decodeGeneric=function(h,p,y){const m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(p,h,m.args[0],y):/str$/.test(h)?this._decodeStr(p,h,y):h==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],y):h==="objid"?this._decodeObjid(p,null,null,y):h==="gentime"||h==="utctime"?this._decodeTime(p,h,y):h==="null_"?this._decodeNull(p,y):h==="bool"?this._decodeBool(p,y):h==="objDesc"?this._decodeStr(p,h,y):h==="int"||h==="enum"?this._decodeInt(p,m.args&&m.args[0],y):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,y):p.error("unknown tag: "+h)},d.prototype._getUse=function(h,p){const y=this._baseState;return y.useDecoder=this._use(h,p),u(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},d.prototype._decodeChoice=function(h,p){const y=this._baseState;let m=null,g=!1;return Object.keys(y.choice).some(function(b){const w=h.save(),C=y.choice[b];try{const j=C._decode(h,p);if(h.isError(j))return!1;m={type:b,value:j},g=!0}catch{return h.restore(w),!1}return!0},this),g?m:h.error("Choice not matched")},d.prototype._createEncoderBuffer=function(h){return new o(h,this.reporter)},d.prototype._encode=function(h,p,y){const m=this._baseState;if(m.default!==null&&m.default===h)return;const g=this._encodeValue(h,p,y);return g===void 0||this._skipDefault(g,p,y)?void 0:g},d.prototype._encodeValue=function(h,p,y){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,p||new i);let g=null;if(this.reporter=p,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let b=null,w=!1;if(m.any)g=this._createEncoderBuffer(h);else if(m.choice)g=this._encodeChoice(h,p);else if(m.contains)b=this._getUse(m.contains,y)._encode(h,p),w=!0;else if(m.children)b=m.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,p,h);if(C._baseState.key===null)return p.error("Child should have a key");const j=p.enterKey(C._baseState.key);if(typeof h!="object")return p.error("Child expected, but input is not object");const I=C._encode(h[C._baseState.key],p,h);return p.leaveKey(j),I},this).filter(function(C){return C}),b=this._createEncoderBuffer(b);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(h))return p.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,b=this._createEncoderBuffer(h.map(function(j){const I=this._baseState;return this._getUse(I.args[0],h)._encode(j,p)},C))}else m.use!==null?g=this._getUse(m.use,y)._encode(h,p):(b=this._encodePrimitive(m.tag,h),w=!0);if(!m.any&&m.choice===null){const C=m.implicit!==null?m.implicit:m.tag,j=m.implicit===null?"universal":"context";C===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(g=this._encodeComposite(C,w,j,b))}return m.explicit!==null&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},d.prototype._encodeChoice=function(h,p){const y=this._baseState,m=y.choice[h.type];return m||u(!1,h.type+" not found in "+JSON.stringify(Object.keys(y.choice))),m._encode(h.value,p)},d.prototype._encodePrimitive=function(h,p){const y=this._baseState;if(/str$/.test(h))return this._encodeStr(p,h);if(h==="objid"&&y.args)return this._encodeObjid(p,y.reverseArgs[0],y.args[1]);if(h==="objid")return this._encodeObjid(p,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(p,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(p,y.args&&y.reverseArgs[0]);if(h==="bool")return this._encodeBool(p);if(h==="objDesc")return this._encodeStr(p,h);throw new Error("Unsupported tag: "+h)},d.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},d.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,r,s){const i=t("inherits");function o(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function l(u,a){this.path=u,this.rethrow(a)}s.Reporter=o,o.prototype.isError=function(u){return u instanceof l},o.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},o.prototype.restore=function(u){const a=this._reporterState;a.obj=u.obj,a.path=a.path.slice(0,u.pathLen)},o.prototype.enterKey=function(u){return this._reporterState.path.push(u)},o.prototype.exitKey=function(u){const a=this._reporterState;a.path=a.path.slice(0,u-1)},o.prototype.leaveKey=function(u,a,c){const d=this._reporterState;this.exitKey(u),d.obj!==null&&(d.obj[a]=c)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const u=this._reporterState,a=u.obj;return u.obj={},a},o.prototype.leaveObject=function(u){const a=this._reporterState,c=a.obj;return a.obj=u,c},o.prototype.error=function(u){let a;const c=this._reporterState,d=u instanceof l;if(a=d?u:new l(c.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),u.message||u,u.stack),!c.options.partial)throw a;return d||c.errors.push(a),a},o.prototype.wrapResult=function(u){const a=this._reporterState;return a.options.partial?{result:this.isError(u)?null:u,errors:a.errors}:u},i(l,Error),l.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(t,r,s){function i(o){const l={};return Object.keys(o).forEach(function(u){(0|u)==u&&(u|=0);const a=o[u];l[a]=u}),l}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(t,r,s){const i=s;i._reverse=function(o){const l={};return Object.keys(o).forEach(function(u){(0|u)==u&&(u|=0);const a=o[u];l[a]=u}),l},i.der=t("./der")},{"./der":176}],178:[function(t,r,s){const i=t("inherits"),o=t("bn.js"),l=t("../base/buffer").DecoderBuffer,u=t("../base/node"),a=t("../constants/der");function c(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new d,this.tree._init(p.body)}function d(p){u.call(this,"der",p)}function f(p,y){let m=p.readUInt8(y);if(p.isError(m))return m;const g=a.tagClass[m>>6],b=(32&m)==0;if((31&m)==31){let w=m;for(m=0;(128&w)==128;){if(w=p.readUInt8(y),p.isError(w))return w;m<<=7,m|=127&w}}else m&=31;return{cls:g,primitive:b,tag:m,tagStr:a.tag[m]}}function h(p,y,m){let g=p.readUInt8(m);if(p.isError(g))return g;if(!y&&g===128)return null;if(!(128&g))return g;const b=127&g;if(b>4)return p.error("length octect is too long");g=0;for(let w=0;w<b;w++){g<<=8;const C=p.readUInt8(m);if(p.isError(C))return C;g|=C}return g}r.exports=c,c.prototype.decode=function(p,y){return l.isDecoderBuffer(p)||(p=new l(p,y)),this.tree._decode(p,y)},i(d,u),d.prototype._peekTag=function(p,y,m){if(p.isEmpty())return!1;const g=p.save(),b=f(p,'Failed to peek tag: "'+y+'"');return p.isError(b)?b:(p.restore(g),b.tag===y||b.tagStr===y||b.tagStr+"of"===y||m)},d.prototype._decodeTag=function(p,y,m){const g=f(p,'Failed to decode tag of "'+y+'"');if(p.isError(g))return g;let b=h(p,g.primitive,'Failed to get length of "'+y+'"');if(p.isError(b))return b;if(!m&&g.tag!==y&&g.tagStr!==y&&g.tagStr+"of"!==y)return p.error('Failed to match tag: "'+y+'"');if(g.primitive||b!==null)return p.skip(b,'Failed to match body of: "'+y+'"');const w=p.save(),C=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(C)?C:(b=p.offset-w.offset,p.restore(w),p.skip(b,'Failed to match body of: "'+y+'"'))},d.prototype._skipUntilEnd=function(p,y){for(;;){const m=f(p,y);if(p.isError(m))return m;const g=h(p,m.primitive,y);if(p.isError(g))return g;let b;if(b=m.primitive||g!==null?p.skip(g):this._skipUntilEnd(p,y),p.isError(b))return b;if(m.tagStr==="end")break}},d.prototype._decodeList=function(p,y,m,g){const b=[];for(;!p.isEmpty();){const w=this._peekTag(p,"end");if(p.isError(w))return w;const C=m.decode(p,"der",g);if(p.isError(C)&&w)break;b.push(C)}return b},d.prototype._decodeStr=function(p,y){if(y==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(y==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let g="";for(let b=0;b<m.length/2;b++)g+=String.fromCharCode(m.readUInt16BE(2*b));return g}if(y==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return p.raw();if(y==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?p.raw().toString():p.error("Decoding of string type: "+y+" unsupported")},d.prototype._decodeObjid=function(p,y,m){let g;const b=[];let w=0,C=0;for(;!p.isEmpty();)C=p.readUInt8(),w<<=7,w|=127&C,!(128&C)&&(b.push(w),w=0);128&C&&b.push(w);const j=b[0]/40|0,I=b[0]%40;if(g=m?b:[j,I].concat(b.slice(1)),y){let q=y[g.join(" ")];q===void 0&&(q=y[g.join(".")]),q!==void 0&&(g=q)}return g},d.prototype._decodeTime=function(p,y){const m=p.raw().toString();let g,b,w,C,j,I;if(y==="gentime")g=0|m.slice(0,4),b=0|m.slice(4,6),w=0|m.slice(6,8),C=0|m.slice(8,10),j=0|m.slice(10,12),I=0|m.slice(12,14);else{if(y!=="utctime")return p.error("Decoding "+y+" time is not supported yet");g=0|m.slice(0,2),b=0|m.slice(2,4),w=0|m.slice(4,6),C=0|m.slice(6,8),j=0|m.slice(8,10),I=0|m.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,b-1,w,C,j,I,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(p){const y=p.readUInt8();return p.isError(y)?y:y!==0},d.prototype._decodeInt=function(p,y){const m=p.raw();let g=new o(m);return y&&(g=y[g.toString(10)]||g),g},d.prototype._use=function(p,y){return typeof p=="function"&&(p=p(y)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,r,s){const i=s;i.der=t("./der"),i.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,r,s){const i=t("inherits"),o=t("safer-buffer").Buffer,l=t("./der");function u(a){l.call(this,a),this.enc="pem"}i(u,l),r.exports=u,u.prototype.decode=function(a,c){const d=a.toString().split(/[\r\n]+/g),f=c.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,y=-1;for(let b=0;b<d.length;b++){const w=d[b].match(h);if(w!==null&&w[2]===f){if(p!==-1){if(w[1]!=="END")break;y=b;break}if(w[1]!=="BEGIN")break;p=b}}if(p===-1||y===-1)throw new Error("PEM section not found for: "+f);const m=d.slice(p+1,y).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const g=o.from(m,"base64");return l.prototype.decode.call(this,g,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,r,s){const i=t("inherits"),o=t("safer-buffer").Buffer,l=t("../base/node"),u=t("../constants/der");function a(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new c,this.tree._init(f.body)}function c(f){l.call(this,"der",f)}function d(f){return f<10?"0"+f:f}r.exports=a,a.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},i(c,l),c.prototype._encodeComposite=function(f,h,p,y){const m=function(w,C,j,I){let q;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),u.tagByName.hasOwnProperty(w))q=u.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return I.error("Unknown tag: "+w);q=w}return q>=31?I.error("Multi-octet tag encoding unsupported"):(C||(q|=32),q|=u.tagClassByName[j||"universal"]<<6,q)}(f,h,p,this.reporter);if(y.length<128){const w=o.alloc(2);return w[0]=m,w[1]=y.length,this._createEncoderBuffer([w,y])}let g=1;for(let w=y.length;w>=256;w>>=8)g++;const b=o.alloc(2+g);b[0]=m,b[1]=128|g;for(let w=1+g,C=y.length;C>0;w--,C>>=8)b[w]=255&C;return this._createEncoderBuffer([b,y])},c.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const p=o.alloc(2*f.length);for(let y=0;y<f.length;y++)p.writeUInt16BE(f.charCodeAt(y),2*y);return this._createEncoderBuffer(p)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},c.prototype._encodeObjid=function(f,h,p){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let b=0;b<f.length;b++)f[b]|=0}else if(Array.isArray(f)){f=f.slice();for(let b=0;b<f.length;b++)f[b]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!p){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let y=0;for(let b=0;b<f.length;b++){let w=f[b];for(y++;w>=128;w>>=7)y++}const m=o.alloc(y);let g=m.length-1;for(let b=f.length-1;b>=0;b--){let w=f[b];for(m[g--]=127&w;(w>>=7)>0;)m[g--]=128|127&w}return this._createEncoderBuffer(m)},c.prototype._encodeTime=function(f,h){let p;const y=new Date(f);return h==="gentime"?p=[d(y.getUTCFullYear()),d(y.getUTCMonth()+1),d(y.getUTCDate()),d(y.getUTCHours()),d(y.getUTCMinutes()),d(y.getUTCSeconds()),"Z"].join(""):h==="utctime"?p=[d(y.getUTCFullYear()%100),d(y.getUTCMonth()+1),d(y.getUTCDate()),d(y.getUTCHours()),d(y.getUTCMinutes()),d(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(p,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!o.isBuffer(f)){const m=f.toArray();!f.sign&&128&m[0]&&m.unshift(0),f=o.from(m)}if(o.isBuffer(f)){let m=f.length;f.length===0&&m++;const g=o.alloc(m);return f.copy(g),f.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let p=1;for(let m=f;m>=256;m>>=8)p++;const y=new Array(p);for(let m=y.length-1;m>=0;m--)y[m]=255&f,f>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},c.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},c.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},c.prototype._skipDefault=function(f,h,p){const y=this._baseState;let m;if(y.default===null)return!1;const g=f.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,h,p).join()),g.length!==y.defaultBuffer.length)return!1;for(m=0;m<g.length;m++)if(g[m]!==y.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,r,s){const i=s;i.der=t("./der"),i.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,r,s){const i=t("inherits"),o=t("./der");function l(u){o.call(this,u),this.enc="pem"}i(l,o),r.exports=l,l.prototype.encode=function(u,a){const c=o.prototype.encode.call(this,u).toString("base64"),d=["-----BEGIN "+a.label+"-----"];for(let f=0;f<c.length;f+=64)d.push(c.slice(f,f+64));return d.push("-----END "+a.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,r,s){(function(i,o){function l(T,E){if(!T)throw new Error(E||"Assertion failed")}function u(T,E){T.super_=E;var k=function(){};k.prototype=E.prototype,T.prototype=new k,T.prototype.constructor=T}function a(T,E,k){if(a.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(E!=="le"&&E!=="be"||(k=E,E=10),this._init(T||0,E||10,k||"be"))}var c;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function d(T,E){var k=T.charCodeAt(E);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function f(T,E,k){var v=d(T,k);return k-1>=E&&(v|=d(T,k-1)<<4),v}function h(T,E,k,v){for(var _=0,x=Math.min(T.length,k),S=E;S<x;S++){var A=T.charCodeAt(S)-48;_*=v,_+=A>=49?A-49+10:A>=17?A-17+10:A}return _}a.isBN=function(T){return T instanceof a||T!==null&&typeof T=="object"&&T.constructor.wordSize===a.wordSize&&Array.isArray(T.words)},a.max=function(T,E){return T.cmp(E)>0?T:E},a.min=function(T,E){return T.cmp(E)<0?T:E},a.prototype._init=function(T,E,k){if(typeof T=="number")return this._initNumber(T,E,k);if(typeof T=="object")return this._initArray(T,E,k);E==="hex"&&(E=16),l(E===(0|E)&&E>=2&&E<=36);var v=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<T.length&&(E===16?this._parseHex(T,v,k):(this._parseBase(T,E,v),k==="le"&&this._initArray(this.toArray(),E,k)))},a.prototype._initNumber=function(T,E,k){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(l(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),E,k)},a.prototype._initArray=function(T,E,k){if(l(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,x,S=0;if(k==="be")for(v=T.length-1,_=0;v>=0;v-=3)x=T[v]|T[v-1]<<8|T[v-2]<<16,this.words[_]|=x<<S&67108863,this.words[_+1]=x>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);else if(k==="le")for(v=0,_=0;v<T.length;v+=3)x=T[v]|T[v+1]<<8|T[v+2]<<16,this.words[_]|=x<<S&67108863,this.words[_+1]=x>>>26-S&67108863,(S+=24)>=26&&(S-=26,_++);return this.strip()},a.prototype._parseHex=function(T,E,k){this.length=Math.ceil((T.length-E)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,x=0,S=0;if(k==="be")for(v=T.length-1;v>=E;v-=2)_=f(T,E,v)<<x,this.words[S]|=67108863&_,x>=18?(x-=18,S+=1,this.words[S]|=_>>>26):x+=8;else for(v=(T.length-E)%2==0?E+1:E;v<T.length;v+=2)_=f(T,E,v)<<x,this.words[S]|=67108863&_,x>=18?(x-=18,S+=1,this.words[S]|=_>>>26):x+=8;this.strip()},a.prototype._parseBase=function(T,E,k){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=E)v++;v--,_=_/E|0;for(var x=T.length-k,S=x%v,A=Math.min(x,x-S)+k,B=0,M=k;M<A;M+=v)B=h(T,M,M+v,E),this.imuln(_),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(S!==0){var H=1;for(B=h(T,M,T.length,E),M=0;M<S;M++)H*=E;this.imuln(H),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},a.prototype.copy=function(T){T.words=new Array(this.length);for(var E=0;E<this.length;E++)T.words[E]=this.words[E];T.length=this.length,T.negative=this.negative,T.red=this.red},a.prototype.clone=function(){var T=new a(null);return this.copy(T),T},a.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(T,E,k){k.negative=E.negative^T.negative;var v=T.length+E.length|0;k.length=v,v=v-1|0;var _=0|T.words[0],x=0|E.words[0],S=_*x,A=67108863&S,B=S/67108864|0;k.words[0]=A;for(var M=1;M<v;M++){for(var H=B>>>26,V=67108863&B,tt=Math.min(M,E.length-1),F=Math.max(0,M-T.length+1);F<=tt;F++){var J=M-F|0;H+=(S=(_=0|T.words[J])*(x=0|E.words[F])+V)/67108864|0,V=67108863&S}k.words[M]=0|V,B=0|H}return B!==0?k.words[M]=0|B:k.length--,k.strip()}a.prototype.toString=function(T,E){var k;if(E=0|E||1,(T=T||10)===16||T==="hex"){k="";for(var v=0,_=0,x=0;x<this.length;x++){var S=this.words[x],A=(16777215&(S<<v|_)).toString(16);k=(_=S>>>24-v&16777215)!==0||x!==this.length-1?p[6-A.length]+A+k:A+k,(v+=2)>=26&&(v-=26,x--)}for(_!==0&&(k=_.toString(16)+k);k.length%E!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(T===(0|T)&&T>=2&&T<=36){var B=y[T],M=m[T];k="";var H=this.clone();for(H.negative=0;!H.isZero();){var V=H.modn(M).toString(T);k=(H=H.idivn(M)).isZero()?V+k:p[B-V.length]+V+k}for(this.isZero()&&(k="0"+k);k.length%E!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}l(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(T,E){return l(c!==void 0),this.toArrayLike(c,T,E)},a.prototype.toArray=function(T,E){return this.toArrayLike(Array,T,E)},a.prototype.toArrayLike=function(T,E,k){var v=this.byteLength(),_=k||Math.max(1,v);l(v<=_,"byte array longer than desired length"),l(_>0,"Requested array length <= 0"),this.strip();var x,S,A=E==="le",B=new T(_),M=this.clone();if(A){for(S=0;!M.isZero();S++)x=M.andln(255),M.iushrn(8),B[S]=x;for(;S<_;S++)B[S]=0}else{for(S=0;S<_-v;S++)B[S]=0;for(S=0;!M.isZero();S++)x=M.andln(255),M.iushrn(8),B[_-S-1]=x}return B},Math.clz32?a.prototype._countBits=function(T){return 32-Math.clz32(T)}:a.prototype._countBits=function(T){var E=T,k=0;return E>=4096&&(k+=13,E>>>=13),E>=64&&(k+=7,E>>>=7),E>=8&&(k+=4,E>>>=4),E>=2&&(k+=2,E>>>=2),k+E},a.prototype._zeroBits=function(T){if(T===0)return 26;var E=T,k=0;return!(8191&E)&&(k+=13,E>>>=13),!(127&E)&&(k+=7,E>>>=7),!(15&E)&&(k+=4,E>>>=4),!(3&E)&&(k+=2,E>>>=2),!(1&E)&&k++,k},a.prototype.bitLength=function(){var T=this.words[this.length-1],E=this._countBits(T);return 26*(this.length-1)+E},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,E=0;E<this.length;E++){var k=this._zeroBits(this.words[E]);if(T+=k,k!==26)break}return T},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},a.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var E=0;E<T.length;E++)this.words[E]=this.words[E]|T.words[E];return this.strip()},a.prototype.ior=function(T){return l((this.negative|T.negative)==0),this.iuor(T)},a.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},a.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},a.prototype.iuand=function(T){var E;E=this.length>T.length?T:this;for(var k=0;k<E.length;k++)this.words[k]=this.words[k]&T.words[k];return this.length=E.length,this.strip()},a.prototype.iand=function(T){return l((this.negative|T.negative)==0),this.iuand(T)},a.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},a.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},a.prototype.iuxor=function(T){var E,k;this.length>T.length?(E=this,k=T):(E=T,k=this);for(var v=0;v<k.length;v++)this.words[v]=E.words[v]^k.words[v];if(this!==E)for(;v<E.length;v++)this.words[v]=E.words[v];return this.length=E.length,this.strip()},a.prototype.ixor=function(T){return l((this.negative|T.negative)==0),this.iuxor(T)},a.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},a.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},a.prototype.inotn=function(T){l(typeof T=="number"&&T>=0);var E=0|Math.ceil(T/26),k=T%26;this._expand(E),k>0&&E--;for(var v=0;v<E;v++)this.words[v]=67108863&~this.words[v];return k>0&&(this.words[v]=~this.words[v]&67108863>>26-k),this.strip()},a.prototype.notn=function(T){return this.clone().inotn(T)},a.prototype.setn=function(T,E){l(typeof T=="number"&&T>=0);var k=T/26|0,v=T%26;return this._expand(k+1),this.words[k]=E?this.words[k]|1<<v:this.words[k]&~(1<<v),this.strip()},a.prototype.iadd=function(T){var E,k,v;if(this.negative!==0&&T.negative===0)return this.negative=0,E=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,E=this.isub(T),T.negative=1,E._normSign();this.length>T.length?(k=this,v=T):(k=T,v=this);for(var _=0,x=0;x<v.length;x++)E=(0|k.words[x])+(0|v.words[x])+_,this.words[x]=67108863&E,_=E>>>26;for(;_!==0&&x<k.length;x++)E=(0|k.words[x])+_,this.words[x]=67108863&E,_=E>>>26;if(this.length=k.length,_!==0)this.words[this.length]=_,this.length++;else if(k!==this)for(;x<k.length;x++)this.words[x]=k.words[x];return this},a.prototype.add=function(T){var E;return T.negative!==0&&this.negative===0?(T.negative=0,E=this.sub(T),T.negative^=1,E):T.negative===0&&this.negative!==0?(this.negative=0,E=T.sub(this),this.negative=1,E):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},a.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var E=this.iadd(T);return T.negative=1,E._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var k,v,_=this.cmp(T);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(k=this,v=T):(k=T,v=this);for(var x=0,S=0;S<v.length;S++)x=(E=(0|k.words[S])-(0|v.words[S])+x)>>26,this.words[S]=67108863&E;for(;x!==0&&S<k.length;S++)x=(E=(0|k.words[S])+x)>>26,this.words[S]=67108863&E;if(x===0&&S<k.length&&k!==this)for(;S<k.length;S++)this.words[S]=k.words[S];return this.length=Math.max(this.length,S),k!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(T){return this.clone().isub(T)};var b=function(T,E,k){var v,_,x,S=T.words,A=E.words,B=k.words,M=0,H=0|S[0],V=8191&H,tt=H>>>13,F=0|S[1],J=8191&F,L=F>>>13,N=0|S[2],Y=8191&N,nt=N>>>13,lt=0|S[3],st=8191&lt,pt=lt>>>13,ft=0|S[4],it=8191&ft,at=ft>>>13,bt=0|S[5],gt=8191&bt,St=bt>>>13,kt=0|S[6],Tt=8191&kt,Lt=kt>>>13,Xt=0|S[7],re=8191&Xt,ue=Xt>>>13,ce=0|S[8],de=8191&ce,we=ce>>>13,Me=0|S[9],ie=8191&Me,Ue=Me>>>13,me=0|A[0],Ce=8191&me,xe=me>>>13,ne=0|A[1],ze=8191&ne,We=ne>>>13,Or=0|A[2],te=8191&Or,Sr=Or>>>13,br=0|A[3],Ye=8191&br,Ve=br>>>13,er=0|A[4],cr=8191&er,mr=er>>>13,jr=0|A[5],rr=8191&jr,Be=jr>>>13,Nr=0|A[6],qe=8191&Nr,Mt=Nr>>>13,qt=0|A[7],ee=8191&qt,Ae=qt>>>13,sr=0|A[8],Le=8191&sr,Je=sr>>>13,Ke=0|A[9],He=8191&Ke,hr=Ke>>>13;k.negative=T.negative^E.negative,k.length=19;var lr=(M+(v=Math.imul(V,Ce))|0)+((8191&(_=(_=Math.imul(V,xe))+Math.imul(tt,Ce)|0))<<13)|0;M=((x=Math.imul(tt,xe))+(_>>>13)|0)+(lr>>>26)|0,lr&=67108863,v=Math.imul(J,Ce),_=(_=Math.imul(J,xe))+Math.imul(L,Ce)|0,x=Math.imul(L,xe);var fr=(M+(v=v+Math.imul(V,ze)|0)|0)+((8191&(_=(_=_+Math.imul(V,We)|0)+Math.imul(tt,ze)|0))<<13)|0;M=((x=x+Math.imul(tt,We)|0)+(_>>>13)|0)+(fr>>>26)|0,fr&=67108863,v=Math.imul(Y,Ce),_=(_=Math.imul(Y,xe))+Math.imul(nt,Ce)|0,x=Math.imul(nt,xe),v=v+Math.imul(J,ze)|0,_=(_=_+Math.imul(J,We)|0)+Math.imul(L,ze)|0,x=x+Math.imul(L,We)|0;var Xr=(M+(v=v+Math.imul(V,te)|0)|0)+((8191&(_=(_=_+Math.imul(V,Sr)|0)+Math.imul(tt,te)|0))<<13)|0;M=((x=x+Math.imul(tt,Sr)|0)+(_>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,v=Math.imul(st,Ce),_=(_=Math.imul(st,xe))+Math.imul(pt,Ce)|0,x=Math.imul(pt,xe),v=v+Math.imul(Y,ze)|0,_=(_=_+Math.imul(Y,We)|0)+Math.imul(nt,ze)|0,x=x+Math.imul(nt,We)|0,v=v+Math.imul(J,te)|0,_=(_=_+Math.imul(J,Sr)|0)+Math.imul(L,te)|0,x=x+Math.imul(L,Sr)|0;var Rr=(M+(v=v+Math.imul(V,Ye)|0)|0)+((8191&(_=(_=_+Math.imul(V,Ve)|0)+Math.imul(tt,Ye)|0))<<13)|0;M=((x=x+Math.imul(tt,Ve)|0)+(_>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,v=Math.imul(it,Ce),_=(_=Math.imul(it,xe))+Math.imul(at,Ce)|0,x=Math.imul(at,xe),v=v+Math.imul(st,ze)|0,_=(_=_+Math.imul(st,We)|0)+Math.imul(pt,ze)|0,x=x+Math.imul(pt,We)|0,v=v+Math.imul(Y,te)|0,_=(_=_+Math.imul(Y,Sr)|0)+Math.imul(nt,te)|0,x=x+Math.imul(nt,Sr)|0,v=v+Math.imul(J,Ye)|0,_=(_=_+Math.imul(J,Ve)|0)+Math.imul(L,Ye)|0,x=x+Math.imul(L,Ve)|0;var en=(M+(v=v+Math.imul(V,cr)|0)|0)+((8191&(_=(_=_+Math.imul(V,mr)|0)+Math.imul(tt,cr)|0))<<13)|0;M=((x=x+Math.imul(tt,mr)|0)+(_>>>13)|0)+(en>>>26)|0,en&=67108863,v=Math.imul(gt,Ce),_=(_=Math.imul(gt,xe))+Math.imul(St,Ce)|0,x=Math.imul(St,xe),v=v+Math.imul(it,ze)|0,_=(_=_+Math.imul(it,We)|0)+Math.imul(at,ze)|0,x=x+Math.imul(at,We)|0,v=v+Math.imul(st,te)|0,_=(_=_+Math.imul(st,Sr)|0)+Math.imul(pt,te)|0,x=x+Math.imul(pt,Sr)|0,v=v+Math.imul(Y,Ye)|0,_=(_=_+Math.imul(Y,Ve)|0)+Math.imul(nt,Ye)|0,x=x+Math.imul(nt,Ve)|0,v=v+Math.imul(J,cr)|0,_=(_=_+Math.imul(J,mr)|0)+Math.imul(L,cr)|0,x=x+Math.imul(L,mr)|0;var Qr=(M+(v=v+Math.imul(V,rr)|0)|0)+((8191&(_=(_=_+Math.imul(V,Be)|0)+Math.imul(tt,rr)|0))<<13)|0;M=((x=x+Math.imul(tt,Be)|0)+(_>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,v=Math.imul(Tt,Ce),_=(_=Math.imul(Tt,xe))+Math.imul(Lt,Ce)|0,x=Math.imul(Lt,xe),v=v+Math.imul(gt,ze)|0,_=(_=_+Math.imul(gt,We)|0)+Math.imul(St,ze)|0,x=x+Math.imul(St,We)|0,v=v+Math.imul(it,te)|0,_=(_=_+Math.imul(it,Sr)|0)+Math.imul(at,te)|0,x=x+Math.imul(at,Sr)|0,v=v+Math.imul(st,Ye)|0,_=(_=_+Math.imul(st,Ve)|0)+Math.imul(pt,Ye)|0,x=x+Math.imul(pt,Ve)|0,v=v+Math.imul(Y,cr)|0,_=(_=_+Math.imul(Y,mr)|0)+Math.imul(nt,cr)|0,x=x+Math.imul(nt,mr)|0,v=v+Math.imul(J,rr)|0,_=(_=_+Math.imul(J,Be)|0)+Math.imul(L,rr)|0,x=x+Math.imul(L,Be)|0;var Lr=(M+(v=v+Math.imul(V,qe)|0)|0)+((8191&(_=(_=_+Math.imul(V,Mt)|0)+Math.imul(tt,qe)|0))<<13)|0;M=((x=x+Math.imul(tt,Mt)|0)+(_>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,v=Math.imul(re,Ce),_=(_=Math.imul(re,xe))+Math.imul(ue,Ce)|0,x=Math.imul(ue,xe),v=v+Math.imul(Tt,ze)|0,_=(_=_+Math.imul(Tt,We)|0)+Math.imul(Lt,ze)|0,x=x+Math.imul(Lt,We)|0,v=v+Math.imul(gt,te)|0,_=(_=_+Math.imul(gt,Sr)|0)+Math.imul(St,te)|0,x=x+Math.imul(St,Sr)|0,v=v+Math.imul(it,Ye)|0,_=(_=_+Math.imul(it,Ve)|0)+Math.imul(at,Ye)|0,x=x+Math.imul(at,Ve)|0,v=v+Math.imul(st,cr)|0,_=(_=_+Math.imul(st,mr)|0)+Math.imul(pt,cr)|0,x=x+Math.imul(pt,mr)|0,v=v+Math.imul(Y,rr)|0,_=(_=_+Math.imul(Y,Be)|0)+Math.imul(nt,rr)|0,x=x+Math.imul(nt,Be)|0,v=v+Math.imul(J,qe)|0,_=(_=_+Math.imul(J,Mt)|0)+Math.imul(L,qe)|0,x=x+Math.imul(L,Mt)|0;var xt=(M+(v=v+Math.imul(V,ee)|0)|0)+((8191&(_=(_=_+Math.imul(V,Ae)|0)+Math.imul(tt,ee)|0))<<13)|0;M=((x=x+Math.imul(tt,Ae)|0)+(_>>>13)|0)+(xt>>>26)|0,xt&=67108863,v=Math.imul(de,Ce),_=(_=Math.imul(de,xe))+Math.imul(we,Ce)|0,x=Math.imul(we,xe),v=v+Math.imul(re,ze)|0,_=(_=_+Math.imul(re,We)|0)+Math.imul(ue,ze)|0,x=x+Math.imul(ue,We)|0,v=v+Math.imul(Tt,te)|0,_=(_=_+Math.imul(Tt,Sr)|0)+Math.imul(Lt,te)|0,x=x+Math.imul(Lt,Sr)|0,v=v+Math.imul(gt,Ye)|0,_=(_=_+Math.imul(gt,Ve)|0)+Math.imul(St,Ye)|0,x=x+Math.imul(St,Ve)|0,v=v+Math.imul(it,cr)|0,_=(_=_+Math.imul(it,mr)|0)+Math.imul(at,cr)|0,x=x+Math.imul(at,mr)|0,v=v+Math.imul(st,rr)|0,_=(_=_+Math.imul(st,Be)|0)+Math.imul(pt,rr)|0,x=x+Math.imul(pt,Be)|0,v=v+Math.imul(Y,qe)|0,_=(_=_+Math.imul(Y,Mt)|0)+Math.imul(nt,qe)|0,x=x+Math.imul(nt,Mt)|0,v=v+Math.imul(J,ee)|0,_=(_=_+Math.imul(J,Ae)|0)+Math.imul(L,ee)|0,x=x+Math.imul(L,Ae)|0;var Yt=(M+(v=v+Math.imul(V,Le)|0)|0)+((8191&(_=(_=_+Math.imul(V,Je)|0)+Math.imul(tt,Le)|0))<<13)|0;M=((x=x+Math.imul(tt,Je)|0)+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,v=Math.imul(ie,Ce),_=(_=Math.imul(ie,xe))+Math.imul(Ue,Ce)|0,x=Math.imul(Ue,xe),v=v+Math.imul(de,ze)|0,_=(_=_+Math.imul(de,We)|0)+Math.imul(we,ze)|0,x=x+Math.imul(we,We)|0,v=v+Math.imul(re,te)|0,_=(_=_+Math.imul(re,Sr)|0)+Math.imul(ue,te)|0,x=x+Math.imul(ue,Sr)|0,v=v+Math.imul(Tt,Ye)|0,_=(_=_+Math.imul(Tt,Ve)|0)+Math.imul(Lt,Ye)|0,x=x+Math.imul(Lt,Ve)|0,v=v+Math.imul(gt,cr)|0,_=(_=_+Math.imul(gt,mr)|0)+Math.imul(St,cr)|0,x=x+Math.imul(St,mr)|0,v=v+Math.imul(it,rr)|0,_=(_=_+Math.imul(it,Be)|0)+Math.imul(at,rr)|0,x=x+Math.imul(at,Be)|0,v=v+Math.imul(st,qe)|0,_=(_=_+Math.imul(st,Mt)|0)+Math.imul(pt,qe)|0,x=x+Math.imul(pt,Mt)|0,v=v+Math.imul(Y,ee)|0,_=(_=_+Math.imul(Y,Ae)|0)+Math.imul(nt,ee)|0,x=x+Math.imul(nt,Ae)|0,v=v+Math.imul(J,Le)|0,_=(_=_+Math.imul(J,Je)|0)+Math.imul(L,Le)|0,x=x+Math.imul(L,Je)|0;var he=(M+(v=v+Math.imul(V,He)|0)|0)+((8191&(_=(_=_+Math.imul(V,hr)|0)+Math.imul(tt,He)|0))<<13)|0;M=((x=x+Math.imul(tt,hr)|0)+(_>>>13)|0)+(he>>>26)|0,he&=67108863,v=Math.imul(ie,ze),_=(_=Math.imul(ie,We))+Math.imul(Ue,ze)|0,x=Math.imul(Ue,We),v=v+Math.imul(de,te)|0,_=(_=_+Math.imul(de,Sr)|0)+Math.imul(we,te)|0,x=x+Math.imul(we,Sr)|0,v=v+Math.imul(re,Ye)|0,_=(_=_+Math.imul(re,Ve)|0)+Math.imul(ue,Ye)|0,x=x+Math.imul(ue,Ve)|0,v=v+Math.imul(Tt,cr)|0,_=(_=_+Math.imul(Tt,mr)|0)+Math.imul(Lt,cr)|0,x=x+Math.imul(Lt,mr)|0,v=v+Math.imul(gt,rr)|0,_=(_=_+Math.imul(gt,Be)|0)+Math.imul(St,rr)|0,x=x+Math.imul(St,Be)|0,v=v+Math.imul(it,qe)|0,_=(_=_+Math.imul(it,Mt)|0)+Math.imul(at,qe)|0,x=x+Math.imul(at,Mt)|0,v=v+Math.imul(st,ee)|0,_=(_=_+Math.imul(st,Ae)|0)+Math.imul(pt,ee)|0,x=x+Math.imul(pt,Ae)|0,v=v+Math.imul(Y,Le)|0,_=(_=_+Math.imul(Y,Je)|0)+Math.imul(nt,Le)|0,x=x+Math.imul(nt,Je)|0;var ge=(M+(v=v+Math.imul(J,He)|0)|0)+((8191&(_=(_=_+Math.imul(J,hr)|0)+Math.imul(L,He)|0))<<13)|0;M=((x=x+Math.imul(L,hr)|0)+(_>>>13)|0)+(ge>>>26)|0,ge&=67108863,v=Math.imul(ie,te),_=(_=Math.imul(ie,Sr))+Math.imul(Ue,te)|0,x=Math.imul(Ue,Sr),v=v+Math.imul(de,Ye)|0,_=(_=_+Math.imul(de,Ve)|0)+Math.imul(we,Ye)|0,x=x+Math.imul(we,Ve)|0,v=v+Math.imul(re,cr)|0,_=(_=_+Math.imul(re,mr)|0)+Math.imul(ue,cr)|0,x=x+Math.imul(ue,mr)|0,v=v+Math.imul(Tt,rr)|0,_=(_=_+Math.imul(Tt,Be)|0)+Math.imul(Lt,rr)|0,x=x+Math.imul(Lt,Be)|0,v=v+Math.imul(gt,qe)|0,_=(_=_+Math.imul(gt,Mt)|0)+Math.imul(St,qe)|0,x=x+Math.imul(St,Mt)|0,v=v+Math.imul(it,ee)|0,_=(_=_+Math.imul(it,Ae)|0)+Math.imul(at,ee)|0,x=x+Math.imul(at,Ae)|0,v=v+Math.imul(st,Le)|0,_=(_=_+Math.imul(st,Je)|0)+Math.imul(pt,Le)|0,x=x+Math.imul(pt,Je)|0;var Ze=(M+(v=v+Math.imul(Y,He)|0)|0)+((8191&(_=(_=_+Math.imul(Y,hr)|0)+Math.imul(nt,He)|0))<<13)|0;M=((x=x+Math.imul(nt,hr)|0)+(_>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(ie,Ye),_=(_=Math.imul(ie,Ve))+Math.imul(Ue,Ye)|0,x=Math.imul(Ue,Ve),v=v+Math.imul(de,cr)|0,_=(_=_+Math.imul(de,mr)|0)+Math.imul(we,cr)|0,x=x+Math.imul(we,mr)|0,v=v+Math.imul(re,rr)|0,_=(_=_+Math.imul(re,Be)|0)+Math.imul(ue,rr)|0,x=x+Math.imul(ue,Be)|0,v=v+Math.imul(Tt,qe)|0,_=(_=_+Math.imul(Tt,Mt)|0)+Math.imul(Lt,qe)|0,x=x+Math.imul(Lt,Mt)|0,v=v+Math.imul(gt,ee)|0,_=(_=_+Math.imul(gt,Ae)|0)+Math.imul(St,ee)|0,x=x+Math.imul(St,Ae)|0,v=v+Math.imul(it,Le)|0,_=(_=_+Math.imul(it,Je)|0)+Math.imul(at,Le)|0,x=x+Math.imul(at,Je)|0;var Ne=(M+(v=v+Math.imul(st,He)|0)|0)+((8191&(_=(_=_+Math.imul(st,hr)|0)+Math.imul(pt,He)|0))<<13)|0;M=((x=x+Math.imul(pt,hr)|0)+(_>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,v=Math.imul(ie,cr),_=(_=Math.imul(ie,mr))+Math.imul(Ue,cr)|0,x=Math.imul(Ue,mr),v=v+Math.imul(de,rr)|0,_=(_=_+Math.imul(de,Be)|0)+Math.imul(we,rr)|0,x=x+Math.imul(we,Be)|0,v=v+Math.imul(re,qe)|0,_=(_=_+Math.imul(re,Mt)|0)+Math.imul(ue,qe)|0,x=x+Math.imul(ue,Mt)|0,v=v+Math.imul(Tt,ee)|0,_=(_=_+Math.imul(Tt,Ae)|0)+Math.imul(Lt,ee)|0,x=x+Math.imul(Lt,Ae)|0,v=v+Math.imul(gt,Le)|0,_=(_=_+Math.imul(gt,Je)|0)+Math.imul(St,Le)|0,x=x+Math.imul(St,Je)|0;var Re=(M+(v=v+Math.imul(it,He)|0)|0)+((8191&(_=(_=_+Math.imul(it,hr)|0)+Math.imul(at,He)|0))<<13)|0;M=((x=x+Math.imul(at,hr)|0)+(_>>>13)|0)+(Re>>>26)|0,Re&=67108863,v=Math.imul(ie,rr),_=(_=Math.imul(ie,Be))+Math.imul(Ue,rr)|0,x=Math.imul(Ue,Be),v=v+Math.imul(de,qe)|0,_=(_=_+Math.imul(de,Mt)|0)+Math.imul(we,qe)|0,x=x+Math.imul(we,Mt)|0,v=v+Math.imul(re,ee)|0,_=(_=_+Math.imul(re,Ae)|0)+Math.imul(ue,ee)|0,x=x+Math.imul(ue,Ae)|0,v=v+Math.imul(Tt,Le)|0,_=(_=_+Math.imul(Tt,Je)|0)+Math.imul(Lt,Le)|0,x=x+Math.imul(Lt,Je)|0;var Ar=(M+(v=v+Math.imul(gt,He)|0)|0)+((8191&(_=(_=_+Math.imul(gt,hr)|0)+Math.imul(St,He)|0))<<13)|0;M=((x=x+Math.imul(St,hr)|0)+(_>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,v=Math.imul(ie,qe),_=(_=Math.imul(ie,Mt))+Math.imul(Ue,qe)|0,x=Math.imul(Ue,Mt),v=v+Math.imul(de,ee)|0,_=(_=_+Math.imul(de,Ae)|0)+Math.imul(we,ee)|0,x=x+Math.imul(we,Ae)|0,v=v+Math.imul(re,Le)|0,_=(_=_+Math.imul(re,Je)|0)+Math.imul(ue,Le)|0,x=x+Math.imul(ue,Je)|0;var wr=(M+(v=v+Math.imul(Tt,He)|0)|0)+((8191&(_=(_=_+Math.imul(Tt,hr)|0)+Math.imul(Lt,He)|0))<<13)|0;M=((x=x+Math.imul(Lt,hr)|0)+(_>>>13)|0)+(wr>>>26)|0,wr&=67108863,v=Math.imul(ie,ee),_=(_=Math.imul(ie,Ae))+Math.imul(Ue,ee)|0,x=Math.imul(Ue,Ae),v=v+Math.imul(de,Le)|0,_=(_=_+Math.imul(de,Je)|0)+Math.imul(we,Le)|0,x=x+Math.imul(we,Je)|0;var kr=(M+(v=v+Math.imul(re,He)|0)|0)+((8191&(_=(_=_+Math.imul(re,hr)|0)+Math.imul(ue,He)|0))<<13)|0;M=((x=x+Math.imul(ue,hr)|0)+(_>>>13)|0)+(kr>>>26)|0,kr&=67108863,v=Math.imul(ie,Le),_=(_=Math.imul(ie,Je))+Math.imul(Ue,Le)|0,x=Math.imul(Ue,Je);var ur=(M+(v=v+Math.imul(de,He)|0)|0)+((8191&(_=(_=_+Math.imul(de,hr)|0)+Math.imul(we,He)|0))<<13)|0;M=((x=x+Math.imul(we,hr)|0)+(_>>>13)|0)+(ur>>>26)|0,ur&=67108863;var Qe=(M+(v=Math.imul(ie,He))|0)+((8191&(_=(_=Math.imul(ie,hr))+Math.imul(Ue,He)|0))<<13)|0;return M=((x=Math.imul(Ue,hr))+(_>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,B[0]=lr,B[1]=fr,B[2]=Xr,B[3]=Rr,B[4]=en,B[5]=Qr,B[6]=Lr,B[7]=xt,B[8]=Yt,B[9]=he,B[10]=ge,B[11]=Ze,B[12]=Ne,B[13]=Re,B[14]=Ar,B[15]=wr,B[16]=kr,B[17]=ur,B[18]=Qe,M!==0&&(B[19]=M,k.length++),k};function w(T,E,k){return new C().mulp(T,E,k)}function C(T,E){this.x=T,this.y=E}Math.imul||(b=g),a.prototype.mulTo=function(T,E){var k=this.length+T.length;return this.length===10&&T.length===10?b(this,T,E):k<63?g(this,T,E):k<1024?function(v,_,x){x.negative=_.negative^v.negative,x.length=v.length+_.length;for(var S=0,A=0,B=0;B<x.length-1;B++){var M=A;A=0;for(var H=67108863&S,V=Math.min(B,_.length-1),tt=Math.max(0,B-v.length+1);tt<=V;tt++){var F=B-tt,J=(0|v.words[F])*(0|_.words[tt]),L=67108863&J;H=67108863&(L=L+H|0),A+=(M=(M=M+(J/67108864|0)|0)+(L>>>26)|0)>>>26,M&=67108863}x.words[B]=H,S=M,M=A}return S!==0?x.words[B]=S:x.length--,x.strip()}(this,T,E):w(this,T,E)},C.prototype.makeRBT=function(T){for(var E=new Array(T),k=a.prototype._countBits(T)-1,v=0;v<T;v++)E[v]=this.revBin(v,k,T);return E},C.prototype.revBin=function(T,E,k){if(T===0||T===k-1)return T;for(var v=0,_=0;_<E;_++)v|=(1&T)<<E-_-1,T>>=1;return v},C.prototype.permute=function(T,E,k,v,_,x){for(var S=0;S<x;S++)v[S]=E[T[S]],_[S]=k[T[S]]},C.prototype.transform=function(T,E,k,v,_,x){this.permute(x,T,E,k,v,_);for(var S=1;S<_;S<<=1)for(var A=S<<1,B=Math.cos(2*Math.PI/A),M=Math.sin(2*Math.PI/A),H=0;H<_;H+=A)for(var V=B,tt=M,F=0;F<S;F++){var J=k[H+F],L=v[H+F],N=k[H+F+S],Y=v[H+F+S],nt=V*N-tt*Y;Y=V*Y+tt*N,N=nt,k[H+F]=J+N,v[H+F]=L+Y,k[H+F+S]=J-N,v[H+F+S]=L-Y,F!==A&&(nt=B*V-M*tt,tt=B*tt+M*V,V=nt)}},C.prototype.guessLen13b=function(T,E){var k=1|Math.max(E,T),v=1&k,_=0;for(k=k/2|0;k;k>>>=1)_++;return 1<<_+1+v},C.prototype.conjugate=function(T,E,k){if(!(k<=1))for(var v=0;v<k/2;v++){var _=T[v];T[v]=T[k-v-1],T[k-v-1]=_,_=E[v],E[v]=-E[k-v-1],E[k-v-1]=-_}},C.prototype.normalize13b=function(T,E){for(var k=0,v=0;v<E/2;v++){var _=8192*Math.round(T[2*v+1]/E)+Math.round(T[2*v]/E)+k;T[v]=67108863&_,k=_<67108864?0:_/67108864|0}return T},C.prototype.convert13b=function(T,E,k,v){for(var _=0,x=0;x<E;x++)_+=0|T[x],k[2*x]=8191&_,_>>>=13,k[2*x+1]=8191&_,_>>>=13;for(x=2*E;x<v;++x)k[x]=0;l(_===0),l((-8192&_)==0)},C.prototype.stub=function(T){for(var E=new Array(T),k=0;k<T;k++)E[k]=0;return E},C.prototype.mulp=function(T,E,k){var v=2*this.guessLen13b(T.length,E.length),_=this.makeRBT(v),x=this.stub(v),S=new Array(v),A=new Array(v),B=new Array(v),M=new Array(v),H=new Array(v),V=new Array(v),tt=k.words;tt.length=v,this.convert13b(T.words,T.length,S,v),this.convert13b(E.words,E.length,M,v),this.transform(S,x,A,B,v,_),this.transform(M,x,H,V,v,_);for(var F=0;F<v;F++){var J=A[F]*H[F]-B[F]*V[F];B[F]=A[F]*V[F]+B[F]*H[F],A[F]=J}return this.conjugate(A,B,v),this.transform(A,B,tt,x,v,_),this.conjugate(tt,x,v),this.normalize13b(tt,v),k.negative=T.negative^E.negative,k.length=T.length+E.length,k.strip()},a.prototype.mul=function(T){var E=new a(null);return E.words=new Array(this.length+T.length),this.mulTo(T,E)},a.prototype.mulf=function(T){var E=new a(null);return E.words=new Array(this.length+T.length),w(this,T,E)},a.prototype.imul=function(T){return this.clone().mulTo(T,this)},a.prototype.imuln=function(T){l(typeof T=="number"),l(T<67108864);for(var E=0,k=0;k<this.length;k++){var v=(0|this.words[k])*T,_=(67108863&v)+(67108863&E);E>>=26,E+=v/67108864|0,E+=_>>>26,this.words[k]=67108863&_}return E!==0&&(this.words[k]=E,this.length++),this},a.prototype.muln=function(T){return this.clone().imuln(T)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(T){var E=function(x){for(var S=new Array(x.bitLength()),A=0;A<S.length;A++){var B=A/26|0,M=A%26;S[A]=(x.words[B]&1<<M)>>>M}return S}(T);if(E.length===0)return new a(1);for(var k=this,v=0;v<E.length&&E[v]===0;v++,k=k.sqr());if(++v<E.length)for(var _=k.sqr();v<E.length;v++,_=_.sqr())E[v]!==0&&(k=k.mul(_));return k},a.prototype.iushln=function(T){l(typeof T=="number"&&T>=0);var E,k=T%26,v=(T-k)/26,_=67108863>>>26-k<<26-k;if(k!==0){var x=0;for(E=0;E<this.length;E++){var S=this.words[E]&_,A=(0|this.words[E])-S<<k;this.words[E]=A|x,x=S>>>26-k}x&&(this.words[E]=x,this.length++)}if(v!==0){for(E=this.length-1;E>=0;E--)this.words[E+v]=this.words[E];for(E=0;E<v;E++)this.words[E]=0;this.length+=v}return this.strip()},a.prototype.ishln=function(T){return l(this.negative===0),this.iushln(T)},a.prototype.iushrn=function(T,E,k){var v;l(typeof T=="number"&&T>=0),v=E?(E-E%26)/26:0;var _=T%26,x=Math.min((T-_)/26,this.length),S=67108863^67108863>>>_<<_,A=k;if(v-=x,v=Math.max(0,v),A){for(var B=0;B<x;B++)A.words[B]=this.words[B];A.length=x}if(x!==0)if(this.length>x)for(this.length-=x,B=0;B<this.length;B++)this.words[B]=this.words[B+x];else this.words[0]=0,this.length=1;var M=0;for(B=this.length-1;B>=0&&(M!==0||B>=v);B--){var H=0|this.words[B];this.words[B]=M<<26-_|H>>>_,M=H&S}return A&&M!==0&&(A.words[A.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(T,E,k){return l(this.negative===0),this.iushrn(T,E,k)},a.prototype.shln=function(T){return this.clone().ishln(T)},a.prototype.ushln=function(T){return this.clone().iushln(T)},a.prototype.shrn=function(T){return this.clone().ishrn(T)},a.prototype.ushrn=function(T){return this.clone().iushrn(T)},a.prototype.testn=function(T){l(typeof T=="number"&&T>=0);var E=T%26,k=(T-E)/26,v=1<<E;return!(this.length<=k)&&!!(this.words[k]&v)},a.prototype.imaskn=function(T){l(typeof T=="number"&&T>=0);var E=T%26,k=(T-E)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(E!==0&&k++,this.length=Math.min(k,this.length),E!==0){var v=67108863^67108863>>>E<<E;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(T){return this.clone().imaskn(T)},a.prototype.iaddn=function(T){return l(typeof T=="number"),l(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},a.prototype._iaddn=function(T){this.words[0]+=T;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},a.prototype.isubn=function(T){if(l(typeof T=="number"),l(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},a.prototype.addn=function(T){return this.clone().iaddn(T)},a.prototype.subn=function(T){return this.clone().isubn(T)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(T,E,k){var v,_,x=T.length+k;this._expand(x);var S=0;for(v=0;v<T.length;v++){_=(0|this.words[v+k])+S;var A=(0|T.words[v])*E;S=((_-=67108863&A)>>26)-(A/67108864|0),this.words[v+k]=67108863&_}for(;v<this.length-k;v++)S=(_=(0|this.words[v+k])+S)>>26,this.words[v+k]=67108863&_;if(S===0)return this.strip();for(l(S===-1),S=0,v=0;v<this.length;v++)S=(_=-(0|this.words[v])+S)>>26,this.words[v]=67108863&_;return this.negative=1,this.strip()},a.prototype._wordDiv=function(T,E){var k=(this.length,T.length),v=this.clone(),_=T,x=0|_.words[_.length-1];(k=26-this._countBits(x))!==0&&(_=_.ushln(k),v.iushln(k),x=0|_.words[_.length-1]);var S,A=v.length-_.length;if(E!=="mod"){(S=new a(null)).length=A+1,S.words=new Array(S.length);for(var B=0;B<S.length;B++)S.words[B]=0}var M=v.clone()._ishlnsubmul(_,1,A);M.negative===0&&(v=M,S&&(S.words[A]=1));for(var H=A-1;H>=0;H--){var V=67108864*(0|v.words[_.length+H])+(0|v.words[_.length+H-1]);for(V=Math.min(V/x|0,67108863),v._ishlnsubmul(_,V,H);v.negative!==0;)V--,v.negative=0,v._ishlnsubmul(_,1,H),v.isZero()||(v.negative^=1);S&&(S.words[H]=V)}return S&&S.strip(),v.strip(),E!=="div"&&k!==0&&v.iushrn(k),{div:S||null,mod:v}},a.prototype.divmod=function(T,E,k){return l(!T.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&T.negative===0?(x=this.neg().divmod(T,E),E!=="mod"&&(v=x.div.neg()),E!=="div"&&(_=x.mod.neg(),k&&_.negative!==0&&_.iadd(T)),{div:v,mod:_}):this.negative===0&&T.negative!==0?(x=this.divmod(T.neg(),E),E!=="mod"&&(v=x.div.neg()),{div:v,mod:x.mod}):this.negative&T.negative?(x=this.neg().divmod(T.neg(),E),E!=="div"&&(_=x.mod.neg(),k&&_.negative!==0&&_.isub(T)),{div:x.div,mod:_}):T.length>this.length||this.cmp(T)<0?{div:new a(0),mod:this}:T.length===1?E==="div"?{div:this.divn(T.words[0]),mod:null}:E==="mod"?{div:null,mod:new a(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new a(this.modn(T.words[0]))}:this._wordDiv(T,E);var v,_,x},a.prototype.div=function(T){return this.divmod(T,"div",!1).div},a.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},a.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},a.prototype.divRound=function(T){var E=this.divmod(T);if(E.mod.isZero())return E.div;var k=E.div.negative!==0?E.mod.isub(T):E.mod,v=T.ushrn(1),_=T.andln(1),x=k.cmp(v);return x<0||_===1&&x===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},a.prototype.modn=function(T){l(T<=67108863);for(var E=(1<<26)%T,k=0,v=this.length-1;v>=0;v--)k=(E*k+(0|this.words[v]))%T;return k},a.prototype.idivn=function(T){l(T<=67108863);for(var E=0,k=this.length-1;k>=0;k--){var v=(0|this.words[k])+67108864*E;this.words[k]=v/T|0,E=v%T}return this.strip()},a.prototype.divn=function(T){return this.clone().idivn(T)},a.prototype.egcd=function(T){l(T.negative===0),l(!T.isZero());var E=this,k=T.clone();E=E.negative!==0?E.umod(T):E.clone();for(var v=new a(1),_=new a(0),x=new a(0),S=new a(1),A=0;E.isEven()&&k.isEven();)E.iushrn(1),k.iushrn(1),++A;for(var B=k.clone(),M=E.clone();!E.isZero();){for(var H=0,V=1;!(E.words[0]&V)&&H<26;++H,V<<=1);if(H>0)for(E.iushrn(H);H-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(B),_.isub(M)),v.iushrn(1),_.iushrn(1);for(var tt=0,F=1;!(k.words[0]&F)&&tt<26;++tt,F<<=1);if(tt>0)for(k.iushrn(tt);tt-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(B),S.isub(M)),x.iushrn(1),S.iushrn(1);E.cmp(k)>=0?(E.isub(k),v.isub(x),_.isub(S)):(k.isub(E),x.isub(v),S.isub(_))}return{a:x,b:S,gcd:k.iushln(A)}},a.prototype._invmp=function(T){l(T.negative===0),l(!T.isZero());var E=this,k=T.clone();E=E.negative!==0?E.umod(T):E.clone();for(var v,_=new a(1),x=new a(0),S=k.clone();E.cmpn(1)>0&&k.cmpn(1)>0;){for(var A=0,B=1;!(E.words[0]&B)&&A<26;++A,B<<=1);if(A>0)for(E.iushrn(A);A-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var M=0,H=1;!(k.words[0]&H)&&M<26;++M,H<<=1);if(M>0)for(k.iushrn(M);M-- >0;)x.isOdd()&&x.iadd(S),x.iushrn(1);E.cmp(k)>=0?(E.isub(k),_.isub(x)):(k.isub(E),x.isub(_))}return(v=E.cmpn(1)===0?_:x).cmpn(0)<0&&v.iadd(T),v},a.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var E=this.clone(),k=T.clone();E.negative=0,k.negative=0;for(var v=0;E.isEven()&&k.isEven();v++)E.iushrn(1),k.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;k.isEven();)k.iushrn(1);var _=E.cmp(k);if(_<0){var x=E;E=k,k=x}else if(_===0||k.cmpn(1)===0)break;E.isub(k)}return k.iushln(v)},a.prototype.invm=function(T){return this.egcd(T).a.umod(T)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(T){return this.words[0]&T},a.prototype.bincn=function(T){l(typeof T=="number");var E=T%26,k=(T-E)/26,v=1<<E;if(this.length<=k)return this._expand(k+1),this.words[k]|=v,this;for(var _=v,x=k;_!==0&&x<this.length;x++){var S=0|this.words[x];_=(S+=_)>>>26,S&=67108863,this.words[x]=S}return _!==0&&(this.words[x]=_,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(T){var E,k=T<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)E=1;else{k&&(T=-T),l(T<=67108863,"Number is too big");var v=0|this.words[0];E=v===T?0:v<T?-1:1}return this.negative!==0?0|-E:E},a.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var E=this.ucmp(T);return this.negative!==0?0|-E:E},a.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var E=0,k=this.length-1;k>=0;k--){var v=0|this.words[k],_=0|T.words[k];if(v!==_){v<_?E=-1:v>_&&(E=1);break}}return E},a.prototype.gtn=function(T){return this.cmpn(T)===1},a.prototype.gt=function(T){return this.cmp(T)===1},a.prototype.gten=function(T){return this.cmpn(T)>=0},a.prototype.gte=function(T){return this.cmp(T)>=0},a.prototype.ltn=function(T){return this.cmpn(T)===-1},a.prototype.lt=function(T){return this.cmp(T)===-1},a.prototype.lten=function(T){return this.cmpn(T)<=0},a.prototype.lte=function(T){return this.cmp(T)<=0},a.prototype.eqn=function(T){return this.cmpn(T)===0},a.prototype.eq=function(T){return this.cmp(T)===0},a.red=function(T){return new z(T)},a.prototype.toRed=function(T){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},a.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(T){return this.red=T,this},a.prototype.forceRed=function(T){return l(!this.red,"Already a number in reduction context"),this._forceRed(T)},a.prototype.redAdd=function(T){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},a.prototype.redIAdd=function(T){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},a.prototype.redSub=function(T){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},a.prototype.redISub=function(T){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},a.prototype.redShl=function(T){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},a.prototype.redMul=function(T){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},a.prototype.redIMul=function(T){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},a.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(T){return l(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var j={k256:null,p224:null,p192:null,p25519:null};function I(T,E){this.name=T,this.p=new a(E,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(T){if(typeof T=="string"){var E=a._prime(T);this.m=E.p,this.prime=E}else l(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function R(T){z.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var T=new a(null);return T.words=new Array(Math.ceil(this.n/13)),T},I.prototype.ireduce=function(T){var E,k=T;do this.split(k,this.tmp),E=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(E>this.n);var v=E<this.n?-1:k.ucmp(this.p);return v===0?(k.words[0]=0,k.length=1):v>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},I.prototype.split=function(T,E){T.iushrn(this.n,0,E)},I.prototype.imulK=function(T){return T.imul(this.k)},u(q,I),q.prototype.split=function(T,E){for(var k=Math.min(T.length,9),v=0;v<k;v++)E.words[v]=T.words[v];if(E.length=k,T.length<=9)return T.words[0]=0,void(T.length=1);var _=T.words[9];for(E.words[E.length++]=4194303&_,v=10;v<T.length;v++){var x=0|T.words[v];T.words[v-10]=(4194303&x)<<4|_>>>22,_=x}_>>>=22,T.words[v-10]=_,_===0&&T.length>10?T.length-=10:T.length-=9},q.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var E=0,k=0;k<T.length;k++){var v=0|T.words[k];E+=977*v,T.words[k]=67108863&E,E=64*v+(E/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},u(P,I),u(U,I),u(W,I),W.prototype.imulK=function(T){for(var E=0,k=0;k<T.length;k++){var v=19*(0|T.words[k])+E,_=67108863&v;v>>>=26,T.words[k]=_,E=v}return E!==0&&(T.words[T.length++]=E),T},a._prime=function(T){if(j[T])return j[T];var E;if(T==="k256")E=new q;else if(T==="p224")E=new P;else if(T==="p192")E=new U;else{if(T!=="p25519")throw new Error("Unknown prime "+T);E=new W}return j[T]=E,E},z.prototype._verify1=function(T){l(T.negative===0,"red works only with positives"),l(T.red,"red works only with red numbers")},z.prototype._verify2=function(T,E){l((T.negative|E.negative)==0,"red works only with positives"),l(T.red&&T.red===E.red,"red works only with red numbers")},z.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},z.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},z.prototype.add=function(T,E){this._verify2(T,E);var k=T.add(E);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},z.prototype.iadd=function(T,E){this._verify2(T,E);var k=T.iadd(E);return k.cmp(this.m)>=0&&k.isub(this.m),k},z.prototype.sub=function(T,E){this._verify2(T,E);var k=T.sub(E);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},z.prototype.isub=function(T,E){this._verify2(T,E);var k=T.isub(E);return k.cmpn(0)<0&&k.iadd(this.m),k},z.prototype.shl=function(T,E){return this._verify1(T),this.imod(T.ushln(E))},z.prototype.imul=function(T,E){return this._verify2(T,E),this.imod(T.imul(E))},z.prototype.mul=function(T,E){return this._verify2(T,E),this.imod(T.mul(E))},z.prototype.isqr=function(T){return this.imul(T,T.clone())},z.prototype.sqr=function(T){return this.mul(T,T)},z.prototype.sqrt=function(T){if(T.isZero())return T.clone();var E=this.m.andln(3);if(l(E%2==1),E===3){var k=this.m.add(new a(1)).iushrn(2);return this.pow(T,k)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);l(!v.isZero());var x=new a(1).toRed(this),S=x.redNeg(),A=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new a(2*B*B).toRed(this);this.pow(B,A).cmp(S)!==0;)B.redIAdd(S);for(var M=this.pow(B,v),H=this.pow(T,v.addn(1).iushrn(1)),V=this.pow(T,v),tt=_;V.cmp(x)!==0;){for(var F=V,J=0;F.cmp(x)!==0;J++)F=F.redSqr();l(J<tt);var L=this.pow(M,new a(1).iushln(tt-J-1));H=H.redMul(L),M=L.redSqr(),V=V.redMul(M),tt=J}return H},z.prototype.invm=function(T){var E=T._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},z.prototype.pow=function(T,E){if(E.isZero())return new a(1).toRed(this);if(E.cmpn(1)===0)return T.clone();var k=new Array(16);k[0]=new a(1).toRed(this),k[1]=T;for(var v=2;v<k.length;v++)k[v]=this.mul(k[v-1],T);var _=k[0],x=0,S=0,A=E.bitLength()%26;for(A===0&&(A=26),v=E.length-1;v>=0;v--){for(var B=E.words[v],M=A-1;M>=0;M--){var H=B>>M&1;_!==k[0]&&(_=this.sqr(_)),H!==0||x!==0?(x<<=1,x|=H,(++S===4||v===0&&M===0)&&(_=this.mul(_,k[x]),S=0,x=0)):S=0}A=26}return _},z.prototype.convertTo=function(T){var E=T.umod(this.m);return E===T?E.clone():E},z.prototype.convertFrom=function(T){var E=T.clone();return E.red=null,E},a.mont=function(T){return new R(T)},u(R,z),R.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},R.prototype.convertFrom=function(T){var E=this.imod(T.mul(this.rinv));return E.red=null,E},R.prototype.imul=function(T,E){if(T.isZero()||E.isZero())return T.words[0]=0,T.length=1,T;var k=T.imul(E),v=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=k.isub(v).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},R.prototype.mul=function(T,E){if(T.isZero()||E.isZero())return new a(0)._forceRed(this);var k=T.mul(E),v=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=k.isub(v).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},R.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],185:[function(t,r,s){s.byteLength=function(h){var p=d(h),y=p[0],m=p[1];return 3*(y+m)/4-m},s.toByteArray=function(h){var p,y,m=d(h),g=m[0],b=m[1],w=new l(function(I,q,P){return 3*(q+P)/4-P}(0,g,b)),C=0,j=b>0?g-4:g;for(y=0;y<j;y+=4)p=o[h.charCodeAt(y)]<<18|o[h.charCodeAt(y+1)]<<12|o[h.charCodeAt(y+2)]<<6|o[h.charCodeAt(y+3)],w[C++]=p>>16&255,w[C++]=p>>8&255,w[C++]=255&p;return b===2&&(p=o[h.charCodeAt(y)]<<2|o[h.charCodeAt(y+1)]>>4,w[C++]=255&p),b===1&&(p=o[h.charCodeAt(y)]<<10|o[h.charCodeAt(y+1)]<<4|o[h.charCodeAt(y+2)]>>2,w[C++]=p>>8&255,w[C++]=255&p),w},s.fromByteArray=function(h){for(var p,y=h.length,m=y%3,g=[],b=0,w=y-m;b<w;b+=16383)g.push(f(h,b,b+16383>w?w:b+16383));return m===1?(p=h[y-1],g.push(i[p>>2]+i[p<<4&63]+"==")):m===2&&(p=(h[y-2]<<8)+h[y-1],g.push(i[p>>10]+i[p>>4&63]+i[p<<2&63]+"=")),g.join("")};for(var i=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=u.length;a<c;++a)i[a]=u[a],o[u.charCodeAt(a)]=a;function d(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=p),[y,y===p?0:4-y%4]}function f(h,p,y){for(var m,g,b=[],w=p;w<y;w+=3)m=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),b.push(i[(g=m)>>18&63]+i[g>>12&63]+i[g>>6&63]+i[63&g]);return b.join("")}o[45]=62,o[95]=63},{}],186:[function(t,r,s){(function(i,o){function l(k,v){if(!k)throw new Error(v||"Assertion failed")}function u(k,v){k.super_=v;var _=function(){};_.prototype=v.prototype,k.prototype=new _,k.prototype.constructor=k}function a(k,v,_){if(a.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(v!=="le"&&v!=="be"||(_=v,v=10),this._init(k||0,v||10,_||"be"))}var c;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function d(k,v){var _=k.charCodeAt(v);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void l(!1,"Invalid character in "+k)}function f(k,v,_){var x=d(k,_);return _-1>=v&&(x|=d(k,_-1)<<4),x}function h(k,v,_,x){for(var S=0,A=0,B=Math.min(k.length,_),M=v;M<B;M++){var H=k.charCodeAt(M)-48;S*=x,A=H>=49?H-49+10:H>=17?H-17+10:H,l(H>=0&&A<x,"Invalid character"),S+=A}return S}function p(k,v){k.words=v.words,k.length=v.length,k.negative=v.negative,k.red=v.red}if(a.isBN=function(k){return k instanceof a||k!==null&&typeof k=="object"&&k.constructor.wordSize===a.wordSize&&Array.isArray(k.words)},a.max=function(k,v){return k.cmp(v)>0?k:v},a.min=function(k,v){return k.cmp(v)<0?k:v},a.prototype._init=function(k,v,_){if(typeof k=="number")return this._initNumber(k,v,_);if(typeof k=="object")return this._initArray(k,v,_);v==="hex"&&(v=16),l(v===(0|v)&&v>=2&&v<=36);var x=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<k.length&&(v===16?this._parseHex(k,x,_):(this._parseBase(k,v,x),_==="le"&&this._initArray(this.toArray(),v,_)))},a.prototype._initNumber=function(k,v,_){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(l(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),v,_)},a.prototype._initArray=function(k,v,_){if(l(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,A,B=0;if(_==="be")for(x=k.length-1,S=0;x>=0;x-=3)A=k[x]|k[x-1]<<8|k[x-2]<<16,this.words[S]|=A<<B&67108863,this.words[S+1]=A>>>26-B&67108863,(B+=24)>=26&&(B-=26,S++);else if(_==="le")for(x=0,S=0;x<k.length;x+=3)A=k[x]|k[x+1]<<8|k[x+2]<<16,this.words[S]|=A<<B&67108863,this.words[S+1]=A>>>26-B&67108863,(B+=24)>=26&&(B-=26,S++);return this._strip()},a.prototype._parseHex=function(k,v,_){this.length=Math.ceil((k.length-v)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,A=0,B=0;if(_==="be")for(x=k.length-1;x>=v;x-=2)S=f(k,v,x)<<A,this.words[B]|=67108863&S,A>=18?(A-=18,B+=1,this.words[B]|=S>>>26):A+=8;else for(x=(k.length-v)%2==0?v+1:v;x<k.length;x+=2)S=f(k,v,x)<<A,this.words[B]|=67108863&S,A>=18?(A-=18,B+=1,this.words[B]|=S>>>26):A+=8;this._strip()},a.prototype._parseBase=function(k,v,_){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=v)x++;x--,S=S/v|0;for(var A=k.length-_,B=A%x,M=Math.min(A,A-B)+_,H=0,V=_;V<M;V+=x)H=h(k,V,V+x,v),this.imuln(S),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(B!==0){var tt=1;for(H=h(k,V,k.length,v),V=0;V<B;V++)tt*=v;this.imuln(tt),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this._strip()},a.prototype.copy=function(k){k.words=new Array(this.length);for(var v=0;v<this.length;v++)k.words[v]=this.words[v];k.length=this.length,k.negative=this.negative,k.red=this.red},a.prototype._move=function(k){p(k,this)},a.prototype.clone=function(){var k=new a(null);return this.copy(k),k},a.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{a.prototype.inspect=y}else a.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(k,v){var _;if(v=0|v||1,(k=k||10)===16||k==="hex"){_="";for(var x=0,S=0,A=0;A<this.length;A++){var B=this.words[A],M=(16777215&(B<<x|S)).toString(16);S=B>>>24-x&16777215,(x+=2)>=26&&(x-=26,A--),_=S!==0||A!==this.length-1?m[6-M.length]+M+_:M+_}for(S!==0&&(_=S.toString(16)+_);_.length%v!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(k===(0|k)&&k>=2&&k<=36){var H=g[k],V=b[k];_="";var tt=this.clone();for(tt.negative=0;!tt.isZero();){var F=tt.modrn(V).toString(k);_=(tt=tt.idivn(V)).isZero()?F+_:m[H-F.length]+F+_}for(this.isZero()&&(_="0"+_);_.length%v!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}l(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(k,v){return this.toArrayLike(c,k,v)}),a.prototype.toArray=function(k,v){return this.toArrayLike(Array,k,v)};function w(k,v,_){_.negative=v.negative^k.negative;var x=k.length+v.length|0;_.length=x,x=x-1|0;var S=0|k.words[0],A=0|v.words[0],B=S*A,M=67108863&B,H=B/67108864|0;_.words[0]=M;for(var V=1;V<x;V++){for(var tt=H>>>26,F=67108863&H,J=Math.min(V,v.length-1),L=Math.max(0,V-k.length+1);L<=J;L++){var N=V-L|0;tt+=(B=(S=0|k.words[N])*(A=0|v.words[L])+F)/67108864|0,F=67108863&B}_.words[V]=0|F,H=0|tt}return H!==0?_.words[V]=0|H:_.length--,_._strip()}a.prototype.toArrayLike=function(k,v,_){this._strip();var x=this.byteLength(),S=_||Math.max(1,x);l(x<=S,"byte array longer than desired length"),l(S>0,"Requested array length <= 0");var A=function(B,M){return B.allocUnsafe?B.allocUnsafe(M):new B(M)}(k,S);return this["_toArrayLike"+(v==="le"?"LE":"BE")](A,x),A},a.prototype._toArrayLikeLE=function(k,v){for(var _=0,x=0,S=0,A=0;S<this.length;S++){var B=this.words[S]<<A|x;k[_++]=255&B,_<k.length&&(k[_++]=B>>8&255),_<k.length&&(k[_++]=B>>16&255),A===6?(_<k.length&&(k[_++]=B>>24&255),x=0,A=0):(x=B>>>24,A+=2)}if(_<k.length)for(k[_++]=x;_<k.length;)k[_++]=0},a.prototype._toArrayLikeBE=function(k,v){for(var _=k.length-1,x=0,S=0,A=0;S<this.length;S++){var B=this.words[S]<<A|x;k[_--]=255&B,_>=0&&(k[_--]=B>>8&255),_>=0&&(k[_--]=B>>16&255),A===6?(_>=0&&(k[_--]=B>>24&255),x=0,A=0):(x=B>>>24,A+=2)}if(_>=0)for(k[_--]=x;_>=0;)k[_--]=0},Math.clz32?a.prototype._countBits=function(k){return 32-Math.clz32(k)}:a.prototype._countBits=function(k){var v=k,_=0;return v>=4096&&(_+=13,v>>>=13),v>=64&&(_+=7,v>>>=7),v>=8&&(_+=4,v>>>=4),v>=2&&(_+=2,v>>>=2),_+v},a.prototype._zeroBits=function(k){if(k===0)return 26;var v=k,_=0;return!(8191&v)&&(_+=13,v>>>=13),!(127&v)&&(_+=7,v>>>=7),!(15&v)&&(_+=4,v>>>=4),!(3&v)&&(_+=2,v>>>=2),!(1&v)&&_++,_},a.prototype.bitLength=function(){var k=this.words[this.length-1],v=this._countBits(k);return 26*(this.length-1)+v},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,v=0;v<this.length;v++){var _=this._zeroBits(this.words[v]);if(k+=_,_!==26)break}return k},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},a.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var v=0;v<k.length;v++)this.words[v]=this.words[v]|k.words[v];return this._strip()},a.prototype.ior=function(k){return l((this.negative|k.negative)==0),this.iuor(k)},a.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},a.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},a.prototype.iuand=function(k){var v;v=this.length>k.length?k:this;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]&k.words[_];return this.length=v.length,this._strip()},a.prototype.iand=function(k){return l((this.negative|k.negative)==0),this.iuand(k)},a.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},a.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},a.prototype.iuxor=function(k){var v,_;this.length>k.length?(v=this,_=k):(v=k,_=this);for(var x=0;x<_.length;x++)this.words[x]=v.words[x]^_.words[x];if(this!==v)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=v.length,this._strip()},a.prototype.ixor=function(k){return l((this.negative|k.negative)==0),this.iuxor(k)},a.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},a.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},a.prototype.inotn=function(k){l(typeof k=="number"&&k>=0);var v=0|Math.ceil(k/26),_=k%26;this._expand(v),_>0&&v--;for(var x=0;x<v;x++)this.words[x]=67108863&~this.words[x];return _>0&&(this.words[x]=~this.words[x]&67108863>>26-_),this._strip()},a.prototype.notn=function(k){return this.clone().inotn(k)},a.prototype.setn=function(k,v){l(typeof k=="number"&&k>=0);var _=k/26|0,x=k%26;return this._expand(_+1),this.words[_]=v?this.words[_]|1<<x:this.words[_]&~(1<<x),this._strip()},a.prototype.iadd=function(k){var v,_,x;if(this.negative!==0&&k.negative===0)return this.negative=0,v=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,v=this.isub(k),k.negative=1,v._normSign();this.length>k.length?(_=this,x=k):(_=k,x=this);for(var S=0,A=0;A<x.length;A++)v=(0|_.words[A])+(0|x.words[A])+S,this.words[A]=67108863&v,S=v>>>26;for(;S!==0&&A<_.length;A++)v=(0|_.words[A])+S,this.words[A]=67108863&v,S=v>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;A<_.length;A++)this.words[A]=_.words[A];return this},a.prototype.add=function(k){var v;return k.negative!==0&&this.negative===0?(k.negative=0,v=this.sub(k),k.negative^=1,v):k.negative===0&&this.negative!==0?(this.negative=0,v=k.sub(this),this.negative=1,v):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},a.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var v=this.iadd(k);return k.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var _,x,S=this.cmp(k);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(_=this,x=k):(_=k,x=this);for(var A=0,B=0;B<x.length;B++)A=(v=(0|_.words[B])-(0|x.words[B])+A)>>26,this.words[B]=67108863&v;for(;A!==0&&B<_.length;B++)A=(v=(0|_.words[B])+A)>>26,this.words[B]=67108863&v;if(A===0&&B<_.length&&_!==this)for(;B<_.length;B++)this.words[B]=_.words[B];return this.length=Math.max(this.length,B),_!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(k){return this.clone().isub(k)};var C=function(k,v,_){var x,S,A,B=k.words,M=v.words,H=_.words,V=0,tt=0|B[0],F=8191&tt,J=tt>>>13,L=0|B[1],N=8191&L,Y=L>>>13,nt=0|B[2],lt=8191&nt,st=nt>>>13,pt=0|B[3],ft=8191&pt,it=pt>>>13,at=0|B[4],bt=8191&at,gt=at>>>13,St=0|B[5],kt=8191&St,Tt=St>>>13,Lt=0|B[6],Xt=8191&Lt,re=Lt>>>13,ue=0|B[7],ce=8191&ue,de=ue>>>13,we=0|B[8],Me=8191&we,ie=we>>>13,Ue=0|B[9],me=8191&Ue,Ce=Ue>>>13,xe=0|M[0],ne=8191&xe,ze=xe>>>13,We=0|M[1],Or=8191&We,te=We>>>13,Sr=0|M[2],br=8191&Sr,Ye=Sr>>>13,Ve=0|M[3],er=8191&Ve,cr=Ve>>>13,mr=0|M[4],jr=8191&mr,rr=mr>>>13,Be=0|M[5],Nr=8191&Be,qe=Be>>>13,Mt=0|M[6],qt=8191&Mt,ee=Mt>>>13,Ae=0|M[7],sr=8191&Ae,Le=Ae>>>13,Je=0|M[8],Ke=8191&Je,He=Je>>>13,hr=0|M[9],lr=8191&hr,fr=hr>>>13;_.negative=k.negative^v.negative,_.length=19;var Xr=(V+(x=Math.imul(F,ne))|0)+((8191&(S=(S=Math.imul(F,ze))+Math.imul(J,ne)|0))<<13)|0;V=((A=Math.imul(J,ze))+(S>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,x=Math.imul(N,ne),S=(S=Math.imul(N,ze))+Math.imul(Y,ne)|0,A=Math.imul(Y,ze);var Rr=(V+(x=x+Math.imul(F,Or)|0)|0)+((8191&(S=(S=S+Math.imul(F,te)|0)+Math.imul(J,Or)|0))<<13)|0;V=((A=A+Math.imul(J,te)|0)+(S>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(lt,ne),S=(S=Math.imul(lt,ze))+Math.imul(st,ne)|0,A=Math.imul(st,ze),x=x+Math.imul(N,Or)|0,S=(S=S+Math.imul(N,te)|0)+Math.imul(Y,Or)|0,A=A+Math.imul(Y,te)|0;var en=(V+(x=x+Math.imul(F,br)|0)|0)+((8191&(S=(S=S+Math.imul(F,Ye)|0)+Math.imul(J,br)|0))<<13)|0;V=((A=A+Math.imul(J,Ye)|0)+(S>>>13)|0)+(en>>>26)|0,en&=67108863,x=Math.imul(ft,ne),S=(S=Math.imul(ft,ze))+Math.imul(it,ne)|0,A=Math.imul(it,ze),x=x+Math.imul(lt,Or)|0,S=(S=S+Math.imul(lt,te)|0)+Math.imul(st,Or)|0,A=A+Math.imul(st,te)|0,x=x+Math.imul(N,br)|0,S=(S=S+Math.imul(N,Ye)|0)+Math.imul(Y,br)|0,A=A+Math.imul(Y,Ye)|0;var Qr=(V+(x=x+Math.imul(F,er)|0)|0)+((8191&(S=(S=S+Math.imul(F,cr)|0)+Math.imul(J,er)|0))<<13)|0;V=((A=A+Math.imul(J,cr)|0)+(S>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,x=Math.imul(bt,ne),S=(S=Math.imul(bt,ze))+Math.imul(gt,ne)|0,A=Math.imul(gt,ze),x=x+Math.imul(ft,Or)|0,S=(S=S+Math.imul(ft,te)|0)+Math.imul(it,Or)|0,A=A+Math.imul(it,te)|0,x=x+Math.imul(lt,br)|0,S=(S=S+Math.imul(lt,Ye)|0)+Math.imul(st,br)|0,A=A+Math.imul(st,Ye)|0,x=x+Math.imul(N,er)|0,S=(S=S+Math.imul(N,cr)|0)+Math.imul(Y,er)|0,A=A+Math.imul(Y,cr)|0;var Lr=(V+(x=x+Math.imul(F,jr)|0)|0)+((8191&(S=(S=S+Math.imul(F,rr)|0)+Math.imul(J,jr)|0))<<13)|0;V=((A=A+Math.imul(J,rr)|0)+(S>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(kt,ne),S=(S=Math.imul(kt,ze))+Math.imul(Tt,ne)|0,A=Math.imul(Tt,ze),x=x+Math.imul(bt,Or)|0,S=(S=S+Math.imul(bt,te)|0)+Math.imul(gt,Or)|0,A=A+Math.imul(gt,te)|0,x=x+Math.imul(ft,br)|0,S=(S=S+Math.imul(ft,Ye)|0)+Math.imul(it,br)|0,A=A+Math.imul(it,Ye)|0,x=x+Math.imul(lt,er)|0,S=(S=S+Math.imul(lt,cr)|0)+Math.imul(st,er)|0,A=A+Math.imul(st,cr)|0,x=x+Math.imul(N,jr)|0,S=(S=S+Math.imul(N,rr)|0)+Math.imul(Y,jr)|0,A=A+Math.imul(Y,rr)|0;var xt=(V+(x=x+Math.imul(F,Nr)|0)|0)+((8191&(S=(S=S+Math.imul(F,qe)|0)+Math.imul(J,Nr)|0))<<13)|0;V=((A=A+Math.imul(J,qe)|0)+(S>>>13)|0)+(xt>>>26)|0,xt&=67108863,x=Math.imul(Xt,ne),S=(S=Math.imul(Xt,ze))+Math.imul(re,ne)|0,A=Math.imul(re,ze),x=x+Math.imul(kt,Or)|0,S=(S=S+Math.imul(kt,te)|0)+Math.imul(Tt,Or)|0,A=A+Math.imul(Tt,te)|0,x=x+Math.imul(bt,br)|0,S=(S=S+Math.imul(bt,Ye)|0)+Math.imul(gt,br)|0,A=A+Math.imul(gt,Ye)|0,x=x+Math.imul(ft,er)|0,S=(S=S+Math.imul(ft,cr)|0)+Math.imul(it,er)|0,A=A+Math.imul(it,cr)|0,x=x+Math.imul(lt,jr)|0,S=(S=S+Math.imul(lt,rr)|0)+Math.imul(st,jr)|0,A=A+Math.imul(st,rr)|0,x=x+Math.imul(N,Nr)|0,S=(S=S+Math.imul(N,qe)|0)+Math.imul(Y,Nr)|0,A=A+Math.imul(Y,qe)|0;var Yt=(V+(x=x+Math.imul(F,qt)|0)|0)+((8191&(S=(S=S+Math.imul(F,ee)|0)+Math.imul(J,qt)|0))<<13)|0;V=((A=A+Math.imul(J,ee)|0)+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(ce,ne),S=(S=Math.imul(ce,ze))+Math.imul(de,ne)|0,A=Math.imul(de,ze),x=x+Math.imul(Xt,Or)|0,S=(S=S+Math.imul(Xt,te)|0)+Math.imul(re,Or)|0,A=A+Math.imul(re,te)|0,x=x+Math.imul(kt,br)|0,S=(S=S+Math.imul(kt,Ye)|0)+Math.imul(Tt,br)|0,A=A+Math.imul(Tt,Ye)|0,x=x+Math.imul(bt,er)|0,S=(S=S+Math.imul(bt,cr)|0)+Math.imul(gt,er)|0,A=A+Math.imul(gt,cr)|0,x=x+Math.imul(ft,jr)|0,S=(S=S+Math.imul(ft,rr)|0)+Math.imul(it,jr)|0,A=A+Math.imul(it,rr)|0,x=x+Math.imul(lt,Nr)|0,S=(S=S+Math.imul(lt,qe)|0)+Math.imul(st,Nr)|0,A=A+Math.imul(st,qe)|0,x=x+Math.imul(N,qt)|0,S=(S=S+Math.imul(N,ee)|0)+Math.imul(Y,qt)|0,A=A+Math.imul(Y,ee)|0;var he=(V+(x=x+Math.imul(F,sr)|0)|0)+((8191&(S=(S=S+Math.imul(F,Le)|0)+Math.imul(J,sr)|0))<<13)|0;V=((A=A+Math.imul(J,Le)|0)+(S>>>13)|0)+(he>>>26)|0,he&=67108863,x=Math.imul(Me,ne),S=(S=Math.imul(Me,ze))+Math.imul(ie,ne)|0,A=Math.imul(ie,ze),x=x+Math.imul(ce,Or)|0,S=(S=S+Math.imul(ce,te)|0)+Math.imul(de,Or)|0,A=A+Math.imul(de,te)|0,x=x+Math.imul(Xt,br)|0,S=(S=S+Math.imul(Xt,Ye)|0)+Math.imul(re,br)|0,A=A+Math.imul(re,Ye)|0,x=x+Math.imul(kt,er)|0,S=(S=S+Math.imul(kt,cr)|0)+Math.imul(Tt,er)|0,A=A+Math.imul(Tt,cr)|0,x=x+Math.imul(bt,jr)|0,S=(S=S+Math.imul(bt,rr)|0)+Math.imul(gt,jr)|0,A=A+Math.imul(gt,rr)|0,x=x+Math.imul(ft,Nr)|0,S=(S=S+Math.imul(ft,qe)|0)+Math.imul(it,Nr)|0,A=A+Math.imul(it,qe)|0,x=x+Math.imul(lt,qt)|0,S=(S=S+Math.imul(lt,ee)|0)+Math.imul(st,qt)|0,A=A+Math.imul(st,ee)|0,x=x+Math.imul(N,sr)|0,S=(S=S+Math.imul(N,Le)|0)+Math.imul(Y,sr)|0,A=A+Math.imul(Y,Le)|0;var ge=(V+(x=x+Math.imul(F,Ke)|0)|0)+((8191&(S=(S=S+Math.imul(F,He)|0)+Math.imul(J,Ke)|0))<<13)|0;V=((A=A+Math.imul(J,He)|0)+(S>>>13)|0)+(ge>>>26)|0,ge&=67108863,x=Math.imul(me,ne),S=(S=Math.imul(me,ze))+Math.imul(Ce,ne)|0,A=Math.imul(Ce,ze),x=x+Math.imul(Me,Or)|0,S=(S=S+Math.imul(Me,te)|0)+Math.imul(ie,Or)|0,A=A+Math.imul(ie,te)|0,x=x+Math.imul(ce,br)|0,S=(S=S+Math.imul(ce,Ye)|0)+Math.imul(de,br)|0,A=A+Math.imul(de,Ye)|0,x=x+Math.imul(Xt,er)|0,S=(S=S+Math.imul(Xt,cr)|0)+Math.imul(re,er)|0,A=A+Math.imul(re,cr)|0,x=x+Math.imul(kt,jr)|0,S=(S=S+Math.imul(kt,rr)|0)+Math.imul(Tt,jr)|0,A=A+Math.imul(Tt,rr)|0,x=x+Math.imul(bt,Nr)|0,S=(S=S+Math.imul(bt,qe)|0)+Math.imul(gt,Nr)|0,A=A+Math.imul(gt,qe)|0,x=x+Math.imul(ft,qt)|0,S=(S=S+Math.imul(ft,ee)|0)+Math.imul(it,qt)|0,A=A+Math.imul(it,ee)|0,x=x+Math.imul(lt,sr)|0,S=(S=S+Math.imul(lt,Le)|0)+Math.imul(st,sr)|0,A=A+Math.imul(st,Le)|0,x=x+Math.imul(N,Ke)|0,S=(S=S+Math.imul(N,He)|0)+Math.imul(Y,Ke)|0,A=A+Math.imul(Y,He)|0;var Ze=(V+(x=x+Math.imul(F,lr)|0)|0)+((8191&(S=(S=S+Math.imul(F,fr)|0)+Math.imul(J,lr)|0))<<13)|0;V=((A=A+Math.imul(J,fr)|0)+(S>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(me,Or),S=(S=Math.imul(me,te))+Math.imul(Ce,Or)|0,A=Math.imul(Ce,te),x=x+Math.imul(Me,br)|0,S=(S=S+Math.imul(Me,Ye)|0)+Math.imul(ie,br)|0,A=A+Math.imul(ie,Ye)|0,x=x+Math.imul(ce,er)|0,S=(S=S+Math.imul(ce,cr)|0)+Math.imul(de,er)|0,A=A+Math.imul(de,cr)|0,x=x+Math.imul(Xt,jr)|0,S=(S=S+Math.imul(Xt,rr)|0)+Math.imul(re,jr)|0,A=A+Math.imul(re,rr)|0,x=x+Math.imul(kt,Nr)|0,S=(S=S+Math.imul(kt,qe)|0)+Math.imul(Tt,Nr)|0,A=A+Math.imul(Tt,qe)|0,x=x+Math.imul(bt,qt)|0,S=(S=S+Math.imul(bt,ee)|0)+Math.imul(gt,qt)|0,A=A+Math.imul(gt,ee)|0,x=x+Math.imul(ft,sr)|0,S=(S=S+Math.imul(ft,Le)|0)+Math.imul(it,sr)|0,A=A+Math.imul(it,Le)|0,x=x+Math.imul(lt,Ke)|0,S=(S=S+Math.imul(lt,He)|0)+Math.imul(st,Ke)|0,A=A+Math.imul(st,He)|0;var Ne=(V+(x=x+Math.imul(N,lr)|0)|0)+((8191&(S=(S=S+Math.imul(N,fr)|0)+Math.imul(Y,lr)|0))<<13)|0;V=((A=A+Math.imul(Y,fr)|0)+(S>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,x=Math.imul(me,br),S=(S=Math.imul(me,Ye))+Math.imul(Ce,br)|0,A=Math.imul(Ce,Ye),x=x+Math.imul(Me,er)|0,S=(S=S+Math.imul(Me,cr)|0)+Math.imul(ie,er)|0,A=A+Math.imul(ie,cr)|0,x=x+Math.imul(ce,jr)|0,S=(S=S+Math.imul(ce,rr)|0)+Math.imul(de,jr)|0,A=A+Math.imul(de,rr)|0,x=x+Math.imul(Xt,Nr)|0,S=(S=S+Math.imul(Xt,qe)|0)+Math.imul(re,Nr)|0,A=A+Math.imul(re,qe)|0,x=x+Math.imul(kt,qt)|0,S=(S=S+Math.imul(kt,ee)|0)+Math.imul(Tt,qt)|0,A=A+Math.imul(Tt,ee)|0,x=x+Math.imul(bt,sr)|0,S=(S=S+Math.imul(bt,Le)|0)+Math.imul(gt,sr)|0,A=A+Math.imul(gt,Le)|0,x=x+Math.imul(ft,Ke)|0,S=(S=S+Math.imul(ft,He)|0)+Math.imul(it,Ke)|0,A=A+Math.imul(it,He)|0;var Re=(V+(x=x+Math.imul(lt,lr)|0)|0)+((8191&(S=(S=S+Math.imul(lt,fr)|0)+Math.imul(st,lr)|0))<<13)|0;V=((A=A+Math.imul(st,fr)|0)+(S>>>13)|0)+(Re>>>26)|0,Re&=67108863,x=Math.imul(me,er),S=(S=Math.imul(me,cr))+Math.imul(Ce,er)|0,A=Math.imul(Ce,cr),x=x+Math.imul(Me,jr)|0,S=(S=S+Math.imul(Me,rr)|0)+Math.imul(ie,jr)|0,A=A+Math.imul(ie,rr)|0,x=x+Math.imul(ce,Nr)|0,S=(S=S+Math.imul(ce,qe)|0)+Math.imul(de,Nr)|0,A=A+Math.imul(de,qe)|0,x=x+Math.imul(Xt,qt)|0,S=(S=S+Math.imul(Xt,ee)|0)+Math.imul(re,qt)|0,A=A+Math.imul(re,ee)|0,x=x+Math.imul(kt,sr)|0,S=(S=S+Math.imul(kt,Le)|0)+Math.imul(Tt,sr)|0,A=A+Math.imul(Tt,Le)|0,x=x+Math.imul(bt,Ke)|0,S=(S=S+Math.imul(bt,He)|0)+Math.imul(gt,Ke)|0,A=A+Math.imul(gt,He)|0;var Ar=(V+(x=x+Math.imul(ft,lr)|0)|0)+((8191&(S=(S=S+Math.imul(ft,fr)|0)+Math.imul(it,lr)|0))<<13)|0;V=((A=A+Math.imul(it,fr)|0)+(S>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,x=Math.imul(me,jr),S=(S=Math.imul(me,rr))+Math.imul(Ce,jr)|0,A=Math.imul(Ce,rr),x=x+Math.imul(Me,Nr)|0,S=(S=S+Math.imul(Me,qe)|0)+Math.imul(ie,Nr)|0,A=A+Math.imul(ie,qe)|0,x=x+Math.imul(ce,qt)|0,S=(S=S+Math.imul(ce,ee)|0)+Math.imul(de,qt)|0,A=A+Math.imul(de,ee)|0,x=x+Math.imul(Xt,sr)|0,S=(S=S+Math.imul(Xt,Le)|0)+Math.imul(re,sr)|0,A=A+Math.imul(re,Le)|0,x=x+Math.imul(kt,Ke)|0,S=(S=S+Math.imul(kt,He)|0)+Math.imul(Tt,Ke)|0,A=A+Math.imul(Tt,He)|0;var wr=(V+(x=x+Math.imul(bt,lr)|0)|0)+((8191&(S=(S=S+Math.imul(bt,fr)|0)+Math.imul(gt,lr)|0))<<13)|0;V=((A=A+Math.imul(gt,fr)|0)+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,x=Math.imul(me,Nr),S=(S=Math.imul(me,qe))+Math.imul(Ce,Nr)|0,A=Math.imul(Ce,qe),x=x+Math.imul(Me,qt)|0,S=(S=S+Math.imul(Me,ee)|0)+Math.imul(ie,qt)|0,A=A+Math.imul(ie,ee)|0,x=x+Math.imul(ce,sr)|0,S=(S=S+Math.imul(ce,Le)|0)+Math.imul(de,sr)|0,A=A+Math.imul(de,Le)|0,x=x+Math.imul(Xt,Ke)|0,S=(S=S+Math.imul(Xt,He)|0)+Math.imul(re,Ke)|0,A=A+Math.imul(re,He)|0;var kr=(V+(x=x+Math.imul(kt,lr)|0)|0)+((8191&(S=(S=S+Math.imul(kt,fr)|0)+Math.imul(Tt,lr)|0))<<13)|0;V=((A=A+Math.imul(Tt,fr)|0)+(S>>>13)|0)+(kr>>>26)|0,kr&=67108863,x=Math.imul(me,qt),S=(S=Math.imul(me,ee))+Math.imul(Ce,qt)|0,A=Math.imul(Ce,ee),x=x+Math.imul(Me,sr)|0,S=(S=S+Math.imul(Me,Le)|0)+Math.imul(ie,sr)|0,A=A+Math.imul(ie,Le)|0,x=x+Math.imul(ce,Ke)|0,S=(S=S+Math.imul(ce,He)|0)+Math.imul(de,Ke)|0,A=A+Math.imul(de,He)|0;var ur=(V+(x=x+Math.imul(Xt,lr)|0)|0)+((8191&(S=(S=S+Math.imul(Xt,fr)|0)+Math.imul(re,lr)|0))<<13)|0;V=((A=A+Math.imul(re,fr)|0)+(S>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(me,sr),S=(S=Math.imul(me,Le))+Math.imul(Ce,sr)|0,A=Math.imul(Ce,Le),x=x+Math.imul(Me,Ke)|0,S=(S=S+Math.imul(Me,He)|0)+Math.imul(ie,Ke)|0,A=A+Math.imul(ie,He)|0;var Qe=(V+(x=x+Math.imul(ce,lr)|0)|0)+((8191&(S=(S=S+Math.imul(ce,fr)|0)+Math.imul(de,lr)|0))<<13)|0;V=((A=A+Math.imul(de,fr)|0)+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(me,Ke),S=(S=Math.imul(me,He))+Math.imul(Ce,Ke)|0,A=Math.imul(Ce,He);var gr=(V+(x=x+Math.imul(Me,lr)|0)|0)+((8191&(S=(S=S+Math.imul(Me,fr)|0)+Math.imul(ie,lr)|0))<<13)|0;V=((A=A+Math.imul(ie,fr)|0)+(S>>>13)|0)+(gr>>>26)|0,gr&=67108863;var $r=(V+(x=Math.imul(me,lr))|0)+((8191&(S=(S=Math.imul(me,fr))+Math.imul(Ce,lr)|0))<<13)|0;return V=((A=Math.imul(Ce,fr))+(S>>>13)|0)+($r>>>26)|0,$r&=67108863,H[0]=Xr,H[1]=Rr,H[2]=en,H[3]=Qr,H[4]=Lr,H[5]=xt,H[6]=Yt,H[7]=he,H[8]=ge,H[9]=Ze,H[10]=Ne,H[11]=Re,H[12]=Ar,H[13]=wr,H[14]=kr,H[15]=ur,H[16]=Qe,H[17]=gr,H[18]=$r,V!==0&&(H[19]=V,_.length++),_};function j(k,v,_){_.negative=v.negative^k.negative,_.length=k.length+v.length;for(var x=0,S=0,A=0;A<_.length-1;A++){var B=S;S=0;for(var M=67108863&x,H=Math.min(A,v.length-1),V=Math.max(0,A-k.length+1);V<=H;V++){var tt=A-V,F=(0|k.words[tt])*(0|v.words[V]),J=67108863&F;M=67108863&(J=J+M|0),S+=(B=(B=B+(F/67108864|0)|0)+(J>>>26)|0)>>>26,B&=67108863}_.words[A]=M,x=B,B=S}return x!==0?_.words[A]=x:_.length--,_._strip()}function I(k,v,_){return j(k,v,_)}Math.imul||(C=w),a.prototype.mulTo=function(k,v){var _=this.length+k.length;return this.length===10&&k.length===10?C(this,k,v):_<63?w(this,k,v):_<1024?j(this,k,v):I(this,k,v)},a.prototype.mul=function(k){var v=new a(null);return v.words=new Array(this.length+k.length),this.mulTo(k,v)},a.prototype.mulf=function(k){var v=new a(null);return v.words=new Array(this.length+k.length),I(this,k,v)},a.prototype.imul=function(k){return this.clone().mulTo(k,this)},a.prototype.imuln=function(k){var v=k<0;v&&(k=-k),l(typeof k=="number"),l(k<67108864);for(var _=0,x=0;x<this.length;x++){var S=(0|this.words[x])*k,A=(67108863&S)+(67108863&_);_>>=26,_+=S/67108864|0,_+=A>>>26,this.words[x]=67108863&A}return _!==0&&(this.words[x]=_,this.length++),v?this.ineg():this},a.prototype.muln=function(k){return this.clone().imuln(k)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(k){var v=function(A){for(var B=new Array(A.bitLength()),M=0;M<B.length;M++){var H=M/26|0,V=M%26;B[M]=A.words[H]>>>V&1}return B}(k);if(v.length===0)return new a(1);for(var _=this,x=0;x<v.length&&v[x]===0;x++,_=_.sqr());if(++x<v.length)for(var S=_.sqr();x<v.length;x++,S=S.sqr())v[x]!==0&&(_=_.mul(S));return _},a.prototype.iushln=function(k){l(typeof k=="number"&&k>=0);var v,_=k%26,x=(k-_)/26,S=67108863>>>26-_<<26-_;if(_!==0){var A=0;for(v=0;v<this.length;v++){var B=this.words[v]&S,M=(0|this.words[v])-B<<_;this.words[v]=M|A,A=B>>>26-_}A&&(this.words[v]=A,this.length++)}if(x!==0){for(v=this.length-1;v>=0;v--)this.words[v+x]=this.words[v];for(v=0;v<x;v++)this.words[v]=0;this.length+=x}return this._strip()},a.prototype.ishln=function(k){return l(this.negative===0),this.iushln(k)},a.prototype.iushrn=function(k,v,_){var x;l(typeof k=="number"&&k>=0),x=v?(v-v%26)/26:0;var S=k%26,A=Math.min((k-S)/26,this.length),B=67108863^67108863>>>S<<S,M=_;if(x-=A,x=Math.max(0,x),M){for(var H=0;H<A;H++)M.words[H]=this.words[H];M.length=A}if(A!==0)if(this.length>A)for(this.length-=A,H=0;H<this.length;H++)this.words[H]=this.words[H+A];else this.words[0]=0,this.length=1;var V=0;for(H=this.length-1;H>=0&&(V!==0||H>=x);H--){var tt=0|this.words[H];this.words[H]=V<<26-S|tt>>>S,V=tt&B}return M&&V!==0&&(M.words[M.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(k,v,_){return l(this.negative===0),this.iushrn(k,v,_)},a.prototype.shln=function(k){return this.clone().ishln(k)},a.prototype.ushln=function(k){return this.clone().iushln(k)},a.prototype.shrn=function(k){return this.clone().ishrn(k)},a.prototype.ushrn=function(k){return this.clone().iushrn(k)},a.prototype.testn=function(k){l(typeof k=="number"&&k>=0);var v=k%26,_=(k-v)/26,x=1<<v;return!(this.length<=_)&&!!(this.words[_]&x)},a.prototype.imaskn=function(k){l(typeof k=="number"&&k>=0);var v=k%26,_=(k-v)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(v!==0&&_++,this.length=Math.min(_,this.length),v!==0){var x=67108863^67108863>>>v<<v;this.words[this.length-1]&=x}return this._strip()},a.prototype.maskn=function(k){return this.clone().imaskn(k)},a.prototype.iaddn=function(k){return l(typeof k=="number"),l(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},a.prototype._iaddn=function(k){this.words[0]+=k;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},a.prototype.isubn=function(k){if(l(typeof k=="number"),l(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},a.prototype.addn=function(k){return this.clone().iaddn(k)},a.prototype.subn=function(k){return this.clone().isubn(k)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(k,v,_){var x,S,A=k.length+_;this._expand(A);var B=0;for(x=0;x<k.length;x++){S=(0|this.words[x+_])+B;var M=(0|k.words[x])*v;B=((S-=67108863&M)>>26)-(M/67108864|0),this.words[x+_]=67108863&S}for(;x<this.length-_;x++)B=(S=(0|this.words[x+_])+B)>>26,this.words[x+_]=67108863&S;if(B===0)return this._strip();for(l(B===-1),B=0,x=0;x<this.length;x++)B=(S=-(0|this.words[x])+B)>>26,this.words[x]=67108863&S;return this.negative=1,this._strip()},a.prototype._wordDiv=function(k,v){var _=(this.length,k.length),x=this.clone(),S=k,A=0|S.words[S.length-1];(_=26-this._countBits(A))!==0&&(S=S.ushln(_),x.iushln(_),A=0|S.words[S.length-1]);var B,M=x.length-S.length;if(v!=="mod"){(B=new a(null)).length=M+1,B.words=new Array(B.length);for(var H=0;H<B.length;H++)B.words[H]=0}var V=x.clone()._ishlnsubmul(S,1,M);V.negative===0&&(x=V,B&&(B.words[M]=1));for(var tt=M-1;tt>=0;tt--){var F=67108864*(0|x.words[S.length+tt])+(0|x.words[S.length+tt-1]);for(F=Math.min(F/A|0,67108863),x._ishlnsubmul(S,F,tt);x.negative!==0;)F--,x.negative=0,x._ishlnsubmul(S,1,tt),x.isZero()||(x.negative^=1);B&&(B.words[tt]=F)}return B&&B._strip(),x._strip(),v!=="div"&&_!==0&&x.iushrn(_),{div:B||null,mod:x}},a.prototype.divmod=function(k,v,_){return l(!k.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&k.negative===0?(A=this.neg().divmod(k,v),v!=="mod"&&(x=A.div.neg()),v!=="div"&&(S=A.mod.neg(),_&&S.negative!==0&&S.iadd(k)),{div:x,mod:S}):this.negative===0&&k.negative!==0?(A=this.divmod(k.neg(),v),v!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):this.negative&k.negative?(A=this.neg().divmod(k.neg(),v),v!=="div"&&(S=A.mod.neg(),_&&S.negative!==0&&S.isub(k)),{div:A.div,mod:S}):k.length>this.length||this.cmp(k)<0?{div:new a(0),mod:this}:k.length===1?v==="div"?{div:this.divn(k.words[0]),mod:null}:v==="mod"?{div:null,mod:new a(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new a(this.modrn(k.words[0]))}:this._wordDiv(k,v);var x,S,A},a.prototype.div=function(k){return this.divmod(k,"div",!1).div},a.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},a.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},a.prototype.divRound=function(k){var v=this.divmod(k);if(v.mod.isZero())return v.div;var _=v.div.negative!==0?v.mod.isub(k):v.mod,x=k.ushrn(1),S=k.andln(1),A=_.cmp(x);return A<0||S===1&&A===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},a.prototype.modrn=function(k){var v=k<0;v&&(k=-k),l(k<=67108863);for(var _=(1<<26)%k,x=0,S=this.length-1;S>=0;S--)x=(_*x+(0|this.words[S]))%k;return v?-x:x},a.prototype.modn=function(k){return this.modrn(k)},a.prototype.idivn=function(k){var v=k<0;v&&(k=-k),l(k<=67108863);for(var _=0,x=this.length-1;x>=0;x--){var S=(0|this.words[x])+67108864*_;this.words[x]=S/k|0,_=S%k}return this._strip(),v?this.ineg():this},a.prototype.divn=function(k){return this.clone().idivn(k)},a.prototype.egcd=function(k){l(k.negative===0),l(!k.isZero());var v=this,_=k.clone();v=v.negative!==0?v.umod(k):v.clone();for(var x=new a(1),S=new a(0),A=new a(0),B=new a(1),M=0;v.isEven()&&_.isEven();)v.iushrn(1),_.iushrn(1),++M;for(var H=_.clone(),V=v.clone();!v.isZero();){for(var tt=0,F=1;!(v.words[0]&F)&&tt<26;++tt,F<<=1);if(tt>0)for(v.iushrn(tt);tt-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(H),S.isub(V)),x.iushrn(1),S.iushrn(1);for(var J=0,L=1;!(_.words[0]&L)&&J<26;++J,L<<=1);if(J>0)for(_.iushrn(J);J-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(H),B.isub(V)),A.iushrn(1),B.iushrn(1);v.cmp(_)>=0?(v.isub(_),x.isub(A),S.isub(B)):(_.isub(v),A.isub(x),B.isub(S))}return{a:A,b:B,gcd:_.iushln(M)}},a.prototype._invmp=function(k){l(k.negative===0),l(!k.isZero());var v=this,_=k.clone();v=v.negative!==0?v.umod(k):v.clone();for(var x,S=new a(1),A=new a(0),B=_.clone();v.cmpn(1)>0&&_.cmpn(1)>0;){for(var M=0,H=1;!(v.words[0]&H)&&M<26;++M,H<<=1);if(M>0)for(v.iushrn(M);M-- >0;)S.isOdd()&&S.iadd(B),S.iushrn(1);for(var V=0,tt=1;!(_.words[0]&tt)&&V<26;++V,tt<<=1);if(V>0)for(_.iushrn(V);V-- >0;)A.isOdd()&&A.iadd(B),A.iushrn(1);v.cmp(_)>=0?(v.isub(_),S.isub(A)):(_.isub(v),A.isub(S))}return(x=v.cmpn(1)===0?S:A).cmpn(0)<0&&x.iadd(k),x},a.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var v=this.clone(),_=k.clone();v.negative=0,_.negative=0;for(var x=0;v.isEven()&&_.isEven();x++)v.iushrn(1),_.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=v.cmp(_);if(S<0){var A=v;v=_,_=A}else if(S===0||_.cmpn(1)===0)break;v.isub(_)}return _.iushln(x)},a.prototype.invm=function(k){return this.egcd(k).a.umod(k)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(k){return this.words[0]&k},a.prototype.bincn=function(k){l(typeof k=="number");var v=k%26,_=(k-v)/26,x=1<<v;if(this.length<=_)return this._expand(_+1),this.words[_]|=x,this;for(var S=x,A=_;S!==0&&A<this.length;A++){var B=0|this.words[A];S=(B+=S)>>>26,B&=67108863,this.words[A]=B}return S!==0&&(this.words[A]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(k){var v,_=k<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)v=1;else{_&&(k=-k),l(k<=67108863,"Number is too big");var x=0|this.words[0];v=x===k?0:x<k?-1:1}return this.negative!==0?0|-v:v},a.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var v=this.ucmp(k);return this.negative!==0?0|-v:v},a.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var v=0,_=this.length-1;_>=0;_--){var x=0|this.words[_],S=0|k.words[_];if(x!==S){x<S?v=-1:x>S&&(v=1);break}}return v},a.prototype.gtn=function(k){return this.cmpn(k)===1},a.prototype.gt=function(k){return this.cmp(k)===1},a.prototype.gten=function(k){return this.cmpn(k)>=0},a.prototype.gte=function(k){return this.cmp(k)>=0},a.prototype.ltn=function(k){return this.cmpn(k)===-1},a.prototype.lt=function(k){return this.cmp(k)===-1},a.prototype.lten=function(k){return this.cmpn(k)<=0},a.prototype.lte=function(k){return this.cmp(k)<=0},a.prototype.eqn=function(k){return this.cmpn(k)===0},a.prototype.eq=function(k){return this.cmp(k)===0},a.red=function(k){return new T(k)},a.prototype.toRed=function(k){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},a.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(k){return this.red=k,this},a.prototype.forceRed=function(k){return l(!this.red,"Already a number in reduction context"),this._forceRed(k)},a.prototype.redAdd=function(k){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},a.prototype.redIAdd=function(k){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},a.prototype.redSub=function(k){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},a.prototype.redISub=function(k){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},a.prototype.redShl=function(k){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},a.prototype.redMul=function(k){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},a.prototype.redIMul=function(k){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},a.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(k){return l(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var q={k256:null,p224:null,p192:null,p25519:null};function P(k,v){this.name=k,this.p=new a(v,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function W(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(k){if(typeof k=="string"){var v=a._prime(k);this.m=v.p,this.prime=v}else l(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function E(k){T.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var k=new a(null);return k.words=new Array(Math.ceil(this.n/13)),k},P.prototype.ireduce=function(k){var v,_=k;do this.split(_,this.tmp),v=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(v>this.n);var x=v<this.n?-1:_.ucmp(this.p);return x===0?(_.words[0]=0,_.length=1):x>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},P.prototype.split=function(k,v){k.iushrn(this.n,0,v)},P.prototype.imulK=function(k){return k.imul(this.k)},u(U,P),U.prototype.split=function(k,v){for(var _=Math.min(k.length,9),x=0;x<_;x++)v.words[x]=k.words[x];if(v.length=_,k.length<=9)return k.words[0]=0,void(k.length=1);var S=k.words[9];for(v.words[v.length++]=4194303&S,x=10;x<k.length;x++){var A=0|k.words[x];k.words[x-10]=(4194303&A)<<4|S>>>22,S=A}S>>>=22,k.words[x-10]=S,S===0&&k.length>10?k.length-=10:k.length-=9},U.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var v=0,_=0;_<k.length;_++){var x=0|k.words[_];v+=977*x,k.words[_]=67108863&v,v=64*x+(v/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},u(W,P),u(z,P),u(R,P),R.prototype.imulK=function(k){for(var v=0,_=0;_<k.length;_++){var x=19*(0|k.words[_])+v,S=67108863&x;x>>>=26,k.words[_]=S,v=x}return v!==0&&(k.words[k.length++]=v),k},a._prime=function(k){if(q[k])return q[k];var v;if(k==="k256")v=new U;else if(k==="p224")v=new W;else if(k==="p192")v=new z;else{if(k!=="p25519")throw new Error("Unknown prime "+k);v=new R}return q[k]=v,v},T.prototype._verify1=function(k){l(k.negative===0,"red works only with positives"),l(k.red,"red works only with red numbers")},T.prototype._verify2=function(k,v){l((k.negative|v.negative)==0,"red works only with positives"),l(k.red&&k.red===v.red,"red works only with red numbers")},T.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(p(k,k.umod(this.m)._forceRed(this)),k)},T.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},T.prototype.add=function(k,v){this._verify2(k,v);var _=k.add(v);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},T.prototype.iadd=function(k,v){this._verify2(k,v);var _=k.iadd(v);return _.cmp(this.m)>=0&&_.isub(this.m),_},T.prototype.sub=function(k,v){this._verify2(k,v);var _=k.sub(v);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},T.prototype.isub=function(k,v){this._verify2(k,v);var _=k.isub(v);return _.cmpn(0)<0&&_.iadd(this.m),_},T.prototype.shl=function(k,v){return this._verify1(k),this.imod(k.ushln(v))},T.prototype.imul=function(k,v){return this._verify2(k,v),this.imod(k.imul(v))},T.prototype.mul=function(k,v){return this._verify2(k,v),this.imod(k.mul(v))},T.prototype.isqr=function(k){return this.imul(k,k.clone())},T.prototype.sqr=function(k){return this.mul(k,k)},T.prototype.sqrt=function(k){if(k.isZero())return k.clone();var v=this.m.andln(3);if(l(v%2==1),v===3){var _=this.m.add(new a(1)).iushrn(2);return this.pow(k,_)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);l(!x.isZero());var A=new a(1).toRed(this),B=A.redNeg(),M=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new a(2*H*H).toRed(this);this.pow(H,M).cmp(B)!==0;)H.redIAdd(B);for(var V=this.pow(H,x),tt=this.pow(k,x.addn(1).iushrn(1)),F=this.pow(k,x),J=S;F.cmp(A)!==0;){for(var L=F,N=0;L.cmp(A)!==0;N++)L=L.redSqr();l(N<J);var Y=this.pow(V,new a(1).iushln(J-N-1));tt=tt.redMul(Y),V=Y.redSqr(),F=F.redMul(V),J=N}return tt},T.prototype.invm=function(k){var v=k._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},T.prototype.pow=function(k,v){if(v.isZero())return new a(1).toRed(this);if(v.cmpn(1)===0)return k.clone();var _=new Array(16);_[0]=new a(1).toRed(this),_[1]=k;for(var x=2;x<_.length;x++)_[x]=this.mul(_[x-1],k);var S=_[0],A=0,B=0,M=v.bitLength()%26;for(M===0&&(M=26),x=v.length-1;x>=0;x--){for(var H=v.words[x],V=M-1;V>=0;V--){var tt=H>>V&1;S!==_[0]&&(S=this.sqr(S)),tt!==0||A!==0?(A<<=1,A|=tt,(++B===4||x===0&&V===0)&&(S=this.mul(S,_[A]),B=0,A=0)):B=0}M=26}return S},T.prototype.convertTo=function(k){var v=k.umod(this.m);return v===k?v.clone():v},T.prototype.convertFrom=function(k){var v=k.clone();return v.red=null,v},a.mont=function(k){return new E(k)},u(E,T),E.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},E.prototype.convertFrom=function(k){var v=this.imod(k.mul(this.rinv));return v.red=null,v},E.prototype.imul=function(k,v){if(k.isZero()||v.isZero())return k.words[0]=0,k.length=1,k;var _=k.imul(v),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(x).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},E.prototype.mul=function(k,v){if(k.isZero()||v.isZero())return new a(0)._forceRed(this);var _=k.mul(v),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(x).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},E.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(r===void 0||r)},{buffer:188}],187:[function(t,r,s){var i;function o(u){this.rand=u}if(r.exports=function(u){return i||(i=new o(null)),i.generate(u)},r.exports.Rand=o,o.prototype.generate=function(u){return this._rand(u)},o.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var a=new Uint8Array(u),c=0;c<a.length;c++)a[c]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(u){var a=new Uint8Array(u);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(u){var a=new Uint8Array(u);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=t("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(u){return l.randomBytes(u)}}catch{}},{crypto:188}],188:[function(t,r,s){},{}],189:[function(t,r,s){var i=t("safe-buffer").Buffer;function o(f){i.isBuffer(f)||(f=i.from(f));for(var h=f.length/4|0,p=new Array(h),y=0;y<h;y++)p[y]=f.readUInt32BE(4*y);return p}function l(f){for(;0<f.length;f++)f[0]=0}function u(f,h,p,y,m){for(var g,b,w,C,j=p[0],I=p[1],q=p[2],P=p[3],U=f[0]^h[0],W=f[1]^h[1],z=f[2]^h[2],R=f[3]^h[3],T=4,E=1;E<m;E++)g=j[U>>>24]^I[W>>>16&255]^q[z>>>8&255]^P[255&R]^h[T++],b=j[W>>>24]^I[z>>>16&255]^q[R>>>8&255]^P[255&U]^h[T++],w=j[z>>>24]^I[R>>>16&255]^q[U>>>8&255]^P[255&W]^h[T++],C=j[R>>>24]^I[U>>>16&255]^q[W>>>8&255]^P[255&z]^h[T++],U=g,W=b,z=w,R=C;return g=(y[U>>>24]<<24|y[W>>>16&255]<<16|y[z>>>8&255]<<8|y[255&R])^h[T++],b=(y[W>>>24]<<24|y[z>>>16&255]<<16|y[R>>>8&255]<<8|y[255&U])^h[T++],w=(y[z>>>24]<<24|y[R>>>16&255]<<16|y[U>>>8&255]<<8|y[255&W])^h[T++],C=(y[R>>>24]<<24|y[U>>>16&255]<<16|y[W>>>8&255]<<8|y[255&z])^h[T++],[g>>>=0,b>>>=0,w>>>=0,C>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var p=[],y=[],m=[[],[],[],[]],g=[[],[],[],[]],b=0,w=0,C=0;C<256;++C){var j=w^w<<1^w<<2^w<<3^w<<4;j=j>>>8^255&j^99,p[b]=j,y[j]=b;var I=f[b],q=f[I],P=f[q],U=257*f[j]^16843008*j;m[0][b]=U<<24|U>>>8,m[1][b]=U<<16|U>>>16,m[2][b]=U<<8|U>>>24,m[3][b]=U,U=16843009*P^65537*q^257*I^16843008*b,g[0][j]=U<<24|U>>>8,g[1][j]=U<<16|U>>>16,g[2][j]=U<<8|U>>>24,g[3][j]=U,b===0?b=w=1:(b=I^f[f[f[P^I]]],w^=f[f[w]])}return{SBOX:p,INV_SBOX:y,SUB_MIX:m,INV_SUB_MIX:g}}();function d(f){this._key=o(f),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var f=this._key,h=f.length,p=h+6,y=4*(p+1),m=[],g=0;g<h;g++)m[g]=f[g];for(g=h;g<y;g++){var b=m[g-1];g%h==0?(b=b<<8|b>>>24,b=c.SBOX[b>>>24]<<24|c.SBOX[b>>>16&255]<<16|c.SBOX[b>>>8&255]<<8|c.SBOX[255&b],b^=a[g/h|0]<<24):h>6&&g%h==4&&(b=c.SBOX[b>>>24]<<24|c.SBOX[b>>>16&255]<<16|c.SBOX[b>>>8&255]<<8|c.SBOX[255&b]),m[g]=m[g-h]^b}for(var w=[],C=0;C<y;C++){var j=y-C,I=m[j-(C%4?0:4)];w[C]=C<4||j<=4?I:c.INV_SUB_MIX[0][c.SBOX[I>>>24]]^c.INV_SUB_MIX[1][c.SBOX[I>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[I>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&I]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=w},d.prototype.encryptBlockRaw=function(f){return u(f=o(f),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},d.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),p=i.allocUnsafe(16);return p.writeUInt32BE(h[0],0),p.writeUInt32BE(h[1],4),p.writeUInt32BE(h[2],8),p.writeUInt32BE(h[3],12),p},d.prototype.decryptBlock=function(f){var h=(f=o(f))[1];f[1]=f[3],f[3]=h;var p=u(f,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(p[0],0),y.writeUInt32BE(p[3],4),y.writeUInt32BE(p[2],8),y.writeUInt32BE(p[1],12),y},d.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},r.exports.AES=d},{"safe-buffer":494}],190:[function(t,r,s){var i=t("./aes"),o=t("safe-buffer").Buffer,l=t("cipher-base"),u=t("inherits"),a=t("./ghash"),c=t("buffer-xor"),d=t("./incr32");function f(h,p,y,m){l.call(this);var g=o.alloc(4,0);this._cipher=new i.AES(p);var b=this._cipher.encryptBlock(g);this._ghash=new a(b),y=function(w,C,j){if(C.length===12)return w._finID=o.concat([C,o.from([0,0,0,1])]),o.concat([C,o.from([0,0,0,2])]);var I=new a(j),q=C.length,P=q%16;I.update(C),P&&(P=16-P,I.update(o.alloc(P,0))),I.update(o.alloc(8,0));var U=8*q,W=o.alloc(8);W.writeUIntBE(U,0,8),I.update(W),w._finID=I.state;var z=o.from(w._finID);return d(z),z}(this,y,b),this._prev=o.from(y),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}u(f,l),f.prototype._update=function(h){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=o.alloc(p,0),this._ghash.update(p))}this._called=!0;var y=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(y),this._len+=h.length,y},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,y){var m=0;p.length!==y.length&&m++;for(var g=Math.min(p.length,y.length),b=0;b<g;++b)m+=p[b]^y[b];return m}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},r.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,r,s){var i=t("./encrypter"),o=t("./decrypter"),l=t("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=o.createDecipher,s.createDecipheriv=s.Decipheriv=o.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,r,s){var i=t("./authCipher"),o=t("safe-buffer").Buffer,l=t("./modes"),u=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),d=t("evp_bytestokey");function f(y,m,g){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(m),this._prev=o.from(g),this._mode=y,this._autopadding=!0}function h(){this.cache=o.allocUnsafe(0)}function p(y,m,g){var b=l[y.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=o.from(g)),b.mode!=="GCM"&&g.length!==b.iv)throw new TypeError("invalid iv length "+g.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==b.key/8)throw new TypeError("invalid key length "+m.length);return b.type==="stream"?new u(b.module,m,g,!0):b.type==="auth"?new i(b.module,m,g,!0):new f(b.module,m,g)}t("inherits")(f,a),f.prototype._update=function(y){var m,g;this._cache.add(y);for(var b=[];m=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,m),b.push(g);return o.concat(b)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return function(m){var g=m[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var b=-1;++b<g;)if(m[b+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return m.slice(0,16-g)}(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},h.prototype.add=function(y){this.cache=o.concat([this.cache,y])},h.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(y,m){var g=l[y.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var b=d(m,!1,g.key,g.iv);return p(y,b.key,b.iv)},s.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,r,s){var i=t("./modes"),o=t("./authCipher"),l=t("safe-buffer").Buffer,u=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),d=t("evp_bytestokey");function f(m,g,b){a.call(this),this._cache=new p,this._cipher=new c.AES(g),this._prev=l.from(b),this._mode=m,this._autopadding=!0}t("inherits")(f,a),f.prototype._update=function(m){var g,b;this._cache.add(m);for(var w=[];g=this._cache.get();)b=this._mode.encrypt(this,g),w.push(b);return l.concat(w)};var h=l.alloc(16,16);function p(){this.cache=l.allocUnsafe(0)}function y(m,g,b){var w=i[m.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=l.from(g)),g.length!==w.key/8)throw new TypeError("invalid key length "+g.length);if(typeof b=="string"&&(b=l.from(b)),w.mode!=="GCM"&&b.length!==w.iv)throw new TypeError("invalid iv length "+b.length);return w.type==="stream"?new u(w.module,g,b):w.type==="auth"?new o(w.module,g,b):new f(w.module,g,b)}f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=l.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,g=l.allocUnsafe(m),b=-1;++b<m;)g.writeUInt8(m,b);return l.concat([this.cache,g])},s.createCipheriv=y,s.createCipher=function(m,g){var b=i[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var w=d(g,!1,b.key,b.iv);return y(m,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,r,s){var i=t("safe-buffer").Buffer,o=i.alloc(16,0);function l(a){var c=i.allocUnsafe(16);return c.writeUInt32BE(a[0]>>>0,0),c.writeUInt32BE(a[1]>>>0,4),c.writeUInt32BE(a[2]>>>0,8),c.writeUInt32BE(a[3]>>>0,12),c}function u(a){this.h=a,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(a){for(var c=-1;++c<a.length;)this.state[c]^=a[c];this._multiply()},u.prototype._multiply=function(){for(var a,c,d,f=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],h=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),d=(1&f[3])!=0,c=3;c>0;c--)f[c]=f[c]>>>1|(1&f[c-1])<<31;f[0]=f[0]>>>1,d&&(f[0]=f[0]^225<<24)}this.state=l(h)},u.prototype.update=function(a){var c;for(this.cache=i.concat([this.cache,a]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},u.prototype.final=function(a,c){return this.cache.length&&this.ghash(i.concat([this.cache,o],16)),this.ghash(l([0,a,0,c])),this.state},r.exports=u},{"safe-buffer":494}],195:[function(t,r,s){r.exports=function(i){for(var o,l=i.length;l--;){if((o=i.readUInt8(l))!==255){o++,i.writeUInt8(o,l);break}i.writeUInt8(0,l)}}},{}],196:[function(t,r,s){var i=t("buffer-xor");s.encrypt=function(o,l){var u=i(l,o._prev);return o._prev=o._cipher.encryptBlock(u),o._prev},s.decrypt=function(o,l){var u=o._prev;o._prev=l;var a=o._cipher.decryptBlock(l);return i(a,u)}},{"buffer-xor":219}],197:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("buffer-xor");function l(u,a,c){var d=a.length,f=o(a,u._cache);return u._cache=u._cache.slice(d),u._prev=i.concat([u._prev,c?a:f]),f}s.encrypt=function(u,a,c){for(var d,f=i.allocUnsafe(0);a.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=i.allocUnsafe(0)),!(u._cache.length<=a.length)){f=i.concat([f,l(u,a,c)]);break}d=u._cache.length,f=i.concat([f,l(u,a.slice(0,d),c)]),a=a.slice(d)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,r,s){var i=t("safe-buffer").Buffer;function o(u,a,c){for(var d,f,h=-1,p=0;++h<8;)d=a&1<<7-h?128:0,p+=(128&(f=u._cipher.encryptBlock(u._prev)[0]^d))>>h%8,u._prev=l(u._prev,c?d:f);return p}function l(u,a){var c=u.length,d=-1,f=i.allocUnsafe(u.length);for(u=i.concat([u,i.from([a])]);++d<c;)f[d]=u[d]<<1|u[d+1]>>7;return f}s.encrypt=function(u,a,c){for(var d=a.length,f=i.allocUnsafe(d),h=-1;++h<d;)f[h]=o(u,a[h],c);return f}},{"safe-buffer":494}],199:[function(t,r,s){var i=t("safe-buffer").Buffer;function o(l,u,a){var c=l._cipher.encryptBlock(l._prev)[0]^u;return l._prev=i.concat([l._prev.slice(1),i.from([a?u:c])]),c}s.encrypt=function(l,u,a){for(var c=u.length,d=i.allocUnsafe(c),f=-1;++f<c;)d[f]=o(l,u[f],a);return d}},{"safe-buffer":494}],200:[function(t,r,s){var i=t("buffer-xor"),o=t("safe-buffer").Buffer,l=t("../incr32");function u(a){var c=a._cipher.encryptBlockRaw(a._prev);return l(a._prev),c}s.encrypt=function(a,c){var d=Math.ceil(c.length/16),f=a._cache.length;a._cache=o.concat([a._cache,o.allocUnsafe(16*d)]);for(var h=0;h<d;h++){var p=u(a),y=f+16*h;a._cache.writeUInt32BE(p[0],y+0),a._cache.writeUInt32BE(p[1],y+4),a._cache.writeUInt32BE(p[2],y+8),a._cache.writeUInt32BE(p[3],y+12)}var m=a._cache.slice(0,c.length);return a._cache=a._cache.slice(c.length),i(c,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,r,s){s.encrypt=function(i,o){return i._cipher.encryptBlock(o)},s.decrypt=function(i,o){return i._cipher.decryptBlock(o)}},{}],202:[function(t,r,s){var i={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},o=t("./list.json");for(var l in o)o[l].module=i[o[l].mode];r.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,r,s){r.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,r,s){(function(i){(function(){var o=t("buffer-xor");function l(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,a){for(;u._cache.length<a.length;)u._cache=i.concat([u._cache,l(u)]);var c=u._cache.slice(0,a.length);return u._cache=u._cache.slice(a.length),o(a,c)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,r,s){var i=t("./aes"),o=t("safe-buffer").Buffer,l=t("cipher-base");function u(a,c,d,f){l.call(this),this._cipher=new i.AES(c),this._prev=o.from(d),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._mode=a}t("inherits")(u,l),u.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},r.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,r,s){var i=t("browserify-des"),o=t("browserify-aes/browser"),l=t("browserify-aes/modes"),u=t("browserify-des/modes"),a=t("evp_bytestokey");function c(f,h,p){if(f=f.toLowerCase(),l[f])return o.createCipheriv(f,h,p);if(u[f])return new i({key:h,iv:p,mode:f});throw new TypeError("invalid suite type")}function d(f,h,p){if(f=f.toLowerCase(),l[f])return o.createDecipheriv(f,h,p);if(u[f])return new i({key:h,iv:p,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(f,h){var p,y;if(f=f.toLowerCase(),l[f])p=l[f].key,y=l[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");p=8*u[f].key,y=u[f].iv}var m=a(h,!1,p,y);return c(f,m.key,m.iv)},s.createCipheriv=s.Cipheriv=c,s.createDecipher=s.Decipher=function(f,h){var p,y;if(f=f.toLowerCase(),l[f])p=l[f].key,y=l[f].iv;else{if(!u[f])throw new TypeError("invalid suite type");p=8*u[f].key,y=u[f].iv}var m=a(h,!1,p,y);return d(f,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=d,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,r,s){var i=t("cipher-base"),o=t("des.js"),l=t("inherits"),u=t("safe-buffer").Buffer,a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function c(d){i.call(this);var f,h=d.mode.toLowerCase(),p=a[h];f=d.decrypt?"decrypt":"encrypt";var y=d.key;u.isBuffer(y)||(y=u.from(y)),h!=="des-ede"&&h!=="des-ede-cbc"||(y=u.concat([y,y.slice(0,8)]));var m=d.iv;u.isBuffer(m)||(m=u.from(m)),this._des=p.create({key:y,iv:m,type:f})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],r.exports=c,l(c,i),c.prototype._update=function(d){return u.from(this._des.update(d))},c.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,r,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(t,r,s){(function(i){(function(){var o=t("bn.js"),l=t("randombytes");function u(c){var d,f=c.modulus.byteLength();do d=new o(l(f));while(d.cmp(c.modulus)>=0||!d.umod(c.prime1)||!d.umod(c.prime2));return d}function a(c,d){var f=function(q){var P=u(q);return{blinder:P.toRed(o.mont(q.modulus)).redPow(new o(q.publicExponent)).fromRed(),unblinder:P.invm(q.modulus)}}(d),h=d.modulus.byteLength(),p=new o(c).mul(f.blinder).umod(d.modulus),y=p.toRed(o.mont(d.prime1)),m=p.toRed(o.mont(d.prime2)),g=d.coefficient,b=d.prime1,w=d.prime2,C=y.redPow(d.exponent1).fromRed(),j=m.redPow(d.exponent2).fromRed(),I=C.isub(j).imul(g).umod(b).imul(w);return j.iadd(I).imul(f.unblinder).umod(d.modulus).toArrayLike(i,"be",h)}a.getr=u,r.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,r,s){r.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,r,s){r.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,r,s){r.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("create-hash"),l=t("readable-stream"),u=t("inherits"),a=t("./sign"),c=t("./verify"),d=t("./algorithms.json");function f(m){l.Writable.call(this);var g=d[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=o(g.hash),this._tag=g.id,this._signType=g.sign}function h(m){l.Writable.call(this);var g=d[m];if(!g)throw new Error("Unknown message digest");this._hash=o(g.hash),this._tag=g.id,this._signType=g.sign}function p(m){return new f(m)}function y(m){return new h(m)}Object.keys(d).forEach(function(m){d[m].id=i.from(d[m].id,"hex"),d[m.toLowerCase()]=d[m]}),u(f,l.Writable),f.prototype._write=function(m,g,b){this._hash.update(m),b()},f.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},f.prototype.sign=function(m,g){this.end();var b=this._hash.digest(),w=a(b,m,this._hashType,this._signType,this._tag);return g?w.toString(g):w},u(h,l.Writable),h.prototype._write=function(m,g,b){this._hash.update(m),b()},h.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},h.prototype.verify=function(m,g,b){typeof g=="string"&&(g=i.from(g,b)),this.end();var w=this._hash.digest();return c(g,w,m,this._signType,this._tag)},r.exports={Sign:p,Verify:y,createSign:p,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("create-hmac"),l=t("browserify-rsa"),u=t("elliptic").ec,a=t("bn.js"),c=t("parse-asn1"),d=t("./curves.json");function f(m,g,b,w){if((m=i.from(m.toArray())).length<g.byteLength()){var C=i.alloc(g.byteLength()-m.length);m=i.concat([C,m])}var j=b.length,I=function(U,W){U=(U=h(U,W)).mod(W);var z=i.from(U.toArray());if(z.length<W.byteLength()){var R=i.alloc(W.byteLength()-z.length);z=i.concat([R,z])}return z}(b,g),q=i.alloc(j);q.fill(1);var P=i.alloc(j);return P=o(w,P).update(q).update(i.from([0])).update(m).update(I).digest(),q=o(w,P).update(q).digest(),{k:P=o(w,P).update(q).update(i.from([1])).update(m).update(I).digest(),v:q=o(w,P).update(q).digest()}}function h(m,g){var b=new a(m),w=(m.length<<3)-g.bitLength();return w>0&&b.ishrn(w),b}function p(m,g,b){var w,C;do{for(w=i.alloc(0);8*w.length<m.bitLength();)g.v=o(b,g.k).update(g.v).digest(),w=i.concat([w,g.v]);C=h(w,m),g.k=o(b,g.k).update(g.v).update(i.from([0])).digest(),g.v=o(b,g.k).update(g.v).digest()}while(C.cmp(m)!==-1);return C}function y(m,g,b,w){return m.toRed(a.mont(b)).redPow(g).fromRed().mod(w)}r.exports=function(m,g,b,w,C){var j=c(g);if(j.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(U,W){var z=d[W.curve.join(".")];if(!z)throw new Error("unknown curve "+W.curve.join("."));var R=new u(z).keyFromPrivate(W.privateKey).sign(U);return i.from(R.toDER())}(m,j)}if(j.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(U,W,z){for(var R,T=W.params.priv_key,E=W.params.p,k=W.params.q,v=W.params.g,_=new a(0),x=h(U,k).mod(k),S=!1,A=f(T,k,U,z);S===!1;)R=p(k,A,z),_=y(v,R,E,k),(S=R.invm(k).imul(x.add(T.mul(_))).mod(k)).cmpn(0)===0&&(S=!1,_=new a(0));return function(B,M){B=B.toArray(),M=M.toArray(),128&B[0]&&(B=[0].concat(B)),128&M[0]&&(M=[0].concat(M));var H=[48,B.length+M.length+4,2,B.length];return H=H.concat(B,[2,M.length],M),i.from(H)}(_,S)}(m,j,b)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([C,m]);for(var I=j.modulus.byteLength(),q=[0,1];m.length+q.length+1<I;)q.push(255);q.push(0);for(var P=-1;++P<m.length;)q.push(m[P]);return l(q,j)},r.exports.getKey=f,r.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("bn.js"),l=t("elliptic").ec,u=t("parse-asn1"),a=t("./curves.json");function c(d,f){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(f)>=f)throw new Error("invalid sig")}r.exports=function(d,f,h,p,y){var m=u(h);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(q,P,U){var W=a[U.data.algorithm.curve.join(".")];if(!W)throw new Error("unknown curve "+U.data.algorithm.curve.join("."));var z=new l(W),R=U.data.subjectPrivateKey.data;return z.verify(P,q,R)}(d,f,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(q,P,U){var W=U.data.p,z=U.data.q,R=U.data.g,T=U.data.pub_key,E=u.signature.decode(q,"der"),k=E.s,v=E.r;c(k,z),c(v,z);var _=o.mont(W),x=k.invm(z);return R.toRed(_).redPow(new o(P).mul(x).mod(z)).fromRed().mul(T.toRed(_).redPow(v.mul(x).mod(z)).fromRed()).mod(W).mod(z).cmp(v)===0}(d,f,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([y,f]);for(var g=m.modulus.byteLength(),b=[1],w=0;f.length+b.length+2<g;)b.push(255),w++;b.push(0);for(var C=-1;++C<f.length;)b.push(f[C]);b=i.from(b);var j=o.mont(m.modulus);d=(d=new o(d).toRed(j)).redPow(new o(m.publicExponent)),d=i.from(d.fromRed().toArray());var I=w<8?1:0;for(g=Math.min(d.length,b.length),d.length!==b.length&&(I=1),C=-1;++C<g;)I|=d[C]^b[C];return I===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,r,s){},{}],217:[function(t,r,s){var i=t("buffer"),o=i.Buffer;function l(a,c){for(var d in a)c[d]=a[d]}function u(a,c,d){return o(a,c,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=i:(l(i,s),s.Buffer=u),l(o,u),u.from=function(a,c,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,c,d)},u.alloc=function(a,c,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var f=o(a);return c!==void 0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f},u.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},u.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],218:[function(t,r,s){var i=t("safe-buffer").Buffer,o=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(m){var g;switch(this.encoding=function(b){var w=function(C){if(!C)return"utf8";for(var j;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(j)return;C=(""+C).toLowerCase(),j=!0}}(b);if(typeof w!="string"&&(i.isEncoding===o||!o(b)))throw new Error("Unknown encoding: "+b);return w||b}(m),this.encoding){case"utf16le":this.text=c,this.end=d,g=4;break;case"utf8":this.fillLast=a,g=4;break;case"base64":this.text=f,this.end=h,g=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(g)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function a(m){var g=this.lastTotal-this.lastNeed,b=function(w,C,j){if((192&C[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&C.length>1){if((192&C[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&C.length>2&&(192&C[2])!=128)return w.lastNeed=2,""}}(this,m);return b!==void 0?b:this.lastNeed<=m.length?(m.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,g,0,m.length),void(this.lastNeed-=m.length))}function c(m,g){if((m.length-g)%2==0){var b=m.toString("utf16le",g);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",g,m.length-1)}function d(m){var g=m&&m.length?this.write(m):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,b)}return g}function f(m,g){var b=(m.length-g)%3;return b===0?m.toString("base64",g):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",g,m.length-b))}function h(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function p(m){return m.toString(this.encoding)}function y(m){return m&&m.length?this.write(m):""}s.StringDecoder=l,l.prototype.write=function(m){if(m.length===0)return"";var g,b;if(this.lastNeed){if((g=this.fillLast(m))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<m.length?g?g+this.text(m,b):this.text(m,b):g||""},l.prototype.end=function(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+"":g},l.prototype.text=function(m,g){var b=function(C,j,I){var q=j.length-1;if(q<I)return 0;var P=u(j[q]);return P>=0?(P>0&&(C.lastNeed=P-1),P):--q<I||P===-2?0:(P=u(j[q]))>=0?(P>0&&(C.lastNeed=P-2),P):--q<I||P===-2?0:(P=u(j[q]))>=0?(P>0&&(P===2?P=0:C.lastNeed=P-3),P):0}(this,m,g);if(!this.lastNeed)return m.toString("utf8",g);this.lastTotal=b;var w=m.length-(b-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",g,w)},l.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(t,r,s){(function(i){(function(){r.exports=function(o,l){for(var u=Math.min(o.length,l.length),a=new i(u),c=0;c<u;++c)a[c]=o[c]^l[c];return a}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,r,s){(function(i){(function(){var o=t("base64-js"),l=t("ieee754");s.Buffer=a,s.SlowBuffer=function(L){return+L!=L&&(L=0),a.alloc(+L)},s.INSPECT_MAX_BYTES=50;function u(L){if(L>2147483647)throw new RangeError('The value "'+L+'" is invalid for option "size"');var N=new Uint8Array(L);return N.__proto__=a.prototype,N}function a(L,N,Y){if(typeof L=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(L)}return c(L,N,Y)}function c(L,N,Y){if(typeof L=="string")return function(st,pt){if(typeof pt=="string"&&pt!==""||(pt="utf8"),!a.isEncoding(pt))throw new TypeError("Unknown encoding: "+pt);var ft=0|y(st,pt),it=u(ft),at=it.write(st,pt);return at!==ft&&(it=it.slice(0,at)),it}(L,N);if(ArrayBuffer.isView(L))return h(L);if(L==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(F(L,ArrayBuffer)||L&&F(L.buffer,ArrayBuffer))return function(st,pt,ft){if(pt<0||st.byteLength<pt)throw new RangeError('"offset" is outside of buffer bounds');if(st.byteLength<pt+(ft||0))throw new RangeError('"length" is outside of buffer bounds');var it;return it=pt===void 0&&ft===void 0?new Uint8Array(st):ft===void 0?new Uint8Array(st,pt):new Uint8Array(st,pt,ft),it.__proto__=a.prototype,it}(L,N,Y);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var nt=L.valueOf&&L.valueOf();if(nt!=null&&nt!==L)return a.from(nt,N,Y);var lt=function(st){if(a.isBuffer(st)){var pt=0|p(st.length),ft=u(pt);return ft.length===0||st.copy(ft,0,0,pt),ft}if(st.length!==void 0)return typeof st.length!="number"||J(st.length)?u(0):h(st);if(st.type==="Buffer"&&Array.isArray(st.data))return h(st.data)}(L);if(lt)return lt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return a.from(L[Symbol.toPrimitive]("string"),N,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}function d(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function f(L){return d(L),u(L<0?0:0|p(L))}function h(L){for(var N=L.length<0?0:0|p(L.length),Y=u(N),nt=0;nt<N;nt+=1)Y[nt]=255&L[nt];return Y}function p(L){if(L>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|L}function y(L,N){if(a.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||F(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var Y=L.length,nt=arguments.length>2&&arguments[2]===!0;if(!nt&&Y===0)return 0;for(var lt=!1;;)switch(N){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return H(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return V(L).length;default:if(lt)return nt?-1:H(L).length;N=(""+N).toLowerCase(),lt=!0}}function m(L,N,Y){var nt=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0)<=(N>>>=0))return"";for(L||(L="utf8");;)switch(L){case"hex":return E(this,N,Y);case"utf8":case"utf-8":return z(this,N,Y);case"ascii":return R(this,N,Y);case"latin1":case"binary":return T(this,N,Y);case"base64":return W(this,N,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,N,Y);default:if(nt)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),nt=!0}}function g(L,N,Y){var nt=L[N];L[N]=L[Y],L[Y]=nt}function b(L,N,Y,nt,lt){if(L.length===0)return-1;if(typeof Y=="string"?(nt=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),J(Y=+Y)&&(Y=lt?0:L.length-1),Y<0&&(Y=L.length+Y),Y>=L.length){if(lt)return-1;Y=L.length-1}else if(Y<0){if(!lt)return-1;Y=0}if(typeof N=="string"&&(N=a.from(N,nt)),a.isBuffer(N))return N.length===0?-1:w(L,N,Y,nt,lt);if(typeof N=="number")return N&=255,typeof Uint8Array.prototype.indexOf=="function"?lt?Uint8Array.prototype.indexOf.call(L,N,Y):Uint8Array.prototype.lastIndexOf.call(L,N,Y):w(L,[N],Y,nt,lt);throw new TypeError("val must be string, number or Buffer")}function w(L,N,Y,nt,lt){var st,pt=1,ft=L.length,it=N.length;if(nt!==void 0&&((nt=String(nt).toLowerCase())==="ucs2"||nt==="ucs-2"||nt==="utf16le"||nt==="utf-16le")){if(L.length<2||N.length<2)return-1;pt=2,ft/=2,it/=2,Y/=2}function at(kt,Tt){return pt===1?kt[Tt]:kt.readUInt16BE(Tt*pt)}if(lt){var bt=-1;for(st=Y;st<ft;st++)if(at(L,st)===at(N,bt===-1?0:st-bt)){if(bt===-1&&(bt=st),st-bt+1===it)return bt*pt}else bt!==-1&&(st-=st-bt),bt=-1}else for(Y+it>ft&&(Y=ft-it),st=Y;st>=0;st--){for(var gt=!0,St=0;St<it;St++)if(at(L,st+St)!==at(N,St)){gt=!1;break}if(gt)return st}return-1}function C(L,N,Y,nt){Y=Number(Y)||0;var lt=L.length-Y;nt?(nt=Number(nt))>lt&&(nt=lt):nt=lt;var st=N.length;nt>st/2&&(nt=st/2);for(var pt=0;pt<nt;++pt){var ft=parseInt(N.substr(2*pt,2),16);if(J(ft))return pt;L[Y+pt]=ft}return pt}function j(L,N,Y,nt){return tt(H(N,L.length-Y),L,Y,nt)}function I(L,N,Y,nt){return tt(function(lt){for(var st=[],pt=0;pt<lt.length;++pt)st.push(255&lt.charCodeAt(pt));return st}(N),L,Y,nt)}function q(L,N,Y,nt){return I(L,N,Y,nt)}function P(L,N,Y,nt){return tt(V(N),L,Y,nt)}function U(L,N,Y,nt){return tt(function(lt,st){for(var pt,ft,it,at=[],bt=0;bt<lt.length&&!((st-=2)<0);++bt)pt=lt.charCodeAt(bt),ft=pt>>8,it=pt%256,at.push(it),at.push(ft);return at}(N,L.length-Y),L,Y,nt)}function W(L,N,Y){return N===0&&Y===L.length?o.fromByteArray(L):o.fromByteArray(L.slice(N,Y))}function z(L,N,Y){Y=Math.min(L.length,Y);for(var nt=[],lt=N;lt<Y;){var st,pt,ft,it,at=L[lt],bt=null,gt=at>239?4:at>223?3:at>191?2:1;if(lt+gt<=Y)switch(gt){case 1:at<128&&(bt=at);break;case 2:(192&(st=L[lt+1]))==128&&(it=(31&at)<<6|63&st)>127&&(bt=it);break;case 3:st=L[lt+1],pt=L[lt+2],(192&st)==128&&(192&pt)==128&&(it=(15&at)<<12|(63&st)<<6|63&pt)>2047&&(it<55296||it>57343)&&(bt=it);break;case 4:st=L[lt+1],pt=L[lt+2],ft=L[lt+3],(192&st)==128&&(192&pt)==128&&(192&ft)==128&&(it=(15&at)<<18|(63&st)<<12|(63&pt)<<6|63&ft)>65535&&it<1114112&&(bt=it)}bt===null?(bt=65533,gt=1):bt>65535&&(bt-=65536,nt.push(bt>>>10&1023|55296),bt=56320|1023&bt),nt.push(bt),lt+=gt}return function(St){var kt=St.length;if(kt<=4096)return String.fromCharCode.apply(String,St);for(var Tt="",Lt=0;Lt<kt;)Tt+=String.fromCharCode.apply(String,St.slice(Lt,Lt+=4096));return Tt}(nt)}s.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1);return L.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},L.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(L,N,Y){return c(L,N,Y)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(L,N,Y){return function(nt,lt,st){return d(nt),nt<=0?u(nt):lt!==void 0?typeof st=="string"?u(nt).fill(lt,st):u(nt).fill(lt):u(nt)}(L,N,Y)},a.allocUnsafe=function(L){return f(L)},a.allocUnsafeSlow=function(L){return f(L)},a.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==a.prototype},a.compare=function(L,N){if(F(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),F(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(L)||!a.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===N)return 0;for(var Y=L.length,nt=N.length,lt=0,st=Math.min(Y,nt);lt<st;++lt)if(L[lt]!==N[lt]){Y=L[lt],nt=N[lt];break}return Y<nt?-1:nt<Y?1:0},a.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(L,N){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return a.alloc(0);var Y;if(N===void 0)for(N=0,Y=0;Y<L.length;++Y)N+=L[Y].length;var nt=a.allocUnsafe(N),lt=0;for(Y=0;Y<L.length;++Y){var st=L[Y];if(F(st,Uint8Array)&&(st=a.from(st)),!a.isBuffer(st))throw new TypeError('"list" argument must be an Array of Buffers');st.copy(nt,lt),lt+=st.length}return nt},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<L;N+=2)g(this,N,N+1);return this},a.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<L;N+=4)g(this,N,N+3),g(this,N+1,N+2);return this},a.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<L;N+=8)g(this,N,N+7),g(this,N+1,N+6),g(this,N+2,N+5),g(this,N+3,N+4);return this},a.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?z(this,0,L):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(L){if(!a.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||a.compare(this,L)===0},a.prototype.inspect=function(){var L="",N=s.INSPECT_MAX_BYTES;return L=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(L+=" ... "),"<Buffer "+L+">"},a.prototype.compare=function(L,N,Y,nt,lt){if(F(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(N===void 0&&(N=0),Y===void 0&&(Y=L?L.length:0),nt===void 0&&(nt=0),lt===void 0&&(lt=this.length),N<0||Y>L.length||nt<0||lt>this.length)throw new RangeError("out of range index");if(nt>=lt&&N>=Y)return 0;if(nt>=lt)return-1;if(N>=Y)return 1;if(this===L)return 0;for(var st=(lt>>>=0)-(nt>>>=0),pt=(Y>>>=0)-(N>>>=0),ft=Math.min(st,pt),it=this.slice(nt,lt),at=L.slice(N,Y),bt=0;bt<ft;++bt)if(it[bt]!==at[bt]){st=it[bt],pt=at[bt];break}return st<pt?-1:pt<st?1:0},a.prototype.includes=function(L,N,Y){return this.indexOf(L,N,Y)!==-1},a.prototype.indexOf=function(L,N,Y){return b(this,L,N,Y,!0)},a.prototype.lastIndexOf=function(L,N,Y){return b(this,L,N,Y,!1)},a.prototype.write=function(L,N,Y,nt){if(N===void 0)nt="utf8",Y=this.length,N=0;else if(Y===void 0&&typeof N=="string")nt=N,Y=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite(Y)?(Y>>>=0,nt===void 0&&(nt="utf8")):(nt=Y,Y=void 0)}var lt=this.length-N;if((Y===void 0||Y>lt)&&(Y=lt),L.length>0&&(Y<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");nt||(nt="utf8");for(var st=!1;;)switch(nt){case"hex":return C(this,L,N,Y);case"utf8":case"utf-8":return j(this,L,N,Y);case"ascii":return I(this,L,N,Y);case"latin1":case"binary":return q(this,L,N,Y);case"base64":return P(this,L,N,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,L,N,Y);default:if(st)throw new TypeError("Unknown encoding: "+nt);nt=(""+nt).toLowerCase(),st=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(L,N,Y){var nt="";Y=Math.min(L.length,Y);for(var lt=N;lt<Y;++lt)nt+=String.fromCharCode(127&L[lt]);return nt}function T(L,N,Y){var nt="";Y=Math.min(L.length,Y);for(var lt=N;lt<Y;++lt)nt+=String.fromCharCode(L[lt]);return nt}function E(L,N,Y){var nt=L.length;(!N||N<0)&&(N=0),(!Y||Y<0||Y>nt)&&(Y=nt);for(var lt="",st=N;st<Y;++st)lt+=M(L[st]);return lt}function k(L,N,Y){for(var nt=L.slice(N,Y),lt="",st=0;st<nt.length;st+=2)lt+=String.fromCharCode(nt[st]+256*nt[st+1]);return lt}function v(L,N,Y){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+N>Y)throw new RangeError("Trying to access beyond buffer length")}function _(L,N,Y,nt,lt,st){if(!a.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>lt||N<st)throw new RangeError('"value" argument is out of bounds');if(Y+nt>L.length)throw new RangeError("Index out of range")}function x(L,N,Y,nt,lt,st){if(Y+nt>L.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function S(L,N,Y,nt,lt){return N=+N,Y>>>=0,lt||x(L,0,Y,4),l.write(L,N,Y,nt,23,4),Y+4}function A(L,N,Y,nt,lt){return N=+N,Y>>>=0,lt||x(L,0,Y,8),l.write(L,N,Y,nt,52,8),Y+8}a.prototype.slice=function(L,N){var Y=this.length;(L=~~L)<0?(L+=Y)<0&&(L=0):L>Y&&(L=Y),(N=N===void 0?Y:~~N)<0?(N+=Y)<0&&(N=0):N>Y&&(N=Y),N<L&&(N=L);var nt=this.subarray(L,N);return nt.__proto__=a.prototype,nt},a.prototype.readUIntLE=function(L,N,Y){L>>>=0,N>>>=0,Y||v(L,N,this.length);for(var nt=this[L],lt=1,st=0;++st<N&&(lt*=256);)nt+=this[L+st]*lt;return nt},a.prototype.readUIntBE=function(L,N,Y){L>>>=0,N>>>=0,Y||v(L,N,this.length);for(var nt=this[L+--N],lt=1;N>0&&(lt*=256);)nt+=this[L+--N]*lt;return nt},a.prototype.readUInt8=function(L,N){return L>>>=0,N||v(L,1,this.length),this[L]},a.prototype.readUInt16LE=function(L,N){return L>>>=0,N||v(L,2,this.length),this[L]|this[L+1]<<8},a.prototype.readUInt16BE=function(L,N){return L>>>=0,N||v(L,2,this.length),this[L]<<8|this[L+1]},a.prototype.readUInt32LE=function(L,N){return L>>>=0,N||v(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},a.prototype.readUInt32BE=function(L,N){return L>>>=0,N||v(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},a.prototype.readIntLE=function(L,N,Y){L>>>=0,N>>>=0,Y||v(L,N,this.length);for(var nt=this[L],lt=1,st=0;++st<N&&(lt*=256);)nt+=this[L+st]*lt;return nt>=(lt*=128)&&(nt-=Math.pow(2,8*N)),nt},a.prototype.readIntBE=function(L,N,Y){L>>>=0,N>>>=0,Y||v(L,N,this.length);for(var nt=N,lt=1,st=this[L+--nt];nt>0&&(lt*=256);)st+=this[L+--nt]*lt;return st>=(lt*=128)&&(st-=Math.pow(2,8*N)),st},a.prototype.readInt8=function(L,N){return L>>>=0,N||v(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},a.prototype.readInt16LE=function(L,N){L>>>=0,N||v(L,2,this.length);var Y=this[L]|this[L+1]<<8;return 32768&Y?4294901760|Y:Y},a.prototype.readInt16BE=function(L,N){L>>>=0,N||v(L,2,this.length);var Y=this[L+1]|this[L]<<8;return 32768&Y?4294901760|Y:Y},a.prototype.readInt32LE=function(L,N){return L>>>=0,N||v(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},a.prototype.readInt32BE=function(L,N){return L>>>=0,N||v(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},a.prototype.readFloatLE=function(L,N){return L>>>=0,N||v(L,4,this.length),l.read(this,L,!0,23,4)},a.prototype.readFloatBE=function(L,N){return L>>>=0,N||v(L,4,this.length),l.read(this,L,!1,23,4)},a.prototype.readDoubleLE=function(L,N){return L>>>=0,N||v(L,8,this.length),l.read(this,L,!0,52,8)},a.prototype.readDoubleBE=function(L,N){return L>>>=0,N||v(L,8,this.length),l.read(this,L,!1,52,8)},a.prototype.writeUIntLE=function(L,N,Y,nt){L=+L,N>>>=0,Y>>>=0,nt||_(this,L,N,Y,Math.pow(2,8*Y)-1,0);var lt=1,st=0;for(this[N]=255&L;++st<Y&&(lt*=256);)this[N+st]=L/lt&255;return N+Y},a.prototype.writeUIntBE=function(L,N,Y,nt){L=+L,N>>>=0,Y>>>=0,nt||_(this,L,N,Y,Math.pow(2,8*Y)-1,0);var lt=Y-1,st=1;for(this[N+lt]=255&L;--lt>=0&&(st*=256);)this[N+lt]=L/st&255;return N+Y},a.prototype.writeUInt8=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,1,255,0),this[N]=255&L,N+1},a.prototype.writeUInt16LE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,2,65535,0),this[N]=255&L,this[N+1]=L>>>8,N+2},a.prototype.writeUInt16BE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,2,65535,0),this[N]=L>>>8,this[N+1]=255&L,N+2},a.prototype.writeUInt32LE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,4,4294967295,0),this[N+3]=L>>>24,this[N+2]=L>>>16,this[N+1]=L>>>8,this[N]=255&L,N+4},a.prototype.writeUInt32BE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,4,4294967295,0),this[N]=L>>>24,this[N+1]=L>>>16,this[N+2]=L>>>8,this[N+3]=255&L,N+4},a.prototype.writeIntLE=function(L,N,Y,nt){if(L=+L,N>>>=0,!nt){var lt=Math.pow(2,8*Y-1);_(this,L,N,Y,lt-1,-lt)}var st=0,pt=1,ft=0;for(this[N]=255&L;++st<Y&&(pt*=256);)L<0&&ft===0&&this[N+st-1]!==0&&(ft=1),this[N+st]=(L/pt>>0)-ft&255;return N+Y},a.prototype.writeIntBE=function(L,N,Y,nt){if(L=+L,N>>>=0,!nt){var lt=Math.pow(2,8*Y-1);_(this,L,N,Y,lt-1,-lt)}var st=Y-1,pt=1,ft=0;for(this[N+st]=255&L;--st>=0&&(pt*=256);)L<0&&ft===0&&this[N+st+1]!==0&&(ft=1),this[N+st]=(L/pt>>0)-ft&255;return N+Y},a.prototype.writeInt8=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,1,127,-128),L<0&&(L=255+L+1),this[N]=255&L,N+1},a.prototype.writeInt16LE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,2,32767,-32768),this[N]=255&L,this[N+1]=L>>>8,N+2},a.prototype.writeInt16BE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,2,32767,-32768),this[N]=L>>>8,this[N+1]=255&L,N+2},a.prototype.writeInt32LE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,4,2147483647,-2147483648),this[N]=255&L,this[N+1]=L>>>8,this[N+2]=L>>>16,this[N+3]=L>>>24,N+4},a.prototype.writeInt32BE=function(L,N,Y){return L=+L,N>>>=0,Y||_(this,L,N,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[N]=L>>>24,this[N+1]=L>>>16,this[N+2]=L>>>8,this[N+3]=255&L,N+4},a.prototype.writeFloatLE=function(L,N,Y){return S(this,L,N,!0,Y)},a.prototype.writeFloatBE=function(L,N,Y){return S(this,L,N,!1,Y)},a.prototype.writeDoubleLE=function(L,N,Y){return A(this,L,N,!0,Y)},a.prototype.writeDoubleBE=function(L,N,Y){return A(this,L,N,!1,Y)},a.prototype.copy=function(L,N,Y,nt){if(!a.isBuffer(L))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),nt||nt===0||(nt=this.length),N>=L.length&&(N=L.length),N||(N=0),nt>0&&nt<Y&&(nt=Y),nt===Y||L.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),L.length-N<nt-Y&&(nt=L.length-N+Y);var lt=nt-Y;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(N,Y,nt);else if(this===L&&Y<N&&N<nt)for(var st=lt-1;st>=0;--st)L[st+N]=this[st+Y];else Uint8Array.prototype.set.call(L,this.subarray(Y,nt),N);return lt},a.prototype.fill=function(L,N,Y,nt){if(typeof L=="string"){if(typeof N=="string"?(nt=N,N=0,Y=this.length):typeof Y=="string"&&(nt=Y,Y=this.length),nt!==void 0&&typeof nt!="string")throw new TypeError("encoding must be a string");if(typeof nt=="string"&&!a.isEncoding(nt))throw new TypeError("Unknown encoding: "+nt);if(L.length===1){var lt=L.charCodeAt(0);(nt==="utf8"&&lt<128||nt==="latin1")&&(L=lt)}}else typeof L=="number"&&(L&=255);if(N<0||this.length<N||this.length<Y)throw new RangeError("Out of range index");if(Y<=N)return this;var st;if(N>>>=0,Y=Y===void 0?this.length:Y>>>0,L||(L=0),typeof L=="number")for(st=N;st<Y;++st)this[st]=L;else{var pt=a.isBuffer(L)?L:a.from(L,nt),ft=pt.length;if(ft===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(st=0;st<Y-N;++st)this[st+N]=pt[st%ft]}return this};var B=/[^+/0-9A-Za-z-_]/g;function M(L){return L<16?"0"+L.toString(16):L.toString(16)}function H(L,N){var Y;N=N||1/0;for(var nt=L.length,lt=null,st=[],pt=0;pt<nt;++pt){if((Y=L.charCodeAt(pt))>55295&&Y<57344){if(!lt){if(Y>56319){(N-=3)>-1&&st.push(239,191,189);continue}if(pt+1===nt){(N-=3)>-1&&st.push(239,191,189);continue}lt=Y;continue}if(Y<56320){(N-=3)>-1&&st.push(239,191,189),lt=Y;continue}Y=65536+(lt-55296<<10|Y-56320)}else lt&&(N-=3)>-1&&st.push(239,191,189);if(lt=null,Y<128){if((N-=1)<0)break;st.push(Y)}else if(Y<2048){if((N-=2)<0)break;st.push(Y>>6|192,63&Y|128)}else if(Y<65536){if((N-=3)<0)break;st.push(Y>>12|224,Y>>6&63|128,63&Y|128)}else{if(!(Y<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;st.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}}return st}function V(L){return o.toByteArray(function(N){if((N=(N=N.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(L))}function tt(L,N,Y,nt){for(var lt=0;lt<nt&&!(lt+Y>=N.length||lt>=L.length);++lt)N[lt+Y]=L[lt];return lt}function F(L,N){return L instanceof N||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===N.name}function J(L){return L!=L}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("stream").Transform,l=t("string_decoder").StringDecoder;function u(a){o.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(u,o),u.prototype.update=function(a,c,d){typeof a=="string"&&(a=i.from(a,c));var f=this._update(a);return this.hashMode?this:(d&&(f=this._toString(f,d)),f)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(a,c,d){var f;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(h){f=h}finally{d(f)}},u.prototype._flush=function(a){var c;try{this.push(this.__final())}catch(d){c=d}a(c)},u.prototype._finalOrDigest=function(a){var c=this.__final()||i.alloc(0);return a&&(c=this._toString(c,a,!0)),c},u.prototype._toString=function(a,c,d){if(this._decoder||(this._decoder=new l(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var f=this._decoder.write(a);return d&&(f+=this._decoder.end()),f},r.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,r,s){var i=t("../internals/is-callable"),o=t("../internals/try-to-string"),l=TypeError;r.exports=function(u){if(i(u))return u;throw new l(o(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,r,s){var i=t("../internals/is-constructor"),o=t("../internals/try-to-string"),l=TypeError;r.exports=function(u){if(i(u))return u;throw new l(o(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,r,s){var i=t("../internals/is-callable"),o=String,l=TypeError;r.exports=function(u){if(typeof u=="object"||i(u))return u;throw new l("Can't set "+o(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,r,s){var i=t("../internals/well-known-symbol"),o=t("../internals/object-create"),l=t("../internals/object-define-property").f,u=i("unscopables"),a=Array.prototype;a[u]===void 0&&l(a,u,{configurable:!0,value:o(null)}),r.exports=function(c){a[u][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,r,s){var i=t("../internals/object-is-prototype-of"),o=TypeError;r.exports=function(l,u){if(i(u,l))return l;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,r,s){var i=t("../internals/is-object"),o=String,l=TypeError;r.exports=function(u){if(i(u))return u;throw new l(o(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,r,s){var i=t("../internals/to-indexed-object"),o=t("../internals/to-absolute-index"),l=t("../internals/length-of-array-like"),u=function(a){return function(c,d,f){var h,p=i(c),y=l(p),m=o(f,y);if(a&&d!=d){for(;y>m;)if((h=p[m++])!=h)return!0}else for(;y>m;m++)if((a||m in p)&&p[m]===d)return a||m||0;return!a&&-1}};r.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,r,s){var i=t("../internals/function-bind-context"),o=t("../internals/function-uncurry-this"),l=t("../internals/indexed-object"),u=t("../internals/to-object"),a=t("../internals/length-of-array-like"),c=t("../internals/array-species-create"),d=o([].push),f=function(h){var p=h===1,y=h===2,m=h===3,g=h===4,b=h===6,w=h===7,C=h===5||b;return function(j,I,q,P){for(var U,W,z=u(j),R=l(z),T=i(I,q),E=a(R),k=0,v=P||c,_=p?v(j,E):y||w?v(j,0):void 0;E>k;k++)if((C||k in R)&&(W=T(U=R[k],k,z),h))if(p)_[k]=W;else if(W)switch(h){case 3:return!0;case 5:return U;case 6:return k;case 2:d(_,U)}else switch(h){case 4:return!1;case 7:d(_,U)}return b?-1:m||g?g:_}};r.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,r,s){var i=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),l=t("../internals/create-property"),u=Array,a=Math.max;r.exports=function(c,d,f){for(var h=o(c),p=i(d,h),y=i(f===void 0?h:f,h),m=u(a(y-p,0)),g=0;p<y;p++,g++)l(m,g,c[p]);return m.length=g,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,r,s){var i=t("../internals/function-uncurry-this");r.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,r,s){var i=t("../internals/is-array"),o=t("../internals/is-constructor"),l=t("../internals/is-object"),u=t("../internals/well-known-symbol")("species"),a=Array;r.exports=function(c){var d;return i(c)&&(d=c.constructor,(o(d)&&(d===a||i(d.prototype))||l(d)&&(d=d[u])===null)&&(d=void 0)),d===void 0?a:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,r,s){var i=t("../internals/array-species-constructor");r.exports=function(o,l){return new(i(o))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(t,r,s){var i=t("../internals/well-known-symbol")("iterator"),o=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){o=!0}};u[i]=function(){return this},Array.from(u,function(){throw 2})}catch{}r.exports=function(a,c){try{if(!c&&!o)return!1}catch{return!1}var d=!1;try{var f={};f[i]=function(){return{next:function(){return{done:d=!0}}}},a(f)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=i({}.toString),l=i("".slice);r.exports=function(u){return l(o(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,r,s){var i=t("../internals/to-string-tag-support"),o=t("../internals/is-callable"),l=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("toStringTag"),a=Object,c=l(function(){return arguments}())==="Arguments";r.exports=i?l:function(d){var f,h,p;return d===void 0?"Undefined":d===null?"Null":typeof(h=function(y,m){try{return y[m]}catch{}}(f=a(d),u))=="string"?h:c?l(f):(p=l(f))==="Object"&&o(f.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,r,s){var i=t("../internals/has-own-property"),o=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");r.exports=function(a,c,d){for(var f=o(c),h=u.f,p=l.f,y=0;y<f.length;y++){var m=f[y];i(a,m)||d&&i(d,m)||h(a,m,p(c,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,r,s){var i=t("../internals/well-known-symbol")("match");r.exports=function(o){var l=/./;try{"/./"[o](l)}catch{try{return l[i]=!1,"/./"[o](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,r,s){var i=t("../internals/fails");r.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(t,r,s){r.exports=function(i,o){return{value:i,done:o}}},{}],241:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");r.exports=i?function(u,a,c){return o.f(u,a,l(1,c))}:function(u,a,c){return u[a]=c,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,r,s){r.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},{}],243:[function(t,r,s){var i=t("../internals/to-property-key"),o=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");r.exports=function(u,a,c){var d=i(a);d in u?o.f(u,d,l(0,c)):u[d]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,r,s){var i=t("../internals/make-built-in"),o=t("../internals/object-define-property");r.exports=function(l,u,a){return a.get&&i(a.get,u,{getter:!0}),a.set&&i(a.set,u,{setter:!0}),o.f(l,u,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,r,s){var i=t("../internals/is-callable"),o=t("../internals/object-define-property"),l=t("../internals/make-built-in"),u=t("../internals/define-global-property");r.exports=function(a,c,d,f){f||(f={});var h=f.enumerable,p=f.name!==void 0?f.name:c;if(i(d)&&l(d,p,f),f.global)h?a[c]=d:u(c,d);else{try{f.unsafe?a[c]&&(h=!0):delete a[c]}catch{}h?a[c]=d:o.f(a,c,{value:d,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,r,s){var i=t("../internals/global"),o=Object.defineProperty;r.exports=function(l,u){try{o(i,l,{value:u,configurable:!0,writable:!0})}catch{i[l]=u}return u}},{"../internals/global":274}],247:[function(t,r,s){var i=t("../internals/fails");r.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,r,s){var i=typeof document=="object"&&document.all,o=i===void 0&&i!==void 0;r.exports={all:i,IS_HTMLDDA:o}},{}],249:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/is-object"),l=i.document,u=o(l)&&o(l.createElement);r.exports=function(a){return u?l.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,r,s){var i=t("../internals/engine-is-deno"),o=t("../internals/engine-is-node");r.exports=!i&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,r,s){r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,r,s){var i=t("../internals/engine-user-agent");r.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,r,s){var i=t("../internals/engine-user-agent");r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/classof-raw");r.exports=o(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,r,s){var i=t("../internals/engine-user-agent");r.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(t,r,s){r.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,r,s){var i,o,l=t("../internals/global"),u=t("../internals/engine-user-agent"),a=l.process,c=l.Deno,d=a&&a.versions||c&&c.version,f=d&&d.v8;f&&(o=(i=f.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(o=+i[1]),r.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,r,s){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),u=t("../internals/define-built-in"),a=t("../internals/define-global-property"),c=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");r.exports=function(f,h){var p,y,m,g,b,w=f.target,C=f.global,j=f.stat;if(p=C?i:j?i[w]||a(w,{}):(i[w]||{}).prototype)for(y in h){if(g=h[y],m=f.dontCallGetSet?(b=o(p,y))&&b.value:p[y],!d(C?y:w+(j?".":"#")+y,f.forced)&&m!==void 0){if(typeof g==typeof m)continue;c(g,m)}(f.sham||m&&m.sham)&&l(g,"sham",!0),u(p,y,g,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,r,s){r.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(t,r,s){var i=t("../internals/function-bind-native"),o=Function.prototype,l=o.apply,u=o.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(i?u.bind(l):function(){return u.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,r,s){var i=t("../internals/function-uncurry-this-clause"),o=t("../internals/a-callable"),l=t("../internals/function-bind-native"),u=i(i.bind);r.exports=function(a,c){return o(a),c===void 0?a:l?u(a,c):function(){return a.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,r,s){var i=t("../internals/fails");r.exports=!i(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,r,s){var i=t("../internals/function-bind-native"),o=Function.prototype.call;r.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/has-own-property"),l=Function.prototype,u=i&&Object.getOwnPropertyDescriptor,a=o(l,"name"),c=a&&(function(){}).name==="something",d=a&&(!i||i&&u(l,"name").configurable);r.exports={EXISTS:a,PROPER:c,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/a-callable");r.exports=function(l,u,a){try{return i(o(Object.getOwnPropertyDescriptor(l,u)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,r,s){var i=t("../internals/classof-raw"),o=t("../internals/function-uncurry-this");r.exports=function(l){if(i(l)==="Function")return o(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,r,s){var i=t("../internals/function-bind-native"),o=Function.prototype,l=o.call,u=i&&o.bind.bind(l,l);r.exports=i?u:function(a){return function(){return l.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/is-callable"),l=function(u){return o(u)?u:void 0};r.exports=function(u,a){return arguments.length<2?l(i[u]):i[u]&&i[u][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,r,s){var i=t("../internals/classof"),o=t("../internals/get-method"),l=t("../internals/is-null-or-undefined"),u=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");r.exports=function(c){if(!l(c))return o(c,a)||o(c,"@@iterator")||u[i(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,r,s){var i=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/an-object"),u=t("../internals/try-to-string"),a=t("../internals/get-iterator-method"),c=TypeError;r.exports=function(d,f){var h=arguments.length<2?a(d):f;if(o(h))return l(i(h,d));throw new c(u(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/is-array"),l=t("../internals/is-callable"),u=t("../internals/classof-raw"),a=t("../internals/to-string"),c=i([].push);r.exports=function(d){if(l(d))return d;if(o(d)){for(var f=d.length,h=[],p=0;p<f;p++){var y=d[p];typeof y=="string"?c(h,y):typeof y!="number"&&u(y)!=="Number"&&u(y)!=="String"||c(h,a(y))}var m=h.length,g=!0;return function(b,w){if(g)return g=!1,w;if(o(this))return w;for(var C=0;C<m;C++)if(h[C]===b)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,r,s){var i=t("../internals/a-callable"),o=t("../internals/is-null-or-undefined");r.exports=function(l,u){var a=l[u];return o(a)?void 0:i(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,r,s){(function(i){(function(){var o=function(l){return l&&l.Math===Math&&l};r.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/to-object"),l=i({}.hasOwnProperty);r.exports=Object.hasOwn||function(u,a){return l(o(u),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,r,s){r.exports={}},{}],277:[function(t,r,s){r.exports=function(i,o){try{arguments.length===1?console.error(i):console.error(i,o)}catch{}}},{}],278:[function(t,r,s){var i=t("../internals/get-built-in");r.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/fails"),l=t("../internals/document-create-element");r.exports=!i&&!o(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/fails"),l=t("../internals/classof-raw"),u=Object,a=i("".split);r.exports=o(function(){return!u("z").propertyIsEnumerable(0)})?function(c){return l(c)==="String"?a(c,""):u(c)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/is-callable"),l=t("../internals/shared-store"),u=i(Function.toString);o(l.inspectSource)||(l.inspectSource=function(a){return u(a)}),r.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,r,s){var i,o,l,u=t("../internals/weak-map-basic-detection"),a=t("../internals/global"),c=t("../internals/is-object"),d=t("../internals/create-non-enumerable-property"),f=t("../internals/has-own-property"),h=t("../internals/shared-store"),p=t("../internals/shared-key"),y=t("../internals/hidden-keys"),m=a.TypeError,g=a.WeakMap;if(u||h.state){var b=h.state||(h.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,i=function(C,j){if(b.has(C))throw new m("Object already initialized");return j.facade=C,b.set(C,j),j},o=function(C){return b.get(C)||{}},l=function(C){return b.has(C)}}else{var w=p("state");y[w]=!0,i=function(C,j){if(f(C,w))throw new m("Object already initialized");return j.facade=C,d(C,w,j),j},o=function(C){return f(C,w)?C[w]:{}},l=function(C){return f(C,w)}}r.exports={set:i,get:o,has:l,enforce:function(C){return l(C)?o(C):i(C,{})},getterFor:function(C){return function(j){var I;if(!c(j)||(I=o(j)).type!==C)throw new m("Incompatible receiver, "+C+" required");return I}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,r,s){var i=t("../internals/well-known-symbol"),o=t("../internals/iterators"),l=i("iterator"),u=Array.prototype;r.exports=function(a){return a!==void 0&&(o.Array===a||u[l]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,r,s){var i=t("../internals/classof-raw");r.exports=Array.isArray||function(o){return i(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,r,s){var i=t("../internals/document-all"),o=i.all;r.exports=i.IS_HTMLDDA?function(l){return typeof l=="function"||l===o}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/fails"),l=t("../internals/is-callable"),u=t("../internals/classof"),a=t("../internals/get-built-in"),c=t("../internals/inspect-source"),d=function(){},f=[],h=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,y=i(p.exec),m=!p.test(d),g=function(w){if(!l(w))return!1;try{return h(d,f,w),!0}catch{return!1}},b=function(w){if(!l(w))return!1;switch(u(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!y(p,c(w))}catch{return!0}};b.sham=!0,r.exports=!h||o(function(){var w;return g(g.call)||!g(Object)||!g(function(){w=!0})||w})?b:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,r,s){var i=t("../internals/fails"),o=t("../internals/is-callable"),l=/#|\.prototype\./,u=function(h,p){var y=c[a(h)];return y===f||y!==d&&(o(p)?i(p):!!p)},a=u.normalize=function(h){return String(h).replace(l,".").toLowerCase()},c=u.data={},d=u.NATIVE="N",f=u.POLYFILL="P";r.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,r,s){r.exports=function(i){return i==null}},{}],289:[function(t,r,s){var i=t("../internals/is-callable"),o=t("../internals/document-all"),l=o.all;r.exports=o.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:i(u)||u===l}:function(u){return typeof u=="object"?u!==null:i(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,r,s){r.exports=!1},{}],291:[function(t,r,s){var i=t("../internals/is-object"),o=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");r.exports=function(u){var a;return i(u)&&((a=u[l])!==void 0?!!a:o(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,r,s){var i=t("../internals/get-built-in"),o=t("../internals/is-callable"),l=t("../internals/object-is-prototype-of"),u=t("../internals/use-symbol-as-uid"),a=Object;r.exports=u?function(c){return typeof c=="symbol"}:function(c){var d=i("Symbol");return o(d)&&l(d.prototype,a(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,r,s){var i=t("../internals/function-bind-context"),o=t("../internals/function-call"),l=t("../internals/an-object"),u=t("../internals/try-to-string"),a=t("../internals/is-array-iterator-method"),c=t("../internals/length-of-array-like"),d=t("../internals/object-is-prototype-of"),f=t("../internals/get-iterator"),h=t("../internals/get-iterator-method"),p=t("../internals/iterator-close"),y=TypeError,m=function(b,w){this.stopped=b,this.result=w},g=m.prototype;r.exports=function(b,w,C){var j,I,q,P,U,W,z,R=C&&C.that,T=!(!C||!C.AS_ENTRIES),E=!(!C||!C.IS_RECORD),k=!(!C||!C.IS_ITERATOR),v=!(!C||!C.INTERRUPTED),_=i(w,R),x=function(A){return j&&p(j,"normal",A),new m(!0,A)},S=function(A){return T?(l(A),v?_(A[0],A[1],x):_(A[0],A[1])):v?_(A,x):_(A)};if(E)j=b.iterator;else if(k)j=b;else{if(!(I=h(b)))throw new y(u(b)+" is not iterable");if(a(I)){for(q=0,P=c(b);P>q;q++)if((U=S(b[q]))&&d(g,U))return U;return new m(!1)}j=f(b,I)}for(W=E?b.next:j.next;!(z=o(W,j)).done;){try{U=S(z.value)}catch(A){p(j,"throw",A)}if(typeof U=="object"&&U&&d(g,U))return U}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,r,s){var i=t("../internals/function-call"),o=t("../internals/an-object"),l=t("../internals/get-method");r.exports=function(u,a,c){var d,f;o(u);try{if(!(d=l(u,"return"))){if(a==="throw")throw c;return c}d=i(d,u)}catch(h){f=!0,d=h}if(a==="throw")throw c;if(f)throw d;return o(d),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,r,s){var i=t("../internals/iterators-core").IteratorPrototype,o=t("../internals/object-create"),l=t("../internals/create-property-descriptor"),u=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),c=function(){return this};r.exports=function(d,f,h,p){var y=f+" Iterator";return d.prototype=o(i,{next:l(+!p,h)}),u(d,y,!1,!0),a[y]=c,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/function-call"),l=t("../internals/is-pure"),u=t("../internals/function-name"),a=t("../internals/is-callable"),c=t("../internals/iterator-create-constructor"),d=t("../internals/object-get-prototype-of"),f=t("../internals/object-set-prototype-of"),h=t("../internals/set-to-string-tag"),p=t("../internals/create-non-enumerable-property"),y=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),g=t("../internals/iterators"),b=t("../internals/iterators-core"),w=u.PROPER,C=u.CONFIGURABLE,j=b.IteratorPrototype,I=b.BUGGY_SAFARI_ITERATORS,q=m("iterator"),P=function(){return this};r.exports=function(U,W,z,R,T,E,k){c(z,W,R);var v,_,x,S=function(F){if(F===T&&V)return V;if(!I&&F&&F in M)return M[F];switch(F){case"keys":case"values":case"entries":return function(){return new z(this,F)}}return function(){return new z(this)}},A=W+" Iterator",B=!1,M=U.prototype,H=M[q]||M["@@iterator"]||T&&M[T],V=!I&&H||S(T),tt=W==="Array"&&M.entries||H;if(tt&&(v=d(tt.call(new U)))!==Object.prototype&&v.next&&(l||d(v)===j||(f?f(v,j):a(v[q])||y(v,q,P)),h(v,A,!0,!0),l&&(g[A]=P)),w&&T==="values"&&H&&H.name!=="values"&&(!l&&C?p(M,"name","values"):(B=!0,V=function(){return o(H,this)})),T)if(_={values:S("values"),keys:E?V:S("keys"),entries:S("entries")},k)for(x in _)(I||B||!(x in M))&&y(M,x,_[x]);else i({target:W,proto:!0,forced:I||B},_);return l&&!k||M[q]===V||y(M,q,V,{name:T}),g[W]=V,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,r,s){var i,o,l,u=t("../internals/fails"),a=t("../internals/is-callable"),c=t("../internals/is-object"),d=t("../internals/object-create"),f=t("../internals/object-get-prototype-of"),h=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),y=t("../internals/is-pure"),m=p("iterator"),g=!1;[].keys&&("next"in(l=[].keys())?(o=f(f(l)))!==Object.prototype&&(i=o):g=!0),!c(i)||u(function(){var b={};return i[m].call(b)!==b})?i={}:y&&(i=d(i)),a(i[m])||h(i,m,function(){return this}),r.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,r,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(t,r,s){var i=t("../internals/to-length");r.exports=function(o){return i(o.length)}},{"../internals/to-length":343}],300:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/fails"),l=t("../internals/is-callable"),u=t("../internals/has-own-property"),a=t("../internals/descriptors"),c=t("../internals/function-name").CONFIGURABLE,d=t("../internals/inspect-source"),f=t("../internals/internal-state"),h=f.enforce,p=f.get,y=String,m=Object.defineProperty,g=i("".slice),b=i("".replace),w=i([].join),C=a&&!o(function(){return m(function(){},"length",{value:8}).length!==8}),j=String(String).split("String"),I=r.exports=function(q,P,U){g(y(P),0,7)==="Symbol("&&(P="["+b(y(P),/^Symbol\(([^)]*)\)/,"$1")+"]"),U&&U.getter&&(P="get "+P),U&&U.setter&&(P="set "+P),(!u(q,"name")||c&&q.name!==P)&&(a?m(q,"name",{value:P,configurable:!0}):q.name=P),C&&U&&u(U,"arity")&&q.length!==U.arity&&m(q,"length",{value:U.arity});try{U&&u(U,"constructor")&&U.constructor?a&&m(q,"prototype",{writable:!1}):q.prototype&&(q.prototype=void 0)}catch{}var W=h(q);return u(W,"source")||(W.source=w(j,typeof P=="string"?P:"")),q};Function.prototype.toString=I(function(){return l(this)&&p(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,r,s){var i=Math.ceil,o=Math.floor;r.exports=Math.trunc||function(l){var u=+l;return(u>0?o:i)(u)}},{}],302:[function(t,r,s){var i,o,l,u,a,c=t("../internals/global"),d=t("../internals/function-bind-context"),f=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/task").set,p=t("../internals/queue"),y=t("../internals/engine-is-ios"),m=t("../internals/engine-is-ios-pebble"),g=t("../internals/engine-is-webos-webkit"),b=t("../internals/engine-is-node"),w=c.MutationObserver||c.WebKitMutationObserver,C=c.document,j=c.process,I=c.Promise,q=f(c,"queueMicrotask"),P=q&&q.value;if(!P){var U=new p,W=function(){var z,R;for(b&&(z=j.domain)&&z.exit();R=U.get();)try{R()}catch(T){throw U.head&&i(),T}z&&z.enter()};y||b||g||!w||!C?!m&&I&&I.resolve?((u=I.resolve(void 0)).constructor=I,a=d(u.then,u),i=function(){a(W)}):b?i=function(){j.nextTick(W)}:(h=d(h,c),i=function(){h(W)}):(o=!0,l=C.createTextNode(""),new w(W).observe(l,{characterData:!0}),i=function(){l.data=o=!o}),P=function(z){U.head||i(),U.add(z)}}r.exports=P},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,r,s){var i=t("../internals/a-callable"),o=TypeError,l=function(u){var a,c;this.promise=new u(function(d,f){if(a!==void 0||c!==void 0)throw new o("Bad Promise constructor");a=d,c=f}),this.resolve=i(a),this.reject=i(c)};r.exports.f=function(u){return new l(u)}},{"../internals/a-callable":222}],304:[function(t,r,s){var i=t("../internals/is-regexp"),o=TypeError;r.exports=function(l){if(i(l))throw new o("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/function-uncurry-this"),l=t("../internals/function-call"),u=t("../internals/fails"),a=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),d=t("../internals/object-property-is-enumerable"),f=t("../internals/to-object"),h=t("../internals/indexed-object"),p=Object.assign,y=Object.defineProperty,m=o([].concat);r.exports=!p||u(function(){if(i&&p({b:1},p(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},b={},w=Symbol("assign detection");return g[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(C){b[C]=C}),p({},g)[w]!==7||a(p({},b)).join("")!=="abcdefghijklmnopqrst"})?function(g,b){for(var w=f(g),C=arguments.length,j=1,I=c.f,q=d.f;C>j;)for(var P,U=h(arguments[j++]),W=I?m(a(U),I(U)):a(U),z=W.length,R=0;z>R;)P=W[R++],i&&!l(q,U,P)||(w[P]=U[P]);return w}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,r,s){var i,o=t("../internals/an-object"),l=t("../internals/object-define-properties"),u=t("../internals/enum-bug-keys"),a=t("../internals/hidden-keys"),c=t("../internals/html"),d=t("../internals/document-create-element"),f=t("../internals/shared-key"),h=f("IE_PROTO"),p=function(){},y=function(b){return"<script>"+b+"<\/script>"},m=function(b){b.write(y("")),b.close();var w=b.parentWindow.Object;return b=null,w},g=function(){try{i=new ActiveXObject("htmlfile")}catch{}var b,w;g=typeof document<"u"?document.domain&&i?m(i):((w=d("iframe")).style.display="none",c.appendChild(w),w.src="javascript:",(b=w.contentWindow.document).open(),b.write(y("document.F=Object")),b.close(),b.F):m(i);for(var C=u.length;C--;)delete g.prototype[u[C]];return g()};a[h]=!0,r.exports=Object.create||function(b,w){var C;return b!==null?(p.prototype=o(b),C=new p,p.prototype=null,C[h]=b):C=g(),w===void 0?C:l.f(C,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/v8-prototype-define-bug"),l=t("../internals/object-define-property"),u=t("../internals/an-object"),a=t("../internals/to-indexed-object"),c=t("../internals/object-keys");s.f=i&&!o?Object.defineProperties:function(d,f){u(d);for(var h,p=a(f),y=c(f),m=y.length,g=0;m>g;)l.f(d,h=y[g++],p[h]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/ie8-dom-define"),l=t("../internals/v8-prototype-define-bug"),u=t("../internals/an-object"),a=t("../internals/to-property-key"),c=TypeError,d=Object.defineProperty,f=Object.getOwnPropertyDescriptor;s.f=i?l?function(h,p,y){if(u(h),p=a(p),u(y),typeof h=="function"&&p==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var m=f(h,p);m&&m.writable&&(h[p]=y.value,y={configurable:"configurable"in y?y.configurable:m.configurable,enumerable:"enumerable"in y?y.enumerable:m.enumerable,writable:!1})}return d(h,p,y)}:d:function(h,p,y){if(u(h),p=a(p),u(y),o)try{return d(h,p,y)}catch{}if("get"in y||"set"in y)throw new c("Accessors not supported");return"value"in y&&(h[p]=y.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/function-call"),l=t("../internals/object-property-is-enumerable"),u=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),c=t("../internals/to-property-key"),d=t("../internals/has-own-property"),f=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=i?h:function(p,y){if(p=a(p),y=c(y),f)try{return h(p,y)}catch{}if(d(p,y))return u(!o(l.f,p,y),p[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,r,s){var i=t("../internals/classof-raw"),o=t("../internals/to-indexed-object"),l=t("../internals/object-get-own-property-names").f,u=t("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(c){return a&&i(c)==="Window"?function(d){try{return l(d)}catch{return u(a)}}(c):l(o(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,r,s){var i=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return i(l,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,r,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(t,r,s){var i=t("../internals/has-own-property"),o=t("../internals/is-callable"),l=t("../internals/to-object"),u=t("../internals/shared-key"),a=t("../internals/correct-prototype-getter"),c=u("IE_PROTO"),d=Object,f=d.prototype;r.exports=a?d.getPrototypeOf:function(h){var p=l(h);if(i(p,c))return p[c];var y=p.constructor;return o(y)&&p instanceof y?y.prototype:p instanceof d?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,r,s){var i=t("../internals/function-uncurry-this");r.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=t("../internals/has-own-property"),l=t("../internals/to-indexed-object"),u=t("../internals/array-includes").indexOf,a=t("../internals/hidden-keys"),c=i([].push);r.exports=function(d,f){var h,p=l(d),y=0,m=[];for(h in p)!o(a,h)&&o(p,h)&&c(m,h);for(;f.length>y;)o(p,h=f[y++])&&(~u(m,h)||c(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,r,s){var i=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys");r.exports=Object.keys||function(l){return i(l,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,r,s){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!i.call({1:2},1);s.f=l?function(u){var a=o(this,u);return!!a&&a.enumerable}:i},{}],318:[function(t,r,s){var i=t("../internals/function-uncurry-this-accessor"),o=t("../internals/an-object"),l=t("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,a=!1,c={};try{(u=i(Object.prototype,"__proto__","set"))(c,[]),a=c instanceof Array}catch{}return function(d,f){return o(d),l(f),a?u(d,f):d.__proto__=f,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/fails"),l=t("../internals/function-uncurry-this"),u=t("../internals/object-get-prototype-of"),a=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),d=l(t("../internals/object-property-is-enumerable").f),f=l([].push),h=i&&o(function(){var y=Object.create(null);return y[2]=2,!d(y,2)}),p=function(y){return function(m){for(var g,b=c(m),w=a(b),C=h&&u(b)===null,j=w.length,I=0,q=[];j>I;)g=w[I++],i&&!(C?g in b:d(b,g))||f(q,y?[g,b[g]]:b[g]);return q}};r.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,r,s){var i=t("../internals/function-call"),o=t("../internals/is-callable"),l=t("../internals/is-object"),u=TypeError;r.exports=function(a,c){var d,f;if(c==="string"&&o(d=a.toString)&&!l(f=i(d,a))||o(d=a.valueOf)&&!l(f=i(d,a))||c!=="string"&&o(d=a.toString)&&!l(f=i(d,a)))return f;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,r,s){var i=t("../internals/get-built-in"),o=t("../internals/function-uncurry-this"),l=t("../internals/object-get-own-property-names"),u=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object"),c=o([].concat);r.exports=i("Reflect","ownKeys")||function(d){var f=l.f(a(d)),h=u.f;return h?c(f,h(d)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,r,s){var i=t("../internals/global");r.exports=i},{"../internals/global":274}],323:[function(t,r,s){r.exports=function(i){try{return{error:!1,value:i()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/promise-native-constructor"),l=t("../internals/is-callable"),u=t("../internals/is-forced"),a=t("../internals/inspect-source"),c=t("../internals/well-known-symbol"),d=t("../internals/engine-is-browser"),f=t("../internals/engine-is-deno"),h=t("../internals/is-pure"),p=t("../internals/engine-v8-version"),y=o&&o.prototype,m=c("species"),g=!1,b=l(i.PromiseRejectionEvent),w=u("Promise",function(){var C=a(o),j=C!==String(o);if(!j&&p===66||h&&(!y.catch||!y.finally))return!0;if(!p||p<51||!/native code/.test(C)){var I=new o(function(P){P(1)}),q=function(P){P(function(){},function(){})};if((I.constructor={})[m]=q,!(g=I.then(function(){})instanceof q))return!0}return!j&&(d||f)&&!b});r.exports={CONSTRUCTOR:w,REJECTION_EVENT:b,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,r,s){var i=t("../internals/global");r.exports=i.Promise},{"../internals/global":274}],326:[function(t,r,s){var i=t("../internals/an-object"),o=t("../internals/is-object"),l=t("../internals/new-promise-capability");r.exports=function(u,a){if(i(u),o(a)&&a.constructor===u)return a;var c=l.f(u);return(0,c.resolve)(a),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,r,s){var i=t("../internals/promise-native-constructor"),o=t("../internals/check-correctness-of-iteration"),l=t("../internals/promise-constructor-detection").CONSTRUCTOR;r.exports=l||!o(function(u){i.all(u).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,r,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(o){var l={item:o,next:null},u=this.tail;u?u.next=l:this.head=l,this.tail=l},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},r.exports=i},{}],329:[function(t,r,s){var i=t("../internals/is-null-or-undefined"),o=TypeError;r.exports=function(l){if(i(l))throw new o("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(t,r,s){var i=t("../internals/get-built-in"),o=t("../internals/define-built-in-accessor"),l=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),a=l("species");r.exports=function(c){var d=i(c);u&&d&&!d[a]&&o(d,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,r,s){var i=t("../internals/object-define-property").f,o=t("../internals/has-own-property"),l=t("../internals/well-known-symbol")("toStringTag");r.exports=function(u,a,c){u&&!c&&(u=u.prototype),u&&!o(u,l)&&i(u,l,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,r,s){var i=t("../internals/shared"),o=t("../internals/uid"),l=i("keys");r.exports=function(u){return l[u]||(l[u]=o(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/define-global-property"),l=i["__core-js_shared__"]||o("__core-js_shared__",{});r.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,r,s){var i=t("../internals/is-pure"),o=t("../internals/shared-store");(r.exports=function(l,u){return o[l]||(o[l]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,r,s){var i=t("../internals/an-object"),o=t("../internals/a-constructor"),l=t("../internals/is-null-or-undefined"),u=t("../internals/well-known-symbol")("species");r.exports=function(a,c){var d,f=i(a).constructor;return f===void 0||l(d=i(f)[u])?c:o(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,r,s){var i=t("../internals/engine-v8-version"),o=t("../internals/fails"),l=t("../internals/global").String;r.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol("symbol detection");return!l(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,r,s){var i=t("../internals/function-call"),o=t("../internals/get-built-in"),l=t("../internals/well-known-symbol"),u=t("../internals/define-built-in");r.exports=function(){var a=o("Symbol"),c=a&&a.prototype,d=c&&c.valueOf,f=l("toPrimitive");c&&!c[f]&&u(c,f,function(h){return i(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,r,s){var i=t("../internals/symbol-constructor-detection");r.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,r,s){var i,o,l,u,a=t("../internals/global"),c=t("../internals/function-apply"),d=t("../internals/function-bind-context"),f=t("../internals/is-callable"),h=t("../internals/has-own-property"),p=t("../internals/fails"),y=t("../internals/html"),m=t("../internals/array-slice"),g=t("../internals/document-create-element"),b=t("../internals/validate-arguments-length"),w=t("../internals/engine-is-ios"),C=t("../internals/engine-is-node"),j=a.setImmediate,I=a.clearImmediate,q=a.process,P=a.Dispatch,U=a.Function,W=a.MessageChannel,z=a.String,R=0,T={};p(function(){i=a.location});var E=function(x){if(h(T,x)){var S=T[x];delete T[x],S()}},k=function(x){return function(){E(x)}},v=function(x){E(x.data)},_=function(x){a.postMessage(z(x),i.protocol+"//"+i.host)};j&&I||(j=function(x){b(arguments.length,1);var S=f(x)?x:U(x),A=m(arguments,1);return T[++R]=function(){c(S,void 0,A)},o(R),R},I=function(x){delete T[x]},C?o=function(x){q.nextTick(k(x))}:P&&P.now?o=function(x){P.now(k(x))}:W&&!w?(u=(l=new W).port2,l.port1.onmessage=v,o=d(u.postMessage,u)):a.addEventListener&&f(a.postMessage)&&!a.importScripts&&i&&i.protocol!=="file:"&&!p(_)?(o=_,a.addEventListener("message",v,!1)):o="onreadystatechange"in g("script")?function(x){y.appendChild(g("script")).onreadystatechange=function(){y.removeChild(this),E(x)}}:function(x){setTimeout(k(x),0)}),r.exports={set:j,clear:I}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,r,s){var i=t("../internals/to-integer-or-infinity"),o=Math.max,l=Math.min;r.exports=function(u,a){var c=i(u);return c<0?o(c+a,0):l(c,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,r,s){var i=t("../internals/indexed-object"),o=t("../internals/require-object-coercible");r.exports=function(l){return i(o(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,r,s){var i=t("../internals/math-trunc");r.exports=function(o){var l=+o;return l!=l||l===0?0:i(l)}},{"../internals/math-trunc":301}],343:[function(t,r,s){var i=t("../internals/to-integer-or-infinity"),o=Math.min;r.exports=function(l){return l>0?o(i(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,r,s){var i=t("../internals/require-object-coercible"),o=Object;r.exports=function(l){return o(i(l))}},{"../internals/require-object-coercible":329}],345:[function(t,r,s){var i=t("../internals/function-call"),o=t("../internals/is-object"),l=t("../internals/is-symbol"),u=t("../internals/get-method"),a=t("../internals/ordinary-to-primitive"),c=t("../internals/well-known-symbol"),d=TypeError,f=c("toPrimitive");r.exports=function(h,p){if(!o(h)||l(h))return h;var y,m=u(h,f);if(m){if(p===void 0&&(p="default"),y=i(m,h,p),!o(y)||l(y))return y;throw new d("Can't convert object to primitive value")}return p===void 0&&(p="number"),a(h,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,r,s){var i=t("../internals/to-primitive"),o=t("../internals/is-symbol");r.exports=function(l){var u=i(l,"string");return o(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,r,s){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,r,s){var i=t("../internals/classof"),o=String;r.exports=function(l){if(i(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(l)}},{"../internals/classof":236}],349:[function(t,r,s){var i=String;r.exports=function(o){try{return i(o)}catch{return"Object"}}},{}],350:[function(t,r,s){var i=t("../internals/function-uncurry-this"),o=0,l=Math.random(),u=i(1 .toString);r.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+u(++o+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,r,s){var i=t("../internals/symbol-constructor-detection");r.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,r,s){var i=t("../internals/descriptors"),o=t("../internals/fails");r.exports=i&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,r,s){var i=TypeError;r.exports=function(o,l){if(o<l)throw new i("Not enough arguments");return o}},{}],354:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/is-callable"),l=i.WeakMap;r.exports=o(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,r,s){var i=t("../internals/path"),o=t("../internals/has-own-property"),l=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;r.exports=function(a){var c=i.Symbol||(i.Symbol={});o(c,a)||u(c,a,{value:l.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,r,s){var i=t("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(t,r,s){var i=t("../internals/global"),o=t("../internals/shared"),l=t("../internals/has-own-property"),u=t("../internals/uid"),a=t("../internals/symbol-constructor-detection"),c=t("../internals/use-symbol-as-uid"),d=i.Symbol,f=o("wks"),h=c?d.for||d:d&&d.withoutSetter||u;r.exports=function(p){return l(f,p)||(f[p]=a&&l(d,p)?d[p]:h("Symbol."+p)),f[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/array-iteration").findIndex,l=t("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex(function(){u=!1}),i({target:"Array",proto:!0,forced:u},{findIndex:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/array-iteration").find,l=t("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find(function(){u=!1}),i({target:"Array",proto:!0,forced:u},{find:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/array-includes").includes,l=t("../internals/fails"),u=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:l(function(){return!Array(1).includes()})},{includes:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,r,s){var i=t("../internals/to-indexed-object"),o=t("../internals/add-to-unscopables"),l=t("../internals/iterators"),u=t("../internals/internal-state"),a=t("../internals/object-define-property").f,c=t("../internals/iterator-define"),d=t("../internals/create-iter-result-object"),f=t("../internals/is-pure"),h=t("../internals/descriptors"),p=u.set,y=u.getterFor("Array Iterator");r.exports=c(Array,"Array",function(g,b){p(this,{type:"Array Iterator",target:i(g),index:0,kind:b})},function(){var g=y(this),b=g.target,w=g.kind,C=g.index++;if(!b||C>=b.length)return g.target=void 0,d(void 0,!0);switch(w){case"keys":return d(C,!1);case"values":return d(b[C],!1)}return d([C,b[C]],!1)},"values");var m=l.Arguments=l.Array;if(o("keys"),o("values"),o("entries"),!f&&h&&m.name!=="values")try{a(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/get-built-in"),l=t("../internals/function-apply"),u=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),c=t("../internals/fails"),d=t("../internals/is-callable"),f=t("../internals/is-symbol"),h=t("../internals/array-slice"),p=t("../internals/get-json-replacer-function"),y=t("../internals/symbol-constructor-detection"),m=String,g=o("JSON","stringify"),b=a(/./.exec),w=a("".charAt),C=a("".charCodeAt),j=a("".replace),I=a(1 .toString),q=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,U=/^[\uDC00-\uDFFF]$/,W=!y||c(function(){var E=o("Symbol")("stringify detection");return g([E])!=="[null]"||g({a:E})!=="{}"||g(Object(E))!=="{}"}),z=c(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),R=function(E,k){var v=h(arguments),_=p(k);if(d(_)||E!==void 0&&!f(E))return v[1]=function(x,S){if(d(_)&&(S=u(_,this,m(x),S)),!f(S))return S},l(g,null,v)},T=function(E,k,v){var _=w(v,k-1),x=w(v,k+1);return b(P,E)&&!b(U,x)||b(U,E)&&!b(P,_)?"\\u"+I(C(E,0),16):E};g&&i({target:"JSON",stat:!0,arity:3,forced:W||z},{stringify:function(E,k,v){var _=h(arguments),x=l(W?R:g,null,_);return z&&typeof x=="string"?j(x,q,T):x}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,r,s){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/symbol-constructor-detection"),l=t("../internals/fails"),u=t("../internals/object-get-own-property-symbols"),a=t("../internals/to-object");i({target:"Object",stat:!0,forced:!o||l(function(){u.f(1)})},{getOwnPropertySymbols:function(c){var d=u.f;return d?d(a(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/to-object"),l=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")(function(){l(1)})},{keys:function(u){return l(o(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(l){return o(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/function-call"),l=t("../internals/a-callable"),u=t("../internals/new-promise-capability"),a=t("../internals/perform"),c=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(d){var f=this,h=u.f(f),p=h.resolve,y=h.reject,m=a(function(){var g=l(f.resolve),b=[],w=0,C=1;c(d,function(j){var I=w++,q=!1;C++,o(g,f,j).then(function(P){q||(q=!0,b[I]=P,--C||p(b))},y)}),--C||p(b)});return m.error&&y(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/is-pure"),l=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-native-constructor"),a=t("../internals/get-built-in"),c=t("../internals/is-callable"),d=t("../internals/define-built-in"),f=u&&u.prototype;if(i({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(p){return this.then(void 0,p)}}),!o&&c(u)){var h=a("Promise").prototype.catch;f.catch!==h&&d(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,r,s){var i,o,l,u=t("../internals/export"),a=t("../internals/is-pure"),c=t("../internals/engine-is-node"),d=t("../internals/global"),f=t("../internals/function-call"),h=t("../internals/define-built-in"),p=t("../internals/object-set-prototype-of"),y=t("../internals/set-to-string-tag"),m=t("../internals/set-species"),g=t("../internals/a-callable"),b=t("../internals/is-callable"),w=t("../internals/is-object"),C=t("../internals/an-instance"),j=t("../internals/species-constructor"),I=t("../internals/task").set,q=t("../internals/microtask"),P=t("../internals/host-report-errors"),U=t("../internals/perform"),W=t("../internals/queue"),z=t("../internals/internal-state"),R=t("../internals/promise-native-constructor"),T=t("../internals/promise-constructor-detection"),E=t("../internals/new-promise-capability"),k=T.CONSTRUCTOR,v=T.REJECTION_EVENT,_=T.SUBCLASSING,x=z.getterFor("Promise"),S=z.set,A=R&&R.prototype,B=R,M=A,H=d.TypeError,V=d.document,tt=d.process,F=E.f,J=F,L=!!(V&&V.createEvent&&d.dispatchEvent),N=function(gt){var St;return!(!w(gt)||!b(St=gt.then))&&St},Y=function(gt,St){var kt,Tt,Lt,Xt=St.value,re=St.state===1,ue=re?gt.ok:gt.fail,ce=gt.resolve,de=gt.reject,we=gt.domain;try{ue?(re||(St.rejection===2&&ft(St),St.rejection=1),ue===!0?kt=Xt:(we&&we.enter(),kt=ue(Xt),we&&(we.exit(),Lt=!0)),kt===gt.promise?de(new H("Promise-chain cycle")):(Tt=N(kt))?f(Tt,kt,ce,de):ce(kt)):de(Xt)}catch(Me){we&&!Lt&&we.exit(),de(Me)}},nt=function(gt,St){gt.notified||(gt.notified=!0,q(function(){for(var kt,Tt=gt.reactions;kt=Tt.get();)Y(kt,gt);gt.notified=!1,St&&!gt.rejection&&st(gt)}))},lt=function(gt,St,kt){var Tt,Lt;L?((Tt=V.createEvent("Event")).promise=St,Tt.reason=kt,Tt.initEvent(gt,!1,!0),d.dispatchEvent(Tt)):Tt={promise:St,reason:kt},!v&&(Lt=d["on"+gt])?Lt(Tt):gt==="unhandledrejection"&&P("Unhandled promise rejection",kt)},st=function(gt){f(I,d,function(){var St,kt=gt.facade,Tt=gt.value;if(pt(gt)&&(St=U(function(){c?tt.emit("unhandledRejection",Tt,kt):lt("unhandledrejection",kt,Tt)}),gt.rejection=c||pt(gt)?2:1,St.error))throw St.value})},pt=function(gt){return gt.rejection!==1&&!gt.parent},ft=function(gt){f(I,d,function(){var St=gt.facade;c?tt.emit("rejectionHandled",St):lt("rejectionhandled",St,gt.value)})},it=function(gt,St,kt){return function(Tt){gt(St,Tt,kt)}},at=function(gt,St,kt){gt.done||(gt.done=!0,kt&&(gt=kt),gt.value=St,gt.state=2,nt(gt,!0))},bt=function(gt,St,kt){if(!gt.done){gt.done=!0,kt&&(gt=kt);try{if(gt.facade===St)throw new H("Promise can't be resolved itself");var Tt=N(St);Tt?q(function(){var Lt={done:!1};try{f(Tt,St,it(bt,Lt,gt),it(at,Lt,gt))}catch(Xt){at(Lt,Xt,gt)}}):(gt.value=St,gt.state=1,nt(gt,!1))}catch(Lt){at({done:!1},Lt,gt)}}};if(k&&(M=(B=function(gt){C(this,M),g(gt),f(i,this);var St=x(this);try{gt(it(bt,St),it(at,St))}catch(kt){at(St,kt)}}).prototype,(i=function(gt){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new W,rejection:!1,state:0,value:void 0})}).prototype=h(M,"then",function(gt,St){var kt=x(this),Tt=F(j(this,B));return kt.parent=!0,Tt.ok=!b(gt)||gt,Tt.fail=b(St)&&St,Tt.domain=c?tt.domain:void 0,kt.state===0?kt.reactions.add(Tt):q(function(){Y(Tt,kt)}),Tt.promise}),o=function(){var gt=new i,St=x(gt);this.promise=gt,this.resolve=it(bt,St),this.reject=it(at,St)},E.f=F=function(gt){return gt===B||gt===void 0?new o(gt):J(gt)},!a&&b(R)&&A!==Object.prototype)){l=A.then,_||h(A,"then",function(gt,St){var kt=this;return new B(function(Tt,Lt){f(l,kt,Tt,Lt)}).then(gt,St)},{unsafe:!0});try{delete A.constructor}catch{}p&&p(A,M)}u({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:B}),y(B,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),u=t("../internals/fails"),a=t("../internals/get-built-in"),c=t("../internals/is-callable"),d=t("../internals/species-constructor"),f=t("../internals/promise-resolve"),h=t("../internals/define-built-in"),p=l&&l.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!l&&u(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var g=d(this,a("Promise")),b=c(m);return this.then(b?function(w){return f(g,m()).then(function(){return w})}:m,b?function(w){return f(g,m()).then(function(){throw w})}:m)}}),!o&&c(l)){var y=a("Promise").prototype.finally;p.finally!==y&&h(p,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,r,s){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/function-call"),l=t("../internals/a-callable"),u=t("../internals/new-promise-capability"),a=t("../internals/perform"),c=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(d){var f=this,h=u.f(f),p=h.reject,y=a(function(){var m=l(f.resolve);c(d,function(g){o(m,f,g).then(h.resolve,p)})});return y.error&&p(y.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/function-call"),l=t("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var a=l.f(this);return o(a.reject,void 0,u),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/get-built-in"),l=t("../internals/is-pure"),u=t("../internals/promise-native-constructor"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-resolve"),d=o("Promise"),f=l&&!a;i({target:"Promise",stat:!0,forced:l||a},{resolve:function(h){return c(f&&this===d?u:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/function-uncurry-this"),l=t("../internals/to-absolute-index"),u=RangeError,a=String.fromCharCode,c=String.fromCodePoint,d=o([].join);i({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(f){for(var h,p=[],y=arguments.length,m=0;y>m;){if(h=+arguments[m++],l(h,1114111)!==h)throw new u(h+" is not a valid code point");p[m]=h<65536?a(h):a(55296+((h-=65536)>>10),h%1024+56320)}return d(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/function-uncurry-this"),l=t("../internals/not-a-regexp"),u=t("../internals/require-object-coercible"),a=t("../internals/to-string"),c=t("../internals/correct-is-regexp-logic"),d=o("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(f){return!!~d(a(u(this)),a(l(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,r,s){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/global"),l=t("../internals/function-call"),u=t("../internals/function-uncurry-this"),a=t("../internals/is-pure"),c=t("../internals/descriptors"),d=t("../internals/symbol-constructor-detection"),f=t("../internals/fails"),h=t("../internals/has-own-property"),p=t("../internals/object-is-prototype-of"),y=t("../internals/an-object"),m=t("../internals/to-indexed-object"),g=t("../internals/to-property-key"),b=t("../internals/to-string"),w=t("../internals/create-property-descriptor"),C=t("../internals/object-create"),j=t("../internals/object-keys"),I=t("../internals/object-get-own-property-names"),q=t("../internals/object-get-own-property-names-external"),P=t("../internals/object-get-own-property-symbols"),U=t("../internals/object-get-own-property-descriptor"),W=t("../internals/object-define-property"),z=t("../internals/object-define-properties"),R=t("../internals/object-property-is-enumerable"),T=t("../internals/define-built-in"),E=t("../internals/define-built-in-accessor"),k=t("../internals/shared"),v=t("../internals/shared-key"),_=t("../internals/hidden-keys"),x=t("../internals/uid"),S=t("../internals/well-known-symbol"),A=t("../internals/well-known-symbol-wrapped"),B=t("../internals/well-known-symbol-define"),M=t("../internals/symbol-define-to-primitive"),H=t("../internals/set-to-string-tag"),V=t("../internals/internal-state"),tt=t("../internals/array-iteration").forEach,F=v("hidden"),J=V.set,L=V.getterFor("Symbol"),N=Object.prototype,Y=o.Symbol,nt=Y&&Y.prototype,lt=o.RangeError,st=o.TypeError,pt=o.QObject,ft=U.f,it=W.f,at=q.f,bt=R.f,gt=u([].push),St=k("symbols"),kt=k("op-symbols"),Tt=k("wks"),Lt=!pt||!pt.prototype||!pt.prototype.findChild,Xt=function(me,Ce,xe){var ne=ft(N,Ce);ne&&delete N[Ce],it(me,Ce,xe),ne&&me!==N&&it(N,Ce,ne)},re=c&&f(function(){return C(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!==7})?Xt:it,ue=function(me,Ce){var xe=St[me]=C(nt);return J(xe,{type:"Symbol",tag:me,description:Ce}),c||(xe.description=Ce),xe},ce=function(me,Ce,xe){me===N&&ce(kt,Ce,xe),y(me);var ne=g(Ce);return y(xe),h(St,ne)?(xe.enumerable?(h(me,F)&&me[F][ne]&&(me[F][ne]=!1),xe=C(xe,{enumerable:w(0,!1)})):(h(me,F)||it(me,F,w(1,{})),me[F][ne]=!0),re(me,ne,xe)):it(me,ne,xe)},de=function(me,Ce){y(me);var xe=m(Ce),ne=j(xe).concat(Ue(xe));return tt(ne,function(ze){c&&!l(we,xe,ze)||ce(me,ze,xe[ze])}),me},we=function(me){var Ce=g(me),xe=l(bt,this,Ce);return!(this===N&&h(St,Ce)&&!h(kt,Ce))&&(!(xe||!h(this,Ce)||!h(St,Ce)||h(this,F)&&this[F][Ce])||xe)},Me=function(me,Ce){var xe=m(me),ne=g(Ce);if(xe!==N||!h(St,ne)||h(kt,ne)){var ze=ft(xe,ne);return!ze||!h(St,ne)||h(xe,F)&&xe[F][ne]||(ze.enumerable=!0),ze}},ie=function(me){var Ce=at(m(me)),xe=[];return tt(Ce,function(ne){h(St,ne)||h(_,ne)||gt(xe,ne)}),xe},Ue=function(me){var Ce=me===N,xe=at(Ce?kt:m(me)),ne=[];return tt(xe,function(ze){!h(St,ze)||Ce&&!h(N,ze)||gt(ne,St[ze])}),ne};d||(T(nt=(Y=function(){if(p(nt,this))throw new st("Symbol is not a constructor");var me=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,Ce=x(me),xe=function(ne){this===N&&l(xe,kt,ne),h(this,F)&&h(this[F],Ce)&&(this[F][Ce]=!1);var ze=w(1,ne);try{re(this,Ce,ze)}catch(We){if(!(We instanceof lt))throw We;Xt(this,Ce,ze)}};return c&&Lt&&re(N,Ce,{configurable:!0,set:xe}),ue(Ce,me)}).prototype,"toString",function(){return L(this).tag}),T(Y,"withoutSetter",function(me){return ue(x(me),me)}),R.f=we,W.f=ce,z.f=de,U.f=Me,I.f=q.f=ie,P.f=Ue,A.f=function(me){return ue(S(me),me)},c&&(E(nt,"description",{configurable:!0,get:function(){return L(this).description}}),a||T(N,"propertyIsEnumerable",we,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Y}),tt(j(Tt),function(me){B(me)}),i({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Lt=!0},useSimple:function(){Lt=!1}}),i({target:"Object",stat:!0,forced:!d,sham:!c},{create:function(me,Ce){return Ce===void 0?C(me):de(C(me),Ce)},defineProperty:ce,defineProperties:de,getOwnPropertyDescriptor:Me}),i({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ie}),M(),H(Y,"Symbol"),_[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/get-built-in"),l=t("../internals/has-own-property"),u=t("../internals/to-string"),a=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),d=a("string-to-symbol-registry"),f=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(h){var p=u(h);if(l(d,p))return d[p];var y=o("Symbol")(p);return d[p]=y,f[y]=p,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,r,s){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,r,s){var i=t("../internals/export"),o=t("../internals/has-own-property"),l=t("../internals/is-symbol"),u=t("../internals/try-to-string"),a=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),d=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(f){if(!l(f))throw new TypeError(u(f)+" is not a symbol");if(o(d,f))return d[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,r,s){function i(o){return Object.prototype.toString.call(o)}s.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},s.isBoolean=function(o){return typeof o=="boolean"},s.isNull=function(o){return o===null},s.isNullOrUndefined=function(o){return o==null},s.isNumber=function(o){return typeof o=="number"},s.isString=function(o){return typeof o=="string"},s.isSymbol=function(o){return typeof o=="symbol"},s.isUndefined=function(o){return o===void 0},s.isRegExp=function(o){return i(o)==="[object RegExp]"},s.isObject=function(o){return typeof o=="object"&&o!==null},s.isDate=function(o){return i(o)==="[object Date]"},s.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},s.isFunction=function(o){return typeof o=="function"},s.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},s.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,r,s){(function(i){(function(){var o=t("elliptic"),l=t("bn.js");r.exports=function(d){return new a(d)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(d){this.curveType=u[d],this.curveType||(this.curveType={name:d}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function c(d,f,h){Array.isArray(d)||(d=d.toArray());var p=new i(d);if(h&&p.length<h){var y=new i(h-p.length);y.fill(0),p=i.concat([y,p])}return f?p.toString(f):p}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,a.prototype.generateKeys=function(d,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,f)},a.prototype.computeSecret=function(d,f,h){return f=f||"utf8",i.isBuffer(d)||(d=new i(d,f)),c(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},a.prototype.getPublicKey=function(d,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),c(h,d)},a.prototype.getPrivateKey=function(d){return c(this.keys.getPrivate(),d)},a.prototype.setPublicKey=function(d,f){return f=f||"utf8",i.isBuffer(d)||(d=new i(d,f)),this.keys._importPublic(d),this},a.prototype.setPrivateKey=function(d,f){f=f||"utf8",i.isBuffer(d)||(d=new i(d,f));var h=new l(d);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,r,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(t,r,s){var i=t("inherits"),o=t("md5.js"),l=t("ripemd160"),u=t("sha.js"),a=t("cipher-base");function c(d){a.call(this,"digest"),this._hash=d}i(c,a),c.prototype._update=function(d){this._hash.update(d)},c.prototype._final=function(){return this._hash.digest()},r.exports=function(d){return(d=d.toLowerCase())==="md5"?new o:d==="rmd160"||d==="ripemd160"?new l:new c(u(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,r,s){var i=t("md5.js");r.exports=function(o){return new i().update(o).digest()}},{"md5.js":450}],388:[function(t,r,s){var i=t("inherits"),o=t("./legacy"),l=t("cipher-base"),u=t("safe-buffer").Buffer,a=t("create-hash/md5"),c=t("ripemd160"),d=t("sha.js"),f=u.alloc(128);function h(p,y){l.call(this,"digest"),typeof y=="string"&&(y=u.from(y));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=y,y.length>m?y=(p==="rmd160"?new c:d(p)).update(y).digest():y.length<m&&(y=u.concat([y,f],m));for(var g=this._ipad=u.allocUnsafe(m),b=this._opad=u.allocUnsafe(m),w=0;w<m;w++)g[w]=54^y[w],b[w]=92^y[w];this._hash=p==="rmd160"?new c:d(p),this._hash.update(g)}i(h,l),h.prototype._update=function(p){this._hash.update(p)},h.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new c:d(this._alg)).update(this._opad).update(p).digest()},r.exports=function(p,y){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new h("rmd160",y):p==="md5"?new o(a,y):new h(p,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,r,s){var i=t("inherits"),o=t("safe-buffer").Buffer,l=t("cipher-base"),u=o.alloc(128);function a(c,d){l.call(this,"digest"),typeof d=="string"&&(d=o.from(d)),this._alg=c,this._key=d,d.length>64?d=c(d):d.length<64&&(d=o.concat([d,u],64));for(var f=this._ipad=o.allocUnsafe(64),h=this._opad=o.allocUnsafe(64),p=0;p<64;p++)f[p]=54^d[p],h[p]=92^d[p];this._hash=[f]}i(a,l),a.prototype._update=function(c){this._hash.push(c)},a.prototype._final=function(){var c=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,c]))},r.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,r,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=t("randombytes"),s.createHash=s.Hash=t("create-hash"),s.createHmac=s.Hmac=t("create-hmac");var i=t("browserify-sign/algos"),o=Object.keys(i),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);s.getHashes=function(){return l};var u=t("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var a=t("browserify-cipher");s.Cipher=a.Cipher,s.createCipher=a.createCipher,s.Cipheriv=a.Cipheriv,s.createCipheriv=a.createCipheriv,s.Decipher=a.Decipher,s.createDecipher=a.createDecipher,s.Decipheriv=a.Decipheriv,s.createDecipheriv=a.createDecipheriv,s.getCiphers=a.getCiphers,s.listCiphers=a.listCiphers;var c=t("diffie-hellman");s.DiffieHellmanGroup=c.DiffieHellmanGroup,s.createDiffieHellmanGroup=c.createDiffieHellmanGroup,s.getDiffieHellman=c.getDiffieHellman,s.createDiffieHellman=c.createDiffieHellman,s.DiffieHellman=c.DiffieHellman;var d=t("browserify-sign");s.createSign=d.createSign,s.Sign=d.Sign,s.createVerify=d.createVerify,s.Verify=d.Verify,s.createECDH=t("create-ecdh");var f=t("public-encrypt");s.publicEncrypt=f.publicEncrypt,s.privateEncrypt=f.privateEncrypt,s.publicDecrypt=f.publicDecrypt,s.privateDecrypt=f.privateDecrypt;var h=t("randomfill");s.randomFill=h.randomFill,s.randomFillSync=h.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,r,s){(function(i,o){typeof s=="object"&&r!==void 0?r.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=o()})(void 0,function(){var i=6e4,o=36e5,l="millisecond",u="second",a="minute",c="hour",d="day",f="week",h="month",p="quarter",y="year",m="date",g="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var _=["th","st","nd","rd"],x=v%100;return"["+v+(_[(x-20)%10]||_[x]||_[0])+"]"}},j=function(v,_,x){var S=String(v);return!S||S.length>=_?v:""+Array(_+1-S.length).join(x)+v},I={s:j,z:function(v){var _=-v.utcOffset(),x=Math.abs(_),S=Math.floor(x/60),A=x%60;return(_<=0?"+":"-")+j(S,2,"0")+":"+j(A,2,"0")},m:function v(_,x){if(_.date()<x.date())return-v(x,_);var S=12*(x.year()-_.year())+(x.month()-_.month()),A=_.clone().add(S,h),B=x-A<0,M=_.clone().add(S+(B?-1:1),h);return+(-(S+(x-A)/(B?A-M:M-A))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:h,y,w:f,d,D:m,h:c,m:a,s:u,ms:l,Q:p}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},q="en",P={};P[q]=C;var U="$isDayjsObject",W=function(v){return v instanceof E||!(!v||!v[U])},z=function v(_,x,S){var A;if(!_)return q;if(typeof _=="string"){var B=_.toLowerCase();P[B]&&(A=B),x&&(P[B]=x,A=B);var M=_.split("-");if(!A&&M.length>1)return v(M[0])}else{var H=_.name;P[H]=_,A=H}return!S&&A&&(q=A),A||!S&&q},R=function(v,_){if(W(v))return v.clone();var x=typeof _=="object"?_:{};return x.date=v,x.args=arguments,new E(x)},T=I;T.l=z,T.i=W,T.w=function(v,_){return R(v,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var E=function(){function v(x){this.$L=z(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[U]=!0}var _=v.prototype;return _.parse=function(x){this.$d=function(S){var A=S.date,B=S.utc;if(A===null)return new Date(NaN);if(T.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var M=A.match(b);if(M){var H=M[2]-1||0,V=(M[7]||"0").substring(0,3);return B?new Date(Date.UTC(M[1],H,M[3]||1,M[4]||0,M[5]||0,M[6]||0,V)):new Date(M[1],H,M[3]||1,M[4]||0,M[5]||0,M[6]||0,V)}}return new Date(A)}(x),this.init()},_.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},_.$utils=function(){return T},_.isValid=function(){return this.$d.toString()!==g},_.isSame=function(x,S){var A=R(x);return this.startOf(S)<=A&&A<=this.endOf(S)},_.isAfter=function(x,S){return R(x)<this.startOf(S)},_.isBefore=function(x,S){return this.endOf(S)<R(x)},_.$g=function(x,S,A){return T.u(x)?this[S]:this.set(A,x)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(x,S){var A=this,B=!!T.u(S)||S,M=T.p(x),H=function(nt,lt){var st=T.w(A.$u?Date.UTC(A.$y,lt,nt):new Date(A.$y,lt,nt),A);return B?st:st.endOf(d)},V=function(nt,lt){return T.w(A.toDate()[nt].apply(A.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(lt)),A)},tt=this.$W,F=this.$M,J=this.$D,L="set"+(this.$u?"UTC":"");switch(M){case y:return B?H(1,0):H(31,11);case h:return B?H(1,F):H(0,F+1);case f:var N=this.$locale().weekStart||0,Y=(tt<N?tt+7:tt)-N;return H(B?J-Y:J+(6-Y),F);case d:case m:return V(L+"Hours",0);case c:return V(L+"Minutes",1);case a:return V(L+"Seconds",2);case u:return V(L+"Milliseconds",3);default:return this.clone()}},_.endOf=function(x){return this.startOf(x,!1)},_.$set=function(x,S){var A,B=T.p(x),M="set"+(this.$u?"UTC":""),H=(A={},A[d]=M+"Date",A[m]=M+"Date",A[h]=M+"Month",A[y]=M+"FullYear",A[c]=M+"Hours",A[a]=M+"Minutes",A[u]=M+"Seconds",A[l]=M+"Milliseconds",A)[B],V=B===d?this.$D+(S-this.$W):S;if(B===h||B===y){var tt=this.clone().set(m,1);tt.$d[H](V),tt.init(),this.$d=tt.set(m,Math.min(this.$D,tt.daysInMonth())).$d}else H&&this.$d[H](V);return this.init(),this},_.set=function(x,S){return this.clone().$set(x,S)},_.get=function(x){return this[T.p(x)]()},_.add=function(x,S){var A,B=this;x=Number(x);var M=T.p(S),H=function(F){var J=R(B);return T.w(J.date(J.date()+Math.round(F*x)),B)};if(M===h)return this.set(h,this.$M+x);if(M===y)return this.set(y,this.$y+x);if(M===d)return H(1);if(M===f)return H(7);var V=(A={},A[a]=i,A[c]=o,A[u]=1e3,A)[M]||1,tt=this.$d.getTime()+x*V;return T.w(tt,this)},_.subtract=function(x,S){return this.add(-1*x,S)},_.format=function(x){var S=this,A=this.$locale();if(!this.isValid())return A.invalidDate||g;var B=x||"YYYY-MM-DDTHH:mm:ssZ",M=T.z(this),H=this.$H,V=this.$m,tt=this.$M,F=A.weekdays,J=A.months,L=A.meridiem,N=function(lt,st,pt,ft){return lt&&(lt[st]||lt(S,B))||pt[st].slice(0,ft)},Y=function(lt){return T.s(H%12||12,lt,"0")},nt=L||function(lt,st,pt){var ft=lt<12?"AM":"PM";return pt?ft.toLowerCase():ft};return B.replace(w,function(lt,st){return st||function(pt){switch(pt){case"YY":return String(S.$y).slice(-2);case"YYYY":return T.s(S.$y,4,"0");case"M":return tt+1;case"MM":return T.s(tt+1,2,"0");case"MMM":return N(A.monthsShort,tt,J,3);case"MMMM":return N(J,tt);case"D":return S.$D;case"DD":return T.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return N(A.weekdaysMin,S.$W,F,2);case"ddd":return N(A.weekdaysShort,S.$W,F,3);case"dddd":return F[S.$W];case"H":return String(H);case"HH":return T.s(H,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return nt(H,V,!0);case"A":return nt(H,V,!1);case"m":return String(V);case"mm":return T.s(V,2,"0");case"s":return String(S.$s);case"ss":return T.s(S.$s,2,"0");case"SSS":return T.s(S.$ms,3,"0");case"Z":return M}return null}(lt)||M.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(x,S,A){var B,M=this,H=T.p(S),V=R(x),tt=(V.utcOffset()-this.utcOffset())*i,F=this-V,J=function(){return T.m(M,V)};switch(H){case y:B=J()/12;break;case h:B=J();break;case p:B=J()/3;break;case f:B=(F-tt)/6048e5;break;case d:B=(F-tt)/864e5;break;case c:B=F/o;break;case a:B=F/i;break;case u:B=F/1e3;break;default:B=F}return A?B:T.a(B)},_.daysInMonth=function(){return this.endOf(h).$D},_.$locale=function(){return P[this.$L]},_.locale=function(x,S){if(!x)return this.$L;var A=this.clone(),B=z(x,S,!0);return B&&(A.$L=B),A},_.clone=function(){return T.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},v}(),k=E.prototype;return R.prototype=k,[["$ms",l],["$s",u],["$m",a],["$H",c],["$W",d],["$M",h],["$y",y],["$D",m]].forEach(function(v){k[v[1]]=function(_){return this.$g(_,v[0],v[1])}}),R.extend=function(v,_){return v.$i||(v(_,E,R),v.$i=!0),R},R.locale=z,R.isDayjs=W,R.unix=function(v){return R(1e3*v)},R.en=P[q],R.Ls=P,R.p={},R})},{}],392:[function(t,r,s){(function(i,o){typeof s=="object"&&r!==void 0?r.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,u=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,c={},d=function(b){return(b=+b)+(b>68?1900:2e3)},f=function(b){return function(w){this[b]=+w}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var C=w.match(/([+-]|\d\d)/g),j=60*C[1]+(+C[2]||0);return j===0?0:C[0]==="+"?-j:j}(b)}],p=function(b){var w=c[b];return w&&(w.indexOf?w:w.s.concat(w.f))},y=function(b,w){var C,j=c.meridiem;if(j){for(var I=1;I<=24;I+=1)if(b.indexOf(j(I,0,w))>-1){C=I>12;break}}else C=b===(w?"pm":"PM");return C},m={A:[a,function(b){this.afternoon=y(b,!1)}],a:[a,function(b){this.afternoon=y(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[l,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[u,f("seconds")],ss:[u,f("seconds")],m:[u,f("minutes")],mm:[u,f("minutes")],H:[u,f("hours")],h:[u,f("hours")],HH:[u,f("hours")],hh:[u,f("hours")],D:[u,f("day")],DD:[l,f("day")],Do:[a,function(b){var w=c.ordinal,C=b.match(/\d+/);if(this.day=C[0],w)for(var j=1;j<=31;j+=1)w(j).replace(/\[|\]/g,"")===b&&(this.day=j)}],M:[u,f("month")],MM:[l,f("month")],MMM:[a,function(b){var w=p("months"),C=(p("monthsShort")||w.map(function(j){return j.slice(0,3)})).indexOf(b)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[a,function(b){var w=p("months").indexOf(b)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,f("year")],YY:[l,function(b){this.year=d(b)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function g(b){var w,C;w=b,C=c&&c.formats;for(var j=(b=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,T,E){var k=E&&E.toUpperCase();return T||C[E]||i[E]||C[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,_,x){return _||x.slice(1)})})).match(o),I=j.length,q=0;q<I;q+=1){var P=j[q],U=m[P],W=U&&U[0],z=U&&U[1];j[q]=z?{regex:W,parser:z}:P.replace(/^\[|\]$/g,"")}return function(R){for(var T={},E=0,k=0;E<I;E+=1){var v=j[E];if(typeof v=="string")k+=v.length;else{var _=v.regex,x=v.parser,S=R.slice(k),A=_.exec(S)[0];x.call(T,A),R=R.replace(A,"")}}return function(B){var M=B.afternoon;if(M!==void 0){var H=B.hours;M?H<12&&(B.hours+=12):H===12&&(B.hours=0),delete B.afternoon}}(T),T}}return function(b,w,C){C.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(d=b.parseTwoDigitYear);var j=w.prototype,I=j.parse;j.parse=function(q){var P=q.date,U=q.utc,W=q.args;this.$u=U;var z=W[1];if(typeof z=="string"){var R=W[2]===!0,T=W[3]===!0,E=R||T,k=W[2];T&&(k=W[2]),c=this.$locale(),!R&&k&&(c=C.Ls[k]),this.$d=function(S,A,B){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*S);var M=g(A)(S),H=M.year,V=M.month,tt=M.day,F=M.hours,J=M.minutes,L=M.seconds,N=M.milliseconds,Y=M.zone,nt=new Date,lt=tt||(H||V?1:nt.getDate()),st=H||nt.getFullYear(),pt=0;H&&!V||(pt=V>0?V-1:nt.getMonth());var ft=F||0,it=J||0,at=L||0,bt=N||0;return Y?new Date(Date.UTC(st,pt,lt,ft,it,at,bt+60*Y.offset*1e3)):B?new Date(Date.UTC(st,pt,lt,ft,it,at,bt)):new Date(st,pt,lt,ft,it,at,bt)}catch{return new Date("")}}(P,z,U),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),E&&P!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var v=z.length,_=1;_<=v;_+=1){W[1]=z[_-1];var x=C.apply(this,W);if(x.isValid()){this.$d=x.$d,this.$L=x.$L,this.init();break}_===v&&(this.$d=new Date(""))}else I.call(this,q)}}})},{}],393:[function(t,r,s){(function(i,o){typeof s=="object"&&r!==void 0?r.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=o()})(void 0,function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(u,a,c){var d=a.prototype;c.utc=function(b){var w={date:b,utc:!0,args:arguments};return new a(w)},d.utc=function(b){var w=c(this.toDate(),{locale:this.$L,utc:!0});return b?w.add(this.utcOffset(),i):w},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var f=d.parse;d.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),f.call(this,b)};var h=d.init;d.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else h.call(this)};var p=d.utcOffset;d.utcOffset=function(b,w){var C=this.$utils().u;if(C(b))return this.$u?0:C(this.$offset)?p.call(this):this.$offset;if(typeof b=="string"&&(b=function(P){P===void 0&&(P="");var U=P.match(o);if(!U)return null;var W=(""+U[0]).match(l)||["-",0,0],z=W[0],R=60*+W[1]+ +W[2];return R===0?0:z==="+"?R:-R}(b))===null)return this;var j=Math.abs(b)<=16?60*b:b,I=this;if(w)return I.$offset=j,I.$u=b===0,I;if(b!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(j+q,i)).$offset=j,I.$x.$localOffset=q}else I=this.utc();return I};var y=d.format;d.format=function(b){var w=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,w)},d.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var m=d.toDate;d.toDate=function(b){return b==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var g=d.diff;d.diff=function(b,w,C){if(b&&this.$u===b.$u)return g.call(this,b,w,C);var j=this.local(),I=c(b).local();return g.call(j,I,w,C)}}})},{}],394:[function(t,r,s){s.utils=t("./des/utils"),s.Cipher=t("./des/cipher"),s.DES=t("./des/des"),s.CBC=t("./des/cbc"),s.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,r,s){var i=t("minimalistic-assert"),o=t("inherits"),l={};function u(a){i.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=a[c]}s.instantiate=function(a){function c(p){a.call(this,p),this._cbcInit()}o(c,a);for(var d=Object.keys(l),f=0;f<d.length;f++){var h=d[f];c.prototype[h]=l[h]}return c.create=function(p){return new c(p)},c},l._cbcInit=function(){var a=new u(this.options.iv);this._cbcState=a},l._update=function(a,c,d,f){var h=this._cbcState,p=this.constructor.super_.prototype,y=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)y[m]^=a[c+m];for(p._update.call(this,y,0,d,f),m=0;m<this.blockSize;m++)y[m]=d[f+m]}else{for(p._update.call(this,a,c,d,f),m=0;m<this.blockSize;m++)d[f+m]^=y[m];for(m=0;m<this.blockSize;m++)y[m]=a[c+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,r,s){var i=t("minimalistic-assert");function o(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}r.exports=o,o.prototype._init=function(){},o.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},o.prototype._buffer=function(l,u){for(var a=Math.min(this.buffer.length-this.bufferOff,l.length-u),c=0;c<a;c++)this.buffer[this.bufferOff+c]=l[u+c];return this.bufferOff+=a,a},o.prototype._flushBuffer=function(l,u){return this._update(this.buffer,0,l,u),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(l){var u=0,a=0,c=(this.bufferOff+l.length)/this.blockSize|0,d=new Array(c*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(l,u),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(d,a)));for(var f=l.length-(l.length-u)%this.blockSize;u<f;u+=this.blockSize)this._update(l,u,d,a),a+=this.blockSize;for(;u<l.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=l[u];return d},o.prototype._updateDecrypt=function(l){for(var u=0,a=0,c=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,d=new Array(c*this.blockSize);c>0;c--)u+=this._buffer(l,u),a+=this._flushBuffer(d,a);return u+=this._buffer(l,u),d},o.prototype.final=function(l){var u,a;return l&&(u=this.update(l)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(a):a},o.prototype._pad=function(l,u){if(u===0)return!1;for(;u<l.length;)l[u++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},o.prototype._unpad=function(l){return l},o.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(t,r,s){var i=t("minimalistic-assert"),o=t("inherits"),l=t("./utils"),u=t("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function c(f){u.call(this,f);var h=new a;this._desState=h,this.deriveKeys(h,f.key)}o(c,u),r.exports=c,c.create=function(f){return new c(f)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(f,h){f.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var p=l.readUInt32BE(h,0),y=l.readUInt32BE(h,4);l.pc1(p,y,f.tmp,0),p=f.tmp[0],y=f.tmp[1];for(var m=0;m<f.keys.length;m+=2){var g=d[m>>>1];p=l.r28shl(p,g),y=l.r28shl(y,g),l.pc2(p,y,f.keys,m)}},c.prototype._update=function(f,h,p,y){var m=this._desState,g=l.readUInt32BE(f,h),b=l.readUInt32BE(f,h+4);l.ip(g,b,m.tmp,0),g=m.tmp[0],b=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,b,m.tmp,0):this._decrypt(m,g,b,m.tmp,0),g=m.tmp[0],b=m.tmp[1],l.writeUInt32BE(p,g,y),l.writeUInt32BE(p,b,y+4)},c.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var p=f.length-h,y=h;y<f.length;y++)f[y]=p;return!0},c.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],p=f.length-h;p<f.length;p++)i.equal(f[p],h);return f.slice(0,f.length-h)},c.prototype._encrypt=function(f,h,p,y,m){for(var g=h,b=p,w=0;w<f.keys.length;w+=2){var C=f.keys[w],j=f.keys[w+1];l.expand(b,f.tmp,0),C^=f.tmp[0],j^=f.tmp[1];var I=l.substitute(C,j),q=b;b=(g^l.permute(I))>>>0,g=q}l.rip(b,g,y,m)},c.prototype._decrypt=function(f,h,p,y,m){for(var g=p,b=h,w=f.keys.length-2;w>=0;w-=2){var C=f.keys[w],j=f.keys[w+1];l.expand(g,f.tmp,0),C^=f.tmp[0],j^=f.tmp[1];var I=l.substitute(C,j),q=g;g=(b^l.permute(I))>>>0,b=q}l.rip(g,b,y,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,r,s){var i=t("minimalistic-assert"),o=t("inherits"),l=t("./cipher"),u=t("./des");function a(d,f){i.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),p=f.slice(8,16),y=f.slice(16,24);this.ciphers=d==="encrypt"?[u.create({type:"encrypt",key:h}),u.create({type:"decrypt",key:p}),u.create({type:"encrypt",key:y})]:[u.create({type:"decrypt",key:y}),u.create({type:"encrypt",key:p}),u.create({type:"decrypt",key:h})]}function c(d){l.call(this,d);var f=new a(this.type,this.options.key);this._edeState=f}o(c,l),r.exports=c,c.create=function(d){return new c(d)},c.prototype._update=function(d,f,h,p){var y=this._edeState;y.ciphers[0]._update(d,f,h,p),y.ciphers[1]._update(h,p,h,p),y.ciphers[2]._update(h,p,h,p)},c.prototype._pad=u.prototype._pad,c.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,r,s){s.readUInt32BE=function(u,a){return(u[0+a]<<24|u[1+a]<<16|u[2+a]<<8|u[3+a])>>>0},s.writeUInt32BE=function(u,a,c){u[0+c]=a>>>24,u[1+c]=a>>>16&255,u[2+c]=a>>>8&255,u[3+c]=255&a},s.ip=function(u,a,c,d){for(var f=0,h=0,p=6;p>=0;p-=2){for(var y=0;y<=24;y+=8)f<<=1,f|=a>>>y+p&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>>y+p&1}for(p=6;p>=0;p-=2){for(y=1;y<=25;y+=8)h<<=1,h|=a>>>y+p&1;for(y=1;y<=25;y+=8)h<<=1,h|=u>>>y+p&1}c[d+0]=f>>>0,c[d+1]=h>>>0},s.rip=function(u,a,c,d){for(var f=0,h=0,p=0;p<4;p++)for(var y=24;y>=0;y-=8)f<<=1,f|=a>>>y+p&1,f<<=1,f|=u>>>y+p&1;for(p=4;p<8;p++)for(y=24;y>=0;y-=8)h<<=1,h|=a>>>y+p&1,h<<=1,h|=u>>>y+p&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.pc1=function(u,a,c,d){for(var f=0,h=0,p=7;p>=5;p--){for(var y=0;y<=24;y+=8)f<<=1,f|=a>>y+p&1;for(y=0;y<=24;y+=8)f<<=1,f|=u>>y+p&1}for(y=0;y<=24;y+=8)f<<=1,f|=a>>y+p&1;for(p=1;p<=3;p++){for(y=0;y<=24;y+=8)h<<=1,h|=a>>y+p&1;for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+p&1}for(y=0;y<=24;y+=8)h<<=1,h|=u>>y+p&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.r28shl=function(u,a){return u<<a&268435455|u>>>28-a};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,a,c,d){for(var f=0,h=0,p=i.length>>>1,y=0;y<p;y++)f<<=1,f|=u>>>i[y]&1;for(y=p;y<i.length;y++)h<<=1,h|=a>>>i[y]&1;c[d+0]=f>>>0,c[d+1]=h>>>0},s.expand=function(u,a,c){var d=0,f=0;d=(1&u)<<5|u>>>27;for(var h=23;h>=15;h-=4)d<<=6,d|=u>>>h&63;for(h=11;h>=3;h-=4)f|=u>>>h&63,f<<=6;f|=(31&u)<<1|u>>>31,a[c+0]=d>>>0,a[c+1]=f>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,a){for(var c=0,d=0;d<4;d++)c<<=4,c|=o[64*d+(u>>>18-6*d&63)];for(d=0;d<4;d++)c<<=4,c|=o[256+64*d+(a>>>18-6*d&63)];return c>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var a=0,c=0;c<l.length;c++)a<<=1,a|=u>>>l[c]&1;return a>>>0},s.padSplit=function(u,a,c){for(var d=u.toString(2);d.length<a;)d="0"+d;for(var f=[],h=0;h<a;h+=c)f.push(d.slice(h,h+c));return f.join(" ")}},{}],400:[function(t,r,s){(function(i){(function(){var o=t("./lib/generatePrime"),l=t("./lib/primes.json"),u=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(c){var d=new i(l[c].prime,"hex"),f=new i(l[c].gen,"hex");return new u(d,f)},s.createDiffieHellman=s.DiffieHellman=function c(d,f,h,p){return i.isBuffer(f)||a[f]===void 0?c(d,"binary",f,h):(f=f||"binary",p=p||"binary",h=h||new i([2]),i.isBuffer(h)||(h=new i(h,p)),typeof d=="number"?new u(o(d,h),h,!0):(i.isBuffer(d)||(d=new i(d,f)),new u(d,h,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,r,s){(function(i){(function(){var o=t("bn.js"),l=new(t("miller-rabin")),u=new o(24),a=new o(11),c=new o(10),d=new o(3),f=new o(7),h=t("./generatePrime"),p=t("randombytes");function y(C,j){return j=j||"utf8",i.isBuffer(C)||(C=new i(C,j)),this._pub=new o(C),this}function m(C,j){return j=j||"utf8",i.isBuffer(C)||(C=new i(C,j)),this._priv=new o(C),this}r.exports=b;var g={};function b(C,j,I){this.setGenerator(j),this.__prime=new o(C),this._prime=o.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=y,this.setPrivateKey=m):this._primeCode=8}function w(C,j){var I=new i(C.toArray());return j?I.toString(j):I}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(C,j){var I=j.toString("hex"),q=[I,C.toString(16)].join("_");if(q in g)return g[q];var P,U=0;if(C.isEven()||!h.simpleSieve||!h.fermatTest(C)||!l.test(C))return U+=1,U+=I==="02"||I==="05"?8:4,g[q]=U,U;switch(l.test(C.shrn(1))||(U+=2),I){case"02":C.mod(u).cmp(a)&&(U+=8);break;case"05":(P=C.mod(c)).cmp(d)&&P.cmp(f)&&(U+=8);break;default:U+=4}return g[q]=U,U}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new o(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(C){var j=(C=(C=new o(C)).toRed(this._prime)).redPow(this._priv).fromRed(),I=new i(j.toArray()),q=this.getPrime();if(I.length<q.length){var P=new i(q.length-I.length);P.fill(0),I=i.concat([P,I])}return I},b.prototype.getPublicKey=function(C){return w(this._pub,C)},b.prototype.getPrivateKey=function(C){return w(this._priv,C)},b.prototype.getPrime=function(C){return w(this.__prime,C)},b.prototype.getGenerator=function(C){return w(this._gen,C)},b.prototype.setGenerator=function(C,j){return j=j||"utf8",i.isBuffer(C)||(C=new i(C,j)),this.__gen=C,this._gen=new o(C),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,r,s){var i=t("randombytes");r.exports=C,C.simpleSieve=b,C.fermatTest=w;var o=t("bn.js"),l=new o(24),u=new(t("miller-rabin")),a=new o(1),c=new o(2),d=new o(5),f=(new o(16),new o(8),new o(10)),h=new o(3),p=(new o(7),new o(11)),y=new o(4),m=(new o(12),null);function g(){if(m!==null)return m;var j=[];j[0]=2;for(var I=1,q=3;q<1048576;q+=2){for(var P=Math.ceil(Math.sqrt(q)),U=0;U<I&&j[U]<=P&&q%j[U]!=0;U++);I!==U&&j[U]<=P||(j[I++]=q)}return m=j,j}function b(j){for(var I=g(),q=0;q<I.length;q++)if(j.modn(I[q])===0)return j.cmpn(I[q])===0;return!0}function w(j){var I=o.mont(j);return c.toRed(I).redPow(j.subn(1)).fromRed().cmpn(1)===0}function C(j,I){if(j<16)return new o(I===2||I===5?[140,123]:[140,39]);var q,P;for(I=new o(I);;){for(q=new o(i(Math.ceil(j/8)));q.bitLength()>j;)q.ishrn(1);if(q.isEven()&&q.iadd(a),q.testn(1)||q.iadd(c),I.cmp(c)){if(!I.cmp(d))for(;q.mod(f).cmp(h);)q.iadd(y)}else for(;q.mod(l).cmp(p);)q.iadd(y);if(b(P=q.shrn(1))&&b(q)&&w(P)&&w(q)&&u.test(P)&&u.test(q))return q}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,r,s){r.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,r,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(t,r,s){var i=s;i.version=t("../package.json").version,i.utils=t("./elliptic/utils"),i.rand=t("brorand"),i.curve=t("./elliptic/curve"),i.curves=t("./elliptic/curves"),i.ec=t("./elliptic/ec"),i.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,r,s){var i=t("bn.js"),o=t("../utils"),l=o.getNAF,u=o.getJSF,a=o.assert;function c(f,h){this.type=f,this.p=new i(h.p,16),this.red=h.prime?i.red(h.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=h.n&&new i(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(f,h){this.curve=f,this.type=h,this.precomputed=null}r.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(f,h){a(f.precomputed);var p=f._getDoubles(),y=l(h,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var g,b,w=[];for(g=0;g<y.length;g+=p.step){b=0;for(var C=g+p.step-1;C>=g;C--)b=(b<<1)+y[C];w.push(b)}for(var j=this.jpoint(null,null,null),I=this.jpoint(null,null,null),q=m;q>0;q--){for(g=0;g<w.length;g++)(b=w[g])===q?I=I.mixedAdd(p.points[g]):b===-q&&(I=I.mixedAdd(p.points[g].neg()));j=j.add(I)}return j.toP()},c.prototype._wnafMul=function(f,h){var p=4,y=f._getNAFPoints(p);p=y.wnd;for(var m=y.points,g=l(h,p,this._bitLength),b=this.jpoint(null,null,null),w=g.length-1;w>=0;w--){for(var C=0;w>=0&&g[w]===0;w--)C++;if(w>=0&&C++,b=b.dblp(C),w<0)break;var j=g[w];a(j!==0),b=f.type==="affine"?j>0?b.mixedAdd(m[j-1>>1]):b.mixedAdd(m[-j-1>>1].neg()):j>0?b.add(m[j-1>>1]):b.add(m[-j-1>>1].neg())}return f.type==="affine"?b.toP():b},c.prototype._wnafMulAdd=function(f,h,p,y,m){var g,b,w,C=this._wnafT1,j=this._wnafT2,I=this._wnafT3,q=0;for(g=0;g<y;g++){var P=(w=h[g])._getNAFPoints(f);C[g]=P.wnd,j[g]=P.points}for(g=y-1;g>=1;g-=2){var U=g-1,W=g;if(C[U]===1&&C[W]===1){var z=[h[U],null,null,h[W]];h[U].y.cmp(h[W].y)===0?(z[1]=h[U].add(h[W]),z[2]=h[U].toJ().mixedAdd(h[W].neg())):h[U].y.cmp(h[W].y.redNeg())===0?(z[1]=h[U].toJ().mixedAdd(h[W]),z[2]=h[U].add(h[W].neg())):(z[1]=h[U].toJ().mixedAdd(h[W]),z[2]=h[U].toJ().mixedAdd(h[W].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],T=u(p[U],p[W]);for(q=Math.max(T[0].length,q),I[U]=new Array(q),I[W]=new Array(q),b=0;b<q;b++){var E=0|T[0][b],k=0|T[1][b];I[U][b]=R[3*(E+1)+(k+1)],I[W][b]=0,j[U]=z}}else I[U]=l(p[U],C[U],this._bitLength),I[W]=l(p[W],C[W],this._bitLength),q=Math.max(I[U].length,q),q=Math.max(I[W].length,q)}var v=this.jpoint(null,null,null),_=this._wnafT4;for(g=q;g>=0;g--){for(var x=0;g>=0;){var S=!0;for(b=0;b<y;b++)_[b]=0|I[b][g],_[b]!==0&&(S=!1);if(!S)break;x++,g--}if(g>=0&&x++,v=v.dblp(x),g<0)break;for(b=0;b<y;b++){var A=_[b];A!==0&&(A>0?w=j[b][A-1>>1]:A<0&&(w=j[b][-A-1>>1].neg()),v=w.type==="affine"?v.mixedAdd(w):v.add(w))}}for(g=0;g<y;g++)j[g]=null;return m?v:v.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(f,h){f=o.toArray(f,h);var p=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*p)return f[0]===6?a(f[f.length-1]%2==0):f[0]===7&&a(f[f.length-1]%2==1),this.point(f.slice(1,1+p),f.slice(1+p,1+2*p));if((f[0]===2||f[0]===3)&&f.length-1===p)return this.pointFromX(f.slice(1,1+p),f[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(f){return this.encode(f,!0)},d.prototype._encode=function(f){var h=this.curve.p.byteLength(),p=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",h))},d.prototype.encode=function(f,h){return o.encode(this._encode(h),f)},d.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},d.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},d.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],y=this,m=0;m<h;m+=f){for(var g=0;g<f;g++)y=y.dbl();p.push(y)}return{step:f,points:p}},d.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],p=(1<<f)-1,y=p===1?null:this.dbl(),m=1;m<p;m++)h[m]=h[m-1].add(y);return{wnd:f,points:h}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(f){for(var h=this,p=0;p<f;p++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(t,r,s){var i=t("../utils"),o=t("bn.js"),l=t("inherits"),u=t("./base"),a=i.assert;function c(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",f),this.a=new o(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function d(f,h,p,y,m){u.BasePoint.call(this,f,"projective"),h===null&&p===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(h,16),this.y=new o(p,16),this.z=y?new o(y,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(c,u),r.exports=c,c.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},c.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},c.prototype.jpoint=function(f,h,p,y){return this.point(f,h,p,y)},c.prototype.pointFromX=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var p=f.redSqr(),y=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),g=y.redMul(m.redInvm()),b=g.redSqrt();if(b.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var w=b.fromRed().isOdd();return(h&&!w||!h&&w)&&(b=b.redNeg()),this.point(f,b)},c.prototype.pointFromY=function(f,h){(f=new o(f,16)).red||(f=f.toRed(this.red));var p=f.redSqr(),y=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),g=y.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var b=g.redSqrt();if(b.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==h&&(b=b.redNeg()),this.point(b,f)},c.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),p=f.y.redSqr(),y=h.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(p)));return y.cmp(m)===0},l(d,u.BasePoint),c.prototype.pointFromJSON=function(f){return d.fromJSON(this,f)},c.prototype.point=function(f,h,p,y){return new d(this,f,h,p,y)},d.fromJSON=function(f,h){return new d(f,h[0],h[1],h[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var y=this.curve._mulA(f),m=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),g=y.redAdd(h),b=g.redSub(p),w=y.redSub(h),C=m.redMul(b),j=g.redMul(w),I=m.redMul(w),q=b.redMul(g);return this.curve.point(C,j,q,I)},d.prototype._projDbl=function(){var f,h,p,y,m,g,b=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var j=(y=this.curve._mulA(w)).redAdd(C);this.zOne?(f=b.redSub(w).redSub(C).redMul(j.redSub(this.curve.two)),h=j.redMul(y.redSub(C)),p=j.redSqr().redSub(j).redSub(j)):(m=this.z.redSqr(),g=j.redSub(m).redISub(m),f=b.redSub(w).redISub(C).redMul(g),h=j.redMul(y.redSub(C)),p=j.redMul(g))}else y=w.redAdd(C),m=this.curve._mulC(this.z).redSqr(),g=y.redSub(m).redSub(m),f=this.curve._mulC(b.redISub(y)).redMul(g),h=this.curve._mulC(y).redMul(w.redISub(C)),p=y.redMul(g);return this.curve.point(f,h,p)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),p=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),y=this.t.redMul(this.curve.dd).redMul(f.t),m=this.z.redMul(f.z.redAdd(f.z)),g=p.redSub(h),b=m.redSub(y),w=m.redAdd(y),C=p.redAdd(h),j=g.redMul(b),I=w.redMul(C),q=g.redMul(C),P=b.redMul(w);return this.curve.point(j,I,P,q)},d.prototype._projAdd=function(f){var h,p,y=this.z.redMul(f.z),m=y.redSqr(),g=this.x.redMul(f.x),b=this.y.redMul(f.y),w=this.curve.d.redMul(g).redMul(b),C=m.redSub(w),j=m.redAdd(w),I=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(g).redISub(b),q=y.redMul(C).redMul(I);return this.curve.twisted?(h=y.redMul(j).redMul(b.redSub(this.curve._mulA(g))),p=C.redMul(j)):(h=y.redMul(j).redMul(b.redSub(g)),p=this.curve._mulC(C).redMul(j)),this.curve.point(q,h,p)},d.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},d.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,h,p){return this.curve._wnafMulAdd(1,[this,h],[f,p],2,!1)},d.prototype.jmulAdd=function(f,h,p){return this.curve._wnafMulAdd(1,[this,h],[f,p],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},d.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var p=f.clone(),y=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(y),this.x.cmp(h)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,r,s){var i=s;i.base=t("./base"),i.short=t("./short"),i.mont=t("./mont"),i.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,r,s){var i=t("bn.js"),o=t("inherits"),l=t("./base"),u=t("../utils");function a(d){l.call(this,"mont",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(d,f,h){l.BasePoint.call(this,d,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(f,16),this.z=new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,l),r.exports=a,a.prototype.validate=function(d){var f=d.normalize().x,h=f.redSqr(),p=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return p.redSqrt().redSqr().cmp(p)===0},o(c,l.BasePoint),a.prototype.decodePoint=function(d,f){return this.point(u.toArray(d,f),1)},a.prototype.point=function(d,f){return new c(this,d,f)},a.prototype.pointFromJSON=function(d){return c.fromJSON(this,d)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(d,f){return new c(d,f[0],f[1]||d.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=d.redSub(f),p=d.redMul(f),y=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(p,y)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(d,f){var h=this.x.redAdd(this.z),p=this.x.redSub(this.z),y=d.x.redAdd(d.z),m=d.x.redSub(d.z).redMul(h),g=y.redMul(p),b=f.z.redMul(m.redAdd(g).redSqr()),w=f.x.redMul(m.redISub(g).redSqr());return this.curve.point(b,w)},c.prototype.mul=function(d){for(var f=d.clone(),h=this,p=this.curve.point(null,null),y=[];f.cmpn(0)!==0;f.iushrn(1))y.push(f.andln(1));for(var m=y.length-1;m>=0;m--)y[m]===0?(h=h.diffAdd(p,this),p=p.dbl()):(p=h.diffAdd(p,this),h=h.dbl());return p},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,r,s){var i=t("../utils"),o=t("bn.js"),l=t("inherits"),u=t("./base"),a=i.assert;function c(h){u.call(this,"short",h),this.a=new o(h.a,16).toRed(this.red),this.b=new o(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(h,p,y,m){u.BasePoint.call(this,h,"affine"),p===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(p,16),this.y=new o(y,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,p,y,m){u.BasePoint.call(this,h,"jacobian"),p===null&&y===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(p,16),this.y=new o(y,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(c,u),r.exports=c,c.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,y;if(h.beta)p=new o(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)y=new o(h.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(p))===0?y=g[0]:(y=g[1],a(this.g.mul(y).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:y,basis:h.basis?h.basis.map(function(b){return{a:new o(b.a,16),b:new o(b.b,16)}}):this._getEndoBasis(y)}}},c.prototype._getEndoRoots=function(h){var p=h===this.p?this.red:o.mont(h),y=new o(2).toRed(p).redInvm(),m=y.redNeg(),g=new o(3).toRed(p).redNeg().redSqrt().redMul(y);return[m.redAdd(g).fromRed(),m.redSub(g).fromRed()]},c.prototype._getEndoBasis=function(h){for(var p,y,m,g,b,w,C,j,I,q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),P=h,U=this.n.clone(),W=new o(1),z=new o(0),R=new o(0),T=new o(1),E=0;P.cmpn(0)!==0;){var k=U.div(P);j=U.sub(k.mul(P)),I=R.sub(k.mul(W));var v=T.sub(k.mul(z));if(!m&&j.cmp(q)<0)p=C.neg(),y=W,m=j.neg(),g=I;else if(m&&++E==2)break;C=j,U=P,P=j,R=W,W=I,T=z,z=v}b=j.neg(),w=I;var _=m.sqr().add(g.sqr());return b.sqr().add(w.sqr()).cmp(_)>=0&&(b=p,w=y),m.negative&&(m=m.neg(),g=g.neg()),b.negative&&(b=b.neg(),w=w.neg()),[{a:m,b:g},{a:b,b:w}]},c.prototype._endoSplit=function(h){var p=this.endo.basis,y=p[0],m=p[1],g=m.b.mul(h).divRound(this.n),b=y.b.neg().mul(h).divRound(this.n),w=g.mul(y.a),C=b.mul(m.a),j=g.mul(y.b),I=b.mul(m.b);return{k1:h.sub(w).sub(C),k2:j.add(I).neg()}},c.prototype.pointFromX=function(h,p){(h=new o(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(p&&!g||!p&&g)&&(m=m.redNeg()),this.point(h,m)},c.prototype.validate=function(h){if(h.inf)return!0;var p=h.x,y=h.y,m=this.a.redMul(p),g=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return y.redSqr().redISub(g).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(h,p,y){for(var m=this._endoWnafT1,g=this._endoWnafT2,b=0;b<h.length;b++){var w=this._endoSplit(p[b]),C=h[b],j=C._getBeta();w.k1.negative&&(w.k1.ineg(),C=C.neg(!0)),w.k2.negative&&(w.k2.ineg(),j=j.neg(!0)),m[2*b]=C,m[2*b+1]=j,g[2*b]=w.k1,g[2*b+1]=w.k2}for(var I=this._wnafMulAdd(1,m,g,2*b,y),q=0;q<2*b;q++)m[q]=null,g[q]=null;return I},l(d,u.BasePoint),c.prototype.point=function(h,p,y){return new d(this,h,p,y)},c.prototype.pointFromJSON=function(h,p){return d.fromJSON(this,h,p)},d.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var y=this.curve,m=function(g){return y.point(g.x.redMul(y.endo.beta),g.y)};h.beta=p,p.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return p}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(h,p,y){typeof p=="string"&&(p=JSON.parse(p));var m=h.point(p[0],p[1],y);if(!p[2])return m;function g(w){return h.point(w[0],w[1],y)}var b=p[2];return m.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[m].concat(b.doubles.points.map(g))},naf:b.naf&&{wnd:b.naf.wnd,points:[m].concat(b.naf.points.map(g))}},m},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var p=this.y.redSub(h.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(h.x).redInvm()));var y=p.redSqr().redISub(this.x).redISub(h.x),m=p.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,m)},d.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,y=this.x.redSqr(),m=h.redInvm(),g=y.redAdd(y).redIAdd(y).redIAdd(p).redMul(m),b=g.redSqr().redISub(this.x.redAdd(this.x)),w=g.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,w)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(h){return h=new o(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,p,y){var m=[this,p],g=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},d.prototype.jmulAdd=function(h,p,y){var m=[this,p],g=[h,y];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},d.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},d.prototype.neg=function(h){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var y=this.precomputed,m=function(g){return g.neg()};p.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(m)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(m)}}}return p},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(f,u.BasePoint),c.prototype.jpoint=function(h,p,y){return new f(this,h,p,y)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),p=h.redSqr(),y=this.x.redMul(p),m=this.y.redMul(p).redMul(h);return this.curve.point(y,m)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var p=h.z.redSqr(),y=this.z.redSqr(),m=this.x.redMul(p),g=h.x.redMul(y),b=this.y.redMul(p.redMul(h.z)),w=h.y.redMul(y.redMul(this.z)),C=m.redSub(g),j=b.redSub(w);if(C.cmpn(0)===0)return j.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=C.redSqr(),q=I.redMul(C),P=m.redMul(I),U=j.redSqr().redIAdd(q).redISub(P).redISub(P),W=j.redMul(P.redISub(U)).redISub(b.redMul(q)),z=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(U,W,z)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var p=this.z.redSqr(),y=this.x,m=h.x.redMul(p),g=this.y,b=h.y.redMul(p).redMul(this.z),w=y.redSub(m),C=g.redSub(b);if(w.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var j=w.redSqr(),I=j.redMul(w),q=y.redMul(j),P=C.redSqr().redIAdd(I).redISub(q).redISub(q),U=C.redMul(q.redISub(P)).redISub(g.redMul(I)),W=this.z.redMul(w);return this.curve.jpoint(P,U,W)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var y=this;for(p=0;p<h;p++)y=y.dbl();return y}var m=this.curve.a,g=this.curve.tinv,b=this.x,w=this.y,C=this.z,j=C.redSqr().redSqr(),I=w.redAdd(w);for(p=0;p<h;p++){var q=b.redSqr(),P=I.redSqr(),U=P.redSqr(),W=q.redAdd(q).redIAdd(q).redIAdd(m.redMul(j)),z=b.redMul(P),R=W.redSqr().redISub(z.redAdd(z)),T=z.redISub(R),E=W.redMul(T);E=E.redIAdd(E).redISub(U);var k=I.redMul(C);p+1<h&&(j=j.redMul(U)),b=R,C=k,I=E}return this.curve.jpoint(b,I.redMul(g),C)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,p,y;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),b=g.redSqr(),w=this.x.redAdd(g).redSqr().redISub(m).redISub(b);w=w.redIAdd(w);var C=m.redAdd(m).redIAdd(m),j=C.redSqr().redISub(w).redISub(w),I=b.redIAdd(b);I=(I=I.redIAdd(I)).redIAdd(I),h=j,p=C.redMul(w.redISub(j)).redISub(I),y=this.y.redAdd(this.y)}else{var q=this.x.redSqr(),P=this.y.redSqr(),U=P.redSqr(),W=this.x.redAdd(P).redSqr().redISub(q).redISub(U);W=W.redIAdd(W);var z=q.redAdd(q).redIAdd(q),R=z.redSqr(),T=U.redIAdd(U);T=(T=T.redIAdd(T)).redIAdd(T),h=R.redISub(W).redISub(W),p=z.redMul(W.redISub(h)).redISub(T),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(h,p,y)},f.prototype._threeDbl=function(){var h,p,y;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),b=g.redSqr(),w=this.x.redAdd(g).redSqr().redISub(m).redISub(b);w=w.redIAdd(w);var C=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),j=C.redSqr().redISub(w).redISub(w);h=j;var I=b.redIAdd(b);I=(I=I.redIAdd(I)).redIAdd(I),p=C.redMul(w.redISub(j)).redISub(I),y=this.y.redAdd(this.y)}else{var q=this.z.redSqr(),P=this.y.redSqr(),U=this.x.redMul(P),W=this.x.redSub(q).redMul(this.x.redAdd(q));W=W.redAdd(W).redIAdd(W);var z=U.redIAdd(U),R=(z=z.redIAdd(z)).redAdd(z);h=W.redSqr().redISub(R),y=this.y.redAdd(this.z).redSqr().redISub(P).redISub(q);var T=P.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),p=W.redMul(z.redISub(h)).redISub(T)}return this.curve.jpoint(h,p,y)},f.prototype._dbl=function(){var h=this.curve.a,p=this.x,y=this.y,m=this.z,g=m.redSqr().redSqr(),b=p.redSqr(),w=y.redSqr(),C=b.redAdd(b).redIAdd(b).redIAdd(h.redMul(g)),j=p.redAdd(p),I=(j=j.redIAdd(j)).redMul(w),q=C.redSqr().redISub(I.redAdd(I)),P=I.redISub(q),U=w.redSqr();U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var W=C.redMul(P).redISub(U),z=y.redAdd(y).redMul(m);return this.curve.jpoint(q,W,z)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),p=this.y.redSqr(),y=this.z.redSqr(),m=p.redSqr(),g=h.redAdd(h).redIAdd(h),b=g.redSqr(),w=this.x.redAdd(p).redSqr().redISub(h).redISub(m),C=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(b)).redSqr(),j=m.redIAdd(m);j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var I=g.redIAdd(w).redSqr().redISub(b).redISub(C).redISub(j),q=p.redMul(I);q=(q=q.redIAdd(q)).redIAdd(q);var P=this.x.redMul(C).redISub(q);P=(P=P.redIAdd(P)).redIAdd(P);var U=this.y.redMul(I.redMul(j.redISub(I)).redISub(w.redMul(C)));U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var W=this.z.redAdd(w).redSqr().redISub(y).redISub(C);return this.curve.jpoint(P,U,W)},f.prototype.mul=function(h,p){return h=new o(h,p),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var p=this.z.redSqr(),y=h.z.redSqr();if(this.x.redMul(y).redISub(h.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),g=y.redMul(h.z);return this.y.redMul(g).redISub(h.y.redMul(m)).cmpn(0)===0},f.prototype.eqXToP=function(h){var p=this.z.redSqr(),y=h.toRed(this.curve.red).redMul(p);if(this.x.cmp(y)===0)return!0;for(var m=h.clone(),g=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(g),this.x.cmp(y)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,r,s){var i,o=s,l=t("hash.js"),u=t("./curve"),a=t("./utils").assert;function c(f){f.type==="short"?this.curve=new u.short(f):f.type==="edwards"?this.curve=new u.edwards(f):this.curve=new u.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(f,h){Object.defineProperty(o,f,{configurable:!0,enumerable:!0,get:function(){var p=new c(h);return Object.defineProperty(o,f,{configurable:!0,enumerable:!0,value:p}),p}})}o.PresetCurve=c,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=t("./precomputed/secp256k1")}catch{i=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,r,s){var i=t("bn.js"),o=t("hmac-drbg"),l=t("../utils"),u=t("../curves"),a=t("brorand"),c=l.assert,d=t("./key"),f=t("./signature");function h(p){if(!(this instanceof h))return new h(p);typeof p=="string"&&(c(Object.prototype.hasOwnProperty.call(u,p),"Unknown curve "+p),p=u[p]),p instanceof u.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}r.exports=h,h.prototype.keyPair=function(p){return new d(this,p)},h.prototype.keyFromPrivate=function(p,y){return d.fromPrivate(this,p,y)},h.prototype.keyFromPublic=function(p,y){return d.fromPublic(this,p,y)},h.prototype.genKeyPair=function(p){p||(p={});for(var y=new o({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||a(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new i(2));;){var b=new i(y.generate(m));if(!(b.cmp(g)>0))return b.iaddn(1),this.keyFromPrivate(b)}},h.prototype._truncateToN=function(p,y){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!y&&p.cmp(this.n)>=0?p.sub(this.n):p},h.prototype.sign=function(p,y,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),y=this.keyFromPrivate(y,m),p=this._truncateToN(new i(p,16));for(var b=this.n.byteLength(),w=y.getPrivate().toArray("be",b),C=p.toArray("be",b),j=new o({hash:this.hash,entropy:w,nonce:C,pers:g.pers,persEnc:g.persEnc||"utf8"}),I=this.n.sub(new i(1)),q=0;;q++){var P=g.k?g.k(q):new i(j.generate(this.n.byteLength()));if(!((P=this._truncateToN(P,!0)).cmpn(1)<=0||P.cmp(I)>=0)){var U=this.g.mul(P);if(!U.isInfinity()){var W=U.getX(),z=W.umod(this.n);if(z.cmpn(0)!==0){var R=P.invm(this.n).mul(z.mul(y.getPrivate()).iadd(p));if((R=R.umod(this.n)).cmpn(0)!==0){var T=(U.getY().isOdd()?1:0)|(W.cmp(z)!==0?2:0);return g.canonical&&R.cmp(this.nh)>0&&(R=this.n.sub(R),T^=1),new f({r:z,s:R,recoveryParam:T})}}}}}},h.prototype.verify=function(p,y,m,g){p=this._truncateToN(new i(p,16)),m=this.keyFromPublic(m,g);var b=(y=new f(y,"hex")).r,w=y.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var C,j=w.invm(this.n),I=j.mul(p).umod(this.n),q=j.mul(b).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(I,m.getPublic(),q)).isInfinity()&&C.eqXToP(b):!(C=this.g.mulAdd(I,m.getPublic(),q)).isInfinity()&&C.getX().umod(this.n).cmp(b)===0},h.prototype.recoverPubKey=function(p,y,m,g){c((3&m)===m,"The recovery param is more than two bits"),y=new f(y,g);var b=this.n,w=new i(p),C=y.r,j=y.s,I=1&m,q=m>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");C=q?this.curve.pointFromX(C.add(this.curve.n),I):this.curve.pointFromX(C,I);var P=y.r.invm(b),U=b.sub(w).mul(P).umod(b),W=j.mul(P).umod(b);return this.g.mulAdd(U,C,W)},h.prototype.getKeyRecoveryParam=function(p,y,m,g){if((y=new f(y,g)).recoveryParam!==null)return y.recoveryParam;for(var b=0;b<4;b++){var w;try{w=this.recoverPubKey(p,y,b)}catch{continue}if(w.eq(m))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,r,s){var i=t("bn.js"),o=t("../utils").assert;function l(u,a){this.ec=u,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}r.exports=l,l.fromPublic=function(u,a,c){return a instanceof l?a:new l(u,{pub:a,pubEnc:c})},l.fromPrivate=function(u,a,c){return a instanceof l?a:new l(u,{priv:a,privEnc:c})},l.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(u,a){return typeof u=="string"&&(a=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,u):this.pub},l.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(u,a){this.priv=new i(u,a||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(u,a){if(u.x||u.y)return this.ec.curve.type==="mont"?o(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,a)},l.prototype.derive=function(u){return u.validate()||o(u.validate(),"public point not validated"),u.mul(this.priv).getX()},l.prototype.sign=function(u,a,c){return this.ec.sign(u,this,a,c)},l.prototype.verify=function(u,a){return this.ec.verify(u,a,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,r,s){var i=t("bn.js"),o=t("../utils"),l=o.assert;function u(h,p){if(h instanceof u)return h;this._importDER(h,p)||(l(h.r&&h.s,"Signature without r or s"),this.r=new i(h.r,16),this.s=new i(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function a(){this.place=0}function c(h,p){var y=h[p.place++];if(!(128&y))return y;var m=15&y;if(m===0||m>4)return!1;for(var g=0,b=0,w=p.place;b<m;b++,w++)g<<=8,g|=h[w],g>>>=0;return!(g<=127)&&(p.place=w,g)}function d(h){for(var p=0,y=h.length-1;!h[p]&&!(128&h[p+1])&&p<y;)p++;return p===0?h:h.slice(p)}function f(h,p){if(p<128)h.push(p);else{var y=1+(Math.log(p)/Math.LN2>>>3);for(h.push(128|y);--y;)h.push(p>>>(y<<3)&255);h.push(p)}}r.exports=u,u.prototype._importDER=function(h,p){h=o.toArray(h,p);var y=new a;if(h[y.place++]!==48)return!1;var m=c(h,y);if(m===!1||m+y.place!==h.length||h[y.place++]!==2)return!1;var g=c(h,y);if(g===!1)return!1;var b=h.slice(y.place,g+y.place);if(y.place+=g,h[y.place++]!==2)return!1;var w=c(h,y);if(w===!1||h.length!==w+y.place)return!1;var C=h.slice(y.place,w+y.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new i(b),this.s=new i(C),this.recoveryParam=null,!0},u.prototype.toDER=function(h){var p=this.r.toArray(),y=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&y[0]&&(y=[0].concat(y)),p=d(p),y=d(y);!(y[0]||128&y[1]);)y=y.slice(1);var m=[2];f(m,p.length),(m=m.concat(p)).push(2),f(m,y.length);var g=m.concat(y),b=[48];return f(b,g.length),b=b.concat(g),o.encode(b,h)}},{"../utils":419,"bn.js":420}],415:[function(t,r,s){var i=t("hash.js"),o=t("../curves"),l=t("../utils"),u=l.assert,a=l.parseBytes,c=t("./key"),d=t("./signature");function f(h){if(u(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=o[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=i.sha512}r.exports=f,f.prototype.sign=function(h,p){h=a(h);var y=this.keyFromSecret(p),m=this.hashInt(y.messagePrefix(),h),g=this.g.mul(m),b=this.encodePoint(g),w=this.hashInt(b,y.pubBytes(),h).mul(y.priv()),C=m.add(w).umod(this.curve.n);return this.makeSignature({R:g,S:C,Rencoded:b})},f.prototype.verify=function(h,p,y){h=a(h),p=this.makeSignature(p);var m=this.keyFromPublic(y),g=this.hashInt(p.Rencoded(),m.pubBytes(),h),b=this.g.mul(p.S());return p.R().add(m.pub().mul(g)).eq(b)},f.prototype.hashInt=function(){for(var h=this.hash(),p=0;p<arguments.length;p++)h.update(arguments[p]);return l.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return c.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return c.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof d?h:new d(this,h)},f.prototype.encodePoint=function(h){var p=h.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=h.getX().isOdd()?128:0,p},f.prototype.decodePoint=function(h){var p=(h=l.parseBytes(h)).length-1,y=h.slice(0,p).concat(-129&h[p]),m=(128&h[p])!=0,g=l.intFromLE(y);return this.curve.pointFromY(g,m)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return l.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,r,s){var i=t("../utils"),o=i.assert,l=i.parseBytes,u=i.cachedProperty;function a(c,d){this.eddsa=c,this._secret=l(d.secret),c.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=l(d.pub)}a.fromPublic=function(c,d){return d instanceof a?d:new a(c,{pub:d})},a.fromSecret=function(c,d){return d instanceof a?d:new a(c,{secret:d})},a.prototype.secret=function(){return this._secret},u(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),u(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),u(a,"privBytes",function(){var c=this.eddsa,d=this.hash(),f=c.encodingLength-1,h=d.slice(0,c.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h}),u(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),u(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),u(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(c){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},a.prototype.verify=function(c,d){return this.eddsa.verify(c,d,this)},a.prototype.getSecret=function(c){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),c)},a.prototype.getPublic=function(c){return i.encode(this.pubBytes(),c)},r.exports=a},{"../utils":419}],417:[function(t,r,s){var i=t("bn.js"),o=t("../utils"),l=o.assert,u=o.cachedProperty,a=o.parseBytes;function c(d,f){this.eddsa=d,typeof f!="object"&&(f=a(f)),Array.isArray(f)&&(f={R:f.slice(0,d.encodingLength),S:f.slice(d.encodingLength)}),l(f.R&&f.S,"Signature without R or S"),d.isPoint(f.R)&&(this._R=f.R),f.S instanceof i&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}u(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),u(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),u(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),u(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},r.exports=c},{"../utils":419,"bn.js":420}],418:[function(t,r,s){r.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,r,s){var i=s,o=t("bn.js"),l=t("minimalistic-assert"),u=t("minimalistic-crypto-utils");i.assert=l,i.toArray=u.toArray,i.zero2=u.zero2,i.toHex=u.toHex,i.encode=u.encode,i.getNAF=function(a,c,d){var f=new Array(Math.max(a.bitLength(),d)+1);f.fill(0);for(var h=1<<c+1,p=a.clone(),y=0;y<f.length;y++){var m,g=p.andln(h-1);p.isOdd()?(m=g>(h>>1)-1?(h>>1)-g:g,p.isubn(m)):m=0,f[y]=m,p.iushrn(1)}return f},i.getJSF=function(a,c){var d=[[],[]];a=a.clone(),c=c.clone();for(var f,h=0,p=0;a.cmpn(-h)>0||c.cmpn(-p)>0;){var y,m,g=a.andln(3)+h&3,b=c.andln(3)+p&3;g===3&&(g=-1),b===3&&(b=-1),y=1&g?(f=a.andln(7)+h&7)!==3&&f!==5||b!==2?g:-g:0,d[0].push(y),m=1&b?(f=c.andln(7)+p&7)!==3&&f!==5||g!==2?b:-b:0,d[1].push(m),2*h===y+1&&(h=1-h),2*p===m+1&&(p=1-p),a.iushrn(1),c.iushrn(1)}return d},i.cachedProperty=function(a,c,d){var f="_"+c;a.prototype[c]=function(){return this[f]!==void 0?this[f]:this[f]=d.call(this)}},i.parseBytes=function(a){return typeof a=="string"?i.toArray(a,"hex"):a},i.intFromLE=function(a){return new o(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,r,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(t,r,s){r.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,r,s){var i=Object.create||function(P){var U=function(){};return U.prototype=P,new U},o=Object.keys||function(P){var U=[];for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&U.push(W);return W},l=Function.prototype.bind||function(P){var U=this;return function(){return U.apply(P,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}r.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var a,c=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=d.x===0}catch{a=!1}function f(P){return P._maxListeners===void 0?u.defaultMaxListeners:P._maxListeners}function h(P,U,W){if(U)P.call(W);else for(var z=P.length,R=q(P,z),T=0;T<z;++T)R[T].call(W)}function p(P,U,W,z){if(U)P.call(W,z);else for(var R=P.length,T=q(P,R),E=0;E<R;++E)T[E].call(W,z)}function y(P,U,W,z,R){if(U)P.call(W,z,R);else for(var T=P.length,E=q(P,T),k=0;k<T;++k)E[k].call(W,z,R)}function m(P,U,W,z,R,T){if(U)P.call(W,z,R,T);else for(var E=P.length,k=q(P,E),v=0;v<E;++v)k[v].call(W,z,R,T)}function g(P,U,W,z){if(U)P.apply(W,z);else for(var R=P.length,T=q(P,R),E=0;E<R;++E)T[E].apply(W,z)}function b(P,U,W,z){var R,T,E;if(typeof W!="function")throw new TypeError('"listener" argument must be a function');if((T=P._events)?(T.newListener&&(P.emit("newListener",U,W.listener?W.listener:W),T=P._events),E=T[U]):(T=P._events=i(null),P._eventsCount=0),E){if(typeof E=="function"?E=T[U]=z?[W,E]:[E,W]:z?E.unshift(W):E.push(W),!E.warned&&(R=f(P))&&R>0&&E.length>R){E.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+E.length+' "'+String(U)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=P,k.type=U,k.count=E.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else E=T[U]=W,++P._eventsCount;return P}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var P=new Array(arguments.length),U=0;U<P.length;++U)P[U]=arguments[U];this.listener.apply(this.target,P)}}function C(P,U,W){var z={fired:!1,wrapFn:void 0,target:P,type:U,listener:W},R=l.call(w,z);return R.listener=W,z.wrapFn=R,R}function j(P,U,W){var z=P._events;if(!z)return[];var R=z[U];return R?typeof R=="function"?W?[R.listener||R]:[R]:W?function(T){for(var E=new Array(T.length),k=0;k<E.length;++k)E[k]=T[k].listener||T[k];return E}(R):q(R,R.length):[]}function I(P){var U=this._events;if(U){var W=U[P];if(typeof W=="function")return 1;if(W)return W.length}return 0}function q(P,U){for(var W=new Array(U),z=0;z<U;++z)W[z]=P[z];return W}a?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(P){if(typeof P!="number"||P<0||P!=P)throw new TypeError('"defaultMaxListeners" must be a positive number');c=P}}):u.defaultMaxListeners=c,u.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||isNaN(P))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=P,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(P){var U,W,z,R,T,E,k=P==="error";if(E=this._events)k=k&&E.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(U=arguments[1]),U instanceof Error)throw U;var v=new Error('Unhandled "error" event. ('+U+")");throw v.context=U,v}if(!(W=E[P]))return!1;var _=typeof W=="function";switch(z=arguments.length){case 1:h(W,_,this);break;case 2:p(W,_,this,arguments[1]);break;case 3:y(W,_,this,arguments[1],arguments[2]);break;case 4:m(W,_,this,arguments[1],arguments[2],arguments[3]);break;default:for(R=new Array(z-1),T=1;T<z;T++)R[T-1]=arguments[T];g(W,_,this,R)}return!0},u.prototype.addListener=function(P,U){return b(this,P,U,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(P,U){return b(this,P,U,!0)},u.prototype.once=function(P,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.on(P,C(this,P,U)),this},u.prototype.prependOnceListener=function(P,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(P,C(this,P,U)),this},u.prototype.removeListener=function(P,U){var W,z,R,T,E;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(W=z[P]))return this;if(W===U||W.listener===U)--this._eventsCount==0?this._events=i(null):(delete z[P],z.removeListener&&this.emit("removeListener",P,W.listener||U));else if(typeof W!="function"){for(R=-1,T=W.length-1;T>=0;T--)if(W[T]===U||W[T].listener===U){E=W[T].listener,R=T;break}if(R<0)return this;R===0?W.shift():function(k,v){for(var _=v,x=_+1,S=k.length;x<S;_+=1,x+=1)k[_]=k[x];k.pop()}(W,R),W.length===1&&(z[P]=W[0]),z.removeListener&&this.emit("removeListener",P,E||U)}return this},u.prototype.removeAllListeners=function(P){var U,W,z;if(!(W=this._events))return this;if(!W.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):W[P]&&(--this._eventsCount==0?this._events=i(null):delete W[P]),this;if(arguments.length===0){var R,T=o(W);for(z=0;z<T.length;++z)(R=T[z])!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(U=W[P])=="function")this.removeListener(P,U);else if(U)for(z=U.length-1;z>=0;z--)this.removeListener(P,U[z]);return this},u.prototype.listeners=function(P){return j(this,P,!0)},u.prototype.rawListeners=function(P){return j(this,P,!1)},u.listenerCount=function(P,U){return typeof P.listenerCount=="function"?P.listenerCount(U):I.call(P,U)},u.prototype.listenerCount=I,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("md5.js");r.exports=function(l,u,a,c){if(i.isBuffer(l)||(l=i.from(l,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=a/8,f=i.alloc(d),h=i.alloc(c||0),p=i.alloc(0);d>0||c>0;){var y=new o;y.update(p),y.update(l),u&&y.update(u),p=y.digest();var m=0;if(d>0){var g=f.length-d;m=Math.min(d,p.length),p.copy(f,g,0,m),d-=m}if(m<p.length&&c>0){var b=h.length-c,w=Math.min(c,p.length-m);p.copy(h,b,m,m+w),c-=w}}return p.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=t("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var o=t("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("readable-stream").Transform;function l(u){o.call(this),this._block=i.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(l,o),l.prototype._transform=function(u,a,c){var d=null;try{this.update(u,a)}catch(f){d=f}c(d)},l.prototype._flush=function(u){var a=null;try{this.push(this.digest())}catch(c){a=c}u(a)},l.prototype.update=function(u,a){if(function(y,m){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(m+" must be a string or a buffer")}(u,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(u)||(u=i.from(u,a));for(var c=this._block,d=0;this._blockOffset+u.length-d>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)c[f++]=u[d++];this._update(),this._blockOffset=0}for(;d<u.length;)c[this._blockOffset++]=u[d++];for(var h=0,p=8*u.length;p>0;++h)this._length[h]+=p,(p=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*p);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();u!==void 0&&(a=a.toString(u)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return a},l.prototype._digest=function(){throw new Error("_digest is not implemented")},r.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,r,s){var i=s;i.utils=t("./hash/utils"),i.common=t("./hash/common"),i.sha=t("./hash/sha"),i.ripemd=t("./hash/ripemd"),i.hmac=t("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,r,s){var i=t("./utils"),o=t("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=l,l.prototype.update=function(u,a){if(u=i.toArray(u,a),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var c=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-c,u.length),this.pending.length===0&&(this.pending=null),u=i.join32(u,0,u.length-c,this.endian);for(var d=0;d<u.length;d+=this._delta32)this._update(u,d,d+this._delta32)}return this},l.prototype.digest=function(u){return this.update(this._pad()),o(this.pending===null),this._digest(u)},l.prototype._pad=function(){var u=this.pendingTotal,a=this._delta8,c=a-(u+this.padLength)%a,d=new Array(c+this.padLength);d[0]=128;for(var f=1;f<c;f++)d[f]=0;if(u<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)d[f++]=0;d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=u>>>24&255,d[f++]=u>>>16&255,d[f++]=u>>>8&255,d[f++]=255&u}else for(d[f++]=255&u,d[f++]=u>>>8&255,d[f++]=u>>>16&255,d[f++]=u>>>24&255,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,h=8;h<this.padLength;h++)d[f++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,r,s){var i=t("./utils"),o=t("minimalistic-assert");function l(u,a,c){if(!(this instanceof l))return new l(u,a,c);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,c))}r.exports=l,l.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),o(u.length<=this.blockSize);for(var a=u.length;a<this.blockSize;a++)u.push(0);for(a=0;a<u.length;a++)u[a]^=54;for(this.inner=new this.Hash().update(u),a=0;a<u.length;a++)u[a]^=106;this.outer=new this.Hash().update(u)},l.prototype.update=function(u,a){return this.inner.update(u,a),this},l.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,r,s){var i=t("./utils"),o=t("./common"),l=i.rotl32,u=i.sum32,a=i.sum32_3,c=i.sum32_4,d=o.BlockHash;function f(){if(!(this instanceof f))return new f;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(C,j,I,q){return C<=15?j^I^q:C<=31?j&I|~j&q:C<=47?(j|~I)^q:C<=63?j&q|I&~q:j^(I|~q)}function p(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}i.inherits(f,d),s.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(C,j){for(var I=this.h[0],q=this.h[1],P=this.h[2],U=this.h[3],W=this.h[4],z=I,R=q,T=P,E=U,k=W,v=0;v<80;v++){var _=u(l(c(I,h(v,q,P,U),C[m[v]+j],p(v)),b[v]),W);I=W,W=U,U=l(P,10),P=q,q=_,_=u(l(c(z,h(79-v,R,T,E),C[g[v]+j],y(v)),w[v]),k),z=k,k=E,E=l(T,10),T=R,R=_}_=a(this.h[1],P,E),this.h[1]=a(this.h[2],U,k),this.h[2]=a(this.h[3],W,z),this.h[3]=a(this.h[4],I,R),this.h[4]=a(this.h[0],q,T),this.h[0]=_},f.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,r,s){s.sha1=t("./sha/1"),s.sha224=t("./sha/224"),s.sha256=t("./sha/256"),s.sha384=t("./sha/384"),s.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,r,s){var i=t("../utils"),o=t("../common"),l=t("./common"),u=i.rotl32,a=i.sum32,c=i.sum32_5,d=l.ft_1,f=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(p,f),r.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(y,m){for(var g=this.W,b=0;b<16;b++)g[b]=y[m+b];for(;b<g.length;b++)g[b]=u(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);var w=this.h[0],C=this.h[1],j=this.h[2],I=this.h[3],q=this.h[4];for(b=0;b<g.length;b++){var P=~~(b/20),U=c(u(w,5),d(P,C,j,I),q,g[b],h[P]);q=I,I=j,j=u(C,30),C=w,w=U}this.h[0]=a(this.h[0],w),this.h[1]=a(this.h[1],C),this.h[2]=a(this.h[2],j),this.h[3]=a(this.h[3],I),this.h[4]=a(this.h[4],q)},p.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,r,s){var i=t("../utils"),o=t("./256");function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(l,o),r.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,r,s){var i=t("../utils"),o=t("../common"),l=t("./common"),u=t("minimalistic-assert"),a=i.sum32,c=i.sum32_4,d=i.sum32_5,f=l.ch32,h=l.maj32,p=l.s0_256,y=l.s1_256,m=l.g0_256,g=l.g1_256,b=o.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}i.inherits(C,b),r.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(j,I){for(var q=this.W,P=0;P<16;P++)q[P]=j[I+P];for(;P<q.length;P++)q[P]=c(g(q[P-2]),q[P-7],m(q[P-15]),q[P-16]);var U=this.h[0],W=this.h[1],z=this.h[2],R=this.h[3],T=this.h[4],E=this.h[5],k=this.h[6],v=this.h[7];for(u(this.k.length===q.length),P=0;P<q.length;P++){var _=d(v,y(T),f(T,E,k),this.k[P],q[P]),x=a(p(U),h(U,W,z));v=k,k=E,E=T,T=a(R,_),R=z,z=W,W=U,U=a(_,x)}this.h[0]=a(this.h[0],U),this.h[1]=a(this.h[1],W),this.h[2]=a(this.h[2],z),this.h[3]=a(this.h[3],R),this.h[4]=a(this.h[4],T),this.h[5]=a(this.h[5],E),this.h[6]=a(this.h[6],k),this.h[7]=a(this.h[7],v)},C.prototype._digest=function(j){return j==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,r,s){var i=t("../utils"),o=t("./512");function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(l,o),r.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(u){return u==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,r,s){var i=t("../utils"),o=t("../common"),l=t("minimalistic-assert"),u=i.rotr64_hi,a=i.rotr64_lo,c=i.shr64_hi,d=i.shr64_lo,f=i.sum64,h=i.sum64_hi,p=i.sum64_lo,y=i.sum64_4_hi,m=i.sum64_4_lo,g=i.sum64_5_hi,b=i.sum64_5_lo,w=o.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function j(){if(!(this instanceof j))return new j;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function I(x,S,A,B,M){var H=x&A^~x&M;return H<0&&(H+=4294967296),H}function q(x,S,A,B,M,H){var V=S&B^~S&H;return V<0&&(V+=4294967296),V}function P(x,S,A,B,M){var H=x&A^x&M^A&M;return H<0&&(H+=4294967296),H}function U(x,S,A,B,M,H){var V=S&B^S&H^B&H;return V<0&&(V+=4294967296),V}function W(x,S){var A=u(x,S,28)^u(S,x,2)^u(S,x,7);return A<0&&(A+=4294967296),A}function z(x,S){var A=a(x,S,28)^a(S,x,2)^a(S,x,7);return A<0&&(A+=4294967296),A}function R(x,S){var A=u(x,S,14)^u(x,S,18)^u(S,x,9);return A<0&&(A+=4294967296),A}function T(x,S){var A=a(x,S,14)^a(x,S,18)^a(S,x,9);return A<0&&(A+=4294967296),A}function E(x,S){var A=u(x,S,1)^u(x,S,8)^c(x,S,7);return A<0&&(A+=4294967296),A}function k(x,S){var A=a(x,S,1)^a(x,S,8)^d(x,S,7);return A<0&&(A+=4294967296),A}function v(x,S){var A=u(x,S,19)^u(S,x,29)^c(x,S,6);return A<0&&(A+=4294967296),A}function _(x,S){var A=a(x,S,19)^a(S,x,29)^d(x,S,6);return A<0&&(A+=4294967296),A}i.inherits(j,w),r.exports=j,j.blockSize=1024,j.outSize=512,j.hmacStrength=192,j.padLength=128,j.prototype._prepareBlock=function(x,S){for(var A=this.W,B=0;B<32;B++)A[B]=x[S+B];for(;B<A.length;B+=2){var M=v(A[B-4],A[B-3]),H=_(A[B-4],A[B-3]),V=A[B-14],tt=A[B-13],F=E(A[B-30],A[B-29]),J=k(A[B-30],A[B-29]),L=A[B-32],N=A[B-31];A[B]=y(M,H,V,tt,F,J,L,N),A[B+1]=m(M,H,V,tt,F,J,L,N)}},j.prototype._update=function(x,S){this._prepareBlock(x,S);var A=this.W,B=this.h[0],M=this.h[1],H=this.h[2],V=this.h[3],tt=this.h[4],F=this.h[5],J=this.h[6],L=this.h[7],N=this.h[8],Y=this.h[9],nt=this.h[10],lt=this.h[11],st=this.h[12],pt=this.h[13],ft=this.h[14],it=this.h[15];l(this.k.length===A.length);for(var at=0;at<A.length;at+=2){var bt=ft,gt=it,St=R(N,Y),kt=T(N,Y),Tt=I(N,Y,nt,lt,st),Lt=q(N,Y,nt,lt,st,pt),Xt=this.k[at],re=this.k[at+1],ue=A[at],ce=A[at+1],de=g(bt,gt,St,kt,Tt,Lt,Xt,re,ue,ce),we=b(bt,gt,St,kt,Tt,Lt,Xt,re,ue,ce);bt=W(B,M),gt=z(B,M),St=P(B,M,H,V,tt),kt=U(B,M,H,V,tt,F);var Me=h(bt,gt,St,kt),ie=p(bt,gt,St,kt);ft=st,it=pt,st=nt,pt=lt,nt=N,lt=Y,N=h(J,L,de,we),Y=p(L,L,de,we),J=tt,L=F,tt=H,F=V,H=B,V=M,B=h(de,we,Me,ie),M=p(de,we,Me,ie)}f(this.h,0,B,M),f(this.h,2,H,V),f(this.h,4,tt,F),f(this.h,6,J,L),f(this.h,8,N,Y),f(this.h,10,nt,lt),f(this.h,12,st,pt),f(this.h,14,ft,it)},j.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,r,s){var i=t("../utils").rotr32;function o(a,c,d){return a&c^~a&d}function l(a,c,d){return a&c^a&d^c&d}function u(a,c,d){return a^c^d}s.ft_1=function(a,c,d,f){return a===0?o(c,d,f):a===1||a===3?u(c,d,f):a===2?l(c,d,f):void 0},s.ch32=o,s.maj32=l,s.p32=u,s.s0_256=function(a){return i(a,2)^i(a,13)^i(a,22)},s.s1_256=function(a){return i(a,6)^i(a,11)^i(a,25)},s.g0_256=function(a){return i(a,7)^i(a,18)^a>>>3},s.g1_256=function(a){return i(a,17)^i(a,19)^a>>>10}},{"../utils":437}],437:[function(t,r,s){var i=t("minimalistic-assert"),o=t("inherits");function l(d,f){return(64512&d.charCodeAt(f))==55296&&!(f<0||f+1>=d.length)&&(64512&d.charCodeAt(f+1))==56320}function u(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function a(d){return d.length===1?"0"+d:d}function c(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}s.inherits=o,s.toArray=function(d,f){if(Array.isArray(d))return d.slice();if(!d)return[];var h=[];if(typeof d=="string")if(f){if(f==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),y=0;y<d.length;y+=2)h.push(parseInt(d[y]+d[y+1],16))}else for(var p=0,y=0;y<d.length;y++){var m=d.charCodeAt(y);m<128?h[p++]=m:m<2048?(h[p++]=m>>6|192,h[p++]=63&m|128):l(d,y)?(m=65536+((1023&m)<<10)+(1023&d.charCodeAt(++y)),h[p++]=m>>18|240,h[p++]=m>>12&63|128,h[p++]=m>>6&63|128,h[p++]=63&m|128):(h[p++]=m>>12|224,h[p++]=m>>6&63|128,h[p++]=63&m|128)}else for(y=0;y<d.length;y++)h[y]=0|d[y];return h},s.toHex=function(d){for(var f="",h=0;h<d.length;h++)f+=a(d[h].toString(16));return f},s.htonl=u,s.toHex32=function(d,f){for(var h="",p=0;p<d.length;p++){var y=d[p];f==="little"&&(y=u(y)),h+=c(y.toString(16))}return h},s.zero2=a,s.zero8=c,s.join32=function(d,f,h,p){var y=h-f;i(y%4==0);for(var m=new Array(y/4),g=0,b=f;g<m.length;g++,b+=4){var w;w=p==="big"?d[b]<<24|d[b+1]<<16|d[b+2]<<8|d[b+3]:d[b+3]<<24|d[b+2]<<16|d[b+1]<<8|d[b],m[g]=w>>>0}return m},s.split32=function(d,f){for(var h=new Array(4*d.length),p=0,y=0;p<d.length;p++,y+=4){var m=d[p];f==="big"?(h[y]=m>>>24,h[y+1]=m>>>16&255,h[y+2]=m>>>8&255,h[y+3]=255&m):(h[y+3]=m>>>24,h[y+2]=m>>>16&255,h[y+1]=m>>>8&255,h[y]=255&m)}return h},s.rotr32=function(d,f){return d>>>f|d<<32-f},s.rotl32=function(d,f){return d<<f|d>>>32-f},s.sum32=function(d,f){return d+f>>>0},s.sum32_3=function(d,f,h){return d+f+h>>>0},s.sum32_4=function(d,f,h,p){return d+f+h+p>>>0},s.sum32_5=function(d,f,h,p,y){return d+f+h+p+y>>>0},s.sum64=function(d,f,h,p){var y=d[f],m=p+d[f+1]>>>0,g=(m<p?1:0)+h+y;d[f]=g>>>0,d[f+1]=m},s.sum64_hi=function(d,f,h,p){return(f+p>>>0<f?1:0)+d+h>>>0},s.sum64_lo=function(d,f,h,p){return f+p>>>0},s.sum64_4_hi=function(d,f,h,p,y,m,g,b){var w=0,C=f;return w+=(C=C+p>>>0)<f?1:0,w+=(C=C+m>>>0)<m?1:0,d+h+y+g+(w+=(C=C+b>>>0)<b?1:0)>>>0},s.sum64_4_lo=function(d,f,h,p,y,m,g,b){return f+p+m+b>>>0},s.sum64_5_hi=function(d,f,h,p,y,m,g,b,w,C){var j=0,I=f;return j+=(I=I+p>>>0)<f?1:0,j+=(I=I+m>>>0)<m?1:0,j+=(I=I+b>>>0)<b?1:0,d+h+y+g+w+(j+=(I=I+C>>>0)<C?1:0)>>>0},s.sum64_5_lo=function(d,f,h,p,y,m,g,b,w,C){return f+p+m+b+C>>>0},s.rotr64_hi=function(d,f,h){return(f<<32-h|d>>>h)>>>0},s.rotr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0},s.shr64_hi=function(d,f,h){return d>>>h},s.shr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,r,s){var i=t("hash.js"),o=t("minimalistic-crypto-utils"),l=t("minimalistic-assert");function u(a){if(!(this instanceof u))return new u(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=o.toArray(a.entropy,a.entropyEnc||"hex"),d=o.toArray(a.nonce,a.nonceEnc||"hex"),f=o.toArray(a.pers,a.persEnc||"hex");l(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,d,f)}r.exports=u,u.prototype._init=function(a,c,d){var f=a.concat(c).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},u.prototype._update=function(a){var c=this._hmac().update(this.V).update([0]);a&&(c=c.update(a)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(a,c,d,f){typeof c!="string"&&(f=d,d=c,c=null),a=o.toArray(a,c),d=o.toArray(d,f),l(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(d||[])),this._reseed=1},u.prototype.generate=function(a,c,d,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(f=d,d=c,c=null),d&&(d=o.toArray(d,f||"hex"),this._update(d));for(var h=[];h.length<a;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var p=h.slice(0,a);return this._update(d),this._reseed++,o.encode(p,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,r,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,o,l,u,a){var c,d,f=8*a-u-1,h=(1<<f)-1,p=h>>1,y=-7,m=l?a-1:0,g=l?-1:1,b=i[o+m];for(m+=g,c=b&(1<<-y)-1,b>>=-y,y+=f;y>0;c=256*c+i[o+m],m+=g,y-=8);for(d=c&(1<<-y)-1,c>>=-y,y+=u;y>0;d=256*d+i[o+m],m+=g,y-=8);if(c===0)c=1-p;else{if(c===h)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,u),c-=p}return(b?-1:1)*d*Math.pow(2,c-u)},s.write=function(i,o,l,u,a,c){var d,f,h,p=8*c-a-1,y=(1<<p)-1,m=y>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=u?0:c-1,w=u?1:-1,C=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(f=isNaN(o)?1:0,d=y):(d=Math.floor(Math.log(o)/Math.LN2),o*(h=Math.pow(2,-d))<1&&(d--,h*=2),(o+=d+m>=1?g/h:g*Math.pow(2,1-m))*h>=2&&(d++,h/=2),d+m>=y?(f=0,d=y):d+m>=1?(f=(o*h-1)*Math.pow(2,a),d+=m):(f=o*Math.pow(2,m-1)*Math.pow(2,a),d=0));a>=8;i[l+b]=255&f,b+=w,f/=256,a-=8);for(d=d<<a|f,p+=a;p>0;i[l+b]=255&d,b+=w,d/=256,p-=8);i[l+b-w]|=128*C}},{}],440:[function(t,r,s){typeof Object.create=="function"?r.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(i,o){if(o){i.super_=o;var l=function(){};l.prototype=o.prototype,i.prototype=new l,i.prototype.constructor=i}}},{}],441:[function(t,r,s){(function(i,o,l,u,a,c,d,f){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(h){typeof s=="object"&&r!==void 0?r.exports=h():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(p,y,m){function g(C,j){if(!y[C]){if(!p[C]){var I=typeof t=="function"&&t;if(!j&&I)return I(C,!0);if(b)return b(C,!0);var q=new Error("Cannot find module '"+C+"'");throw q.code="MODULE_NOT_FOUND",q}var P=y[C]={exports:{}};p[C][0].call(P.exports,function(U){return g(p[C][1][U]||U)},P,P.exports,h,p,y,m)}return y[C].exports}for(var b=typeof t=="function"&&t,w=0;w<m.length;w++)g(m[w]);return g}({1:[function(h,p,y){var m=h("./utils"),g=h("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(w){for(var C,j,I,q,P,U,W,z=[],R=0,T=w.length,E=T,k=m.getTypeOf(w)!=="string";R<w.length;)E=T-R,I=k?(C=w[R++],j=R<T?w[R++]:0,R<T?w[R++]:0):(C=w.charCodeAt(R++),j=R<T?w.charCodeAt(R++):0,R<T?w.charCodeAt(R++):0),q=C>>2,P=(3&C)<<4|j>>4,U=1<E?(15&j)<<2|I>>6:64,W=2<E?63&I:64,z.push(b.charAt(q)+b.charAt(P)+b.charAt(U)+b.charAt(W));return z.join("")},y.decode=function(w){var C,j,I,q,P,U,W=0,z=0,R="data:";if(w.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var T,E=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===b.charAt(64)&&E--,w.charAt(w.length-2)===b.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=g.uint8array?new Uint8Array(0|E):new Array(0|E);W<w.length;)C=b.indexOf(w.charAt(W++))<<2|(q=b.indexOf(w.charAt(W++)))>>4,j=(15&q)<<4|(P=b.indexOf(w.charAt(W++)))>>2,I=(3&P)<<6|(U=b.indexOf(w.charAt(W++))),T[z++]=C,P!==64&&(T[z++]=j),U!==64&&(T[z++]=I);return T}},{"./support":30,"./utils":32}],2:[function(h,p,y){var m=h("./external"),g=h("./stream/DataWorker"),b=h("./stream/Crc32Probe"),w=h("./stream/DataLengthProbe");function C(j,I,q,P,U){this.compressedSize=j,this.uncompressedSize=I,this.crc32=q,this.compression=P,this.compressedContent=U}C.prototype={getContentWorker:function(){var j=new g(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),I=this;return j.on("end",function(){if(this.streamInfo.data_length!==I.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),j},getCompressedWorker:function(){return new g(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(j,I,q){return j.pipe(new b).pipe(new w("uncompressedSize")).pipe(I.compressWorker(q)).pipe(new w("compressedSize")).withStreamInfo("compression",I)},p.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,p,y){var m=h("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},y.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,p,y){var m=h("./utils"),g=function(){for(var b,w=[],C=0;C<256;C++){b=C;for(var j=0;j<8;j++)b=1&b?3988292384^b>>>1:b>>>1;w[C]=b}return w}();p.exports=function(b,w){return b!==void 0&&b.length?m.getTypeOf(b)!=="string"?function(C,j,I,q){var P=g,U=0+I;C^=-1;for(var W=0;W<U;W++)C=C>>>8^P[255&(C^j[W])];return-1^C}(0|w,b,b.length):function(C,j,I,q){var P=g,U=0+I;C^=-1;for(var W=0;W<U;W++)C=C>>>8^P[255&(C^j.charCodeAt(W))];return-1^C}(0|w,b,b.length):0}},{"./utils":32}],5:[function(h,p,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(h,p,y){var m;m=typeof Promise<"u"?Promise:h("lie"),p.exports={Promise:m}},{lie:37}],7:[function(h,p,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=h("pako"),b=h("./utils"),w=h("./stream/GenericWorker"),C=m?"uint8array":"array";function j(I,q){w.call(this,"FlateWorker/"+I),this._pako=null,this._pakoAction=I,this._pakoOptions=q,this.meta={}}y.magic="\b\0",b.inherits(j,w),j.prototype.processChunk=function(I){this.meta=I.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(C,I.data),!1)},j.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},j.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},j.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var I=this;this._pako.onData=function(q){I.push({data:q,meta:I.meta})}},y.compressWorker=function(I){return new j("Deflate",I)},y.uncompressWorker=function(){return new j("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,p,y){function m(P,U){var W,z="";for(W=0;W<U;W++)z+=String.fromCharCode(255&P),P>>>=8;return z}function g(P,U,W,z,R,T){var E,k,v=P.file,_=P.compression,x=T!==C.utf8encode,S=b.transformTo("string",T(v.name)),A=b.transformTo("string",C.utf8encode(v.name)),B=v.comment,M=b.transformTo("string",T(B)),H=b.transformTo("string",C.utf8encode(B)),V=A.length!==v.name.length,tt=H.length!==B.length,F="",J="",L="",N=v.dir,Y=v.date,nt={crc32:0,compressedSize:0,uncompressedSize:0};U&&!W||(nt.crc32=P.crc32,nt.compressedSize=P.compressedSize,nt.uncompressedSize=P.uncompressedSize);var lt=0;U&&(lt|=8),x||!V&&!tt||(lt|=2048);var st=0,pt=0;N&&(st|=16),R==="UNIX"?(pt=798,st|=function(it,at){var bt=it;return it||(bt=at?16893:33204),(65535&bt)<<16}(v.unixPermissions,N)):(pt=20,st|=function(it){return 63&(it||0)}(v.dosPermissions)),E=Y.getUTCHours(),E<<=6,E|=Y.getUTCMinutes(),E<<=5,E|=Y.getUTCSeconds()/2,k=Y.getUTCFullYear()-1980,k<<=4,k|=Y.getUTCMonth()+1,k<<=5,k|=Y.getUTCDate(),V&&(J=m(1,1)+m(j(S),4)+A,F+="up"+m(J.length,2)+J),tt&&(L=m(1,1)+m(j(M),4)+H,F+="uc"+m(L.length,2)+L);var ft="";return ft+=`
\0`,ft+=m(lt,2),ft+=_.magic,ft+=m(E,2),ft+=m(k,2),ft+=m(nt.crc32,4),ft+=m(nt.compressedSize,4),ft+=m(nt.uncompressedSize,4),ft+=m(S.length,2),ft+=m(F.length,2),{fileRecord:I.LOCAL_FILE_HEADER+ft+S+F,dirRecord:I.CENTRAL_FILE_HEADER+m(pt,2)+ft+m(M.length,2)+"\0\0\0\0"+m(st,4)+m(z,4)+S+F+M}}var b=h("../utils"),w=h("../stream/GenericWorker"),C=h("../utf8"),j=h("../crc32"),I=h("../signature");function q(P,U,W,z){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=W,this.encodeFileName=z,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(q,w),q.prototype.push=function(P){var U=P.meta.percent||0,W=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(P):(this.bytesWritten+=P.data.length,w.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:W?(U+100*(W-z-1))/W:100}}))},q.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var U=this.streamFiles&&!P.file.dir;if(U){var W=g(P,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:W.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(P){this.accumulate=!1;var U=this.streamFiles&&!P.file.dir,W=g(P,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(W.dirRecord),U)this.push({data:function(z){return I.DATA_DESCRIPTOR+m(z.crc32,4)+m(z.compressedSize,4)+m(z.uncompressedSize,4)}(P),meta:{percent:100}});else for(this.push({data:W.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var P=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var W=this.bytesWritten-P,z=function(R,T,E,k,v){var _=b.transformTo("string",v(k));return I.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(R,2)+m(R,2)+m(T,4)+m(E,4)+m(_.length,2)+_}(this.dirRecords.length,W,P,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(P){this._sources.push(P);var U=this;return P.on("data",function(W){U.processChunk(W)}),P.on("end",function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()}),P.on("error",function(W){U.error(W)}),this},q.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(P){var U=this._sources;if(!w.prototype.error.call(this,P))return!1;for(var W=0;W<U.length;W++)try{U[W].error(P)}catch{}return!0},q.prototype.lock=function(){w.prototype.lock.call(this);for(var P=this._sources,U=0;U<P.length;U++)P[U].lock()},p.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,p,y){var m=h("../compressions"),g=h("./ZipFileWorker");y.generateWorker=function(b,w,C){var j=new g(w.streamFiles,C,w.platform,w.encodeFileName),I=0;try{b.forEach(function(q,P){I++;var U=function(T,E){var k=T||E,v=m[k];if(!v)throw new Error(k+" is not a valid compression method !");return v}(P.options.compression,w.compression),W=P.options.compressionOptions||w.compressionOptions||{},z=P.dir,R=P.date;P._compressWorker(U,W).withStreamInfo("file",{name:q,dir:z,date:R,comment:P.comment||"",unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions}).pipe(j)}),j.entriesCount=I}catch(q){j.error(q)}return j}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,p,y){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new m;for(var b in this)typeof this[b]!="function"&&(g[b]=this[b]);return g}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(g,b){return new m().loadAsync(g,b)},m.external=h("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,p,y){var m=h("./utils"),g=h("./external"),b=h("./utf8"),w=h("./zipEntries"),C=h("./stream/Crc32Probe"),j=h("./nodejsUtils");function I(q){return new g.Promise(function(P,U){var W=q.decompressed.getContentWorker().pipe(new C);W.on("error",function(z){U(z)}).on("end",function(){W.streamInfo.crc32!==q.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):P()}).resume()})}p.exports=function(q,P){var U=this;return P=m.extend(P||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),j.isNode&&j.isStream(q)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",q,!0,P.optimizedBinaryString,P.base64).then(function(W){var z=new w(P);return z.load(W),z}).then(function(W){var z=[g.Promise.resolve(W)],R=W.files;if(P.checkCRC32)for(var T=0;T<R.length;T++)z.push(I(R[T]));return g.Promise.all(z)}).then(function(W){for(var z=W.shift(),R=z.files,T=0;T<R.length;T++){var E=R[T],k=E.fileNameStr,v=m.resolve(E.fileNameStr);U.file(v,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:P.createFolders}),E.dir||(U.file(v).unsafeOriginalName=k)}return z.zipComment.length&&(U.comment=z.zipComment),U})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,p,y){var m=h("../utils"),g=h("../stream/GenericWorker");function b(w,C){g.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(C)}m.inherits(b,g),b.prototype._bindStream=function(w){var C=this;(this._stream=w).pause(),w.on("data",function(j){C.push({data:j,meta:{percent:0}})}).on("error",function(j){C.isPaused?this.generatedError=j:C.error(j)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},b.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,p,y){var m=h("readable-stream").Readable;function g(b,w,C){m.call(this,w),this._helper=b;var j=this;b.on("data",function(I,q){j.push(I)||j._helper.pause(),C&&C(q)}).on("error",function(I){j.emit("error",I)}).on("end",function(){j.push(null)})}h("../utils").inherits(g,m),g.prototype._read=function(){this._helper.resume()},p.exports=g},{"../utils":32,"readable-stream":16}],14:[function(h,p,y){p.exports={isNode:l!==void 0,newBufferFrom:function(m,g){if(l.from&&l.from!==Uint8Array.from)return l.from(m,g);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new l(m,g)},allocBuffer:function(m){if(l.alloc)return l.alloc(m);var g=new l(m);return g.fill(0),g},isBuffer:function(m){return l.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,p,y){function m(v,_,x){var S,A=b.getTypeOf(_),B=b.extend(x||{},j);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(v=R(v)),B.createFolders&&(S=z(v))&&T.call(this,S,!0);var M=A==="string"&&B.binary===!1&&B.base64===!1;x&&x.binary!==void 0||(B.binary=!M),(_ instanceof I&&_.uncompressedSize===0||B.dir||!_||_.length===0)&&(B.base64=!1,B.binary=!0,_="",B.compression="STORE",A="string");var H;H=_ instanceof I||_ instanceof w?_:U.isNode&&U.isStream(_)?new W(v,_):b.prepareContent(v,_,B.binary,B.optimizedBinaryString,B.base64);var V=new q(v,H,B);this.files[v]=V}var g=h("./utf8"),b=h("./utils"),w=h("./stream/GenericWorker"),C=h("./stream/StreamHelper"),j=h("./defaults"),I=h("./compressedObject"),q=h("./zipObject"),P=h("./generate"),U=h("./nodejsUtils"),W=h("./nodejs/NodejsStreamInputAdapter"),z=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var _=v.lastIndexOf("/");return 0<_?v.substring(0,_):""},R=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},T=function(v,_){return _=_!==void 0?_:j.createFolders,v=R(v),this.files[v]||m.call(this,v,null,{dir:!0,createFolders:_}),this.files[v]};function E(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var _,x,S;for(_ in this.files)S=this.files[_],(x=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&v(x,S)},filter:function(v){var _=[];return this.forEach(function(x,S){v(x,S)&&_.push(S)}),_},file:function(v,_,x){if(arguments.length!==1)return v=this.root+v,m.call(this,v,_,x),this;if(E(v)){var S=v;return this.filter(function(B,M){return!M.dir&&S.test(B)})}var A=this.files[this.root+v];return A&&!A.dir?A:null},folder:function(v){if(!v)return this;if(E(v))return this.filter(function(A,B){return B.dir&&v.test(A)});var _=this.root+v,x=T.call(this,_),S=this.clone();return S.root=x.name,S},remove:function(v){v=this.root+v;var _=this.files[v];if(_||(v.slice(-1)!=="/"&&(v+="/"),_=this.files[v]),_&&!_.dir)delete this.files[v];else for(var x=this.filter(function(A,B){return B.name.slice(0,v.length)===v}),S=0;S<x.length;S++)delete this.files[x[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var _,x={};try{if((x=b.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");b.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var S=x.comment||this.comment||"";_=P.generateWorker(this,x,S)}catch(A){(_=new w("error")).error(A)}return new C(_,x.type||"string",x.mimeType)},generateAsync:function(v,_){return this.generateInternalStream(v).accumulate(_)},generateNodeStream:function(v,_){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(_)}};p.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,p,y){p.exports=h("stream")},{stream:void 0}],17:[function(h,p,y){var m=h("./DataReader");function g(b){m.call(this,b);for(var w=0;w<this.data.length;w++)b[w]=255&b[w]}h("../utils").inherits(g,m),g.prototype.byteAt=function(b){return this.data[this.zero+b]},g.prototype.lastIndexOfSignature=function(b){for(var w=b.charCodeAt(0),C=b.charCodeAt(1),j=b.charCodeAt(2),I=b.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===w&&this.data[q+1]===C&&this.data[q+2]===j&&this.data[q+3]===I)return q-this.zero;return-1},g.prototype.readAndCheckSignature=function(b){var w=b.charCodeAt(0),C=b.charCodeAt(1),j=b.charCodeAt(2),I=b.charCodeAt(3),q=this.readData(4);return w===q[0]&&C===q[1]&&j===q[2]&&I===q[3]},g.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},p.exports=g},{"../utils":32,"./DataReader":18}],18:[function(h,p,y){var m=h("../utils");function g(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var w,C=0;for(this.checkOffset(b),w=this.index+b-1;w>=this.index;w--)C=(C<<8)+this.byteAt(w);return this.index+=b,C},readString:function(b){return m.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},p.exports=g},{"../utils":32}],19:[function(h,p,y){var m=h("./Uint8ArrayReader");function g(b){m.call(this,b)}h("../utils").inherits(g,m),g.prototype.readData=function(b){this.checkOffset(b);var w=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},p.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,p,y){var m=h("./DataReader");function g(b){m.call(this,b)}h("../utils").inherits(g,m),g.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},g.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},g.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},g.prototype.readData=function(b){this.checkOffset(b);var w=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},p.exports=g},{"../utils":32,"./DataReader":18}],21:[function(h,p,y){var m=h("./ArrayReader");function g(b){m.call(this,b)}h("../utils").inherits(g,m),g.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},p.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(h,p,y){var m=h("../utils"),g=h("../support"),b=h("./ArrayReader"),w=h("./StringReader"),C=h("./NodeBufferReader"),j=h("./Uint8ArrayReader");p.exports=function(I){var q=m.getTypeOf(I);return m.checkSupport(q),q!=="string"||g.uint8array?q==="nodebuffer"?new C(I):g.uint8array?new j(m.transformTo("uint8array",I)):new b(m.transformTo("array",I)):new w(I)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,p,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,p,y){var m=h("./GenericWorker"),g=h("../utils");function b(w){m.call(this,"ConvertWorker to "+w),this.destType=w}g.inherits(b,m),b.prototype.processChunk=function(w){this.push({data:g.transformTo(this.destType,w.data),meta:w.meta})},p.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(h,p,y){var m=h("./GenericWorker"),g=h("../crc32");function b(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(b,m),b.prototype.processChunk=function(w){this.streamInfo.crc32=g(w.data,this.streamInfo.crc32||0),this.push(w)},p.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,p,y){var m=h("../utils"),g=h("./GenericWorker");function b(w){g.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}m.inherits(b,g),b.prototype.processChunk=function(w){if(w){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+w.data.length}g.prototype.processChunk.call(this,w)},p.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(h,p,y){var m=h("../utils"),g=h("./GenericWorker");function b(w){g.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(j){C.dataIsReady=!0,C.data=j,C.max=j&&j.length||0,C.type=m.getTypeOf(j),C.isPaused||C._tickAndRepeat()},function(j){C.error(j)})}m.inherits(b,g),b.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,C);break;case"uint8array":w=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":w=this.data.slice(this.index,C)}return this.index=C,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(h,p,y){function m(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,b){return this._listeners[g].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,b){if(this._listeners[g])for(var w=0;w<this._listeners[g].length;w++)this._listeners[g][w].call(this,b)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var b=this;return g.on("data",function(w){b.processChunk(w)}),g.on("end",function(){b.end()}),g.on("error",function(w){b.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,b){return this.extraStreamInfo[g]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},p.exports=m},{}],29:[function(h,p,y){var m=h("../utils"),g=h("./ConvertWorker"),b=h("./GenericWorker"),w=h("../base64"),C=h("../support"),j=h("../external"),I=null;if(C.nodestream)try{I=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(P,U,W){var z=U;switch(U){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=U,this._mimeType=W,m.checkSupport(z),this._worker=P.pipe(new g(z)),P.lock()}catch(R){this._worker=new b("error"),this._worker.error(R)}}q.prototype={accumulate:function(P){return function(U,W){return new j.Promise(function(z,R){var T=[],E=U._internalType,k=U._outputType,v=U._mimeType;U.on("data",function(_,x){T.push(_),W&&W(x)}).on("error",function(_){T=[],R(_)}).on("end",function(){try{var _=function(x,S,A){switch(x){case"blob":return m.newBlob(m.transformTo("arraybuffer",S),A);case"base64":return w.encode(S);default:return m.transformTo(x,S)}}(k,function(x,S){var A,B=0,M=null,H=0;for(A=0;A<S.length;A++)H+=S[A].length;switch(x){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(M=new Uint8Array(H),A=0;A<S.length;A++)M.set(S[A],B),B+=S[A].length;return M;case"nodebuffer":return l.concat(S);default:throw new Error("concat : unsupported type '"+x+"'")}}(E,T),v);z(_)}catch(x){R(x)}T=[]}).resume()})}(this,P)},on:function(P,U){var W=this;return P==="data"?this._worker.on(P,function(z){U.call(W,z.data,z.meta)}):this._worker.on(P,function(){m.delay(U,arguments,W)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new I(this,{objectMode:this._outputType!=="nodebuffer"},P)}},p.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,p,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=l!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var m=new ArrayBuffer(0);try{y.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(m),y.blob=g.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!h("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(h,p,y){for(var m=h("./utils"),g=h("./support"),b=h("./nodejsUtils"),w=h("./stream/GenericWorker"),C=new Array(256),j=0;j<256;j++)C[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function I(){w.call(this,"utf-8 decode"),this.leftOver=null}function q(){w.call(this,"utf-8 encode")}C[254]=C[254]=1,y.utf8encode=function(P){return g.nodebuffer?b.newBufferFrom(P,"utf-8"):function(U){var W,z,R,T,E,k=U.length,v=0;for(T=0;T<k;T++)(64512&(z=U.charCodeAt(T)))==55296&&T+1<k&&(64512&(R=U.charCodeAt(T+1)))==56320&&(z=65536+(z-55296<<10)+(R-56320),T++),v+=z<128?1:z<2048?2:z<65536?3:4;for(W=g.uint8array?new Uint8Array(v):new Array(v),T=E=0;E<v;T++)(64512&(z=U.charCodeAt(T)))==55296&&T+1<k&&(64512&(R=U.charCodeAt(T+1)))==56320&&(z=65536+(z-55296<<10)+(R-56320),T++),z<128?W[E++]=z:(z<2048?W[E++]=192|z>>>6:(z<65536?W[E++]=224|z>>>12:(W[E++]=240|z>>>18,W[E++]=128|z>>>12&63),W[E++]=128|z>>>6&63),W[E++]=128|63&z);return W}(P)},y.utf8decode=function(P){return g.nodebuffer?m.transformTo("nodebuffer",P).toString("utf-8"):function(U){var W,z,R,T,E=U.length,k=new Array(2*E);for(W=z=0;W<E;)if((R=U[W++])<128)k[z++]=R;else if(4<(T=C[R]))k[z++]=65533,W+=T-1;else{for(R&=T===2?31:T===3?15:7;1<T&&W<E;)R=R<<6|63&U[W++],T--;1<T?k[z++]=65533:R<65536?k[z++]=R:(R-=65536,k[z++]=55296|R>>10&1023,k[z++]=56320|1023&R)}return k.length!==z&&(k.subarray?k=k.subarray(0,z):k.length=z),m.applyFromCharCode(k)}(P=m.transformTo(g.uint8array?"uint8array":"array",P))},m.inherits(I,w),I.prototype.processChunk=function(P){var U=m.transformTo(g.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var W=U;(U=new Uint8Array(W.length+this.leftOver.length)).set(this.leftOver,0),U.set(W,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var z=function(T,E){var k;for((E=E||T.length)>T.length&&(E=T.length),k=E-1;0<=k&&(192&T[k])==128;)k--;return k<0||k===0?E:k+C[T[k]]>E?k:E}(U),R=U;z!==U.length&&(g.uint8array?(R=U.subarray(0,z),this.leftOver=U.subarray(z,U.length)):(R=U.slice(0,z),this.leftOver=U.slice(z,U.length))),this.push({data:y.utf8decode(R),meta:P.meta})},I.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=I,m.inherits(q,w),q.prototype.processChunk=function(P){this.push({data:y.utf8encode(P.data),meta:P.meta})},y.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,p,y){var m=h("./support"),g=h("./base64"),b=h("./nodejsUtils"),w=h("./external");function C(W){return W}function j(W,z){for(var R=0;R<W.length;++R)z[R]=255&W.charCodeAt(R);return z}h("setimmediate"),y.newBlob=function(W,z){y.checkSupport("blob");try{return new Blob([W],{type:z})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(W),R.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var I={stringifyByChunk:function(W,z,R){var T=[],E=0,k=W.length;if(k<=R)return String.fromCharCode.apply(null,W);for(;E<k;)z==="array"||z==="nodebuffer"?T.push(String.fromCharCode.apply(null,W.slice(E,Math.min(E+R,k)))):T.push(String.fromCharCode.apply(null,W.subarray(E,Math.min(E+R,k)))),E+=R;return T.join("")},stringifyByChar:function(W){for(var z="",R=0;R<W.length;R++)z+=String.fromCharCode(W[R]);return z},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};function q(W){var z=65536,R=y.getTypeOf(W),T=!0;if(R==="uint8array"?T=I.applyCanBeUsed.uint8array:R==="nodebuffer"&&(T=I.applyCanBeUsed.nodebuffer),T)for(;1<z;)try{return I.stringifyByChunk(W,R,z)}catch{z=Math.floor(z/2)}return I.stringifyByChar(W)}function P(W,z){for(var R=0;R<W.length;R++)z[R]=W[R];return z}y.applyFromCharCode=q;var U={};U.string={string:C,array:function(W){return j(W,new Array(W.length))},arraybuffer:function(W){return U.string.uint8array(W).buffer},uint8array:function(W){return j(W,new Uint8Array(W.length))},nodebuffer:function(W){return j(W,b.allocBuffer(W.length))}},U.array={string:q,array:C,arraybuffer:function(W){return new Uint8Array(W).buffer},uint8array:function(W){return new Uint8Array(W)},nodebuffer:function(W){return b.newBufferFrom(W)}},U.arraybuffer={string:function(W){return q(new Uint8Array(W))},array:function(W){return P(new Uint8Array(W),new Array(W.byteLength))},arraybuffer:C,uint8array:function(W){return new Uint8Array(W)},nodebuffer:function(W){return b.newBufferFrom(new Uint8Array(W))}},U.uint8array={string:q,array:function(W){return P(W,new Array(W.length))},arraybuffer:function(W){return W.buffer},uint8array:C,nodebuffer:function(W){return b.newBufferFrom(W)}},U.nodebuffer={string:q,array:function(W){return P(W,new Array(W.length))},arraybuffer:function(W){return U.nodebuffer.uint8array(W).buffer},uint8array:function(W){return P(W,new Uint8Array(W.length))},nodebuffer:C},y.transformTo=function(W,z){if(z=z||"",!W)return z;y.checkSupport(W);var R=y.getTypeOf(z);return U[R][W](z)},y.resolve=function(W){for(var z=W.split("/"),R=[],T=0;T<z.length;T++){var E=z[T];E==="."||E===""&&T!==0&&T!==z.length-1||(E===".."?R.pop():R.push(E))}return R.join("/")},y.getTypeOf=function(W){return typeof W=="string"?"string":Object.prototype.toString.call(W)==="[object Array]"?"array":m.nodebuffer&&b.isBuffer(W)?"nodebuffer":m.uint8array&&W instanceof Uint8Array?"uint8array":m.arraybuffer&&W instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(W){if(!m[W.toLowerCase()])throw new Error(W+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(W){var z,R,T="";for(R=0;R<(W||"").length;R++)T+="\\x"+((z=W.charCodeAt(R))<16?"0":"")+z.toString(16).toUpperCase();return T},y.delay=function(W,z,R){f(function(){W.apply(R||null,z||[])})},y.inherits=function(W,z){function R(){}R.prototype=z.prototype,W.prototype=new R},y.extend=function(){var W,z,R={};for(W=0;W<arguments.length;W++)for(z in arguments[W])Object.prototype.hasOwnProperty.call(arguments[W],z)&&R[z]===void 0&&(R[z]=arguments[W][z]);return R},y.prepareContent=function(W,z,R,T,E){return w.Promise.resolve(z).then(function(k){return m.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new w.Promise(function(v,_){var x=new FileReader;x.onload=function(S){v(S.target.result)},x.onerror=function(S){_(S.target.error)},x.readAsArrayBuffer(k)}):k}).then(function(k){var v=y.getTypeOf(k);return v?(v==="arraybuffer"?k=y.transformTo("uint8array",k):v==="string"&&(E?k=g.decode(k):R&&T!==!0&&(k=function(_){return j(_,m.uint8array?new Uint8Array(_.length):new Array(_.length))}(k))),k):w.Promise.reject(new Error("Can't read the data of '"+W+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,p,y){var m=h("./reader/readerFor"),g=h("./utils"),b=h("./signature"),w=h("./zipEntry"),C=h("./support");function j(I){this.files=[],this.loadOptions=I}j.prototype={checkSignature:function(I){if(!this.reader.readAndCheckSignature(I)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(q)+", expected "+g.pretty(I)+")")}},isSignature:function(I,q){var P=this.reader.index;this.reader.setIndex(I);var U=this.reader.readString(4)===q;return this.reader.setIndex(P),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var I=this.reader.readData(this.zipCommentLength),q=C.uint8array?"uint8array":"array",P=g.transformTo(q,I);this.zipComment=this.loadOptions.decodeFileName(P)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var I,q,P,U=this.zip64EndOfCentralSize-44;0<U;)I=this.reader.readInt(2),q=this.reader.readInt(4),P=this.reader.readData(q),this.zip64ExtensibleData[I]={id:I,length:q,value:P}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var I,q;for(I=0;I<this.files.length;I++)q=this.files[I],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var I;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(I=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(I);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var I=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(I<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(I);var q=I;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(I=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(I),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var P=this.centralDirOffset+this.centralDirSize;this.zip64&&(P+=20,P+=12+this.zip64EndOfCentralSize);var U=q-P;if(0<U)this.isSignature(q,b.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function(I){this.reader=m(I)},load:function(I){this.prepareReader(I),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=j},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,p,y){var m=h("./reader/readerFor"),g=h("./utils"),b=h("./compressedObject"),w=h("./crc32"),C=h("./utf8"),j=h("./compressions"),I=h("./support");function q(P,U){this.options=P,this.loadOptions=U}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(P){var U,W;if(P.skip(22),this.fileNameLength=P.readInt(2),W=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(W),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((U=function(z){for(var R in j)if(Object.prototype.hasOwnProperty.call(j,R)&&j[R].magic===z)return j[R];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,U,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var U=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(U),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),P==0&&(this.dosPermissions=63&this.externalFileAttributes),P==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var P=m(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=P.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=P.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=P.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=P.readInt(4))}},readExtraFields:function(P){var U,W,z,R=P.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});P.index+4<R;)U=P.readInt(2),W=P.readInt(2),z=P.readData(W),this.extraFields[U]={id:U,length:W,value:z};P.setIndex(R)},handleUTF8:function(){var P=I.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(U!==null)this.fileNameStr=U;else{var W=g.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(W)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var R=g.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var U=m(P.value);return U.readInt(1)!==1||w(this.fileName)!==U.readInt(4)?null:C.utf8decode(U.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var U=m(P.value);return U.readInt(1)!==1||w(this.fileComment)!==U.readInt(4)?null:C.utf8decode(U.readData(P.length-5))}return null}},p.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,p,y){function m(U,W,z){this.name=U,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=W,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var g=h("./stream/StreamHelper"),b=h("./stream/DataWorker"),w=h("./utf8"),C=h("./compressedObject"),j=h("./stream/GenericWorker");m.prototype={internalStream:function(U){var W=null,z="string";try{if(!U)throw new Error("No output type specified.");var R=(z=U.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),W=this._decompressWorker();var T=!this._dataBinary;T&&!R&&(W=W.pipe(new w.Utf8EncodeWorker)),!T&&R&&(W=W.pipe(new w.Utf8DecodeWorker))}catch(E){(W=new j("error")).error(E)}return new g(W,z,"")},async:function(U,W){return this.internalStream(U).accumulate(W)},nodeStream:function(U,W){return this.internalStream(U||"nodebuffer").toNodejsStream(W)},_compressWorker:function(U,W){if(this._data instanceof C&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new w.Utf8EncodeWorker)),C.createWorkerFrom(z,U,W)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof j?this._data:new b(this._data)}};for(var I=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},P=0;P<I.length;P++)m.prototype[I[P]]=q;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,p,y){(function(m){var g,b,w=m.MutationObserver||m.WebKitMutationObserver;if(w){var C=0,j=new w(U),I=m.document.createTextNode("");j.observe(I,{characterData:!0}),g=function(){I.data=C=++C%2}}else if(m.setImmediate||m.MessageChannel===void 0)g="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var W=m.document.createElement("script");W.onreadystatechange=function(){U(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},m.document.documentElement.appendChild(W)}:function(){setTimeout(U,0)};else{var q=new m.MessageChannel;q.port1.onmessage=U,g=function(){q.port2.postMessage(0)}}var P=[];function U(){var W,z;b=!0;for(var R=P.length;R;){for(z=P,P=[],W=-1;++W<R;)z[W]();R=P.length}b=!1}p.exports=function(W){P.push(W)!==1||b||g()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,p,y){var m=h("immediate");function g(){}var b={},w=["REJECTED"],C=["FULFILLED"],j=["PENDING"];function I(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,R!==g&&W(this,R)}function q(R,T,E){this.promise=R,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function P(R,T,E){m(function(){var k;try{k=T(E)}catch(v){return b.reject(R,v)}k===R?b.reject(R,new TypeError("Cannot resolve promise with itself")):b.resolve(R,k)})}function U(R){var T=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof T=="function")return function(){T.apply(R,arguments)}}function W(R,T){var E=!1;function k(x){E||(E=!0,b.reject(R,x))}function v(x){E||(E=!0,b.resolve(R,x))}var _=z(function(){T(v,k)});_.status==="error"&&k(_.value)}function z(R,T){var E={};try{E.value=R(T),E.status="success"}catch(k){E.status="error",E.value=k}return E}(p.exports=I).prototype.finally=function(R){if(typeof R!="function")return this;var T=this.constructor;return this.then(function(E){return T.resolve(R()).then(function(){return E})},function(E){return T.resolve(R()).then(function(){throw E})})},I.prototype.catch=function(R){return this.then(null,R)},I.prototype.then=function(R,T){if(typeof R!="function"&&this.state===C||typeof T!="function"&&this.state===w)return this;var E=new this.constructor(g);return this.state!==j?P(E,this.state===C?R:T,this.outcome):this.queue.push(new q(E,R,T)),E},q.prototype.callFulfilled=function(R){b.resolve(this.promise,R)},q.prototype.otherCallFulfilled=function(R){P(this.promise,this.onFulfilled,R)},q.prototype.callRejected=function(R){b.reject(this.promise,R)},q.prototype.otherCallRejected=function(R){P(this.promise,this.onRejected,R)},b.resolve=function(R,T){var E=z(U,T);if(E.status==="error")return b.reject(R,E.value);var k=E.value;if(k)W(R,k);else{R.state=C,R.outcome=T;for(var v=-1,_=R.queue.length;++v<_;)R.queue[v].callFulfilled(T)}return R},b.reject=function(R,T){R.state=w,R.outcome=T;for(var E=-1,k=R.queue.length;++E<k;)R.queue[E].callRejected(T);return R},I.resolve=function(R){return R instanceof this?R:b.resolve(new this(g),R)},I.reject=function(R){var T=new this(g);return b.reject(T,R)},I.all=function(R){var T=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=R.length,k=!1;if(!E)return this.resolve([]);for(var v=new Array(E),_=0,x=-1,S=new this(g);++x<E;)A(R[x],x);return S;function A(B,M){T.resolve(B).then(function(H){v[M]=H,++_!==E||k||(k=!0,b.resolve(S,v))},function(H){k||(k=!0,b.reject(S,H))})}},I.race=function(R){if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=R.length,E=!1;if(!T)return this.resolve([]);for(var k,v=-1,_=new this(g);++v<T;)k=R[v],this.resolve(k).then(function(x){E||(E=!0,b.resolve(_,x))},function(x){E||(E=!0,b.reject(_,x))});return _}},{immediate:36}],38:[function(h,p,y){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,p,y){var m=h("./zlib/deflate"),g=h("./utils/common"),b=h("./utils/strings"),w=h("./zlib/messages"),C=h("./zlib/zstream"),j=Object.prototype.toString;function I(P){if(!(this instanceof I))return new I(P);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},P||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var W=m.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(W!==0)throw new Error(w[W]);if(U.header&&m.deflateSetHeader(this.strm,U.header),U.dictionary){var z;if(z=typeof U.dictionary=="string"?b.string2buf(U.dictionary):j.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(W=m.deflateSetDictionary(this.strm,z))!==0)throw new Error(w[W]);this._dict_set=!0}}function q(P,U){var W=new I(U);if(W.push(P,!0),W.err)throw W.msg||w[W.err];return W.result}I.prototype.push=function(P,U){var W,z,R=this.strm,T=this.options.chunkSize;if(this.ended)return!1;z=U===~~U?U:U===!0?4:0,typeof P=="string"?R.input=b.string2buf(P):j.call(P)==="[object ArrayBuffer]"?R.input=new Uint8Array(P):R.input=P,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new g.Buf8(T),R.next_out=0,R.avail_out=T),(W=m.deflate(R,z))!==1&&W!==0)return this.onEnd(W),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(g.shrinkBuf(R.output,R.next_out))):this.onData(g.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&W!==1);return z===4?(W=m.deflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===0):z!==2||(this.onEnd(0),!(R.avail_out=0))},I.prototype.onData=function(P){this.chunks.push(P)},I.prototype.onEnd=function(P){P===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},y.Deflate=I,y.deflate=q,y.deflateRaw=function(P,U){return(U=U||{}).raw=!0,q(P,U)},y.gzip=function(P,U){return(U=U||{}).gzip=!0,q(P,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,p,y){var m=h("./zlib/inflate"),g=h("./utils/common"),b=h("./utils/strings"),w=h("./zlib/constants"),C=h("./zlib/messages"),j=h("./zlib/zstream"),I=h("./zlib/gzheader"),q=Object.prototype.toString;function P(W){if(!(this instanceof P))return new P(W);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},W||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||W&&W.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&!(15&z.windowBits)&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var R=m.inflateInit2(this.strm,z.windowBits);if(R!==w.Z_OK)throw new Error(C[R]);this.header=new I,m.inflateGetHeader(this.strm,this.header)}function U(W,z){var R=new P(z);if(R.push(W,!0),R.err)throw R.msg||C[R.err];return R.result}P.prototype.push=function(W,z){var R,T,E,k,v,_,x=this.strm,S=this.options.chunkSize,A=this.options.dictionary,B=!1;if(this.ended)return!1;T=z===~~z?z:z===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof W=="string"?x.input=b.binstring2buf(W):q.call(W)==="[object ArrayBuffer]"?x.input=new Uint8Array(W):x.input=W,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new g.Buf8(S),x.next_out=0,x.avail_out=S),(R=m.inflate(x,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&A&&(_=typeof A=="string"?b.string2buf(A):q.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,R=m.inflateSetDictionary(this.strm,_)),R===w.Z_BUF_ERROR&&B===!0&&(R=w.Z_OK,B=!1),R!==w.Z_STREAM_END&&R!==w.Z_OK)return this.onEnd(R),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&R!==w.Z_STREAM_END&&(x.avail_in!==0||T!==w.Z_FINISH&&T!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=b.utf8border(x.output,x.next_out),k=x.next_out-E,v=b.buf2string(x.output,E),x.next_out=k,x.avail_out=S-k,k&&g.arraySet(x.output,x.output,E,k,0),this.onData(v)):this.onData(g.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(B=!0)}while((0<x.avail_in||x.avail_out===0)&&R!==w.Z_STREAM_END);return R===w.Z_STREAM_END&&(T=w.Z_FINISH),T===w.Z_FINISH?(R=m.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===w.Z_OK):T!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(x.avail_out=0))},P.prototype.onData=function(W){this.chunks.push(W)},P.prototype.onEnd=function(W){W===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg},y.Inflate=P,y.inflate=U,y.inflateRaw=function(W,z){return(z=z||{}).raw=!0,U(W,z)},y.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,p,y){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(w){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var j=C.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var I in j)j.hasOwnProperty(I)&&(w[I]=j[I])}}return w},y.shrinkBuf=function(w,C){return w.length===C?w:w.subarray?w.subarray(0,C):(w.length=C,w)};var g={arraySet:function(w,C,j,I,q){if(C.subarray&&w.subarray)w.set(C.subarray(j,j+I),q);else for(var P=0;P<I;P++)w[q+P]=C[j+P]},flattenChunks:function(w){var C,j,I,q,P,U;for(C=I=0,j=w.length;C<j;C++)I+=w[C].length;for(U=new Uint8Array(I),C=q=0,j=w.length;C<j;C++)P=w[C],U.set(P,q),q+=P.length;return U}},b={arraySet:function(w,C,j,I,q){for(var P=0;P<I;P++)w[q+P]=C[j+P]},flattenChunks:function(w){return[].concat.apply([],w)}};y.setTyped=function(w){w?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,g)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,b))},y.setTyped(m)},{}],42:[function(h,p,y){var m=h("./common"),g=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var w=new m.Buf8(256),C=0;C<256;C++)w[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function j(I,q){if(q<65537&&(I.subarray&&b||!I.subarray&&g))return String.fromCharCode.apply(null,m.shrinkBuf(I,q));for(var P="",U=0;U<q;U++)P+=String.fromCharCode(I[U]);return P}w[254]=w[254]=1,y.string2buf=function(I){var q,P,U,W,z,R=I.length,T=0;for(W=0;W<R;W++)(64512&(P=I.charCodeAt(W)))==55296&&W+1<R&&(64512&(U=I.charCodeAt(W+1)))==56320&&(P=65536+(P-55296<<10)+(U-56320),W++),T+=P<128?1:P<2048?2:P<65536?3:4;for(q=new m.Buf8(T),W=z=0;z<T;W++)(64512&(P=I.charCodeAt(W)))==55296&&W+1<R&&(64512&(U=I.charCodeAt(W+1)))==56320&&(P=65536+(P-55296<<10)+(U-56320),W++),P<128?q[z++]=P:(P<2048?q[z++]=192|P>>>6:(P<65536?q[z++]=224|P>>>12:(q[z++]=240|P>>>18,q[z++]=128|P>>>12&63),q[z++]=128|P>>>6&63),q[z++]=128|63&P);return q},y.buf2binstring=function(I){return j(I,I.length)},y.binstring2buf=function(I){for(var q=new m.Buf8(I.length),P=0,U=q.length;P<U;P++)q[P]=I.charCodeAt(P);return q},y.buf2string=function(I,q){var P,U,W,z,R=q||I.length,T=new Array(2*R);for(P=U=0;P<R;)if((W=I[P++])<128)T[U++]=W;else if(4<(z=w[W]))T[U++]=65533,P+=z-1;else{for(W&=z===2?31:z===3?15:7;1<z&&P<R;)W=W<<6|63&I[P++],z--;1<z?T[U++]=65533:W<65536?T[U++]=W:(W-=65536,T[U++]=55296|W>>10&1023,T[U++]=56320|1023&W)}return j(T,U)},y.utf8border=function(I,q){var P;for((q=q||I.length)>I.length&&(q=I.length),P=q-1;0<=P&&(192&I[P])==128;)P--;return P<0||P===0?q:P+w[I[P]]>q?P:q}},{"./common":41}],43:[function(h,p,y){p.exports=function(m,g,b,w){for(var C=65535&m|0,j=m>>>16&65535|0,I=0;b!==0;){for(b-=I=2e3<b?2e3:b;j=j+(C=C+g[w++]|0)|0,--I;);C%=65521,j%=65521}return C|j<<16|0}},{}],44:[function(h,p,y){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,p,y){var m=function(){for(var g,b=[],w=0;w<256;w++){g=w;for(var C=0;C<8;C++)g=1&g?3988292384^g>>>1:g>>>1;b[w]=g}return b}();p.exports=function(g,b,w,C){var j=m,I=C+w;g^=-1;for(var q=C;q<I;q++)g=g>>>8^j[255&(g^b[q])];return-1^g}},{}],46:[function(h,p,y){var m,g=h("../utils/common"),b=h("./trees"),w=h("./adler32"),C=h("./crc32"),j=h("./messages"),I=-2,q=258,P=262,U=113;function W(F,J){return F.msg=j[J],J}function z(F){return(F<<1)-(4<F?9:0)}function R(F){for(var J=F.length;0<=--J;)F[J]=0}function T(F){var J=F.state,L=J.pending;L>F.avail_out&&(L=F.avail_out),L!==0&&(g.arraySet(F.output,J.pending_buf,J.pending_out,L,F.next_out),F.next_out+=L,J.pending_out+=L,F.total_out+=L,F.avail_out-=L,J.pending-=L,J.pending===0&&(J.pending_out=0))}function E(F,J){b._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,J),F.block_start=F.strstart,T(F.strm)}function k(F,J){F.pending_buf[F.pending++]=J}function v(F,J){F.pending_buf[F.pending++]=J>>>8&255,F.pending_buf[F.pending++]=255&J}function _(F,J){var L,N,Y=F.max_chain_length,nt=F.strstart,lt=F.prev_length,st=F.nice_match,pt=F.strstart>F.w_size-P?F.strstart-(F.w_size-P):0,ft=F.window,it=F.w_mask,at=F.prev,bt=F.strstart+q,gt=ft[nt+lt-1],St=ft[nt+lt];F.prev_length>=F.good_match&&(Y>>=2),st>F.lookahead&&(st=F.lookahead);do if(ft[(L=J)+lt]===St&&ft[L+lt-1]===gt&&ft[L]===ft[nt]&&ft[++L]===ft[nt+1]){nt+=2,L++;do;while(ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&ft[++nt]===ft[++L]&&nt<bt);if(N=q-(bt-nt),nt=bt-q,lt<N){if(F.match_start=J,st<=(lt=N))break;gt=ft[nt+lt-1],St=ft[nt+lt]}}while((J=at[J&it])>pt&&--Y!=0);return lt<=F.lookahead?lt:F.lookahead}function x(F){var J,L,N,Y,nt,lt,st,pt,ft,it,at=F.w_size;do{if(Y=F.window_size-F.lookahead-F.strstart,F.strstart>=at+(at-P)){for(g.arraySet(F.window,F.window,at,at,0),F.match_start-=at,F.strstart-=at,F.block_start-=at,J=L=F.hash_size;N=F.head[--J],F.head[J]=at<=N?N-at:0,--L;);for(J=L=at;N=F.prev[--J],F.prev[J]=at<=N?N-at:0,--L;);Y+=at}if(F.strm.avail_in===0)break;if(lt=F.strm,st=F.window,pt=F.strstart+F.lookahead,it=void 0,(ft=Y)<(it=lt.avail_in)&&(it=ft),L=it===0?0:(lt.avail_in-=it,g.arraySet(st,lt.input,lt.next_in,it,pt),lt.state.wrap===1?lt.adler=w(lt.adler,st,it,pt):lt.state.wrap===2&&(lt.adler=C(lt.adler,st,it,pt)),lt.next_in+=it,lt.total_in+=it,it),F.lookahead+=L,F.lookahead+F.insert>=3)for(nt=F.strstart-F.insert,F.ins_h=F.window[nt],F.ins_h=(F.ins_h<<F.hash_shift^F.window[nt+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[nt+3-1])&F.hash_mask,F.prev[nt&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=nt,nt++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<P&&F.strm.avail_in!==0)}function S(F,J){for(var L,N;;){if(F.lookahead<P){if(x(F),F.lookahead<P&&J===0)return 1;if(F.lookahead===0)break}if(L=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),L!==0&&F.strstart-L<=F.w_size-P&&(F.match_length=_(F,L)),F.match_length>=3)if(N=b._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else N=b._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(N&&(E(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,J===4?(E(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(E(F,!1),F.strm.avail_out===0)?1:2}function A(F,J){for(var L,N,Y;;){if(F.lookahead<P){if(x(F),F.lookahead<P&&J===0)return 1;if(F.lookahead===0)break}if(L=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,L!==0&&F.prev_length<F.max_lazy_match&&F.strstart-L<=F.w_size-P&&(F.match_length=_(F,L),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(Y=F.strstart+F.lookahead-3,N=b._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=Y&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,L=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,N&&(E(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((N=b._tr_tally(F,0,F.window[F.strstart-1]))&&E(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(N=b._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,J===4?(E(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(E(F,!1),F.strm.avail_out===0)?1:2}function B(F,J,L,N,Y){this.good_length=F,this.max_lazy=J,this.nice_length=L,this.max_chain=N,this.func=Y}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(F){var J;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(J=F.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?42:U,F.adler=J.wrap===2?0:1,J.last_flush=0,b._tr_init(J),0):W(F,I)}function V(F){var J=H(F);return J===0&&function(L){L.window_size=2*L.w_size,R(L.head),L.max_lazy_match=m[L.level].max_lazy,L.good_match=m[L.level].good_length,L.nice_match=m[L.level].nice_length,L.max_chain_length=m[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=2,L.match_available=0,L.ins_h=0}(F.state),J}function tt(F,J,L,N,Y,nt){if(!F)return I;var lt=1;if(J===-1&&(J=6),N<0?(lt=0,N=-N):15<N&&(lt=2,N-=16),Y<1||9<Y||L!==8||N<8||15<N||J<0||9<J||nt<0||4<nt)return W(F,I);N===8&&(N=9);var st=new M;return(F.state=st).strm=F,st.wrap=lt,st.gzhead=null,st.w_bits=N,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=Y+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+3-1)/3),st.window=new g.Buf8(2*st.w_size),st.head=new g.Buf16(st.hash_size),st.prev=new g.Buf16(st.w_size),st.lit_bufsize=1<<Y+6,st.pending_buf_size=4*st.lit_bufsize,st.pending_buf=new g.Buf8(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=3*st.lit_bufsize,st.level=J,st.strategy=nt,st.method=L,V(F)}m=[new B(0,0,0,0,function(F,J){var L=65535;for(L>F.pending_buf_size-5&&(L=F.pending_buf_size-5);;){if(F.lookahead<=1){if(x(F),F.lookahead===0&&J===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var N=F.block_start+L;if((F.strstart===0||F.strstart>=N)&&(F.lookahead=F.strstart-N,F.strstart=N,E(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-P&&(E(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,J===4?(E(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(E(F,!1),F.strm.avail_out),1)}),new B(4,4,8,4,S),new B(4,5,16,8,S),new B(4,6,32,32,S),new B(4,4,16,16,A),new B(8,16,32,32,A),new B(8,16,128,128,A),new B(8,32,128,256,A),new B(32,128,258,1024,A),new B(32,258,258,4096,A)],y.deflateInit=function(F,J){return tt(F,J,8,15,8,0)},y.deflateInit2=tt,y.deflateReset=V,y.deflateResetKeep=H,y.deflateSetHeader=function(F,J){return F&&F.state?F.state.wrap!==2?I:(F.state.gzhead=J,0):I},y.deflate=function(F,J){var L,N,Y,nt;if(!F||!F.state||5<J||J<0)return F?W(F,I):I;if(N=F.state,!F.output||!F.input&&F.avail_in!==0||N.status===666&&J!==4)return W(F,F.avail_out===0?-5:I);if(N.strm=F,L=N.last_flush,N.last_flush=J,N.status===42)if(N.wrap===2)F.adler=0,k(N,31),k(N,139),k(N,8),N.gzhead?(k(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),k(N,255&N.gzhead.time),k(N,N.gzhead.time>>8&255),k(N,N.gzhead.time>>16&255),k(N,N.gzhead.time>>24&255),k(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),k(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(k(N,255&N.gzhead.extra.length),k(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(F.adler=C(F.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(k(N,0),k(N,0),k(N,0),k(N,0),k(N,0),k(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),k(N,3),N.status=U);else{var lt=8+(N.w_bits-8<<4)<<8;lt|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(lt|=32),lt+=31-lt%31,N.status=U,v(N,lt),N.strstart!==0&&(v(N,F.adler>>>16),v(N,65535&F.adler)),F.adler=1}if(N.status===69)if(N.gzhead.extra){for(Y=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>Y&&(F.adler=C(F.adler,N.pending_buf,N.pending-Y,Y)),T(F),Y=N.pending,N.pending!==N.pending_buf_size));)k(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>Y&&(F.adler=C(F.adler,N.pending_buf,N.pending-Y,Y)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){Y=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>Y&&(F.adler=C(F.adler,N.pending_buf,N.pending-Y,Y)),T(F),Y=N.pending,N.pending===N.pending_buf_size)){nt=1;break}nt=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,k(N,nt)}while(nt!==0);N.gzhead.hcrc&&N.pending>Y&&(F.adler=C(F.adler,N.pending_buf,N.pending-Y,Y)),nt===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){Y=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>Y&&(F.adler=C(F.adler,N.pending_buf,N.pending-Y,Y)),T(F),Y=N.pending,N.pending===N.pending_buf_size)){nt=1;break}nt=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,k(N,nt)}while(nt!==0);N.gzhead.hcrc&&N.pending>Y&&(F.adler=C(F.adler,N.pending_buf,N.pending-Y,Y)),nt===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&T(F),N.pending+2<=N.pending_buf_size&&(k(N,255&F.adler),k(N,F.adler>>8&255),F.adler=0,N.status=U)):N.status=U),N.pending!==0){if(T(F),F.avail_out===0)return N.last_flush=-1,0}else if(F.avail_in===0&&z(J)<=z(L)&&J!==4)return W(F,-5);if(N.status===666&&F.avail_in!==0)return W(F,-5);if(F.avail_in!==0||N.lookahead!==0||J!==0&&N.status!==666){var st=N.strategy===2?function(pt,ft){for(var it;;){if(pt.lookahead===0&&(x(pt),pt.lookahead===0)){if(ft===0)return 1;break}if(pt.match_length=0,it=b._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++,it&&(E(pt,!1),pt.strm.avail_out===0))return 1}return pt.insert=0,ft===4?(E(pt,!0),pt.strm.avail_out===0?3:4):pt.last_lit&&(E(pt,!1),pt.strm.avail_out===0)?1:2}(N,J):N.strategy===3?function(pt,ft){for(var it,at,bt,gt,St=pt.window;;){if(pt.lookahead<=q){if(x(pt),pt.lookahead<=q&&ft===0)return 1;if(pt.lookahead===0)break}if(pt.match_length=0,pt.lookahead>=3&&0<pt.strstart&&(at=St[bt=pt.strstart-1])===St[++bt]&&at===St[++bt]&&at===St[++bt]){gt=pt.strstart+q;do;while(at===St[++bt]&&at===St[++bt]&&at===St[++bt]&&at===St[++bt]&&at===St[++bt]&&at===St[++bt]&&at===St[++bt]&&at===St[++bt]&&bt<gt);pt.match_length=q-(gt-bt),pt.match_length>pt.lookahead&&(pt.match_length=pt.lookahead)}if(pt.match_length>=3?(it=b._tr_tally(pt,1,pt.match_length-3),pt.lookahead-=pt.match_length,pt.strstart+=pt.match_length,pt.match_length=0):(it=b._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++),it&&(E(pt,!1),pt.strm.avail_out===0))return 1}return pt.insert=0,ft===4?(E(pt,!0),pt.strm.avail_out===0?3:4):pt.last_lit&&(E(pt,!1),pt.strm.avail_out===0)?1:2}(N,J):m[N.level].func(N,J);if(st!==3&&st!==4||(N.status=666),st===1||st===3)return F.avail_out===0&&(N.last_flush=-1),0;if(st===2&&(J===1?b._tr_align(N):J!==5&&(b._tr_stored_block(N,0,0,!1),J===3&&(R(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),T(F),F.avail_out===0))return N.last_flush=-1,0}return J!==4?0:N.wrap<=0?1:(N.wrap===2?(k(N,255&F.adler),k(N,F.adler>>8&255),k(N,F.adler>>16&255),k(N,F.adler>>24&255),k(N,255&F.total_in),k(N,F.total_in>>8&255),k(N,F.total_in>>16&255),k(N,F.total_in>>24&255)):(v(N,F.adler>>>16),v(N,65535&F.adler)),T(F),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?0:1)},y.deflateEnd=function(F){var J;return F&&F.state?(J=F.state.status)!==42&&J!==69&&J!==73&&J!==91&&J!==103&&J!==U&&J!==666?W(F,I):(F.state=null,J===U?W(F,-3):0):I},y.deflateSetDictionary=function(F,J){var L,N,Y,nt,lt,st,pt,ft,it=J.length;if(!F||!F.state||(nt=(L=F.state).wrap)===2||nt===1&&L.status!==42||L.lookahead)return I;for(nt===1&&(F.adler=w(F.adler,J,it,0)),L.wrap=0,it>=L.w_size&&(nt===0&&(R(L.head),L.strstart=0,L.block_start=0,L.insert=0),ft=new g.Buf8(L.w_size),g.arraySet(ft,J,it-L.w_size,L.w_size,0),J=ft,it=L.w_size),lt=F.avail_in,st=F.next_in,pt=F.input,F.avail_in=it,F.next_in=0,F.input=J,x(L);L.lookahead>=3;){for(N=L.strstart,Y=L.lookahead-2;L.ins_h=(L.ins_h<<L.hash_shift^L.window[N+3-1])&L.hash_mask,L.prev[N&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=N,N++,--Y;);L.strstart=N,L.lookahead=2,x(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=2,L.match_available=0,F.next_in=st,F.input=pt,F.avail_in=lt,L.wrap=nt,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,p,y){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,p,y){p.exports=function(m,g){var b,w,C,j,I,q,P,U,W,z,R,T,E,k,v,_,x,S,A,B,M,H,V,tt,F;b=m.state,w=m.next_in,tt=m.input,C=w+(m.avail_in-5),j=m.next_out,F=m.output,I=j-(g-m.avail_out),q=j+(m.avail_out-257),P=b.dmax,U=b.wsize,W=b.whave,z=b.wnext,R=b.window,T=b.hold,E=b.bits,k=b.lencode,v=b.distcode,_=(1<<b.lenbits)-1,x=(1<<b.distbits)-1;t:do{E<15&&(T+=tt[w++]<<E,E+=8,T+=tt[w++]<<E,E+=8),S=k[T&_];e:for(;;){if(T>>>=A=S>>>24,E-=A,(A=S>>>16&255)==0)F[j++]=65535&S;else{if(!(16&A)){if(!(64&A)){S=k[(65535&S)+(T&(1<<A)-1)];continue e}if(32&A){b.mode=12;break t}m.msg="invalid literal/length code",b.mode=30;break t}B=65535&S,(A&=15)&&(E<A&&(T+=tt[w++]<<E,E+=8),B+=T&(1<<A)-1,T>>>=A,E-=A),E<15&&(T+=tt[w++]<<E,E+=8,T+=tt[w++]<<E,E+=8),S=v[T&x];r:for(;;){if(T>>>=A=S>>>24,E-=A,!(16&(A=S>>>16&255))){if(!(64&A)){S=v[(65535&S)+(T&(1<<A)-1)];continue r}m.msg="invalid distance code",b.mode=30;break t}if(M=65535&S,E<(A&=15)&&(T+=tt[w++]<<E,(E+=8)<A&&(T+=tt[w++]<<E,E+=8)),P<(M+=T&(1<<A)-1)){m.msg="invalid distance too far back",b.mode=30;break t}if(T>>>=A,E-=A,(A=j-I)<M){if(W<(A=M-A)&&b.sane){m.msg="invalid distance too far back",b.mode=30;break t}if(V=R,(H=0)===z){if(H+=U-A,A<B){for(B-=A;F[j++]=R[H++],--A;);H=j-M,V=F}}else if(z<A){if(H+=U+z-A,(A-=z)<B){for(B-=A;F[j++]=R[H++],--A;);if(H=0,z<B){for(B-=A=z;F[j++]=R[H++],--A;);H=j-M,V=F}}}else if(H+=z-A,A<B){for(B-=A;F[j++]=R[H++],--A;);H=j-M,V=F}for(;2<B;)F[j++]=V[H++],F[j++]=V[H++],F[j++]=V[H++],B-=3;B&&(F[j++]=V[H++],1<B&&(F[j++]=V[H++]))}else{for(H=j-M;F[j++]=F[H++],F[j++]=F[H++],F[j++]=F[H++],2<(B-=3););B&&(F[j++]=F[H++],1<B&&(F[j++]=F[H++]))}break}}break}}while(w<C&&j<q);w-=B=E>>3,T&=(1<<(E-=B<<3))-1,m.next_in=w,m.next_out=j,m.avail_in=w<C?C-w+5:5-(w-C),m.avail_out=j<q?q-j+257:257-(j-q),b.hold=T,b.bits=E}},{}],49:[function(h,p,y){var m=h("../utils/common"),g=h("./adler32"),b=h("./crc32"),w=h("./inffast"),C=h("./inftrees"),j=-2;function I(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(_){var x;return _&&_.state?(x=_.state,_.total_in=_.total_out=x.total=0,_.msg="",x.wrap&&(_.adler=1&x.wrap),x.mode=1,x.last=0,x.havedict=0,x.dmax=32768,x.head=null,x.hold=0,x.bits=0,x.lencode=x.lendyn=new m.Buf32(852),x.distcode=x.distdyn=new m.Buf32(592),x.sane=1,x.back=-1,0):j}function U(_){var x;return _&&_.state?((x=_.state).wsize=0,x.whave=0,x.wnext=0,P(_)):j}function W(_,x){var S,A;return _&&_.state?(A=_.state,x<0?(S=0,x=-x):(S=1+(x>>4),x<48&&(x&=15)),x&&(x<8||15<x)?j:(A.window!==null&&A.wbits!==x&&(A.window=null),A.wrap=S,A.wbits=x,U(_))):j}function z(_,x){var S,A;return _?(A=new q,(_.state=A).window=null,(S=W(_,x))!==0&&(_.state=null),S):j}var R,T,E=!0;function k(_){if(E){var x;for(R=new m.Buf32(512),T=new m.Buf32(32),x=0;x<144;)_.lens[x++]=8;for(;x<256;)_.lens[x++]=9;for(;x<280;)_.lens[x++]=7;for(;x<288;)_.lens[x++]=8;for(C(1,_.lens,0,288,R,0,_.work,{bits:9}),x=0;x<32;)_.lens[x++]=5;C(2,_.lens,0,32,T,0,_.work,{bits:5}),E=!1}_.lencode=R,_.lenbits=9,_.distcode=T,_.distbits=5}function v(_,x,S,A){var B,M=_.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new m.Buf8(M.wsize)),A>=M.wsize?(m.arraySet(M.window,x,S-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(A<(B=M.wsize-M.wnext)&&(B=A),m.arraySet(M.window,x,S-A,B,M.wnext),(A-=B)?(m.arraySet(M.window,x,S-A,A,0),M.wnext=A,M.whave=M.wsize):(M.wnext+=B,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=B))),0}y.inflateReset=U,y.inflateReset2=W,y.inflateResetKeep=P,y.inflateInit=function(_){return z(_,15)},y.inflateInit2=z,y.inflate=function(_,x){var S,A,B,M,H,V,tt,F,J,L,N,Y,nt,lt,st,pt,ft,it,at,bt,gt,St,kt,Tt,Lt=0,Xt=new m.Buf8(4),re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return j;(S=_.state).mode===12&&(S.mode=13),H=_.next_out,B=_.output,tt=_.avail_out,M=_.next_in,A=_.input,V=_.avail_in,F=S.hold,J=S.bits,L=V,N=tt,St=0;t:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;J<16;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(2&S.wrap&&F===35615){Xt[S.check=0]=255&F,Xt[1]=F>>>8&255,S.check=b(S.check,Xt,2,0),J=F=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&F)<<8)+(F>>8))%31){_.msg="incorrect header check",S.mode=30;break}if((15&F)!=8){_.msg="unknown compression method",S.mode=30;break}if(J-=4,gt=8+(15&(F>>>=4)),S.wbits===0)S.wbits=gt;else if(gt>S.wbits){_.msg="invalid window size",S.mode=30;break}S.dmax=1<<gt,_.adler=S.check=1,S.mode=512&F?10:12,J=F=0;break;case 2:for(;J<16;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(S.flags=F,(255&S.flags)!=8){_.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){_.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=F>>8&1),512&S.flags&&(Xt[0]=255&F,Xt[1]=F>>>8&255,S.check=b(S.check,Xt,2,0)),J=F=0,S.mode=3;case 3:for(;J<32;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}S.head&&(S.head.time=F),512&S.flags&&(Xt[0]=255&F,Xt[1]=F>>>8&255,Xt[2]=F>>>16&255,Xt[3]=F>>>24&255,S.check=b(S.check,Xt,4,0)),J=F=0,S.mode=4;case 4:for(;J<16;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}S.head&&(S.head.xflags=255&F,S.head.os=F>>8),512&S.flags&&(Xt[0]=255&F,Xt[1]=F>>>8&255,S.check=b(S.check,Xt,2,0)),J=F=0,S.mode=5;case 5:if(1024&S.flags){for(;J<16;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}S.length=F,S.head&&(S.head.extra_len=F),512&S.flags&&(Xt[0]=255&F,Xt[1]=F>>>8&255,S.check=b(S.check,Xt,2,0)),J=F=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(V<(Y=S.length)&&(Y=V),Y&&(S.head&&(gt=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),m.arraySet(S.head.extra,A,M,Y,gt)),512&S.flags&&(S.check=b(S.check,A,Y,M)),V-=Y,M+=Y,S.length-=Y),S.length))break t;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(V===0)break t;for(Y=0;gt=A[M+Y++],S.head&&gt&&S.length<65536&&(S.head.name+=String.fromCharCode(gt)),gt&&Y<V;);if(512&S.flags&&(S.check=b(S.check,A,Y,M)),V-=Y,M+=Y,gt)break t}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(V===0)break t;for(Y=0;gt=A[M+Y++],S.head&&gt&&S.length<65536&&(S.head.comment+=String.fromCharCode(gt)),gt&&Y<V;);if(512&S.flags&&(S.check=b(S.check,A,Y,M)),V-=Y,M+=Y,gt)break t}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;J<16;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(F!==(65535&S.check)){_.msg="header crc mismatch",S.mode=30;break}J=F=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),_.adler=S.check=0,S.mode=12;break;case 10:for(;J<32;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}_.adler=S.check=I(F),J=F=0,S.mode=11;case 11:if(S.havedict===0)return _.next_out=H,_.avail_out=tt,_.next_in=M,_.avail_in=V,S.hold=F,S.bits=J,2;_.adler=S.check=1,S.mode=12;case 12:if(x===5||x===6)break t;case 13:if(S.last){F>>>=7&J,J-=7&J,S.mode=27;break}for(;J<3;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}switch(S.last=1&F,J-=1,3&(F>>>=1)){case 0:S.mode=14;break;case 1:if(k(S),S.mode=20,x!==6)break;F>>>=2,J-=2;break t;case 2:S.mode=17;break;case 3:_.msg="invalid block type",S.mode=30}F>>>=2,J-=2;break;case 14:for(F>>>=7&J,J-=7&J;J<32;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if((65535&F)!=(F>>>16^65535)){_.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&F,J=F=0,S.mode=15,x===6)break t;case 15:S.mode=16;case 16:if(Y=S.length){if(V<Y&&(Y=V),tt<Y&&(Y=tt),Y===0)break t;m.arraySet(B,A,M,Y,H),V-=Y,M+=Y,tt-=Y,H+=Y,S.length-=Y;break}S.mode=12;break;case 17:for(;J<14;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(S.nlen=257+(31&F),F>>>=5,J-=5,S.ndist=1+(31&F),F>>>=5,J-=5,S.ncode=4+(15&F),F>>>=4,J-=4,286<S.nlen||30<S.ndist){_.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;J<3;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}S.lens[re[S.have++]]=7&F,F>>>=3,J-=3}for(;S.have<19;)S.lens[re[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,kt={bits:S.lenbits},St=C(0,S.lens,0,19,S.lencode,0,S.work,kt),S.lenbits=kt.bits,St){_.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;pt=(Lt=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ft=65535&Lt,!((st=Lt>>>24)<=J);){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(ft<16)F>>>=st,J-=st,S.lens[S.have++]=ft;else{if(ft===16){for(Tt=st+2;J<Tt;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(F>>>=st,J-=st,S.have===0){_.msg="invalid bit length repeat",S.mode=30;break}gt=S.lens[S.have-1],Y=3+(3&F),F>>>=2,J-=2}else if(ft===17){for(Tt=st+3;J<Tt;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}J-=st,gt=0,Y=3+(7&(F>>>=st)),F>>>=3,J-=3}else{for(Tt=st+7;J<Tt;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}J-=st,gt=0,Y=11+(127&(F>>>=st)),F>>>=7,J-=7}if(S.have+Y>S.nlen+S.ndist){_.msg="invalid bit length repeat",S.mode=30;break}for(;Y--;)S.lens[S.have++]=gt}}if(S.mode===30)break;if(S.lens[256]===0){_.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,kt={bits:S.lenbits},St=C(1,S.lens,0,S.nlen,S.lencode,0,S.work,kt),S.lenbits=kt.bits,St){_.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,kt={bits:S.distbits},St=C(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,kt),S.distbits=kt.bits,St){_.msg="invalid distances set",S.mode=30;break}if(S.mode=20,x===6)break t;case 20:S.mode=21;case 21:if(6<=V&&258<=tt){_.next_out=H,_.avail_out=tt,_.next_in=M,_.avail_in=V,S.hold=F,S.bits=J,w(_,N),H=_.next_out,B=_.output,tt=_.avail_out,M=_.next_in,A=_.input,V=_.avail_in,F=S.hold,J=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;pt=(Lt=S.lencode[F&(1<<S.lenbits)-1])>>>16&255,ft=65535&Lt,!((st=Lt>>>24)<=J);){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(pt&&!(240&pt)){for(it=st,at=pt,bt=ft;pt=(Lt=S.lencode[bt+((F&(1<<it+at)-1)>>it)])>>>16&255,ft=65535&Lt,!(it+(st=Lt>>>24)<=J);){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}F>>>=it,J-=it,S.back+=it}if(F>>>=st,J-=st,S.back+=st,S.length=ft,pt===0){S.mode=26;break}if(32&pt){S.back=-1,S.mode=12;break}if(64&pt){_.msg="invalid literal/length code",S.mode=30;break}S.extra=15&pt,S.mode=22;case 22:if(S.extra){for(Tt=S.extra;J<Tt;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}S.length+=F&(1<<S.extra)-1,F>>>=S.extra,J-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;pt=(Lt=S.distcode[F&(1<<S.distbits)-1])>>>16&255,ft=65535&Lt,!((st=Lt>>>24)<=J);){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(!(240&pt)){for(it=st,at=pt,bt=ft;pt=(Lt=S.distcode[bt+((F&(1<<it+at)-1)>>it)])>>>16&255,ft=65535&Lt,!(it+(st=Lt>>>24)<=J);){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}F>>>=it,J-=it,S.back+=it}if(F>>>=st,J-=st,S.back+=st,64&pt){_.msg="invalid distance code",S.mode=30;break}S.offset=ft,S.extra=15&pt,S.mode=24;case 24:if(S.extra){for(Tt=S.extra;J<Tt;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}S.offset+=F&(1<<S.extra)-1,F>>>=S.extra,J-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){_.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(tt===0)break t;if(Y=N-tt,S.offset>Y){if((Y=S.offset-Y)>S.whave&&S.sane){_.msg="invalid distance too far back",S.mode=30;break}nt=Y>S.wnext?(Y-=S.wnext,S.wsize-Y):S.wnext-Y,Y>S.length&&(Y=S.length),lt=S.window}else lt=B,nt=H-S.offset,Y=S.length;for(tt<Y&&(Y=tt),tt-=Y,S.length-=Y;B[H++]=lt[nt++],--Y;);S.length===0&&(S.mode=21);break;case 26:if(tt===0)break t;B[H++]=S.length,tt--,S.mode=21;break;case 27:if(S.wrap){for(;J<32;){if(V===0)break t;V--,F|=A[M++]<<J,J+=8}if(N-=tt,_.total_out+=N,S.total+=N,N&&(_.adler=S.check=S.flags?b(S.check,B,N,H-N):g(S.check,B,N,H-N)),N=tt,(S.flags?F:I(F))!==S.check){_.msg="incorrect data check",S.mode=30;break}J=F=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;J<32;){if(V===0)break t;V--,F+=A[M++]<<J,J+=8}if(F!==(4294967295&S.total)){_.msg="incorrect length check",S.mode=30;break}J=F=0}S.mode=29;case 29:St=1;break t;case 30:St=-3;break t;case 31:return-4;case 32:default:return j}return _.next_out=H,_.avail_out=tt,_.next_in=M,_.avail_in=V,S.hold=F,S.bits=J,(S.wsize||N!==_.avail_out&&S.mode<30&&(S.mode<27||x!==4))&&v(_,_.output,_.next_out,N-_.avail_out)?(S.mode=31,-4):(L-=_.avail_in,N-=_.avail_out,_.total_in+=L,_.total_out+=N,S.total+=N,S.wrap&&N&&(_.adler=S.check=S.flags?b(S.check,B,N,_.next_out-N):g(S.check,B,N,_.next_out-N)),_.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(L==0&&N===0||x===4)&&St===0&&(St=-5),St)},y.inflateEnd=function(_){if(!_||!_.state)return j;var x=_.state;return x.window&&(x.window=null),_.state=null,0},y.inflateGetHeader=function(_,x){var S;return _&&_.state&&2&(S=_.state).wrap?((S.head=x).done=!1,0):j},y.inflateSetDictionary=function(_,x){var S,A=x.length;return _&&_.state?(S=_.state).wrap!==0&&S.mode!==11?j:S.mode===11&&g(1,x,A,0)!==S.check?-3:v(_,x,A,A)?(S.mode=31,-4):(S.havedict=1,0):j},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,p,y){var m=h("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(j,I,q,P,U,W,z,R){var T,E,k,v,_,x,S,A,B,M=R.bits,H=0,V=0,tt=0,F=0,J=0,L=0,N=0,Y=0,nt=0,lt=0,st=null,pt=0,ft=new m.Buf16(16),it=new m.Buf16(16),at=null,bt=0;for(H=0;H<=15;H++)ft[H]=0;for(V=0;V<P;V++)ft[I[q+V]]++;for(J=M,F=15;1<=F&&ft[F]===0;F--);if(F<J&&(J=F),F===0)return U[W++]=20971520,U[W++]=20971520,R.bits=1,0;for(tt=1;tt<F&&ft[tt]===0;tt++);for(J<tt&&(J=tt),H=Y=1;H<=15;H++)if(Y<<=1,(Y-=ft[H])<0)return-1;if(0<Y&&(j===0||F!==1))return-1;for(it[1]=0,H=1;H<15;H++)it[H+1]=it[H]+ft[H];for(V=0;V<P;V++)I[q+V]!==0&&(z[it[I[q+V]]++]=V);if(x=j===0?(st=at=z,19):j===1?(st=g,pt-=257,at=b,bt-=257,256):(st=w,at=C,-1),H=tt,_=W,N=V=lt=0,k=-1,v=(nt=1<<(L=J))-1,j===1&&852<nt||j===2&&592<nt)return 1;for(;;){for(S=H-N,B=z[V]<x?(A=0,z[V]):z[V]>x?(A=at[bt+z[V]],st[pt+z[V]]):(A=96,0),T=1<<H-N,tt=E=1<<L;U[_+(lt>>N)+(E-=T)]=S<<24|A<<16|B|0,E!==0;);for(T=1<<H-1;lt&T;)T>>=1;if(T!==0?(lt&=T-1,lt+=T):lt=0,V++,--ft[H]==0){if(H===F)break;H=I[q+z[V]]}if(J<H&&(lt&v)!==k){for(N===0&&(N=J),_+=tt,Y=1<<(L=H-N);L+N<F&&!((Y-=ft[L+N])<=0);)L++,Y<<=1;if(nt+=1<<L,j===1&&852<nt||j===2&&592<nt)return 1;U[k=lt&v]=J<<24|L<<16|_-W|0}}return lt!==0&&(U[_+lt]=H-N<<24|64<<16|0),R.bits=J,0}},{"../utils/common":41}],51:[function(h,p,y){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,p,y){var m=h("../utils/common");function g(at){for(var bt=at.length;0<=--bt;)at[bt]=0}var b=256,w=286,C=30,j=15,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(576);g(W);var z=new Array(60);g(z);var R=new Array(512);g(R);var T=new Array(256);g(T);var E=new Array(29);g(E);var k,v,_,x=new Array(C);function S(at,bt,gt,St,kt){this.static_tree=at,this.extra_bits=bt,this.extra_base=gt,this.elems=St,this.max_length=kt,this.has_stree=at&&at.length}function A(at,bt){this.dyn_tree=at,this.max_code=0,this.stat_desc=bt}function B(at){return at<256?R[at]:R[256+(at>>>7)]}function M(at,bt){at.pending_buf[at.pending++]=255&bt,at.pending_buf[at.pending++]=bt>>>8&255}function H(at,bt,gt){at.bi_valid>16-gt?(at.bi_buf|=bt<<at.bi_valid&65535,M(at,at.bi_buf),at.bi_buf=bt>>16-at.bi_valid,at.bi_valid+=gt-16):(at.bi_buf|=bt<<at.bi_valid&65535,at.bi_valid+=gt)}function V(at,bt,gt){H(at,gt[2*bt],gt[2*bt+1])}function tt(at,bt){for(var gt=0;gt|=1&at,at>>>=1,gt<<=1,0<--bt;);return gt>>>1}function F(at,bt,gt){var St,kt,Tt=new Array(16),Lt=0;for(St=1;St<=j;St++)Tt[St]=Lt=Lt+gt[St-1]<<1;for(kt=0;kt<=bt;kt++){var Xt=at[2*kt+1];Xt!==0&&(at[2*kt]=tt(Tt[Xt]++,Xt))}}function J(at){var bt;for(bt=0;bt<w;bt++)at.dyn_ltree[2*bt]=0;for(bt=0;bt<C;bt++)at.dyn_dtree[2*bt]=0;for(bt=0;bt<19;bt++)at.bl_tree[2*bt]=0;at.dyn_ltree[512]=1,at.opt_len=at.static_len=0,at.last_lit=at.matches=0}function L(at){8<at.bi_valid?M(at,at.bi_buf):0<at.bi_valid&&(at.pending_buf[at.pending++]=at.bi_buf),at.bi_buf=0,at.bi_valid=0}function N(at,bt,gt,St){var kt=2*bt,Tt=2*gt;return at[kt]<at[Tt]||at[kt]===at[Tt]&&St[bt]<=St[gt]}function Y(at,bt,gt){for(var St=at.heap[gt],kt=gt<<1;kt<=at.heap_len&&(kt<at.heap_len&&N(bt,at.heap[kt+1],at.heap[kt],at.depth)&&kt++,!N(bt,St,at.heap[kt],at.depth));)at.heap[gt]=at.heap[kt],gt=kt,kt<<=1;at.heap[gt]=St}function nt(at,bt,gt){var St,kt,Tt,Lt,Xt=0;if(at.last_lit!==0)for(;St=at.pending_buf[at.d_buf+2*Xt]<<8|at.pending_buf[at.d_buf+2*Xt+1],kt=at.pending_buf[at.l_buf+Xt],Xt++,St===0?V(at,kt,bt):(V(at,(Tt=T[kt])+b+1,bt),(Lt=I[Tt])!==0&&H(at,kt-=E[Tt],Lt),V(at,Tt=B(--St),gt),(Lt=q[Tt])!==0&&H(at,St-=x[Tt],Lt)),Xt<at.last_lit;);V(at,256,bt)}function lt(at,bt){var gt,St,kt,Tt=bt.dyn_tree,Lt=bt.stat_desc.static_tree,Xt=bt.stat_desc.has_stree,re=bt.stat_desc.elems,ue=-1;for(at.heap_len=0,at.heap_max=573,gt=0;gt<re;gt++)Tt[2*gt]!==0?(at.heap[++at.heap_len]=ue=gt,at.depth[gt]=0):Tt[2*gt+1]=0;for(;at.heap_len<2;)Tt[2*(kt=at.heap[++at.heap_len]=ue<2?++ue:0)]=1,at.depth[kt]=0,at.opt_len--,Xt&&(at.static_len-=Lt[2*kt+1]);for(bt.max_code=ue,gt=at.heap_len>>1;1<=gt;gt--)Y(at,Tt,gt);for(kt=re;gt=at.heap[1],at.heap[1]=at.heap[at.heap_len--],Y(at,Tt,1),St=at.heap[1],at.heap[--at.heap_max]=gt,at.heap[--at.heap_max]=St,Tt[2*kt]=Tt[2*gt]+Tt[2*St],at.depth[kt]=(at.depth[gt]>=at.depth[St]?at.depth[gt]:at.depth[St])+1,Tt[2*gt+1]=Tt[2*St+1]=kt,at.heap[1]=kt++,Y(at,Tt,1),2<=at.heap_len;);at.heap[--at.heap_max]=at.heap[1],function(ce,de){var we,Me,ie,Ue,me,Ce,xe=de.dyn_tree,ne=de.max_code,ze=de.stat_desc.static_tree,We=de.stat_desc.has_stree,Or=de.stat_desc.extra_bits,te=de.stat_desc.extra_base,Sr=de.stat_desc.max_length,br=0;for(Ue=0;Ue<=j;Ue++)ce.bl_count[Ue]=0;for(xe[2*ce.heap[ce.heap_max]+1]=0,we=ce.heap_max+1;we<573;we++)Sr<(Ue=xe[2*xe[2*(Me=ce.heap[we])+1]+1]+1)&&(Ue=Sr,br++),xe[2*Me+1]=Ue,ne<Me||(ce.bl_count[Ue]++,me=0,te<=Me&&(me=Or[Me-te]),Ce=xe[2*Me],ce.opt_len+=Ce*(Ue+me),We&&(ce.static_len+=Ce*(ze[2*Me+1]+me)));if(br!==0){do{for(Ue=Sr-1;ce.bl_count[Ue]===0;)Ue--;ce.bl_count[Ue]--,ce.bl_count[Ue+1]+=2,ce.bl_count[Sr]--,br-=2}while(0<br);for(Ue=Sr;Ue!==0;Ue--)for(Me=ce.bl_count[Ue];Me!==0;)ne<(ie=ce.heap[--we])||(xe[2*ie+1]!==Ue&&(ce.opt_len+=(Ue-xe[2*ie+1])*xe[2*ie],xe[2*ie+1]=Ue),Me--)}}(at,bt),F(Tt,ue,at.bl_count)}function st(at,bt,gt){var St,kt,Tt=-1,Lt=bt[1],Xt=0,re=7,ue=4;for(Lt===0&&(re=138,ue=3),bt[2*(gt+1)+1]=65535,St=0;St<=gt;St++)kt=Lt,Lt=bt[2*(St+1)+1],++Xt<re&&kt===Lt||(Xt<ue?at.bl_tree[2*kt]+=Xt:kt!==0?(kt!==Tt&&at.bl_tree[2*kt]++,at.bl_tree[32]++):Xt<=10?at.bl_tree[34]++:at.bl_tree[36]++,Tt=kt,ue=(Xt=0)===Lt?(re=138,3):kt===Lt?(re=6,3):(re=7,4))}function pt(at,bt,gt){var St,kt,Tt=-1,Lt=bt[1],Xt=0,re=7,ue=4;for(Lt===0&&(re=138,ue=3),St=0;St<=gt;St++)if(kt=Lt,Lt=bt[2*(St+1)+1],!(++Xt<re&&kt===Lt)){if(Xt<ue)for(;V(at,kt,at.bl_tree),--Xt!=0;);else kt!==0?(kt!==Tt&&(V(at,kt,at.bl_tree),Xt--),V(at,16,at.bl_tree),H(at,Xt-3,2)):Xt<=10?(V(at,17,at.bl_tree),H(at,Xt-3,3)):(V(at,18,at.bl_tree),H(at,Xt-11,7));Tt=kt,ue=(Xt=0)===Lt?(re=138,3):kt===Lt?(re=6,3):(re=7,4)}}g(x);var ft=!1;function it(at,bt,gt,St){H(at,0+(St?1:0),3),function(kt,Tt,Lt,Xt){L(kt),M(kt,Lt),M(kt,~Lt),m.arraySet(kt.pending_buf,kt.window,Tt,Lt,kt.pending),kt.pending+=Lt}(at,bt,gt)}y._tr_init=function(at){ft||(function(){var bt,gt,St,kt,Tt,Lt=new Array(16);for(kt=St=0;kt<28;kt++)for(E[kt]=St,bt=0;bt<1<<I[kt];bt++)T[St++]=kt;for(T[St-1]=kt,kt=Tt=0;kt<16;kt++)for(x[kt]=Tt,bt=0;bt<1<<q[kt];bt++)R[Tt++]=kt;for(Tt>>=7;kt<C;kt++)for(x[kt]=Tt<<7,bt=0;bt<1<<q[kt]-7;bt++)R[256+Tt++]=kt;for(gt=0;gt<=j;gt++)Lt[gt]=0;for(bt=0;bt<=143;)W[2*bt+1]=8,bt++,Lt[8]++;for(;bt<=255;)W[2*bt+1]=9,bt++,Lt[9]++;for(;bt<=279;)W[2*bt+1]=7,bt++,Lt[7]++;for(;bt<=287;)W[2*bt+1]=8,bt++,Lt[8]++;for(F(W,287,Lt),bt=0;bt<C;bt++)z[2*bt+1]=5,z[2*bt]=tt(bt,5);k=new S(W,I,257,w,j),v=new S(z,q,0,C,j),_=new S(new Array(0),P,0,19,7)}(),ft=!0),at.l_desc=new A(at.dyn_ltree,k),at.d_desc=new A(at.dyn_dtree,v),at.bl_desc=new A(at.bl_tree,_),at.bi_buf=0,at.bi_valid=0,J(at)},y._tr_stored_block=it,y._tr_flush_block=function(at,bt,gt,St){var kt,Tt,Lt=0;0<at.level?(at.strm.data_type===2&&(at.strm.data_type=function(Xt){var re,ue=4093624447;for(re=0;re<=31;re++,ue>>>=1)if(1&ue&&Xt.dyn_ltree[2*re]!==0)return 0;if(Xt.dyn_ltree[18]!==0||Xt.dyn_ltree[20]!==0||Xt.dyn_ltree[26]!==0)return 1;for(re=32;re<b;re++)if(Xt.dyn_ltree[2*re]!==0)return 1;return 0}(at)),lt(at,at.l_desc),lt(at,at.d_desc),Lt=function(Xt){var re;for(st(Xt,Xt.dyn_ltree,Xt.l_desc.max_code),st(Xt,Xt.dyn_dtree,Xt.d_desc.max_code),lt(Xt,Xt.bl_desc),re=18;3<=re&&Xt.bl_tree[2*U[re]+1]===0;re--);return Xt.opt_len+=3*(re+1)+5+5+4,re}(at),kt=at.opt_len+3+7>>>3,(Tt=at.static_len+3+7>>>3)<=kt&&(kt=Tt)):kt=Tt=gt+5,gt+4<=kt&&bt!==-1?it(at,bt,gt,St):at.strategy===4||Tt===kt?(H(at,2+(St?1:0),3),nt(at,W,z)):(H(at,4+(St?1:0),3),function(Xt,re,ue,ce){var de;for(H(Xt,re-257,5),H(Xt,ue-1,5),H(Xt,ce-4,4),de=0;de<ce;de++)H(Xt,Xt.bl_tree[2*U[de]+1],3);pt(Xt,Xt.dyn_ltree,re-1),pt(Xt,Xt.dyn_dtree,ue-1)}(at,at.l_desc.max_code+1,at.d_desc.max_code+1,Lt+1),nt(at,at.dyn_ltree,at.dyn_dtree)),J(at),St&&L(at)},y._tr_tally=function(at,bt,gt){return at.pending_buf[at.d_buf+2*at.last_lit]=bt>>>8&255,at.pending_buf[at.d_buf+2*at.last_lit+1]=255&bt,at.pending_buf[at.l_buf+at.last_lit]=255&gt,at.last_lit++,bt===0?at.dyn_ltree[2*gt]++:(at.matches++,bt--,at.dyn_ltree[2*(T[gt]+b+1)]++,at.dyn_dtree[2*B(bt)]++),at.last_lit===at.lit_bufsize-1},y._tr_align=function(at){H(at,2,3),V(at,256,W),function(bt){bt.bi_valid===16?(M(bt,bt.bi_buf),bt.bi_buf=0,bt.bi_valid=0):8<=bt.bi_valid&&(bt.pending_buf[bt.pending++]=255&bt.bi_buf,bt.bi_buf>>=8,bt.bi_valid-=8)}(at)}},{"../utils/common":41}],53:[function(h,p,y){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,p,y){(function(m){(function(g,b){if(!g.setImmediate){var w,C,j,I,q=1,P={},U=!1,W=g.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(g);z=z&&z.setTimeout?z:g,w={}.toString.call(g.process)==="[object process]"?function(k){i.nextTick(function(){T(k)})}:function(){if(g.postMessage&&!g.importScripts){var k=!0,v=g.onmessage;return g.onmessage=function(){k=!1},g.postMessage("","*"),g.onmessage=v,k}}()?(I="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",E,!1):g.attachEvent("onmessage",E),function(k){g.postMessage(I+k,"*")}):g.MessageChannel?((j=new MessageChannel).port1.onmessage=function(k){T(k.data)},function(k){j.port2.postMessage(k)}):W&&"onreadystatechange"in W.createElement("script")?(C=W.documentElement,function(k){var v=W.createElement("script");v.onreadystatechange=function(){T(k),v.onreadystatechange=null,C.removeChild(v),v=null},C.appendChild(v)}):function(k){setTimeout(T,0,k)},z.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var v=new Array(arguments.length-1),_=0;_<v.length;_++)v[_]=arguments[_+1];var x={callback:k,args:v};return P[q]=x,w(q),q++},z.clearImmediate=R}function R(k){delete P[k]}function T(k){if(U)setTimeout(T,0,k);else{var v=P[k];if(v){U=!0;try{(function(_){var x=_.callback,S=_.args;switch(S.length){case 0:x();break;case 1:x(S[0]);break;case 2:x(S[0],S[1]);break;case 3:x(S[0],S[1],S[2]);break;default:x.apply(void 0,S)}})(v)}finally{R(k),U=!1}}}}function E(k){k.source===g&&typeof k.data=="string"&&k.data.indexOf(I)===0&&T(+k.data.slice(I.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,r,s){(function(i){(function(){var o=/[\\^$.*+?()[\]{}|]/g,l=RegExp(o.source),u=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,c=u||a||Function("return this")(),d=Object.prototype.toString,f=c.Symbol,h=f?f.prototype:void 0,p=h?h.toString:void 0;function y(m){if(typeof m=="string")return m;if(function(b){return typeof b=="symbol"||function(w){return!!w&&typeof w=="object"}(b)&&d.call(b)=="[object Symbol]"}(m))return p?p.call(m):"";var g=m+"";return g=="0"&&1/m==-1/0?"-0":g}r.exports=function(m){var g;return(m=(g=m)==null?"":y(g))&&l.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,r,s){(function(i){(function(){var o="[object Arguments]",l="[object Map]",u="[object Object]",a="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[l]=g["[object Number]"]=g[u]=g["[object RegExp]"]=g[a]=g["[object String]"]=g["[object WeakMap]"]=!1;var b=typeof i=="object"&&i&&i.Object===Object&&i,w=typeof self=="object"&&self&&self.Object===Object&&self,C=b||w||Function("return this")(),j=typeof s=="object"&&s&&!s.nodeType&&s,I=j&&typeof r=="object"&&r&&!r.nodeType&&r,q=I&&I.exports===j&&b.process,P=function(){try{return q&&q.binding("util")}catch{}}(),U=P&&P.isTypedArray;function W(xt,Yt,he,ge){for(var Ze=-1,Ne=xt?xt.length:0;++Ze<Ne;){var Re=xt[Ze];Yt(ge,Re,he(Re),xt)}return ge}function z(xt,Yt){for(var he=-1,ge=xt?xt.length:0;++he<ge;)if(Yt(xt[he],he,xt))return!0;return!1}function R(xt){var Yt=!1;if(xt!=null&&typeof xt.toString!="function")try{Yt=!!(xt+"")}catch{}return Yt}function T(xt){var Yt=-1,he=Array(xt.size);return xt.forEach(function(ge,Ze){he[++Yt]=[Ze,ge]}),he}function E(xt){var Yt=-1,he=Array(xt.size);return xt.forEach(function(ge){he[++Yt]=ge}),he}var k,v,_,x=Array.prototype,S=Function.prototype,A=Object.prototype,B=C["__core-js_shared__"],M=(k=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",H=S.toString,V=A.hasOwnProperty,tt=A.toString,F=RegExp("^"+H.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=C.Symbol,L=C.Uint8Array,N=A.propertyIsEnumerable,Y=x.splice,nt=(v=Object.keys,_=Object,function(xt){return v(_(xt))}),lt=cr(C,"DataView"),st=cr(C,"Map"),pt=cr(C,"Promise"),ft=cr(C,"Set"),it=cr(C,"WeakMap"),at=cr(Object,"create"),bt=qt(lt),gt=qt(st),St=qt(pt),kt=qt(ft),Tt=qt(it),Lt=J?J.prototype:void 0,Xt=Lt?Lt.valueOf:void 0,re=Lt?Lt.toString:void 0;function ue(xt){var Yt=-1,he=xt?xt.length:0;for(this.clear();++Yt<he;){var ge=xt[Yt];this.set(ge[0],ge[1])}}function ce(xt){var Yt=-1,he=xt?xt.length:0;for(this.clear();++Yt<he;){var ge=xt[Yt];this.set(ge[0],ge[1])}}function de(xt){var Yt=-1,he=xt?xt.length:0;for(this.clear();++Yt<he;){var ge=xt[Yt];this.set(ge[0],ge[1])}}function we(xt){var Yt=-1,he=xt?xt.length:0;for(this.__data__=new de;++Yt<he;)this.add(xt[Yt])}function Me(xt){this.__data__=new ce(xt)}function ie(xt,Yt){var he=Ke(xt)||Je(xt)?function(Re,Ar){for(var wr=-1,kr=Array(Re);++wr<Re;)kr[wr]=Ar(wr);return kr}(xt.length,String):[],ge=he.length,Ze=!!ge;for(var Ne in xt)!V.call(xt,Ne)||Ze&&(Ne=="length"||jr(Ne,ge))||he.push(Ne);return he}function Ue(xt,Yt){for(var he=xt.length;he--;)if(Le(xt[he][0],Yt))return he;return-1}function me(xt,Yt,he,ge){return xe(xt,function(Ze,Ne,Re){Yt(ge,Ze,he(Ze),Re)}),ge}ue.prototype.clear=function(){this.__data__=at?at(null):{}},ue.prototype.delete=function(xt){return this.has(xt)&&delete this.__data__[xt]},ue.prototype.get=function(xt){var Yt=this.__data__;if(at){var he=Yt[xt];return he==="__lodash_hash_undefined__"?void 0:he}return V.call(Yt,xt)?Yt[xt]:void 0},ue.prototype.has=function(xt){var Yt=this.__data__;return at?Yt[xt]!==void 0:V.call(Yt,xt)},ue.prototype.set=function(xt,Yt){return this.__data__[xt]=at&&Yt===void 0?"__lodash_hash_undefined__":Yt,this},ce.prototype.clear=function(){this.__data__=[]},ce.prototype.delete=function(xt){var Yt=this.__data__,he=Ue(Yt,xt);return!(he<0)&&(he==Yt.length-1?Yt.pop():Y.call(Yt,he,1),!0)},ce.prototype.get=function(xt){var Yt=this.__data__,he=Ue(Yt,xt);return he<0?void 0:Yt[he][1]},ce.prototype.has=function(xt){return Ue(this.__data__,xt)>-1},ce.prototype.set=function(xt,Yt){var he=this.__data__,ge=Ue(he,xt);return ge<0?he.push([xt,Yt]):he[ge][1]=Yt,this},de.prototype.clear=function(){this.__data__={hash:new ue,map:new(st||ce),string:new ue}},de.prototype.delete=function(xt){return er(this,xt).delete(xt)},de.prototype.get=function(xt){return er(this,xt).get(xt)},de.prototype.has=function(xt){return er(this,xt).has(xt)},de.prototype.set=function(xt,Yt){return er(this,xt).set(xt,Yt),this},we.prototype.add=we.prototype.push=function(xt){return this.__data__.set(xt,"__lodash_hash_undefined__"),this},we.prototype.has=function(xt){return this.__data__.has(xt)},Me.prototype.clear=function(){this.__data__=new ce},Me.prototype.delete=function(xt){return this.__data__.delete(xt)},Me.prototype.get=function(xt){return this.__data__.get(xt)},Me.prototype.has=function(xt){return this.__data__.has(xt)},Me.prototype.set=function(xt,Yt){var he=this.__data__;if(he instanceof ce){var ge=he.__data__;if(!st||ge.length<199)return ge.push([xt,Yt]),this;he=this.__data__=new de(ge)}return he.set(xt,Yt),this};var Ce,xe=(Ce=function(xt,Yt){return xt&&ne(xt,Yt,Qr)},function(xt,Yt){if(xt==null)return xt;if(!He(xt))return Ce(xt,Yt);for(var he=xt.length,ge=-1,Ze=Object(xt);++ge<he&&Yt(Ze[ge],ge,Ze)!==!1;);return xt}),ne=function(xt){return function(Yt,he,ge){for(var Ze=-1,Ne=Object(Yt),Re=ge(Yt),Ar=Re.length;Ar--;){var wr=Re[++Ze];if(he(Ne[wr],wr,Ne)===!1)break}return Yt}}();function ze(xt,Yt){for(var he=0,ge=(Yt=rr(Yt,xt)?[Yt]:Ye(Yt)).length;xt!=null&&he<ge;)xt=xt[Mt(Yt[he++])];return he&&he==ge?xt:void 0}function We(xt,Yt){return xt!=null&&Yt in Object(xt)}function Or(xt,Yt,he,ge,Ze){return xt===Yt||(xt==null||Yt==null||!fr(xt)&&!Xr(Yt)?xt!=xt&&Yt!=Yt:function(Ne,Re,Ar,wr,kr,ur){var Qe=Ke(Ne),gr=Ke(Re),$r="[object Array]",Yr="[object Array]";Qe||($r=($r=mr(Ne))==o?u:$r),gr||(Yr=(Yr=mr(Re))==o?u:Yr);var rn=$r==u&&!R(Ne),Tn=Yr==u&&!R(Re),ci=$r==Yr;if(ci&&!rn)return ur||(ur=new Me),Qe||en(Ne)?Ve(Ne,Re,Ar,wr,kr,ur):function(Dr,Ir,wi,ji,Ps,Ln,fi){switch(wi){case"[object DataView]":if(Dr.byteLength!=Ir.byteLength||Dr.byteOffset!=Ir.byteOffset)return!1;Dr=Dr.buffer,Ir=Ir.buffer;case"[object ArrayBuffer]":return!(Dr.byteLength!=Ir.byteLength||!ji(new L(Dr),new L(Ir)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Le(+Dr,+Ir);case"[object Error]":return Dr.name==Ir.name&&Dr.message==Ir.message;case"[object RegExp]":case"[object String]":return Dr==Ir+"";case l:var ns=T;case a:var Fr=2&Ln;if(ns||(ns=E),Dr.size!=Ir.size&&!Fr)return!1;var io=fi.get(Dr);if(io)return io==Ir;Ln|=1,fi.set(Dr,Ir);var di=Ve(ns(Dr),ns(Ir),ji,Ps,Ln,fi);return fi.delete(Dr),di;case"[object Symbol]":if(Xt)return Xt.call(Dr)==Xt.call(Ir)}return!1}(Ne,Re,$r,Ar,wr,kr,ur);if(!(2&kr)){var Pn=rn&&V.call(Ne,"__wrapped__"),zr=Tn&&V.call(Re,"__wrapped__");if(Pn||zr){var fn=Pn?Ne.value():Ne,hi=zr?Re.value():Re;return ur||(ur=new Me),Ar(fn,hi,wr,kr,ur)}}return ci?(ur||(ur=new Me),function(Dr,Ir,wi,ji,Ps,Ln){var fi=2&Ps,ns=Qr(Dr),Fr=ns.length,io=Qr(Ir).length;if(Fr!=io&&!fi)return!1;for(var di=Fr;di--;){var xi=ns[di];if(!(fi?xi in Ir:V.call(Ir,xi)))return!1}var Mn=Ln.get(Dr);if(Mn&&Ln.get(Ir))return Mn==Ir;var Ei=!0;Ln.set(Dr,Ir),Ln.set(Ir,Dr);for(var xn=fi;++di<Fr;){xi=ns[di];var _i=Dr[xi],Ls=Ir[xi];if(ji)var vr=fi?ji(Ls,_i,xi,Ir,Dr,Ln):ji(_i,Ls,xi,Dr,Ir,Ln);if(!(vr===void 0?_i===Ls||wi(_i,Ls,ji,Ps,Ln):vr)){Ei=!1;break}xn||(xn=xi=="constructor")}if(Ei&&!xn){var dn=Dr.constructor,ri=Ir.constructor;dn==ri||!("constructor"in Dr)||!("constructor"in Ir)||typeof dn=="function"&&dn instanceof dn&&typeof ri=="function"&&ri instanceof ri||(Ei=!1)}return Ln.delete(Dr),Ln.delete(Ir),Ei}(Ne,Re,Ar,wr,kr,ur)):!1}(xt,Yt,Or,he,ge,Ze))}function te(xt){return!(!fr(xt)||function(Yt){return!!M&&M in Yt}(xt))&&(hr(xt)||R(xt)?F:y).test(qt(xt))}function Sr(xt){return typeof xt=="function"?xt:xt==null?Lr:typeof xt=="object"?Ke(xt)?function(ge,Ze){return rr(ge)&&Be(Ze)?Nr(Mt(ge),Ze):function(Ne){var Re=function(Ar,wr,kr){var ur=Ar==null?void 0:ze(Ar,wr);return ur===void 0?kr:ur}(Ne,ge);return Re===void 0&&Re===Ze?function(Ar,wr){return Ar!=null&&function(kr,ur,Qe){ur=rr(ur,kr)?[ur]:Ye(ur);for(var gr,$r=-1,Yr=ur.length;++$r<Yr;){var rn=Mt(ur[$r]);if(!(gr=kr!=null&&Qe(kr,rn)))break;kr=kr[rn]}return gr||!!(Yr=kr?kr.length:0)&&lr(Yr)&&jr(rn,Yr)&&(Ke(kr)||Je(kr))}(Ar,wr,We)}(Ne,ge):Or(Ze,Re,void 0,3)}}(xt[0],xt[1]):function(ge){var Ze=function(Ne){for(var Re=Qr(Ne),Ar=Re.length;Ar--;){var wr=Re[Ar],kr=Ne[wr];Re[Ar]=[wr,kr,Be(kr)]}return Re}(ge);return Ze.length==1&&Ze[0][2]?Nr(Ze[0][0],Ze[0][1]):function(Ne){return Ne===ge||function(Re,Ar,wr,kr){var ur=wr.length,Qe=ur;if(Re==null)return!Qe;for(Re=Object(Re);ur--;){var gr=wr[ur];if(gr[2]?gr[1]!==Re[gr[0]]:!(gr[0]in Re))return!1}for(;++ur<Qe;){var $r=(gr=wr[ur])[0],Yr=Re[$r],rn=gr[1];if(gr[2]){if(Yr===void 0&&!($r in Re))return!1}else{var Tn=new Me,ci;if(!(ci===void 0?Or(rn,Yr,kr,3,Tn):ci))return!1}}return!0}(Ne,ge,Ze)}}(xt):rr(Yt=xt)?(he=Mt(Yt),function(ge){return ge==null?void 0:ge[he]}):function(ge){return function(Ze){return ze(Ze,ge)}}(Yt);var Yt,he}function br(xt){if(he=(Yt=xt)&&Yt.constructor,ge=typeof he=="function"&&he.prototype||A,Yt!==ge)return nt(xt);var Yt,he,ge,Ze=[];for(var Ne in Object(xt))V.call(xt,Ne)&&Ne!="constructor"&&Ze.push(Ne);return Ze}function Ye(xt){return Ke(xt)?xt:qe(xt)}function Ve(xt,Yt,he,ge,Ze,Ne){var Re=2&Ze,Ar=xt.length,wr=Yt.length;if(Ar!=wr&&!(Re&&wr>Ar))return!1;var kr=Ne.get(xt);if(kr&&Ne.get(Yt))return kr==Yt;var ur=-1,Qe=!0,gr=1&Ze?new we:void 0;for(Ne.set(xt,Yt),Ne.set(Yt,xt);++ur<Ar;){var $r=xt[ur],Yr=Yt[ur];if(ge)var rn=Re?ge(Yr,$r,ur,Yt,xt,Ne):ge($r,Yr,ur,xt,Yt,Ne);if(rn!==void 0){if(rn)continue;Qe=!1;break}if(gr){if(!z(Yt,function(Tn,ci){if(!gr.has(ci)&&($r===Tn||he($r,Tn,ge,Ze,Ne)))return gr.add(ci)})){Qe=!1;break}}else if($r!==Yr&&!he($r,Yr,ge,Ze,Ne)){Qe=!1;break}}return Ne.delete(xt),Ne.delete(Yt),Qe}function er(xt,Yt){var he,ge,Ze=xt.__data__;return((ge=typeof(he=Yt))=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?he!=="__proto__":he===null)?Ze[typeof Yt=="string"?"string":"hash"]:Ze.map}function cr(xt,Yt){var he=function(ge,Ze){return ge==null?void 0:ge[Ze]}(xt,Yt);return te(he)?he:void 0}var mr=function(xt){return tt.call(xt)};function jr(xt,Yt){return!!(Yt=Yt==null?9007199254740991:Yt)&&(typeof xt=="number"||m.test(xt))&&xt>-1&&xt%1==0&&xt<Yt}function rr(xt,Yt){if(Ke(xt))return!1;var he=typeof xt;return!(he!="number"&&he!="symbol"&&he!="boolean"&&xt!=null&&!Rr(xt))||d.test(xt)||!c.test(xt)||Yt!=null&&xt in Object(Yt)}function Be(xt){return xt==xt&&!fr(xt)}function Nr(xt,Yt){return function(he){return he!=null&&he[xt]===Yt&&(Yt!==void 0||xt in Object(he))}}(lt&&mr(new lt(new ArrayBuffer(1)))!="[object DataView]"||st&&mr(new st)!=l||pt&&mr(pt.resolve())!="[object Promise]"||ft&&mr(new ft)!=a||it&&mr(new it)!="[object WeakMap]")&&(mr=function(xt){var Yt=tt.call(xt),he=Yt==u?xt.constructor:void 0,ge=he?qt(he):void 0;if(ge)switch(ge){case bt:return"[object DataView]";case gt:return l;case St:return"[object Promise]";case kt:return a;case Tt:return"[object WeakMap]"}return Yt});var qe=sr(function(xt){var Yt;xt=(Yt=xt)==null?"":function(ge){if(typeof ge=="string")return ge;if(Rr(ge))return re?re.call(ge):"";var Ze=ge+"";return Ze=="0"&&1/ge==-1/0?"-0":Ze}(Yt);var he=[];return f.test(xt)&&he.push(""),xt.replace(h,function(ge,Ze,Ne,Re){he.push(Ne?Re.replace(p,"$1"):Ze||ge)}),he});function Mt(xt){if(typeof xt=="string"||Rr(xt))return xt;var Yt=xt+"";return Yt=="0"&&1/xt==-1/0?"-0":Yt}function qt(xt){if(xt!=null){try{return H.call(xt)}catch{}try{return xt+""}catch{}}return""}var ee,Ae=(ee=function(xt,Yt,he){V.call(xt,he)?xt[he].push(Yt):xt[he]=[Yt]},function(xt,Yt){var he=Ke(xt)?W:me,ge={};return he(xt,ee,Sr(Yt),ge)});function sr(xt,Yt){if(typeof xt!="function"||Yt&&typeof Yt!="function")throw new TypeError("Expected a function");var he=function(){var ge=arguments,Ze=Yt?Yt.apply(this,ge):ge[0],Ne=he.cache;if(Ne.has(Ze))return Ne.get(Ze);var Re=xt.apply(this,ge);return he.cache=Ne.set(Ze,Re),Re};return he.cache=new(sr.Cache||de),he}function Le(xt,Yt){return xt===Yt||xt!=xt&&Yt!=Yt}function Je(xt){return function(Yt){return Xr(Yt)&&He(Yt)}(xt)&&V.call(xt,"callee")&&(!N.call(xt,"callee")||tt.call(xt)==o)}sr.Cache=de;var Ke=Array.isArray;function He(xt){return xt!=null&&lr(xt.length)&&!hr(xt)}function hr(xt){var Yt=fr(xt)?tt.call(xt):"";return Yt=="[object Function]"||Yt=="[object GeneratorFunction]"}function lr(xt){return typeof xt=="number"&&xt>-1&&xt%1==0&&xt<=9007199254740991}function fr(xt){var Yt=typeof xt;return!!xt&&(Yt=="object"||Yt=="function")}function Xr(xt){return!!xt&&typeof xt=="object"}function Rr(xt){return typeof xt=="symbol"||Xr(xt)&&tt.call(xt)=="[object Symbol]"}var en=U?function(xt){return function(Yt){return xt(Yt)}}(U):function(xt){return Xr(xt)&&lr(xt.length)&&!!g[tt.call(xt)]};function Qr(xt){return He(xt)?ie(xt):br(xt)}function Lr(xt){return xt}r.exports=Ae}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,r,s){var i=Object.prototype.toString;r.exports=function(o){return o===!0||o===!1||function(l){return!!l&&typeof l=="object"}(o)&&i.call(o)=="[object Boolean]"}},{}],445:[function(t,r,s){(function(i){(function(){var o="[object Arguments]",l="[object Map]",u="[object Object]",a="[object Set]",c=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[l]=f["[object Number]"]=f[u]=f["[object RegExp]"]=f[a]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof i=="object"&&i&&i.Object===Object&&i,p=typeof self=="object"&&self&&self.Object===Object&&self,y=h||p||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,g=m&&typeof r=="object"&&r&&!r.nodeType&&r,b=g&&g.exports===m,w=b&&h.process,C=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),j=C&&C.isTypedArray;function I(Mt,qt){for(var ee=-1,Ae=Mt==null?0:Mt.length;++ee<Ae;)if(qt(Mt[ee],ee,Mt))return!0;return!1}function q(Mt){var qt=-1,ee=Array(Mt.size);return Mt.forEach(function(Ae,sr){ee[++qt]=[sr,Ae]}),ee}function P(Mt){var qt=-1,ee=Array(Mt.size);return Mt.forEach(function(Ae){ee[++qt]=Ae}),ee}var U,W,z,R=Array.prototype,T=Function.prototype,E=Object.prototype,k=y["__core-js_shared__"],v=T.toString,_=E.hasOwnProperty,x=(U=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",S=E.toString,A=RegExp("^"+v.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=b?y.Buffer:void 0,M=y.Symbol,H=y.Uint8Array,V=E.propertyIsEnumerable,tt=R.splice,F=M?M.toStringTag:void 0,J=Object.getOwnPropertySymbols,L=B?B.isBuffer:void 0,N=(W=Object.keys,z=Object,function(Mt){return W(z(Mt))}),Y=We(y,"DataView"),nt=We(y,"Map"),lt=We(y,"Promise"),st=We(y,"Set"),pt=We(y,"WeakMap"),ft=We(Object,"create"),it=br(Y),at=br(nt),bt=br(lt),gt=br(st),St=br(pt),kt=M?M.prototype:void 0,Tt=kt?kt.valueOf:void 0;function Lt(Mt){var qt=-1,ee=Mt==null?0:Mt.length;for(this.clear();++qt<ee;){var Ae=Mt[qt];this.set(Ae[0],Ae[1])}}function Xt(Mt){var qt=-1,ee=Mt==null?0:Mt.length;for(this.clear();++qt<ee;){var Ae=Mt[qt];this.set(Ae[0],Ae[1])}}function re(Mt){var qt=-1,ee=Mt==null?0:Mt.length;for(this.clear();++qt<ee;){var Ae=Mt[qt];this.set(Ae[0],Ae[1])}}function ue(Mt){var qt=-1,ee=Mt==null?0:Mt.length;for(this.__data__=new re;++qt<ee;)this.add(Mt[qt])}function ce(Mt){var qt=this.__data__=new Xt(Mt);this.size=qt.size}function de(Mt,qt){var ee=er(Mt),Ae=!ee&&Ve(Mt),sr=!ee&&!Ae&&cr(Mt),Le=!ee&&!Ae&&!sr&&Nr(Mt),Je=ee||Ae||sr||Le,Ke=Je?function(lr,fr){for(var Xr=-1,Rr=Array(lr);++Xr<lr;)Rr[Xr]=fr(Xr);return Rr}(Mt.length,String):[],He=Ke.length;for(var hr in Mt)!_.call(Mt,hr)||Je&&(hr=="length"||sr&&(hr=="offset"||hr=="parent")||Le&&(hr=="buffer"||hr=="byteLength"||hr=="byteOffset")||Sr(hr,He))||Ke.push(hr);return Ke}function we(Mt,qt){for(var ee=Mt.length;ee--;)if(Ye(Mt[ee][0],qt))return ee;return-1}function Me(Mt){return Mt==null?Mt===void 0?"[object Undefined]":"[object Null]":F&&F in Object(Mt)?function(qt){var ee=_.call(qt,F),Ae=qt[F];try{qt[F]=void 0;var sr=!0}catch{}var Le=S.call(qt);return sr&&(ee?qt[F]=Ae:delete qt[F]),Le}(Mt):function(qt){return S.call(qt)}(Mt)}function ie(Mt){return Be(Mt)&&Me(Mt)==o}function Ue(Mt,qt,ee,Ae,sr){return Mt===qt||(Mt==null||qt==null||!Be(Mt)&&!Be(qt)?Mt!=Mt&&qt!=qt:function(Le,Je,Ke,He,hr,lr){var fr=er(Le),Xr=er(Je),Rr=fr?"[object Array]":te(Le),en=Xr?"[object Array]":te(Je),Qr=(Rr=Rr==o?u:Rr)==u,Lr=(en=en==o?u:en)==u,xt=Rr==en;if(xt&&cr(Le)){if(!cr(Je))return!1;fr=!0,Qr=!1}if(xt&&!Qr)return lr||(lr=new ce),fr||Nr(Le)?xe(Le,Je,Ke,He,hr,lr):function(Ne,Re,Ar,wr,kr,ur,Qe){switch(Ar){case"[object DataView]":if(Ne.byteLength!=Re.byteLength||Ne.byteOffset!=Re.byteOffset)return!1;Ne=Ne.buffer,Re=Re.buffer;case"[object ArrayBuffer]":return!(Ne.byteLength!=Re.byteLength||!ur(new H(Ne),new H(Re)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ye(+Ne,+Re);case"[object Error]":return Ne.name==Re.name&&Ne.message==Re.message;case"[object RegExp]":case"[object String]":return Ne==Re+"";case l:var gr=q;case a:var $r=1&wr;if(gr||(gr=P),Ne.size!=Re.size&&!$r)return!1;var Yr=Qe.get(Ne);if(Yr)return Yr==Re;wr|=2,Qe.set(Ne,Re);var rn=xe(gr(Ne),gr(Re),wr,kr,ur,Qe);return Qe.delete(Ne),rn;case"[object Symbol]":if(Tt)return Tt.call(Ne)==Tt.call(Re)}return!1}(Le,Je,Rr,Ke,He,hr,lr);if(!(1&Ke)){var Yt=Qr&&_.call(Le,"__wrapped__"),he=Lr&&_.call(Je,"__wrapped__");if(Yt||he){var ge=Yt?Le.value():Le,Ze=he?Je.value():Je;return lr||(lr=new ce),hr(ge,Ze,Ke,He,lr)}}return xt?(lr||(lr=new ce),function(Ne,Re,Ar,wr,kr,ur){var Qe=1&Ar,gr=ne(Ne),$r=gr.length,Yr=ne(Re).length;if($r!=Yr&&!Qe)return!1;for(var rn=$r;rn--;){var Tn=gr[rn];if(!(Qe?Tn in Re:_.call(Re,Tn)))return!1}var ci=ur.get(Ne);if(ci&&ur.get(Re))return ci==Re;var Pn=!0;ur.set(Ne,Re),ur.set(Re,Ne);for(var zr=Qe;++rn<$r;){Tn=gr[rn];var fn=Ne[Tn],hi=Re[Tn];if(wr)var Dr=Qe?wr(hi,fn,Tn,Re,Ne,ur):wr(fn,hi,Tn,Ne,Re,ur);if(!(Dr===void 0?fn===hi||kr(fn,hi,Ar,wr,ur):Dr)){Pn=!1;break}zr||(zr=Tn=="constructor")}if(Pn&&!zr){var Ir=Ne.constructor,wi=Re.constructor;Ir==wi||!("constructor"in Ne)||!("constructor"in Re)||typeof Ir=="function"&&Ir instanceof Ir&&typeof wi=="function"&&wi instanceof wi||(Pn=!1)}return ur.delete(Ne),ur.delete(Re),Pn}(Le,Je,Ke,He,hr,lr)):!1}(Mt,qt,ee,Ae,Ue,sr))}function me(Mt){return!(!rr(Mt)||function(qt){return!!x&&x in qt}(Mt))&&(mr(Mt)?A:c).test(br(Mt))}function Ce(Mt){if(ee=(qt=Mt)&&qt.constructor,Ae=typeof ee=="function"&&ee.prototype||E,qt!==Ae)return N(Mt);var qt,ee,Ae,sr=[];for(var Le in Object(Mt))_.call(Mt,Le)&&Le!="constructor"&&sr.push(Le);return sr}function xe(Mt,qt,ee,Ae,sr,Le){var Je=1&ee,Ke=Mt.length,He=qt.length;if(Ke!=He&&!(Je&&He>Ke))return!1;var hr=Le.get(Mt);if(hr&&Le.get(qt))return hr==qt;var lr=-1,fr=!0,Xr=2&ee?new ue:void 0;for(Le.set(Mt,qt),Le.set(qt,Mt);++lr<Ke;){var Rr=Mt[lr],en=qt[lr];if(Ae)var Qr=Je?Ae(en,Rr,lr,qt,Mt,Le):Ae(Rr,en,lr,Mt,qt,Le);if(Qr!==void 0){if(Qr)continue;fr=!1;break}if(Xr){if(!I(qt,function(Lr,xt){if(Yt=xt,!Xr.has(Yt)&&(Rr===Lr||sr(Rr,Lr,ee,Ae,Le)))return Xr.push(xt);var Yt})){fr=!1;break}}else if(Rr!==en&&!sr(Rr,en,ee,Ae,Le)){fr=!1;break}}return Le.delete(Mt),Le.delete(qt),fr}function ne(Mt){return function(qt,ee,Ae){var sr=ee(qt);return er(qt)?sr:function(Le,Je){for(var Ke=-1,He=Je.length,hr=Le.length;++Ke<He;)Le[hr+Ke]=Je[Ke];return Le}(sr,Ae(qt))}(Mt,qe,Or)}function ze(Mt,qt){var ee,Ae,sr=Mt.__data__;return((Ae=typeof(ee=qt))=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?ee!=="__proto__":ee===null)?sr[typeof qt=="string"?"string":"hash"]:sr.map}function We(Mt,qt){var ee=function(Ae,sr){return Ae==null?void 0:Ae[sr]}(Mt,qt);return me(ee)?ee:void 0}Lt.prototype.clear=function(){this.__data__=ft?ft(null):{},this.size=0},Lt.prototype.delete=function(Mt){var qt=this.has(Mt)&&delete this.__data__[Mt];return this.size-=qt?1:0,qt},Lt.prototype.get=function(Mt){var qt=this.__data__;if(ft){var ee=qt[Mt];return ee==="__lodash_hash_undefined__"?void 0:ee}return _.call(qt,Mt)?qt[Mt]:void 0},Lt.prototype.has=function(Mt){var qt=this.__data__;return ft?qt[Mt]!==void 0:_.call(qt,Mt)},Lt.prototype.set=function(Mt,qt){var ee=this.__data__;return this.size+=this.has(Mt)?0:1,ee[Mt]=ft&&qt===void 0?"__lodash_hash_undefined__":qt,this},Xt.prototype.clear=function(){this.__data__=[],this.size=0},Xt.prototype.delete=function(Mt){var qt=this.__data__,ee=we(qt,Mt);return!(ee<0)&&(ee==qt.length-1?qt.pop():tt.call(qt,ee,1),--this.size,!0)},Xt.prototype.get=function(Mt){var qt=this.__data__,ee=we(qt,Mt);return ee<0?void 0:qt[ee][1]},Xt.prototype.has=function(Mt){return we(this.__data__,Mt)>-1},Xt.prototype.set=function(Mt,qt){var ee=this.__data__,Ae=we(ee,Mt);return Ae<0?(++this.size,ee.push([Mt,qt])):ee[Ae][1]=qt,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new Lt,map:new(nt||Xt),string:new Lt}},re.prototype.delete=function(Mt){var qt=ze(this,Mt).delete(Mt);return this.size-=qt?1:0,qt},re.prototype.get=function(Mt){return ze(this,Mt).get(Mt)},re.prototype.has=function(Mt){return ze(this,Mt).has(Mt)},re.prototype.set=function(Mt,qt){var ee=ze(this,Mt),Ae=ee.size;return ee.set(Mt,qt),this.size+=ee.size==Ae?0:1,this},ue.prototype.add=ue.prototype.push=function(Mt){return this.__data__.set(Mt,"__lodash_hash_undefined__"),this},ue.prototype.has=function(Mt){return this.__data__.has(Mt)},ce.prototype.clear=function(){this.__data__=new Xt,this.size=0},ce.prototype.delete=function(Mt){var qt=this.__data__,ee=qt.delete(Mt);return this.size=qt.size,ee},ce.prototype.get=function(Mt){return this.__data__.get(Mt)},ce.prototype.has=function(Mt){return this.__data__.has(Mt)},ce.prototype.set=function(Mt,qt){var ee=this.__data__;if(ee instanceof Xt){var Ae=ee.__data__;if(!nt||Ae.length<199)return Ae.push([Mt,qt]),this.size=++ee.size,this;ee=this.__data__=new re(Ae)}return ee.set(Mt,qt),this.size=ee.size,this};var Or=J?function(Mt){return Mt==null?[]:(Mt=Object(Mt),function(qt,ee){for(var Ae=-1,sr=qt==null?0:qt.length,Le=0,Je=[];++Ae<sr;){var Ke=qt[Ae];ee(Ke,Ae,qt)&&(Je[Le++]=Ke)}return Je}(J(Mt),function(qt){return V.call(Mt,qt)}))}:function(){return[]},te=Me;function Sr(Mt,qt){return!!(qt=qt==null?9007199254740991:qt)&&(typeof Mt=="number"||d.test(Mt))&&Mt>-1&&Mt%1==0&&Mt<qt}function br(Mt){if(Mt!=null){try{return v.call(Mt)}catch{}try{return Mt+""}catch{}}return""}function Ye(Mt,qt){return Mt===qt||Mt!=Mt&&qt!=qt}(Y&&te(new Y(new ArrayBuffer(1)))!="[object DataView]"||nt&&te(new nt)!=l||lt&&te(lt.resolve())!="[object Promise]"||st&&te(new st)!=a||pt&&te(new pt)!="[object WeakMap]")&&(te=function(Mt){var qt=Me(Mt),ee=qt==u?Mt.constructor:void 0,Ae=ee?br(ee):"";if(Ae)switch(Ae){case it:return"[object DataView]";case at:return l;case bt:return"[object Promise]";case gt:return a;case St:return"[object WeakMap]"}return qt});var Ve=ie(function(){return arguments}())?ie:function(Mt){return Be(Mt)&&_.call(Mt,"callee")&&!V.call(Mt,"callee")},er=Array.isArray,cr=L||function(){return!1};function mr(Mt){if(!rr(Mt))return!1;var qt=Me(Mt);return qt=="[object Function]"||qt=="[object GeneratorFunction]"||qt=="[object AsyncFunction]"||qt=="[object Proxy]"}function jr(Mt){return typeof Mt=="number"&&Mt>-1&&Mt%1==0&&Mt<=9007199254740991}function rr(Mt){var qt=typeof Mt;return Mt!=null&&(qt=="object"||qt=="function")}function Be(Mt){return Mt!=null&&typeof Mt=="object"}var Nr=j?function(Mt){return function(qt){return Mt(qt)}}(j):function(Mt){return Be(Mt)&&jr(Mt.length)&&!!f[Me(Mt)]};function qe(Mt){return(qt=Mt)!=null&&jr(qt.length)&&!mr(qt)?de(Mt):Ce(Mt);var qt}r.exports=function(Mt,qt){return Ue(Mt,qt)}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,r,s){(function(i){(function(){var o=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,u=o||l||Function("return this")(),a=Object.prototype,c=a.hasOwnProperty,d=a.toString,f=u.Symbol,h=f?f.toStringTag:void 0;function p(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":h&&h in Object(y)?function(m){var g=c.call(m,h),b=m[h];try{m[h]=void 0;var w=!0}catch{}var C=d.call(m);return w&&(g?m[h]=b:delete m[h]),C}(y):function(m){return d.call(m)}(y)}r.exports=function(y){if(!function(g){var b=typeof g;return g!=null&&(b=="object"||b=="function")}(y))return!1;var m=p(y);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,r,s){r.exports=function(i){return i==null}},{}],448:[function(t,r,s){r.exports=function(i){return i===void 0}},{}],449:[function(t,r,s){(function(i){(function(){var o=/^\[object .+?Constructor\]$/,l=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,a=l||u||Function("return this")();function c(M,H){return!!(M&&M.length)&&function(V,tt,F){if(tt!=tt)return function(N,Y,nt,lt){for(var st=N.length,pt=nt+-1;++pt<st;)if(Y(N[pt],pt,N))return pt;return-1}(V,d,F);for(var J=F-1,L=V.length;++J<L;)if(V[J]===tt)return J;return-1}(M,H,0)>-1}function d(M){return M!=M}function f(M,H){return M.has(H)}function h(M){var H=-1,V=Array(M.size);return M.forEach(function(tt){V[++H]=tt}),V}var p,y=Array.prototype,m=Function.prototype,g=Object.prototype,b=a["__core-js_shared__"],w=(p=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",C=m.toString,j=g.hasOwnProperty,I=g.toString,q=RegExp("^"+C.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=y.splice,U=A(a,"Map"),W=A(a,"Set"),z=A(Object,"create");function R(M){var H=-1,V=M?M.length:0;for(this.clear();++H<V;){var tt=M[H];this.set(tt[0],tt[1])}}function T(M){var H=-1,V=M?M.length:0;for(this.clear();++H<V;){var tt=M[H];this.set(tt[0],tt[1])}}function E(M){var H=-1,V=M?M.length:0;for(this.clear();++H<V;){var tt=M[H];this.set(tt[0],tt[1])}}function k(M){var H=-1,V=M?M.length:0;for(this.__data__=new E;++H<V;)this.add(M[H])}function v(M,H){for(var V,tt,F=M.length;F--;)if((V=M[F][0])===(tt=H)||V!=V&&tt!=tt)return F;return-1}function _(M){return!(!B(M)||(H=M,w&&w in H))&&(function(V){var tt=B(V)?I.call(V):"";return tt=="[object Function]"||tt=="[object GeneratorFunction]"}(M)||function(V){var tt=!1;if(V!=null&&typeof V.toString!="function")try{tt=!!(V+"")}catch{}return tt}(M)?q:o).test(function(V){if(V!=null){try{return C.call(V)}catch{}try{return V+""}catch{}}return""}(M));var H}R.prototype.clear=function(){this.__data__=z?z(null):{}},R.prototype.delete=function(M){return this.has(M)&&delete this.__data__[M]},R.prototype.get=function(M){var H=this.__data__;if(z){var V=H[M];return V==="__lodash_hash_undefined__"?void 0:V}return j.call(H,M)?H[M]:void 0},R.prototype.has=function(M){var H=this.__data__;return z?H[M]!==void 0:j.call(H,M)},R.prototype.set=function(M,H){return this.__data__[M]=z&&H===void 0?"__lodash_hash_undefined__":H,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(M){var H=this.__data__,V=v(H,M);return!(V<0)&&(V==H.length-1?H.pop():P.call(H,V,1),!0)},T.prototype.get=function(M){var H=this.__data__,V=v(H,M);return V<0?void 0:H[V][1]},T.prototype.has=function(M){return v(this.__data__,M)>-1},T.prototype.set=function(M,H){var V=this.__data__,tt=v(V,M);return tt<0?V.push([M,H]):V[tt][1]=H,this},E.prototype.clear=function(){this.__data__={hash:new R,map:new(U||T),string:new R}},E.prototype.delete=function(M){return S(this,M).delete(M)},E.prototype.get=function(M){return S(this,M).get(M)},E.prototype.has=function(M){return S(this,M).has(M)},E.prototype.set=function(M,H){return S(this,M).set(M,H),this},k.prototype.add=k.prototype.push=function(M){return this.__data__.set(M,"__lodash_hash_undefined__"),this},k.prototype.has=function(M){return this.__data__.has(M)};var x=W&&1/h(new W([,-0]))[1]==1/0?function(M){return new W(M)}:function(){};function S(M,H){var V,tt,F=M.__data__;return((tt=typeof(V=H))=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?V!=="__proto__":V===null)?F[typeof H=="string"?"string":"hash"]:F.map}function A(M,H){var V=function(tt,F){return tt==null?void 0:tt[F]}(M,H);return _(V)?V:void 0}function B(M){var H=typeof M;return!!M&&(H=="object"||H=="function")}r.exports=function(M){return M&&M.length?function(H,V,tt){var F=-1,J=c,L=H.length,N=!0,Y=[],nt=Y;if(L>=200){var lt=x(H);if(lt)return h(lt);N=!1,J=f,nt=new k}else nt=Y;t:for(;++F<L;){var st=H[F],pt=st;if(st=st!==0?st:0,N&&pt==pt){for(var ft=nt.length;ft--;)if(nt[ft]===pt)continue t;Y.push(st)}else J(nt,pt,tt)||(nt!==Y&&nt.push(pt),Y.push(st))}return Y}(M):[]}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,r,s){var i=t("inherits"),o=t("hash-base"),l=t("safe-buffer").Buffer,u=new Array(16);function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(y,m){return y<<m|y>>>32-m}function d(y,m,g,b,w,C,j){return c(y+(m&g|~m&b)+w+C|0,j)+m|0}function f(y,m,g,b,w,C,j){return c(y+(m&b|g&~b)+w+C|0,j)+m|0}function h(y,m,g,b,w,C,j){return c(y+(m^g^b)+w+C|0,j)+m|0}function p(y,m,g,b,w,C,j){return c(y+(g^(m|~b))+w+C|0,j)+m|0}i(a,o),a.prototype._update=function(){for(var y=u,m=0;m<16;++m)y[m]=this._block.readInt32LE(4*m);var g=this._a,b=this._b,w=this._c,C=this._d;g=d(g,b,w,C,y[0],3614090360,7),C=d(C,g,b,w,y[1],3905402710,12),w=d(w,C,g,b,y[2],606105819,17),b=d(b,w,C,g,y[3],3250441966,22),g=d(g,b,w,C,y[4],4118548399,7),C=d(C,g,b,w,y[5],1200080426,12),w=d(w,C,g,b,y[6],2821735955,17),b=d(b,w,C,g,y[7],4249261313,22),g=d(g,b,w,C,y[8],1770035416,7),C=d(C,g,b,w,y[9],2336552879,12),w=d(w,C,g,b,y[10],4294925233,17),b=d(b,w,C,g,y[11],2304563134,22),g=d(g,b,w,C,y[12],1804603682,7),C=d(C,g,b,w,y[13],4254626195,12),w=d(w,C,g,b,y[14],2792965006,17),g=f(g,b=d(b,w,C,g,y[15],1236535329,22),w,C,y[1],4129170786,5),C=f(C,g,b,w,y[6],3225465664,9),w=f(w,C,g,b,y[11],643717713,14),b=f(b,w,C,g,y[0],3921069994,20),g=f(g,b,w,C,y[5],3593408605,5),C=f(C,g,b,w,y[10],38016083,9),w=f(w,C,g,b,y[15],3634488961,14),b=f(b,w,C,g,y[4],3889429448,20),g=f(g,b,w,C,y[9],568446438,5),C=f(C,g,b,w,y[14],3275163606,9),w=f(w,C,g,b,y[3],4107603335,14),b=f(b,w,C,g,y[8],1163531501,20),g=f(g,b,w,C,y[13],2850285829,5),C=f(C,g,b,w,y[2],4243563512,9),w=f(w,C,g,b,y[7],1735328473,14),g=h(g,b=f(b,w,C,g,y[12],2368359562,20),w,C,y[5],4294588738,4),C=h(C,g,b,w,y[8],2272392833,11),w=h(w,C,g,b,y[11],1839030562,16),b=h(b,w,C,g,y[14],4259657740,23),g=h(g,b,w,C,y[1],2763975236,4),C=h(C,g,b,w,y[4],1272893353,11),w=h(w,C,g,b,y[7],4139469664,16),b=h(b,w,C,g,y[10],3200236656,23),g=h(g,b,w,C,y[13],681279174,4),C=h(C,g,b,w,y[0],3936430074,11),w=h(w,C,g,b,y[3],3572445317,16),b=h(b,w,C,g,y[6],76029189,23),g=h(g,b,w,C,y[9],3654602809,4),C=h(C,g,b,w,y[12],3873151461,11),w=h(w,C,g,b,y[15],530742520,16),g=p(g,b=h(b,w,C,g,y[2],3299628645,23),w,C,y[0],4096336452,6),C=p(C,g,b,w,y[7],1126891415,10),w=p(w,C,g,b,y[14],2878612391,15),b=p(b,w,C,g,y[5],4237533241,21),g=p(g,b,w,C,y[12],1700485571,6),C=p(C,g,b,w,y[3],2399980690,10),w=p(w,C,g,b,y[10],4293915773,15),b=p(b,w,C,g,y[1],2240044497,21),g=p(g,b,w,C,y[8],1873313359,6),C=p(C,g,b,w,y[15],4264355552,10),w=p(w,C,g,b,y[6],2734768916,15),b=p(b,w,C,g,y[13],1309151649,21),g=p(g,b,w,C,y[4],4149444226,6),C=p(C,g,b,w,y[11],3174756917,10),w=p(w,C,g,b,y[2],718787259,15),b=p(b,w,C,g,y[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+b|0,this._c=this._c+w|0,this._d=this._d+C|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=l.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},r.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,r,s){var i=t("bn.js"),o=t("brorand");function l(u){this.rand=u||new o.Rand}r.exports=l,l.create=function(u){return new l(u)},l.prototype._randbelow=function(u){var a=u.bitLength(),c=Math.ceil(a/8);do var d=new i(this.rand.generate(c));while(d.cmp(u)>=0);return d},l.prototype._randrange=function(u,a){var c=a.sub(u);return u.add(this._randbelow(c))},l.prototype.test=function(u,a,c){var d=u.bitLength(),f=i.mont(u),h=new i(1).toRed(f);a||(a=Math.max(1,d/48|0));for(var p=u.subn(1),y=0;!p.testn(y);y++);for(var m=u.shrn(y),g=p.toRed(f);a>0;a--){var b=this._randrange(new i(2),p);c&&c(b);var w=b.toRed(f).redPow(m);if(w.cmp(h)!==0&&w.cmp(g)!==0){for(var C=1;C<y;C++){if((w=w.redSqr()).cmp(h)===0)return!1;if(w.cmp(g)===0)break}if(C===y)return!1}}return!0},l.prototype.getDivisor=function(u,a){var c=u.bitLength(),d=i.mont(u),f=new i(1).toRed(d);a||(a=Math.max(1,c/48|0));for(var h=u.subn(1),p=0;!h.testn(p);p++);for(var y=u.shrn(p),m=h.toRed(d);a>0;a--){var g=this._randrange(new i(2),h),b=u.gcd(g);if(b.cmpn(1)!==0)return b;var w=g.toRed(d).redPow(y);if(w.cmp(f)!==0&&w.cmp(m)!==0){for(var C=1;C<p;C++){if((w=w.redSqr()).cmp(f)===0)return w.fromRed().subn(1).gcd(u);if(w.cmp(m)===0)break}if(C===p)return(w=w.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,r,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(t,r,s){function i(o,l){if(!o)throw new Error(l||"Assertion failed")}r.exports=i,i.equal=function(o,l,u){if(o!=l)throw new Error(u||"Assertion failed: "+o+" != "+l)}},{}],454:[function(t,r,s){var i=s;function o(u){return u.length===1?"0"+u:u}function l(u){for(var a="",c=0;c<u.length;c++)a+=o(u[c].toString(16));return a}i.toArray=function(u,a){if(Array.isArray(u))return u.slice();if(!u)return[];var c=[];if(typeof u!="string"){for(var d=0;d<u.length;d++)c[d]=0|u[d];return c}if(a==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),d=0;d<u.length;d+=2)c.push(parseInt(u[d]+u[d+1],16));else for(d=0;d<u.length;d++){var f=u.charCodeAt(d),h=f>>8,p=255&f;h?c.push(h,p):c.push(p)}return c},i.zero2=o,i.toHex=l,i.encode=function(u,a){return a==="hex"?l(u):u}},{}],455:[function(t,r,s){r.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,r,s){var i=t("asn1.js");s.certificate=t("./certificate");var o=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=o;var l=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=l;var u=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});s.PublicKey=u;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});s.PrivateKey=c;var d=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=d;var f=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=f,s.DSAparam=i.define("DSAparam",function(){this.int()});var h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=h;var p=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,r,s){var i=t("asn1.js"),o=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),l=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),u=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(l)}),d=i.define("RDNSequence",function(){this.seqof(c)}),f=i.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),p=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())});r.exports=m},{"asn1.js":170}],458:[function(t,r,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=t("evp_bytestokey"),a=t("browserify-aes"),c=t("safe-buffer").Buffer;r.exports=function(d,f){var h,p=d.toString(),y=p.match(i);if(y){var m="aes"+y[1],g=c.from(y[2],"hex"),b=c.from(y[3].replace(/[\r\n]/g,""),"base64"),w=u(f,g.slice(0,8),parseInt(y[1],10)).key,C=[],j=a.createDecipheriv(m,w,g);C.push(j.update(b)),C.push(j.final()),h=c.concat(C)}else{var I=p.match(l);h=c.from(I[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(o)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,r,s){var i=t("./asn1"),o=t("./aesid.json"),l=t("./fixProc"),u=t("browserify-aes"),a=t("pbkdf2"),c=t("safe-buffer").Buffer;function d(f){var h;typeof f!="object"||c.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=c.from(f));var p,y,m=l(f,h),g=m.tag,b=m.data;switch(g){case"CERTIFICATE":y=i.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(b,"der")),p=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":b=function(w,C){var j=w.algorithm.decrypt.kde.kdeparams.salt,I=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=o[w.algorithm.decrypt.cipher.algo.join(".")],P=w.algorithm.decrypt.cipher.iv,U=w.subjectPrivateKey,W=parseInt(q.split("-")[1],10)/8,z=a.pbkdf2Sync(C,j,I,W,"sha1"),R=u.createDecipheriv(q,z,P),T=[];return T.push(R.update(U)),T.push(R.final()),c.concat(T)}(b=i.EncryptedPrivateKey.decode(b,"der"),h);case"PRIVATE KEY":switch(p=(y=i.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=i.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+g)}}r.exports=d,d.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,r,s){s.pbkdf2=t("./lib/async"),s.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,r,s){(function(i){(function(){var o,l,u=t("safe-buffer").Buffer,a=t("./precondition"),c=t("./default-encoding"),d=t("./sync"),f=t("./to-buffer"),h=i.crypto&&i.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function m(){return l||(l=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function g(b,w,C,j,I){return h.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(q){return h.deriveBits({name:"PBKDF2",salt:w,iterations:C,hash:{name:I}},q,j<<3)}).then(function(q){return u.from(q)})}r.exports=function(b,w,C,j,I,q){typeof I=="function"&&(q=I,I=void 0);var P=p[(I=I||"sha1").toLowerCase()];if(P&&typeof i.Promise=="function"){if(a(C,j),b=f(b,c,"Password"),w=f(w,c,"Salt"),typeof q!="function")throw new Error("No callback provided to pbkdf2");(function(U,W){U.then(function(z){m()(function(){W(null,z)})},function(z){m()(function(){W(z)})})})(function(U){if(i.process&&!i.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(y[U]!==void 0)return y[U];var W=g(o=o||u.alloc(8),o,10,128,U).then(function(){return!0}).catch(function(){return!1});return y[U]=W,W}(P).then(function(U){return U?g(b,w,C,j,P):d(b,w,C,j,I)}),q)}else m()(function(){var U;try{U=d(b,w,C,j,I)}catch(W){return q(W)}q(null,U)})}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,r,s){(function(i,o){(function(){var l;o.process&&o.process.browser?l="utf-8":o.process&&o.process.version?l=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",r.exports=l}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,r,s){var i=Math.pow(2,30)-1;r.exports=function(o,l){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>i||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(t,r,s){var i=t("create-hash/md5"),o=t("ripemd160"),l=t("sha.js"),u=t("safe-buffer").Buffer,a=t("./precondition"),c=t("./default-encoding"),d=t("./to-buffer"),f=u.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(y,m,g){var b=function(P){function U(W){return l(P).update(W).digest()}return P==="rmd160"||P==="ripemd160"?function(W){return new o().update(W).digest()}:P==="md5"?i:U}(y),w=y==="sha512"||y==="sha384"?128:64;m.length>w?m=b(m):m.length<w&&(m=u.concat([m,f],w));for(var C=u.allocUnsafe(w+h[y]),j=u.allocUnsafe(w+h[y]),I=0;I<w;I++)C[I]=54^m[I],j[I]=92^m[I];var q=u.allocUnsafe(w+g+4);C.copy(q,0,0,w),this.ipad1=q,this.ipad2=C,this.opad=j,this.alg=y,this.blocksize=w,this.hash=b,this.size=h[y]}p.prototype.run=function(y,m){return y.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},r.exports=function(y,m,g,b,w){a(g,b);var C=new p(w=w||"sha1",y=d(y,c,"Password"),(m=d(m,c,"Salt")).length),j=u.allocUnsafe(b),I=u.allocUnsafe(m.length+4);m.copy(I,0,0,m.length);for(var q=0,P=h[w],U=Math.ceil(b/P),W=1;W<=U;W++){I.writeUInt32BE(W,m.length);for(var z=C.run(I,C.ipad1),R=z,T=1;T<g;T++){R=C.run(R,C.ipad2);for(var E=0;E<P;E++)z[E]^=R[E]}z.copy(j,q),q+=P}return j}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,r,s){var i=t("safe-buffer").Buffer;r.exports=function(o,l,u){if(i.isBuffer(o))return o;if(typeof o=="string")return i.from(o,l);if(ArrayBuffer.isView(o))return i.from(o.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,r,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(o,l,u,a){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c,d,f=arguments.length;switch(f){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick(function(){o.call(null,l)});case 3:return i.nextTick(function(){o.call(null,l,u)});case 4:return i.nextTick(function(){o.call(null,l,u,a)});default:for(c=new Array(f-1),d=0;d<c.length;)c[d++]=arguments[d];return i.nextTick(function(){o.apply(null,c)})}}}:r.exports=i}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,r,s){var i,o,l=r.exports={};function u(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(w){if(i===setTimeout)return setTimeout(w,0);if((i===u||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch{try{return i.call(null,w,0)}catch{return i.call(this,w,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:u}catch{i=u}try{o=typeof clearTimeout=="function"?clearTimeout:a}catch{o=a}})();var d,f=[],h=!1,p=-1;function y(){h&&d&&(h=!1,d.length?f=d.concat(f):p=-1,f.length&&m())}function m(){if(!h){var w=c(y);h=!0;for(var C=f.length;C;){for(d=f,f=[];++p<C;)d&&d[p].run();p=-1,C=f.length}d=null,h=!1,function(j){if(o===clearTimeout)return clearTimeout(j);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(j);try{o(j)}catch{try{return o.call(null,j)}catch{return o.call(this,j)}}}(w)}}function g(w,C){this.fun=w,this.array=C}function b(){}l.nextTick=function(w){var C=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)C[j-1]=arguments[j];f.push(new g(w,C)),f.length!==1||h||c(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=b,l.addListener=b,l.once=b,l.off=b,l.removeListener=b,l.removeAllListeners=b,l.emit=b,l.prependListener=b,l.prependOnceListener=b,l.listeners=function(w){return[]},l.binding=function(w){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(w){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(t,r,s){s.publicEncrypt=t("./publicEncrypt"),s.privateDecrypt=t("./privateDecrypt"),s.privateEncrypt=function(i,o){return s.publicEncrypt(i,o,!0)},s.publicDecrypt=function(i,o){return s.privateDecrypt(i,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,r,s){var i=t("create-hash"),o=t("safe-buffer").Buffer;function l(u){var a=o.allocUnsafe(4);return a.writeUInt32BE(u,0),a}r.exports=function(u,a){for(var c,d=o.alloc(0),f=0;d.length<a;)c=l(f++),d=o.concat([d,i("sha1").update(u).update(c).digest()]);return d.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,r,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(t,r,s){var i=t("parse-asn1"),o=t("./mgf"),l=t("./xor"),u=t("bn.js"),a=t("browserify-rsa"),c=t("create-hash"),d=t("./withPublic"),f=t("safe-buffer").Buffer;r.exports=function(h,p,y){var m;m=h.padding?h.padding:y?1:4;var g,b=i(h),w=b.modulus.byteLength();if(p.length>w||new u(p).cmp(b.modulus)>=0)throw new Error("decryption error");g=y?d(new u(p),b):a(p,b);var C=f.alloc(w-g.length);if(g=f.concat([C,g],w),m===4)return function(j,I){var q=j.modulus.byteLength(),P=c("sha1").update(f.alloc(0)).digest(),U=P.length;if(I[0]!==0)throw new Error("decryption error");var W=I.slice(1,U+1),z=I.slice(U+1),R=l(W,o(z,U)),T=l(z,o(R,q-U-1));if(function(k,v){k=f.from(k),v=f.from(v);var _=0,x=k.length;k.length!==v.length&&(_++,x=Math.min(k.length,v.length));for(var S=-1;++S<x;)_+=k[S]^v[S];return _}(P,T.slice(0,U)))throw new Error("decryption error");for(var E=U;T[E]===0;)E++;if(T[E++]!==1)throw new Error("decryption error");return T.slice(E)}(b,g);if(m===1)return function(j,I,q){for(var P=I.slice(0,2),U=2,W=0;I[U++]!==0;)if(U>=I.length){W++;break}var z=I.slice(2,U-1);if((P.toString("hex")!=="0002"&&!q||P.toString("hex")!=="0001"&&q)&&W++,z.length<8&&W++,W)throw new Error("decryption error");return I.slice(U)}(0,g,y);if(m===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,r,s){var i=t("parse-asn1"),o=t("randombytes"),l=t("create-hash"),u=t("./mgf"),a=t("./xor"),c=t("bn.js"),d=t("./withPublic"),f=t("browserify-rsa"),h=t("safe-buffer").Buffer;r.exports=function(p,y,m){var g;g=p.padding?p.padding:m?1:4;var b,w=i(p);if(g===4)b=function(C,j){var I=C.modulus.byteLength(),q=j.length,P=l("sha1").update(h.alloc(0)).digest(),U=P.length,W=2*U;if(q>I-W-2)throw new Error("message too long");var z=h.alloc(I-q-W-2),R=I-U-1,T=o(U),E=a(h.concat([P,z,h.alloc(1,1),j],R),u(T,R)),k=a(T,u(E,U));return new c(h.concat([h.alloc(1),k,E],I))}(w,y);else if(g===1)b=function(C,j,I){var q,P=j.length,U=C.modulus.byteLength();if(P>U-11)throw new Error("message too long");return q=I?h.alloc(U-P-3,255):function(W){for(var z,R=h.allocUnsafe(W),T=0,E=o(2*W),k=0;T<W;)k===E.length&&(E=o(2*W),k=0),(z=E[k++])&&(R[T++]=z);return R}(U-P-3),new c(h.concat([h.from([0,I?1:2]),q,h.alloc(1),j],U))}(w,y,m);else{if(g!==3)throw new Error("unknown padding");if((b=new c(y)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return m?f(b,w):d(b,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,r,s){var i=t("bn.js"),o=t("safe-buffer").Buffer;r.exports=function(l,u){return o.from(l.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,r,s){r.exports=function(i,o){for(var l=i.length,u=-1;++u<l;)i[u]^=o[u];return i}},{}],475:[function(t,r,s){(function(i,o){(function(){var l=t("safe-buffer").Buffer,u=o.crypto||o.msCrypto;u&&u.getRandomValues?r.exports=function(a,c){if(a>4294967295)throw new RangeError("requested too many random bytes");var d=l.allocUnsafe(a);if(a>0)if(a>65536)for(var f=0;f<a;f+=65536)u.getRandomValues(d.slice(f,f+65536));else u.getRandomValues(d);return typeof c=="function"?i.nextTick(function(){c(null,d)}):d}:r.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,r,s){(function(i,o){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=t("safe-buffer"),a=t("randombytes"),c=u.Buffer,d=u.kMaxLength,f=o.crypto||o.msCrypto,h=Math.pow(2,32)-1;function p(g,b){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>h||g<0)throw new TypeError("offset must be a uint32");if(g>d||g>b)throw new RangeError("offset out of range")}function y(g,b,w){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>h||g<0)throw new TypeError("size must be a uint32");if(g+b>w||g>d)throw new RangeError("buffer too small")}function m(g,b,w,C){if(i.browser){var j=g.buffer,I=new Uint8Array(j,b,w);return f.getRandomValues(I),C?void i.nextTick(function(){C(null,g)}):g}if(!C)return a(w).copy(g,b),g;a(w,function(q,P){if(q)return C(q);P.copy(g,b),C(null,g)})}f&&f.getRandomValues||!i.browser?(s.randomFill=function(g,b,w,C){if(!(c.isBuffer(g)||g instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")C=b,b=0,w=g.length;else if(typeof w=="function")C=w,w=g.length-b;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return p(b,g.length),y(w,b,g.length),m(g,b,w,C)},s.randomFillSync=function(g,b,w){if(b===void 0&&(b=0),!(c.isBuffer(g)||g instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(b,g.length),w===void 0&&(w=g.length-b),y(w,b,g.length),m(g,b,w)}):(s.randomFill=l,s.randomFillSync=l)}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,r,s){var i={};function o(u,a,c){c||(c=Error);var d=function(f){var h,p;function y(m,g,b){return f.call(this,function(w,C,j){return typeof a=="string"?a:a(w,C,j)}(m,g,b))||this}return p=f,(h=y).prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p,y}(c);d.prototype.name=c.name,d.prototype.code=u,i[u]=d}function l(u,a){if(Array.isArray(u)){var c=u.length;return u=u.map(function(d){return String(d)}),c>2?"one of ".concat(a," ").concat(u.slice(0,c-1).join(", "),", or ")+u[c-1]:c===2?"one of ".concat(a," ").concat(u[0]," or ").concat(u[1]):"of ".concat(a," ").concat(u[0])}return"of ".concat(a," ").concat(String(u))}o("ERR_INVALID_OPT_VALUE",function(u,a){return'The value "'+a+'" is invalid for option "'+u+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(u,a,c){var d,f,h;if(typeof a=="string"&&(f="not ",a.substr(0,f.length)===f)?(d="must not be",a=a.replace(/^not /,"")):d="must be",function(y,m,g){return(g===void 0||g>y.length)&&(g=y.length),y.substring(g-m.length,g)===m}(u," argument"))h="The ".concat(u," ").concat(d," ").concat(l(a,"type"));else{var p=function(y,m,g){return typeof g!="number"&&(g=0),!(g+m.length>y.length)&&y.indexOf(m,g)!==-1}(u,".")?"property":"argument";h='The "'.concat(u,'" ').concat(p," ").concat(d," ").concat(l(a,"type"))}return h+=". Received type ".concat(typeof c)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),r.exports.codes=i},{}],478:[function(t,r,s){(function(i){(function(){var o=Object.keys||function(y){var m=[];for(var g in y)m.push(g);return m};r.exports=f;var l=t("./_stream_readable"),u=t("./_stream_writable");t("inherits")(f,l);for(var a=o(u.prototype),c=0;c<a.length;c++){var d=a[c];f.prototype[d]||(f.prototype[d]=u.prototype[d])}function f(y){if(!(this instanceof f))return new f(y);l.call(this,y),u.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(p,this)}function p(y){y.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,r,s){r.exports=o;var i=t("./_stream_transform");function o(l){if(!(this instanceof o))return new o(l);i.call(this,l)}t("inherits")(o,i),o.prototype._transform=function(l,u,a){a(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(t,r,s){(function(i,o){(function(){var l;r.exports=R,R.ReadableState=z,t("events").EventEmitter;var u=function(L,N){return L.listeners(N).length},a=t("./internal/streams/stream"),c=t("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=t("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var p,y,m,g=t("./internal/streams/buffer_list"),b=t("./internal/streams/destroy"),w=t("./internal/streams/state").getHighWaterMark,C=t("../errors").codes,j=C.ERR_INVALID_ARG_TYPE,I=C.ERR_STREAM_PUSH_AFTER_EOF,q=C.ERR_METHOD_NOT_IMPLEMENTED,P=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(R,a);var U=b.errorOrDestroy,W=["error","close","destroy","pause","resume"];function z(L,N,Y){l=l||t("./_stream_duplex"),L=L||{},typeof Y!="boolean"&&(Y=N instanceof l),this.objectMode=!!L.objectMode,Y&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=w(this,L,"readableHighWaterMark",Y),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(L.encoding),this.encoding=L.encoding)}function R(L){if(l=l||t("./_stream_duplex"),!(this instanceof R))return new R(L);var N=this instanceof l;this._readableState=new z(L,this,N),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),a.call(this)}function T(L,N,Y,nt,lt){f("readableAddChunk",N);var st,pt=L._readableState;if(N===null)pt.reading=!1,function(ft,it){if(f("onEofChunk"),!it.ended){if(it.decoder){var at=it.decoder.end();at&&at.length&&(it.buffer.push(at),it.length+=it.objectMode?1:at.length)}it.ended=!0,it.sync?v(ft):(it.needReadable=!1,it.emittedReadable||(it.emittedReadable=!0,_(ft)))}}(L,pt);else if(lt||(st=function(ft,it){var at;bt=it,c.isBuffer(bt)||bt instanceof d||typeof it=="string"||it===void 0||ft.objectMode||(at=new j("chunk",["string","Buffer","Uint8Array"],it));var bt;return at}(pt,N)),st)U(L,st);else if(pt.objectMode||N&&N.length>0)if(typeof N=="string"||pt.objectMode||Object.getPrototypeOf(N)===c.prototype||(N=function(ft){return c.from(ft)}(N)),nt)pt.endEmitted?U(L,new P):E(L,pt,N,!0);else if(pt.ended)U(L,new I);else{if(pt.destroyed)return!1;pt.reading=!1,pt.decoder&&!Y?(N=pt.decoder.write(N),pt.objectMode||N.length!==0?E(L,pt,N,!1):x(L,pt)):E(L,pt,N,!1)}else nt||(pt.reading=!1,x(L,pt));return!pt.ended&&(pt.length<pt.highWaterMark||pt.length===0)}function E(L,N,Y,nt){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,L.emit("data",Y)):(N.length+=N.objectMode?1:Y.length,nt?N.buffer.unshift(Y):N.buffer.push(Y),N.needReadable&&v(L)),x(L,N)}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),R.prototype.destroy=b.destroy,R.prototype._undestroy=b.undestroy,R.prototype._destroy=function(L,N){N(L)},R.prototype.push=function(L,N){var Y,nt=this._readableState;return nt.objectMode?Y=!0:typeof L=="string"&&((N=N||nt.defaultEncoding)!==nt.encoding&&(L=c.from(L,N),N=""),Y=!0),T(this,L,N,!1,Y)},R.prototype.unshift=function(L){return T(this,L,null,!0,!1)},R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function(L){p||(p=t("string_decoder/").StringDecoder);var N=new p(L);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,nt="";Y!==null;)nt+=N.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),nt!==""&&this._readableState.buffer.push(nt),this._readableState.length=nt.length,this};function k(L,N){return L<=0||N.length===0&&N.ended?0:N.objectMode?1:L!=L?N.flowing&&N.length?N.buffer.head.data.length:N.length:(L>N.highWaterMark&&(N.highWaterMark=function(Y){return Y>=1073741824?Y=1073741824:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}(L)),L<=N.length?L:N.ended?N.length:(N.needReadable=!0,0))}function v(L){var N=L._readableState;f("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(f("emitReadable",N.flowing),N.emittedReadable=!0,i.nextTick(_,L))}function _(L){var N=L._readableState;f("emitReadable_",N.destroyed,N.length,N.ended),N.destroyed||!N.length&&!N.ended||(L.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,H(L)}function x(L,N){N.readingMore||(N.readingMore=!0,i.nextTick(S,L,N))}function S(L,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var Y=N.length;if(f("maybeReadMore read 0"),L.read(0),Y===N.length)break}N.readingMore=!1}function A(L){var N=L._readableState;N.readableListening=L.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:L.listenerCount("data")>0&&L.resume()}function B(L){f("readable nexttick read 0"),L.read(0)}function M(L,N){f("resume",N.reading),N.reading||L.read(0),N.resumeScheduled=!1,L.emit("resume"),H(L),N.flowing&&!N.reading&&L.read(0)}function H(L){var N=L._readableState;for(f("flow",N.flowing);N.flowing&&L.read()!==null;);}function V(L,N){return N.length===0?null:(N.objectMode?Y=N.buffer.shift():!L||L>=N.length?(Y=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):Y=N.buffer.consume(L,N.decoder),Y);var Y}function tt(L){var N=L._readableState;f("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,i.nextTick(F,N,L))}function F(L,N){if(f("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,N.readable=!1,N.emit("end"),L.autoDestroy)){var Y=N._writableState;(!Y||Y.autoDestroy&&Y.finished)&&N.destroy()}}function J(L,N){for(var Y=0,nt=L.length;Y<nt;Y++)if(L[Y]===N)return Y;return-1}R.prototype.read=function(L){f("read",L),L=parseInt(L,10);var N=this._readableState,Y=L;if(L!==0&&(N.emittedReadable=!1),L===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return f("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?tt(this):v(this),null;if((L=k(L,N))===0&&N.ended)return N.length===0&&tt(this),null;var nt,lt=N.needReadable;return f("need readable",lt),(N.length===0||N.length-L<N.highWaterMark)&&f("length less than watermark",lt=!0),N.ended||N.reading?f("reading or ended",lt=!1):lt&&(f("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(L=k(Y,N))),(nt=L>0?V(L,N):null)===null?(N.needReadable=N.length<=N.highWaterMark,L=0):(N.length-=L,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),Y!==L&&N.ended&&tt(this)),nt!==null&&this.emit("data",nt),nt},R.prototype._read=function(L){U(this,new q("_read()"))},R.prototype.pipe=function(L,N){var Y=this,nt=this._readableState;switch(nt.pipesCount){case 0:nt.pipes=L;break;case 1:nt.pipes=[nt.pipes,L];break;default:nt.pipes.push(L)}nt.pipesCount+=1,f("pipe count=%d opts=%j",nt.pipesCount,N);var lt=(!N||N.end!==!1)&&L!==i.stdout&&L!==i.stderr?pt:kt;function st(Tt,Lt){f("onunpipe"),Tt===Y&&Lt&&Lt.hasUnpiped===!1&&(Lt.hasUnpiped=!0,f("cleanup"),L.removeListener("close",gt),L.removeListener("finish",St),L.removeListener("drain",ft),L.removeListener("error",bt),L.removeListener("unpipe",st),Y.removeListener("end",pt),Y.removeListener("end",kt),Y.removeListener("data",at),it=!0,!nt.awaitDrain||L._writableState&&!L._writableState.needDrain||ft())}function pt(){f("onend"),L.end()}nt.endEmitted?i.nextTick(lt):Y.once("end",lt),L.on("unpipe",st);var ft=function(Tt){return function(){var Lt=Tt._readableState;f("pipeOnDrain",Lt.awaitDrain),Lt.awaitDrain&&Lt.awaitDrain--,Lt.awaitDrain===0&&u(Tt,"data")&&(Lt.flowing=!0,H(Tt))}}(Y);L.on("drain",ft);var it=!1;function at(Tt){f("ondata");var Lt=L.write(Tt);f("dest.write",Lt),Lt===!1&&((nt.pipesCount===1&&nt.pipes===L||nt.pipesCount>1&&J(nt.pipes,L)!==-1)&&!it&&(f("false write response, pause",nt.awaitDrain),nt.awaitDrain++),Y.pause())}function bt(Tt){f("onerror",Tt),kt(),L.removeListener("error",bt),u(L,"error")===0&&U(L,Tt)}function gt(){L.removeListener("finish",St),kt()}function St(){f("onfinish"),L.removeListener("close",gt),kt()}function kt(){f("unpipe"),Y.unpipe(L)}return Y.on("data",at),function(Tt,Lt,Xt){if(typeof Tt.prependListener=="function")return Tt.prependListener(Lt,Xt);Tt._events&&Tt._events[Lt]?Array.isArray(Tt._events[Lt])?Tt._events[Lt].unshift(Xt):Tt._events[Lt]=[Xt,Tt._events[Lt]]:Tt.on(Lt,Xt)}(L,"error",bt),L.once("close",gt),L.once("finish",St),L.emit("pipe",Y),nt.flowing||(f("pipe resume"),Y.resume()),L},R.prototype.unpipe=function(L){var N=this._readableState,Y={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return L&&L!==N.pipes||(L||(L=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,L&&L.emit("unpipe",this,Y)),this;if(!L){var nt=N.pipes,lt=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var st=0;st<lt;st++)nt[st].emit("unpipe",this,{hasUnpiped:!1});return this}var pt=J(N.pipes,L);return pt===-1||(N.pipes.splice(pt,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),L.emit("unpipe",this,Y)),this},R.prototype.on=function(L,N){var Y=a.prototype.on.call(this,L,N),nt=this._readableState;return L==="data"?(nt.readableListening=this.listenerCount("readable")>0,nt.flowing!==!1&&this.resume()):L==="readable"&&(nt.endEmitted||nt.readableListening||(nt.readableListening=nt.needReadable=!0,nt.flowing=!1,nt.emittedReadable=!1,f("on readable",nt.length,nt.reading),nt.length?v(this):nt.reading||i.nextTick(B,this))),Y},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(L,N){var Y=a.prototype.removeListener.call(this,L,N);return L==="readable"&&i.nextTick(A,this),Y},R.prototype.removeAllListeners=function(L){var N=a.prototype.removeAllListeners.apply(this,arguments);return L!=="readable"&&L!==void 0||i.nextTick(A,this),N},R.prototype.resume=function(){var L=this._readableState;return L.flowing||(f("resume"),L.flowing=!L.readableListening,function(N,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,i.nextTick(M,N,Y))}(this,L)),L.paused=!1,this},R.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(L){var N=this,Y=this._readableState,nt=!1;for(var lt in L.on("end",function(){if(f("wrapped end"),Y.decoder&&!Y.ended){var pt=Y.decoder.end();pt&&pt.length&&N.push(pt)}N.push(null)}),L.on("data",function(pt){f("wrapped data"),Y.decoder&&(pt=Y.decoder.write(pt)),Y.objectMode&&pt==null||(Y.objectMode||pt&&pt.length)&&(N.push(pt)||(nt=!0,L.pause()))}),L)this[lt]===void 0&&typeof L[lt]=="function"&&(this[lt]=function(pt){return function(){return L[pt].apply(L,arguments)}}(lt));for(var st=0;st<W.length;st++)L.on(W[st],this.emit.bind(this,W[st]));return this._read=function(pt){f("wrapped _read",pt),nt&&(nt=!1,L.resume())},this},typeof Symbol=="function"&&(R.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=t("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),R._fromList=V,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(R.from=function(L,N){return m===void 0&&(m=t("./internal/streams/from")),m(R,L,N)})}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,r,s){r.exports=f;var i=t("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,l=i.ERR_MULTIPLE_CALLBACK,u=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function d(y,m){var g=this._transformState;g.transforming=!1;var b=g.writecb;if(b===null)return this.emit("error",new l);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),b(y);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function f(y){if(!(this instanceof f))return new f(y);c.call(this,y),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",h)}function h(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,g){p(y,m,g)})}function p(y,m,g){if(m)return y.emit("error",m);if(g!=null&&y.push(g),y._writableState.length)throw new a;if(y._transformState.transforming)throw new u;return y.push(null)}t("inherits")(f,c),f.prototype.push=function(y,m){return this._transformState.needTransform=!1,c.prototype.push.call(this,y,m)},f.prototype._transform=function(y,m,g){g(new o("_transform()"))},f.prototype._write=function(y,m,g){var b=this._transformState;if(b.writecb=g,b.writechunk=y,b.writeencoding=m,!b.transforming){var w=this._readableState;(b.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},f.prototype._read=function(y){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},f.prototype._destroy=function(y,m){c.prototype._destroy.call(this,y,function(g){m(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,r,s){(function(i,o){(function(){function l(S){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(B,M,H){var V=B.entry;for(B.entry=null;V;){var tt=V.callback;M.pendingcb--,tt(H),V=V.next}M.corkedRequestsFree.next=B})(A,S)}}var u;r.exports=R,R.WritableState=z;var a={deprecate:t("util-deprecate")},c=t("./internal/streams/stream"),d=t("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,p=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,C=m.ERR_STREAM_CANNOT_PIPE,j=m.ERR_STREAM_DESTROYED,I=m.ERR_STREAM_NULL_VALUES,q=m.ERR_STREAM_WRITE_AFTER_END,P=m.ERR_UNKNOWN_ENCODING,U=p.errorOrDestroy;function W(){}function z(S,A,B){u=u||t("./_stream_duplex"),S=S||{},typeof B!="boolean"&&(B=A instanceof u),this.objectMode=!!S.objectMode,B&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=y(this,S,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var M=S.decodeStrings===!1;this.decodeStrings=!M,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){(function(V,tt){var F=V._writableState,J=F.sync,L=F.writecb;if(typeof L!="function")throw new w;if(function(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}(F),tt)(function(Y,nt,lt,st,pt){--nt.pendingcb,lt?(i.nextTick(pt,st),i.nextTick(x,Y,nt),Y._writableState.errorEmitted=!0,U(Y,st)):(pt(st),Y._writableState.errorEmitted=!0,U(Y,st),x(Y,nt))})(V,F,J,tt,L);else{var N=v(F)||V.destroyed;N||F.corked||F.bufferProcessing||!F.bufferedRequest||k(V,F),J?i.nextTick(E,V,F,N,L):E(V,F,N,L)}})(A,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function R(S){var A=this instanceof(u=u||t("./_stream_duplex"));if(!A&&!h.call(R,this))return new R(S);this._writableState=new z(S,this,A),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function T(S,A,B,M,H,V,tt){A.writelen=M,A.writecb=tt,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new j("write")):B?S._writev(H,A.onwrite):S._write(H,V,A.onwrite),A.sync=!1}function E(S,A,B,M){B||function(H,V){V.length===0&&V.needDrain&&(V.needDrain=!1,H.emit("drain"))}(S,A),A.pendingcb--,M(),x(S,A)}function k(S,A){A.bufferProcessing=!0;var B=A.bufferedRequest;if(S._writev&&B&&B.next){var M=A.bufferedRequestCount,H=new Array(M),V=A.corkedRequestsFree;V.entry=B;for(var tt=0,F=!0;B;)H[tt]=B,B.isBuf||(F=!1),B=B.next,tt+=1;H.allBuffers=F,T(S,A,!0,A.length,H,"",V.finish),A.pendingcb++,A.lastBufferedRequest=null,V.next?(A.corkedRequestsFree=V.next,V.next=null):A.corkedRequestsFree=new l(A),A.bufferedRequestCount=0}else{for(;B;){var J=B.chunk,L=B.encoding,N=B.callback;if(T(S,A,!1,A.objectMode?1:J.length,J,L,N),B=B.next,A.bufferedRequestCount--,A.writing)break}B===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=B,A.bufferProcessing=!1}function v(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function _(S,A){S._final(function(B){A.pendingcb--,B&&U(S,B),A.prefinished=!0,S.emit("prefinish"),x(S,A)})}function x(S,A){var B=v(A);if(B&&(function(H,V){V.prefinished||V.finalCalled||(typeof H._final!="function"||V.destroyed?(V.prefinished=!0,H.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,i.nextTick(_,H,V)))}(S,A),A.pendingcb===0&&(A.finished=!0,S.emit("finish"),A.autoDestroy))){var M=S._readableState;(!M||M.autoDestroy&&M.endEmitted)&&S.destroy()}return B}t("inherits")(R,c),z.prototype.getBuffer=function(){for(var S=this.bufferedRequest,A=[];S;)A.push(S),S=S.next;return A},function(){try{Object.defineProperty(z.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(S){return!!h.call(this,S)||this===R&&S&&S._writableState instanceof z}})):h=function(S){return S instanceof this},R.prototype.pipe=function(){U(this,new C)},R.prototype.write=function(S,A,B){var M,H=this._writableState,V=!1,tt=!H.objectMode&&(M=S,d.isBuffer(M)||M instanceof f);return tt&&!d.isBuffer(S)&&(S=function(F){return d.from(F)}(S)),typeof A=="function"&&(B=A,A=null),tt?A="buffer":A||(A=H.defaultEncoding),typeof B!="function"&&(B=W),H.ending?function(F,J){var L=new q;U(F,L),i.nextTick(J,L)}(this,B):(tt||function(F,J,L,N){var Y;return L===null?Y=new I:typeof L=="string"||J.objectMode||(Y=new g("chunk",["string","Buffer"],L)),!Y||(U(F,Y),i.nextTick(N,Y),!1)}(this,H,S,B))&&(H.pendingcb++,V=function(F,J,L,N,Y,nt){if(!L){var lt=function(it,at,bt){return it.objectMode||it.decodeStrings===!1||typeof at!="string"||(at=d.from(at,bt)),at}(J,N,Y);N!==lt&&(L=!0,Y="buffer",N=lt)}var st=J.objectMode?1:N.length;J.length+=st;var pt=J.length<J.highWaterMark;if(pt||(J.needDrain=!0),J.writing||J.corked){var ft=J.lastBufferedRequest;J.lastBufferedRequest={chunk:N,encoding:Y,isBuf:L,callback:nt,next:null},ft?ft.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else T(F,J,!1,st,N,Y,nt);return pt}(this,H,tt,S,A,B)),V},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||k(this,S))},R.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new P(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(R.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(S,A,B){B(new b("_write()"))},R.prototype._writev=null,R.prototype.end=function(S,A,B){var M=this._writableState;return typeof S=="function"?(B=S,S=null,A=null):typeof A=="function"&&(B=A,A=null),S!=null&&this.write(S,A),M.corked&&(M.corked=1,this.uncork()),M.ending||function(H,V,tt){V.ending=!0,x(H,V),tt&&(V.finished?i.nextTick(tt):H.once("finish",tt)),V.ended=!0,H.writable=!1}(this,M,B),this},Object.defineProperty(R.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),R.prototype.destroy=p.destroy,R.prototype._undestroy=p.undestroy,R.prototype._destroy=function(S,A){A(S)}}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,r,s){(function(i){(function(){var o;function l(j,I,q){return(I=function(P){var U=function(W,z){if(typeof W!="object"||W===null)return W;var R=W[Symbol.toPrimitive];if(R!==void 0){var T=R.call(W,z);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(W)}(P,"string");return typeof U=="symbol"?U:String(U)}(I))in j?Object.defineProperty(j,I,{value:q,enumerable:!0,configurable:!0,writable:!0}):j[I]=q,j}var u=t("./end-of-stream"),a=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),p=Symbol("handlePromise"),y=Symbol("stream");function m(j,I){return{value:j,done:I}}function g(j){var I=j[a];if(I!==null){var q=j[y].read();q!==null&&(j[h]=null,j[a]=null,j[c]=null,I(m(q,!1)))}}function b(j){i.nextTick(g,j)}var w=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((l(o={get stream(){return this[y]},next:function(){var j=this,I=this[d];if(I!==null)return Promise.reject(I);if(this[f])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise(function(W,z){i.nextTick(function(){j[d]?z(j[d]):W(m(void 0,!0))})});var q,P=this[h];if(P)q=new Promise(function(W,z){return function(R,T){W.then(function(){z[f]?R(m(void 0,!0)):z[p](R,T)},T)}}(P,this));else{var U=this[y].read();if(U!==null)return Promise.resolve(m(U,!1));q=new Promise(this[p])}return this[h]=q,q}},Symbol.asyncIterator,function(){return this}),l(o,"return",function(){var j=this;return new Promise(function(I,q){j[y].destroy(null,function(P){P?q(P):I(m(void 0,!0))})})}),o),w);r.exports=function(j){var I,q=Object.create(C,(l(I={},y,{value:j,writable:!0}),l(I,a,{value:null,writable:!0}),l(I,c,{value:null,writable:!0}),l(I,d,{value:null,writable:!0}),l(I,f,{value:j._readableState.endEmitted,writable:!0}),l(I,p,{value:function(P,U){var W=q[y].read();W?(q[h]=null,q[a]=null,q[c]=null,P(m(W,!1))):(q[a]=P,q[c]=U)},writable:!0}),I));return q[h]=null,u(j,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=q[c];return U!==null&&(q[h]=null,q[a]=null,q[c]=null,U(P)),void(q[d]=P)}var W=q[a];W!==null&&(q[h]=null,q[a]=null,q[c]=null,W(m(void 0,!0))),q[f]=!0}),j.on("readable",b.bind(null,q)),q}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,r,s){function i(h,p){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);p&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable})),y.push.apply(y,m)}return y}function o(h){for(var p=1;p<arguments.length;p++){var y=arguments[p]!=null?arguments[p]:{};p%2?i(Object(y),!0).forEach(function(m){l(h,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(y,m))})}return h}function l(h,p,y){return(p=a(p))in h?Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[p]=y,h}function u(h,p){for(var y=0;y<p.length;y++){var m=p[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,a(m.key),m)}}function a(h){var p=function(y,m){if(typeof y!="object"||y===null)return y;var g=y[Symbol.toPrimitive];if(g!==void 0){var b=g.call(y,m);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)}(h,"string");return typeof p=="symbol"?p:String(p)}var c=t("buffer").Buffer,d=t("util").inspect,f=d&&d.custom||"inspect";r.exports=function(){function h(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var p,y;return p=h,(y=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,b=""+g.data;g=g.next;)b+=m+g.data;return b}},{key:"concat",value:function(m){if(this.length===0)return c.alloc(0);for(var g,b,w,C=c.allocUnsafe(m>>>0),j=this.head,I=0;j;)g=j.data,b=C,w=I,c.prototype.copy.call(g,b,w),I+=j.data.length,j=j.next;return C}},{key:"consume",value:function(m,g){var b;return m<this.head.data.length?(b=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):b=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,b=1,w=g.data;for(m-=w.length;g=g.next;){var C=g.data,j=m>C.length?C.length:m;if(j===C.length?w+=C:w+=C.slice(0,m),(m-=j)==0){j===C.length?(++b,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=C.slice(j));break}++b}return this.length-=b,w}},{key:"_getBuffer",value:function(m){var g=c.allocUnsafe(m),b=this.head,w=1;for(b.data.copy(g),m-=b.data.length;b=b.next;){var C=b.data,j=m>C.length?C.length:m;if(C.copy(g,g.length-m,0,j),(m-=j)==0){j===C.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=C.slice(j));break}++w}return this.length-=w,g}},{key:f,value:function(m,g){return d(this,o(o({},g),{},{depth:0,customInspect:!1}))}}])&&u(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(t,r,s){(function(i){(function(){function o(a,c){u(a,c),l(a)}function l(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function u(a,c){a.emit("error",c)}r.exports={destroy:function(a,c){var d=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(c?c(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(u,this,a)):i.nextTick(u,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(p){!c&&p?d._writableState?d._writableState.errorEmitted?i.nextTick(l,d):(d._writableState.errorEmitted=!0,i.nextTick(o,d,p)):i.nextTick(o,d,p):c?(i.nextTick(l,d),c(p)):i.nextTick(l,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,c){var d=a._readableState,f=a._writableState;d&&d.autoDestroy||f&&f.autoDestroy?a.destroy(c):a.emit("error",c)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,r,s){var i=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}r.exports=function l(u,a,c){if(typeof a=="function")return l(u,null,a);a||(a={}),c=function(j){var I=!1;return function(){if(!I){I=!0;for(var q=arguments.length,P=new Array(q),U=0;U<q;U++)P[U]=arguments[U];j.apply(this,P)}}}(c||o);var d=a.readable||a.readable!==!1&&u.readable,f=a.writable||a.writable!==!1&&u.writable,h=function(){u.writable||y()},p=u._writableState&&u._writableState.finished,y=function(){f=!1,p=!0,d||c.call(u)},m=u._readableState&&u._readableState.endEmitted,g=function(){d=!1,m=!0,f||c.call(u)},b=function(j){c.call(u,j)},w=function(){var j;return d&&!m?(u._readableState&&u._readableState.ended||(j=new i),c.call(u,j)):f&&!p?(u._writableState&&u._writableState.ended||(j=new i),c.call(u,j)):void 0},C=function(){u.req.on("finish",y)};return function(j){return j.setHeader&&typeof j.abort=="function"}(u)?(u.on("complete",y),u.on("abort",w),u.req?C():u.on("request",C)):f&&!u._writableState&&(u.on("end",h),u.on("close",h)),u.on("end",g),u.on("finish",y),a.error!==!1&&u.on("error",b),u.on("close",w),function(){u.removeListener("complete",y),u.removeListener("abort",w),u.removeListener("request",C),u.req&&u.req.removeListener("finish",y),u.removeListener("end",h),u.removeListener("close",h),u.removeListener("finish",y),u.removeListener("end",g),u.removeListener("error",b),u.removeListener("close",w)}}},{"../../../errors":477}],487:[function(t,r,s){r.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,r,s){var i,o=t("../../../errors").codes,l=o.ERR_MISSING_ARGS,u=o.ERR_STREAM_DESTROYED;function a(p){if(p)throw p}function c(p,y,m,g){g=function(C){var j=!1;return function(){j||(j=!0,C.apply(void 0,arguments))}}(g);var b=!1;p.on("close",function(){b=!0}),i===void 0&&(i=t("./end-of-stream")),i(p,{readable:y,writable:m},function(C){if(C)return g(C);b=!0,g()});var w=!1;return function(C){if(!b&&!w)return w=!0,function(j){return j.setHeader&&typeof j.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void g(C||new u("pipe"))}}function d(p){p()}function f(p,y){return p.pipe(y)}function h(p){return p.length?typeof p[p.length-1]!="function"?a:p.pop():a}r.exports=function(){for(var p=arguments.length,y=new Array(p),m=0;m<p;m++)y[m]=arguments[m];var g,b=h(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new l("streams");var w=y.map(function(C,j){var I=j<y.length-1;return c(C,I,j>0,function(q){g||(g=q),q&&w.forEach(d),I||(w.forEach(d),b(g))})});return y.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,r,s){var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;r.exports={getHighWaterMark:function(o,l,u,a){var c=function(d,f,h){return d.highWaterMark!=null?d.highWaterMark:f?d[h]:null}(l,a,u);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new i(a?u:"highWaterMark",c);return Math.floor(c)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,r,s){r.exports=t("events").EventEmitter},{events:422}],491:[function(t,r,s){(s=r.exports=t("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=t("./lib/_stream_writable.js"),s.Duplex=t("./lib/_stream_duplex.js"),s.Transform=t("./lib/_stream_transform.js"),s.PassThrough=t("./lib/_stream_passthrough.js"),s.finished=t("./lib/internal/streams/end-of-stream.js"),s.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,r,s){var i=function(o){var l=Object.prototype,u=l.hasOwnProperty,a=Object.defineProperty||function(x,S,A){x[S]=A.value},c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function p(x,S,A){return Object.defineProperty(x,S,{value:A,enumerable:!0,configurable:!0,writable:!0}),x[S]}try{p({},"")}catch{p=function(S,A,B){return S[A]=B}}function y(x,S,A,B){var M=S&&S.prototype instanceof b?S:b,H=Object.create(M.prototype),V=new k(B||[]);return a(H,"_invoke",{value:z(x,A,V)}),H}function m(x,S,A){try{return{type:"normal",arg:x.call(S,A)}}catch(B){return{type:"throw",arg:B}}}o.wrap=y;var g={};function b(){}function w(){}function C(){}var j={};p(j,d,function(){return this});var I=Object.getPrototypeOf,q=I&&I(I(v([])));q&&q!==l&&u.call(q,d)&&(j=q);var P=C.prototype=b.prototype=Object.create(j);function U(x){["next","throw","return"].forEach(function(S){p(x,S,function(A){return this._invoke(S,A)})})}function W(x,S){var A;a(this,"_invoke",{value:function(B,M){function H(){return new S(function(V,tt){(function F(J,L,N,Y){var nt=m(x[J],x,L);if(nt.type!=="throw"){var lt=nt.arg,st=lt.value;return st&&typeof st=="object"&&u.call(st,"__await")?S.resolve(st.__await).then(function(pt){F("next",pt,N,Y)},function(pt){F("throw",pt,N,Y)}):S.resolve(st).then(function(pt){lt.value=pt,N(lt)},function(pt){return F("throw",pt,N,Y)})}Y(nt.arg)})(B,M,V,tt)})}return A=A?A.then(H,H):H()}})}function z(x,S,A){var B="suspendedStart";return function(M,H){if(B==="executing")throw new Error("Generator is already running");if(B==="completed"){if(M==="throw")throw H;return _()}for(A.method=M,A.arg=H;;){var V=A.delegate;if(V){var tt=R(V,A);if(tt){if(tt===g)continue;return tt}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(B==="suspendedStart")throw B="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);B="executing";var F=m(x,S,A);if(F.type==="normal"){if(B=A.done?"completed":"suspendedYield",F.arg===g)continue;return{value:F.arg,done:A.done}}F.type==="throw"&&(B="completed",A.method="throw",A.arg=F.arg)}}}function R(x,S){var A=S.method,B=x.iterator[A];if(B===void 0)return S.delegate=null,A==="throw"&&x.iterator.return&&(S.method="return",S.arg=void 0,R(x,S),S.method==="throw")||A!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+A+"' method")),g;var M=m(B,x.iterator,S.arg);if(M.type==="throw")return S.method="throw",S.arg=M.arg,S.delegate=null,g;var H=M.arg;return H?H.done?(S[x.resultName]=H.value,S.next=x.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,g):H:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,g)}function T(x){var S={tryLoc:x[0]};1 in x&&(S.catchLoc=x[1]),2 in x&&(S.finallyLoc=x[2],S.afterLoc=x[3]),this.tryEntries.push(S)}function E(x){var S=x.completion||{};S.type="normal",delete S.arg,x.completion=S}function k(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(T,this),this.reset(!0)}function v(x){if(x){var S=x[d];if(S)return S.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var A=-1,B=function M(){for(;++A<x.length;)if(u.call(x,A))return M.value=x[A],M.done=!1,M;return M.value=void 0,M.done=!0,M};return B.next=B}}return{next:_}}function _(){return{value:void 0,done:!0}}return w.prototype=C,a(P,"constructor",{value:C,configurable:!0}),a(C,"constructor",{value:w,configurable:!0}),w.displayName=p(C,h,"GeneratorFunction"),o.isGeneratorFunction=function(x){var S=typeof x=="function"&&x.constructor;return!!S&&(S===w||(S.displayName||S.name)==="GeneratorFunction")},o.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,C):(x.__proto__=C,p(x,h,"GeneratorFunction")),x.prototype=Object.create(P),x},o.awrap=function(x){return{__await:x}},U(W.prototype),p(W.prototype,f,function(){return this}),o.AsyncIterator=W,o.async=function(x,S,A,B,M){M===void 0&&(M=Promise);var H=new W(y(x,S,A,B),M);return o.isGeneratorFunction(S)?H:H.next().then(function(V){return V.done?V.value:H.next()})},U(P),p(P,h,"Generator"),p(P,d,function(){return this}),p(P,"toString",function(){return"[object Generator]"}),o.keys=function(x){var S=Object(x),A=[];for(var B in S)A.push(B);return A.reverse(),function M(){for(;A.length;){var H=A.pop();if(H in S)return M.value=H,M.done=!1,M}return M.done=!0,M}},o.values=v,k.prototype={constructor:k,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!x)for(var S in this)S.charAt(0)==="t"&&u.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var S=this;function A(F,J){return H.type="throw",H.arg=x,S.next=F,J&&(S.method="next",S.arg=void 0),!!J}for(var B=this.tryEntries.length-1;B>=0;--B){var M=this.tryEntries[B],H=M.completion;if(M.tryLoc==="root")return A("end");if(M.tryLoc<=this.prev){var V=u.call(M,"catchLoc"),tt=u.call(M,"finallyLoc");if(V&&tt){if(this.prev<M.catchLoc)return A(M.catchLoc,!0);if(this.prev<M.finallyLoc)return A(M.finallyLoc)}else if(V){if(this.prev<M.catchLoc)return A(M.catchLoc,!0)}else{if(!tt)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return A(M.finallyLoc)}}}},abrupt:function(x,S){for(var A=this.tryEntries.length-1;A>=0;--A){var B=this.tryEntries[A];if(B.tryLoc<=this.prev&&u.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var M=B;break}}M&&(x==="break"||x==="continue")&&M.tryLoc<=S&&S<=M.finallyLoc&&(M=null);var H=M?M.completion:{};return H.type=x,H.arg=S,M?(this.method="next",this.next=M.finallyLoc,g):this.complete(H)},complete:function(x,S){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&S&&(this.next=S),g},finish:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var A=this.tryEntries[S];if(A.finallyLoc===x)return this.complete(A.completion,A.afterLoc),E(A),g}},catch:function(x){for(var S=this.tryEntries.length-1;S>=0;--S){var A=this.tryEntries[S];if(A.tryLoc===x){var B=A.completion;if(B.type==="throw"){var M=B.arg;E(A)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(x,S,A){return this.delegate={iterator:v(x),resultName:S,nextLoc:A},this.method==="next"&&(this.arg=void 0),g}},o}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(t,r,s){var i=t("buffer").Buffer,o=t("inherits"),l=t("hash-base"),u=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function y(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(I,q){return I<<q|I>>>32-q}function g(I,q,P,U,W,z,R,T){return m(I+(q^P^U)+z+R|0,T)+W|0}function b(I,q,P,U,W,z,R,T){return m(I+(q&P|~q&U)+z+R|0,T)+W|0}function w(I,q,P,U,W,z,R,T){return m(I+((q|~P)^U)+z+R|0,T)+W|0}function C(I,q,P,U,W,z,R,T){return m(I+(q&U|P&~U)+z+R|0,T)+W|0}function j(I,q,P,U,W,z,R,T){return m(I+(q^(P|~U))+z+R|0,T)+W|0}o(y,l),y.prototype._update=function(){for(var I=u,q=0;q<16;++q)I[q]=this._block.readInt32LE(4*q);for(var P=0|this._a,U=0|this._b,W=0|this._c,z=0|this._d,R=0|this._e,T=0|this._a,E=0|this._b,k=0|this._c,v=0|this._d,_=0|this._e,x=0;x<80;x+=1){var S,A;x<16?(S=g(P,U,W,z,R,I[a[x]],h[0],d[x]),A=j(T,E,k,v,_,I[c[x]],p[0],f[x])):x<32?(S=b(P,U,W,z,R,I[a[x]],h[1],d[x]),A=C(T,E,k,v,_,I[c[x]],p[1],f[x])):x<48?(S=w(P,U,W,z,R,I[a[x]],h[2],d[x]),A=w(T,E,k,v,_,I[c[x]],p[2],f[x])):x<64?(S=C(P,U,W,z,R,I[a[x]],h[3],d[x]),A=b(T,E,k,v,_,I[c[x]],p[3],f[x])):(S=j(P,U,W,z,R,I[a[x]],h[4],d[x]),A=g(T,E,k,v,_,I[c[x]],p[4],f[x])),P=R,R=z,z=m(W,10),W=U,U=S,T=_,_=v,v=m(k,10),k=E,E=A}var B=this._b+W+v|0;this._b=this._c+z+_|0,this._c=this._d+R+T|0,this._d=this._e+P+E|0,this._e=this._a+U+k|0,this._a=B},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=i.alloc?i.alloc(20):new i(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I},r.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,r,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=t("buffer"),o=i.Buffer;function l(a,c){for(var d in a)c[d]=a[d]}function u(a,c,d){return o(a,c,d)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?r.exports=i:(l(i,s),s.Buffer=u),u.prototype=Object.create(o.prototype),l(o,u),u.from=function(a,c,d){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,c,d)},u.alloc=function(a,c,d){if(typeof a!="number")throw new TypeError("Argument must be a number");var f=o(a);return c!==void 0?typeof d=="string"?f.fill(c,d):f.fill(c):f.fill(0),f},u.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},u.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],495:[function(t,r,s){(function(i){(function(){var o,l=t("buffer"),u=l.Buffer,a={};for(o in l)l.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(a[o]=l[o]);var c=a.Buffer={};for(o in u)u.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(c[o]=u[o]);if(a.Buffer.prototype=u.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(d,f,h){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return u(d,f,h)}),c.alloc||(c.alloc=function(d,f,h){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var p=u(d);return f&&f.length!==0?typeof h=="string"?p.fill(f,h):p.fill(f):p.fill(0),p}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),r.exports=a}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0});const i=t("xmlchars/xml/1.0/ed5"),o=t("xmlchars/xml/1.1/ed2"),l=t("xmlchars/xmlns/1.0/ed3");var u=i.isS,a=i.isChar,c=i.isNameStartChar,d=i.isNameChar,f=i.S_LIST,h=i.NAME_RE,p=o.isChar,y=l.isNCNameStartChar,m=l.isNCNameChar,g=l.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:b,xmlns:w},j={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},I=v=>v===34||v===39,q=[34,39],P=[...q,91,62],U=[...q,60,93],W=[61,63,...f],z=[...f,62,38,60];function R(v,_,x){switch(_){case"xml":x!==b&&v.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":x!==w&&v.fail(`xmlns prefix must be bound to ${w}.`)}switch(x){case w:v.fail(_===""?`the default namespace may not be set to ${x}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case b:switch(_){case"xml":break;case"":v.fail(`the default namespace may not be set to ${x}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}const T=v=>g.test(v),E=v=>h.test(v);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(v){this.opt=v!=null?v:{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=y,this.nameCheck=m,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const x=this.opt.additionalNamespaces;x!=null&&(function(S,A){for(const B of Object.keys(A))R(S,B,A[B])}(this,x),Object.assign(this.ns,x))}else this.nameStartCheck=c,this.nameCheck=d,this.isName=E,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:x}=this.opt;if(x===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");x="1.0"}this.setXMLVersion(x),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(j),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,_){this[k[v]]=_}off(v){this[k[v]]=void 0}makeError(v){var _;let x=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(x.length>0&&(x+=":"),x+=`${this.line}:${this.column}`),x.length>0&&(x+=": "),new Error(x+v)}fail(v){const _=this.makeError(v),x=this.errorHandler;if(x===void 0)throw _;return x(_),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;v===null?(_=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let x=v.length;const S=v.charCodeAt(x-1);!_&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=v[x-1],x--,v=v.slice(0,x));const{stateTable:A}=this;for(this.chunk=v,this.i=0;this.i<x;)A[this.state].call(this);return this.chunkPosition+=x,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:v,i:_}=this;if(this.prevI=_,this.i=_+1,_>=v.length)return-1;const x=v.charCodeAt(_);if(this.column++,x<55296){if(x>=32||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const S=65536+1024*(x-55296)+(v.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:v,i:_}=this;if(this.prevI=_,this.i=_+1,_>=v.length)return-1;const x=v.charCodeAt(_);if(this.column++,x<55296){if(x>31&&x<127||x>159&&x!==8232||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const A=v.charCodeAt(_+1);A!==10&&A!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const S=65536+1024*(x-55296)+(v.charCodeAt(_+1)-56320);return this.i=_+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:_}=this;const{chunk:x}=this;for(;;){const S=this.getCode(),A=S===-2,B=A?10:S;if(B===-1||v.includes(B))return this.text+=x.slice(_,this.prevI),B;A&&(this.text+=x.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(v){let{i:_}=this;const{chunk:x}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=x.slice(_,this.prevI)+`
`,_=this.i,S=10;break;case-1:return this.text+=x.slice(_),!1}if(S===v)return this.text+=x.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:v,i:_}=this;for(;;){const x=this.getCode();if(x===-1)return this.name+=v.slice(_),-1;if(!d(x))return this.name+=v.slice(_,this.prevI),x===-2?10:x}}skipSpaces(){for(;;){const v=this.getCodeNorm();if(v===-1||!u(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const v=this.i,_=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;const _=this.captureTo(P);switch(_){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:I(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){const v=this.captureTo(U);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:I(v)&&(this.state=5,this.q=v))}sDTDQuoted(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){const v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const v=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=v;this.text+=v,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this;const{chunk:_}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{const{entityReturnState:x}=this,S=this.entity+_.slice(v,this.prevI);let A;this.state=x,S===""?(this.fail("empty entity name."),A="&;"):(A=this.parseEntity(S),this.entity=""),x===13&&this.textHandler===void 0||(this.text+=A);break t}case-1:this.entity+=_.slice(v);break t}}sOpenWaka(){const v=this.getCode();if(c(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;const _=this.getCodeNorm();_===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;const _=this.getCodeNorm();switch(_){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||u(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){const{chunk:v,i:_}=this;for(;;){const x=this.getCodeNorm();if(x===-1)return void(this.piTarget+=v.slice(_));if(!this.nameCheck(x)){this.piTarget+=v.slice(_,this.prevI);const S=x===63;S||u(x)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x));break}}}sPIBody(){if(this.text.length===0){const v=this.getCodeNorm();v===63?this.state=26:u(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;const _=this.getCodeNorm();if(_===62){const{piTarget:x}=this;x.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:x,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){const v=this.captureTo(W);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(v)||(I(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const x=_;this.xmlDecl.version=x,/^1\.[0-9]+$/.test(x)?this.opt.forceXMLVersion||this.setXMLVersion(x):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const v=this.getCodeNorm();v!==63?(u(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;const _=this.captureNameChars();if(_===-1)return;const x=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=x.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,x),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:u(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const v=this.skipSpaces();v!==-1&&(c(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const v=this.captureNameChars();v===61?this.state=39:u(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():c(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const v=this.getCodeNorm();I(v)?(this.q=v,this.state=40):u(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:v,chunk:_}=this;let{i:x}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+_.slice(x,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(x,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(x,this.prevI)+" ",x=this.i;break;case 60:return this.text+=_.slice(x,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(x))}}sAttribValueClosed(){const v=this.getCodeNorm();u(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:c(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const v=this.captureTo(z);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){const v=this.captureNameChars();v===62?this.closeTag():u(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:_}=this;const{chunk:x,textHandler:S}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:A}=this,B=x.slice(v,this.prevI);A.length!==0?(S(A+B),this.text=""):B.length!==0&&S(B)}_=0;break t;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=x.slice(v,this.prevI)),_=0;break t;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:S!==void 0&&(this.text+=x.slice(v,this.prevI)+`
`),v=this.i,_=0;break;case-1:S!==void 0&&(this.text+=x.slice(v));break t;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:v}=this;const{chunk:_,textHandler:x}=this;let S=!1;t:for(;;){const A=this.getCode();switch(A){case 60:if(this.state=15,x!==void 0){const{text:B}=this,M=_.slice(v,this.prevI);B.length!==0?(x(B+M),this.text=""):M.length!==0&&x(M)}break t;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=_.slice(v,this.prevI)),S=!0;break t;case-2:x!==void 0&&(this.text+=_.slice(v,this.prevI)+`
`),v=this.i;break;case-1:x!==void 0&&(this.text+=_.slice(v));break t;default:u(A)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,_){var x;const{prefix:S,local:A}=this.qname(v),B={name:v,prefix:S,local:A,value:_};if(this.attribList.push(B),(x=this.attributeHandler)===null||x===void 0||x.call(this,B),S==="xmlns"){const M=_.trim();this.currentXMLVersion==="1.0"&&M===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[A]=M,R(this,A,M)}else if(v==="xmlns"){const M=_.trim();this.topNS[""]=M,R(this,"",M)}}pushAttribPlain(v,_){var x;const S={name:v,value:_};this.attribList.push(S),(x=this.attributeHandler)===null||x===void 0||x.call(this,S)}end(){var v,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:x}=this;for(;x.length>0;){const A=x.pop();this.fail("unclosed tag: "+A.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,S),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(v){var _,x;let S=this.topNS[v];if(S!==void 0)return S;const{tags:A}=this;for(let B=A.length-1;B>=0;B--)if(S=A[B].ns[v],S!==void 0)return S;return S=this.ns[v],S!==void 0?S:(x=(_=this.opt).resolvePrefix)===null||x===void 0?void 0:x.call(_,v)}qname(v){const _=v.indexOf(":");if(_===-1)return{prefix:"",local:v};const x=v.slice(_+1),S=v.slice(0,_);return(S===""||x===""||x.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:S,local:x}}processAttribsNS(){var v;const{attribList:_}=this,x=this.tag;{const{prefix:B,local:M}=this.qname(x.name);x.prefix=B,x.local=M;const H=x.uri=(v=this.resolve(B))!==null&&v!==void 0?v:"";B!==""&&(B==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),H===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(B)}.`),x.uri=B))}if(_.length===0)return;const{attributes:S}=x,A=new Set;for(const B of _){const{name:M,prefix:H,local:V}=B;let tt,F;H===""?(tt=M==="xmlns"?w:"",F=M):(tt=this.resolve(H),tt===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(H)}.`),tt=H),F=`{${tt}}${V}`),A.has(F)&&this.fail(`duplicate attribute: ${F}.`),A.add(F),B.uri=tt,S[M]=B}this.attribList=[]}processAttribsPlain(){const{attribList:v}=this,_=this.tag.attributes;for(const{name:x,value:S}of v)_[x]!==void 0&&this.fail(`duplicate attribute: ${x}.`),_[x]=S;this.attribList=[]}openTag(){var v;this.processAttribs();const{tags:_}=this,x=this.tag;x.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,x),_.push(x),this.state=13,this.name=""}openSelfClosingTag(){var v,_,x;this.processAttribs();const{tags:S}=this,A=this.tag;A.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,A),(_=this.closeTagHandler)===null||_===void 0||_.call(this,A),(this.tag=(x=S[S.length-1])!==null&&x!==void 0?x:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:v,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const x=this.closeTagHandler;let S=v.length;for(;S-- >0;){const A=this.tag=v.pop();if(this.topNS=A.ns,x==null||x(A),A.name===_)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(v){if(v[0]!=="#"){const x=this.ENTITIES[v];return x!==void 0?x:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let _=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?_=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(_=parseInt(v.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,r,s){var i=t("safe-buffer").Buffer;function o(l,u){this._block=i.alloc(l),this._finalSize=u,this._blockSize=l,this._len=0}o.prototype.update=function(l,u){typeof l=="string"&&(u=u||"utf8",l=i.from(l,u));for(var a=this._block,c=this._blockSize,d=l.length,f=this._len,h=0;h<d;){for(var p=f%c,y=Math.min(d-h,c-p),m=0;m<y;m++)a[p+m]=l[h+m];h+=y,(f+=y)%c==0&&this._update(a)}return this._len+=d,this},o.prototype.digest=function(l){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var c=(4294967295&a)>>>0,d=(a-c)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var f=this._hash();return l?f.toString(l):f},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},r.exports=o},{"safe-buffer":494}],498:[function(t,r,s){var i=r.exports=function(o){o=o.toLowerCase();var l=i[o];if(!l)throw new Error(o+" is not supported (we accept pull requests)");return new l};i.sha=t("./sha"),i.sha1=t("./sha1"),i.sha224=t("./sha224"),i.sha256=t("./sha256"),i.sha384=t("./sha384"),i.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,r,s){var i=t("inherits"),o=t("./hash"),l=t("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,o.call(this,64,56)}function d(h){return h<<30|h>>>2}function f(h,p,y,m){return h===0?p&y|~p&m:h===2?p&y|p&m|y&m:p^y^m}i(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(h){for(var p,y=this._w,m=0|this._a,g=0|this._b,b=0|this._c,w=0|this._d,C=0|this._e,j=0;j<16;++j)y[j]=h.readInt32BE(4*j);for(;j<80;++j)y[j]=y[j-3]^y[j-8]^y[j-14]^y[j-16];for(var I=0;I<80;++I){var q=~~(I/20),P=0|((p=m)<<5|p>>>27)+f(q,g,b,w)+C+y[I]+u[q];C=w,w=b,b=d(g),g=m,m=P}this._a=m+this._a|0,this._b=g+this._b|0,this._c=b+this._c|0,this._d=w+this._d|0,this._e=C+this._e|0},c.prototype._hash=function(){var h=l.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,r,s){var i=t("inherits"),o=t("./hash"),l=t("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,o.call(this,64,56)}function d(p){return p<<5|p>>>27}function f(p){return p<<30|p>>>2}function h(p,y,m,g){return p===0?y&m|~y&g:p===2?y&m|y&g|m&g:y^m^g}i(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(p){for(var y,m=this._w,g=0|this._a,b=0|this._b,w=0|this._c,C=0|this._d,j=0|this._e,I=0;I<16;++I)m[I]=p.readInt32BE(4*I);for(;I<80;++I)m[I]=(y=m[I-3]^m[I-8]^m[I-14]^m[I-16])<<1|y>>>31;for(var q=0;q<80;++q){var P=~~(q/20),U=d(g)+h(P,b,w,C)+j+m[q]+u[P]|0;j=C,C=w,w=f(b),b=g,g=U}this._a=g+this._a|0,this._b=b+this._b|0,this._c=w+this._c|0,this._d=C+this._d|0,this._e=j+this._e|0},c.prototype._hash=function(){var p=l.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,r,s){var i=t("inherits"),o=t("./sha256"),l=t("./hash"),u=t("safe-buffer").Buffer,a=new Array(64);function c(){this.init(),this._w=a,l.call(this,64,56)}i(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var d=u.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},r.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,r,s){var i=t("inherits"),o=t("./hash"),l=t("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}function d(m,g,b){return b^m&(g^b)}function f(m,g,b){return m&g|b&(m|g)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function y(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(m){for(var g,b=this._w,w=0|this._a,C=0|this._b,j=0|this._c,I=0|this._d,q=0|this._e,P=0|this._f,U=0|this._g,W=0|this._h,z=0;z<16;++z)b[z]=m.readInt32BE(4*z);for(;z<64;++z)b[z]=0|(((g=b[z-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+b[z-7]+y(b[z-15])+b[z-16];for(var R=0;R<64;++R){var T=W+p(q)+d(q,P,U)+u[R]+b[R]|0,E=h(w)+f(w,C,j)|0;W=U,U=P,P=q,q=I+T|0,I=j,j=C,C=w,w=T+E|0}this._a=w+this._a|0,this._b=C+this._b|0,this._c=j+this._c|0,this._d=I+this._d|0,this._e=q+this._e|0,this._f=P+this._f|0,this._g=U+this._g|0,this._h=W+this._h|0},c.prototype._hash=function(){var m=l.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,r,s){var i=t("inherits"),o=t("./sha512"),l=t("./hash"),u=t("safe-buffer").Buffer,a=new Array(160);function c(){this.init(),this._w=a,l.call(this,128,112)}i(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var d=u.allocUnsafe(48);function f(h,p,y){d.writeInt32BE(h,y),d.writeInt32BE(p,y+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),d},r.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,r,s){var i=t("inherits"),o=t("./hash"),l=t("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}function d(C,j,I){return I^C&(j^I)}function f(C,j,I){return C&j|I&(C|j)}function h(C,j){return(C>>>28|j<<4)^(j>>>2|C<<30)^(j>>>7|C<<25)}function p(C,j){return(C>>>14|j<<18)^(C>>>18|j<<14)^(j>>>9|C<<23)}function y(C,j){return(C>>>1|j<<31)^(C>>>8|j<<24)^C>>>7}function m(C,j){return(C>>>1|j<<31)^(C>>>8|j<<24)^(C>>>7|j<<25)}function g(C,j){return(C>>>19|j<<13)^(j>>>29|C<<3)^C>>>6}function b(C,j){return(C>>>19|j<<13)^(j>>>29|C<<3)^(C>>>6|j<<26)}function w(C,j){return C>>>0<j>>>0?1:0}i(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(C){for(var j=this._w,I=0|this._ah,q=0|this._bh,P=0|this._ch,U=0|this._dh,W=0|this._eh,z=0|this._fh,R=0|this._gh,T=0|this._hh,E=0|this._al,k=0|this._bl,v=0|this._cl,_=0|this._dl,x=0|this._el,S=0|this._fl,A=0|this._gl,B=0|this._hl,M=0;M<32;M+=2)j[M]=C.readInt32BE(4*M),j[M+1]=C.readInt32BE(4*M+4);for(;M<160;M+=2){var H=j[M-30],V=j[M-30+1],tt=y(H,V),F=m(V,H),J=g(H=j[M-4],V=j[M-4+1]),L=b(V,H),N=j[M-14],Y=j[M-14+1],nt=j[M-32],lt=j[M-32+1],st=F+Y|0,pt=tt+N+w(st,F)|0;pt=(pt=pt+J+w(st=st+L|0,L)|0)+nt+w(st=st+lt|0,lt)|0,j[M]=pt,j[M+1]=st}for(var ft=0;ft<160;ft+=2){pt=j[ft],st=j[ft+1];var it=f(I,q,P),at=f(E,k,v),bt=h(I,E),gt=h(E,I),St=p(W,x),kt=p(x,W),Tt=u[ft],Lt=u[ft+1],Xt=d(W,z,R),re=d(x,S,A),ue=B+kt|0,ce=T+St+w(ue,B)|0;ce=(ce=(ce=ce+Xt+w(ue=ue+re|0,re)|0)+Tt+w(ue=ue+Lt|0,Lt)|0)+pt+w(ue=ue+st|0,st)|0;var de=gt+at|0,we=bt+it+w(de,gt)|0;T=R,B=A,R=z,A=S,z=W,S=x,W=U+ce+w(x=_+ue|0,_)|0,U=P,_=v,P=q,v=k,q=I,k=E,I=ce+we+w(E=ue+de|0,ue)|0}this._al=this._al+E|0,this._bl=this._bl+k|0,this._cl=this._cl+v|0,this._dl=this._dl+_|0,this._el=this._el+x|0,this._fl=this._fl+S|0,this._gl=this._gl+A|0,this._hl=this._hl+B|0,this._ah=this._ah+I+w(this._al,E)|0,this._bh=this._bh+q+w(this._bl,k)|0,this._ch=this._ch+P+w(this._cl,v)|0,this._dh=this._dh+U+w(this._dl,_)|0,this._eh=this._eh+W+w(this._el,x)|0,this._fh=this._fh+z+w(this._fl,S)|0,this._gh=this._gh+R+w(this._gl,A)|0,this._hh=this._hh+T+w(this._hl,B)|0},c.prototype._hash=function(){var C=l.allocUnsafe(64);function j(I,q,P){C.writeInt32BE(I,P),C.writeInt32BE(q,P+4)}return j(this._ah,this._al,0),j(this._bh,this._bl,8),j(this._ch,this._cl,16),j(this._dh,this._dl,24),j(this._eh,this._el,32),j(this._fh,this._fl,40),j(this._gh,this._gl,48),j(this._hh,this._hl,56),C},r.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,r,s){r.exports=o;var i=t("events").EventEmitter;function o(){i.call(this)}t("inherits")(o,i),o.Readable=t("readable-stream/readable.js"),o.Writable=t("readable-stream/writable.js"),o.Duplex=t("readable-stream/duplex.js"),o.Transform=t("readable-stream/transform.js"),o.PassThrough=t("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(l,u){var a=this;function c(g){l.writable&&l.write(g)===!1&&a.pause&&a.pause()}function d(){a.readable&&a.resume&&a.resume()}a.on("data",c),l.on("drain",d),l._isStdio||u&&u.end===!1||(a.on("end",h),a.on("close",p));var f=!1;function h(){f||(f=!0,l.end())}function p(){f||(f=!0,typeof l.destroy=="function"&&l.destroy())}function y(g){if(m(),i.listenerCount(this,"error")===0)throw g}function m(){a.removeListener("data",c),l.removeListener("drain",d),a.removeListener("end",h),a.removeListener("close",p),a.removeListener("error",y),l.removeListener("error",y),a.removeListener("end",m),a.removeListener("close",m),l.removeListener("close",m)}return a.on("error",y),l.on("error",y),a.on("end",m),a.on("close",m),l.on("close",m),l.emit("pipe",a),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,r,s){var i={}.toString;r.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},{}],507:[function(t,r,s){r.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,r,s){var i=t("process-nextick-args"),o=Object.keys||function(m){var g=[];for(var b in m)g.push(b);return g};r.exports=h;var l=Object.create(t("core-util-is"));l.inherits=t("inherits");var u=t("./_stream_readable"),a=t("./_stream_writable");l.inherits(h,u);for(var c=o(a.prototype),d=0;d<c.length;d++){var f=c[d];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(m){if(!(this instanceof h))return new h(m);u.call(this,m),a.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,g){this.push(null),this.end(),i.nextTick(g,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,r,s){r.exports=l;var i=t("./_stream_transform"),o=Object.create(t("core-util-is"));function l(u){if(!(this instanceof l))return new l(u);i.call(this,u)}o.inherits=t("inherits"),o.inherits(l,i),l.prototype._transform=function(u,a,c){c(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,r,s){(function(i,o){(function(){var l=t("process-nextick-args");r.exports=I;var u,a=t("isarray");I.ReadableState=j,t("events").EventEmitter;var c=function(B,M){return B.listeners(M).length},d=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(t("core-util-is"));p.inherits=t("inherits");var y=t("util"),m=void 0;m=y&&y.debuglog?y.debuglog("stream"):function(){};var g,b=t("./internal/streams/BufferList"),w=t("./internal/streams/destroy");p.inherits(I,d);var C=["error","close","destroy","pause","resume"];function j(B,M){B=B||{};var H=M instanceof(u=u||t("./_stream_duplex"));this.objectMode=!!B.objectMode,H&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var V=B.highWaterMark,tt=B.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=V||V===0?V:H&&(tt||tt===0)?tt:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g(B.encoding),this.encoding=B.encoding)}function I(B){if(u=u||t("./_stream_duplex"),!(this instanceof I))return new I(B);this._readableState=new j(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),d.call(this)}function q(B,M,H,V,tt){var F,J=B._readableState;return M===null?(J.reading=!1,function(L,N){if(!N.ended){if(N.decoder){var Y=N.decoder.end();Y&&Y.length&&(N.buffer.push(Y),N.length+=N.objectMode?1:Y.length)}N.ended=!0,W(L)}}(B,J)):(tt||(F=function(L,N){var Y;nt=N,f.isBuffer(nt)||nt instanceof h||typeof N=="string"||N===void 0||L.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk"));var nt;return Y}(J,M)),F?B.emit("error",F):J.objectMode||M&&M.length>0?(typeof M=="string"||J.objectMode||Object.getPrototypeOf(M)===f.prototype||(M=function(L){return f.from(L)}(M)),V?J.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):P(B,J,M,!0):J.ended?B.emit("error",new Error("stream.push() after EOF")):(J.reading=!1,J.decoder&&!H?(M=J.decoder.write(M),J.objectMode||M.length!==0?P(B,J,M,!1):R(B,J)):P(B,J,M,!1))):V||(J.reading=!1)),function(L){return!L.ended&&(L.needReadable||L.length<L.highWaterMark||L.length===0)}(J)}function P(B,M,H,V){M.flowing&&M.length===0&&!M.sync?(B.emit("data",H),B.read(0)):(M.length+=M.objectMode?1:H.length,V?M.buffer.unshift(H):M.buffer.push(H),M.needReadable&&W(B)),R(B,M)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),I.prototype.destroy=w.destroy,I.prototype._undestroy=w.undestroy,I.prototype._destroy=function(B,M){this.push(null),M(B)},I.prototype.push=function(B,M){var H,V=this._readableState;return V.objectMode?H=!0:typeof B=="string"&&((M=M||V.defaultEncoding)!==V.encoding&&(B=f.from(B,M),M=""),H=!0),q(this,B,M,!1,H)},I.prototype.unshift=function(B){return q(this,B,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(B){return g||(g=t("string_decoder/").StringDecoder),this._readableState.decoder=new g(B),this._readableState.encoding=B,this};function U(B,M){return B<=0||M.length===0&&M.ended?0:M.objectMode?1:B!=B?M.flowing&&M.length?M.buffer.head.data.length:M.length:(B>M.highWaterMark&&(M.highWaterMark=function(H){return H>=8388608?H=8388608:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(B)),B<=M.length?B:M.ended?M.length:(M.needReadable=!0,0))}function W(B){var M=B._readableState;M.needReadable=!1,M.emittedReadable||(m("emitReadable",M.flowing),M.emittedReadable=!0,M.sync?l.nextTick(z,B):z(B))}function z(B){m("emit readable"),B.emit("readable"),v(B)}function R(B,M){M.readingMore||(M.readingMore=!0,l.nextTick(T,B,M))}function T(B,M){for(var H=M.length;!M.reading&&!M.flowing&&!M.ended&&M.length<M.highWaterMark&&(m("maybeReadMore read 0"),B.read(0),H!==M.length);)H=M.length;M.readingMore=!1}function E(B){m("readable nexttick read 0"),B.read(0)}function k(B,M){M.reading||(m("resume read 0"),B.read(0)),M.resumeScheduled=!1,M.awaitDrain=0,B.emit("resume"),v(B),M.flowing&&!M.reading&&B.read(0)}function v(B){var M=B._readableState;for(m("flow",M.flowing);M.flowing&&B.read()!==null;);}function _(B,M){return M.length===0?null:(M.objectMode?H=M.buffer.shift():!B||B>=M.length?(H=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.head.data:M.buffer.concat(M.length),M.buffer.clear()):H=function(V,tt,F){var J;return V<tt.head.data.length?(J=tt.head.data.slice(0,V),tt.head.data=tt.head.data.slice(V)):J=V===tt.head.data.length?tt.shift():F?function(L,N){var Y=N.head,nt=1,lt=Y.data;for(L-=lt.length;Y=Y.next;){var st=Y.data,pt=L>st.length?st.length:L;if(pt===st.length?lt+=st:lt+=st.slice(0,L),(L-=pt)===0){pt===st.length?(++nt,Y.next?N.head=Y.next:N.head=N.tail=null):(N.head=Y,Y.data=st.slice(pt));break}++nt}return N.length-=nt,lt}(V,tt):function(L,N){var Y=f.allocUnsafe(L),nt=N.head,lt=1;for(nt.data.copy(Y),L-=nt.data.length;nt=nt.next;){var st=nt.data,pt=L>st.length?st.length:L;if(st.copy(Y,Y.length-L,0,pt),(L-=pt)===0){pt===st.length?(++lt,nt.next?N.head=nt.next:N.head=N.tail=null):(N.head=nt,nt.data=st.slice(pt));break}++lt}return N.length-=lt,Y}(V,tt),J}(B,M.buffer,M.decoder),H);var H}function x(B){var M=B._readableState;if(M.length>0)throw new Error('"endReadable()" called on non-empty stream');M.endEmitted||(M.ended=!0,l.nextTick(S,M,B))}function S(B,M){B.endEmitted||B.length!==0||(B.endEmitted=!0,M.readable=!1,M.emit("end"))}function A(B,M){for(var H=0,V=B.length;H<V;H++)if(B[H]===M)return H;return-1}I.prototype.read=function(B){m("read",B),B=parseInt(B,10);var M=this._readableState,H=B;if(B!==0&&(M.emittedReadable=!1),B===0&&M.needReadable&&(M.length>=M.highWaterMark||M.ended))return m("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?x(this):W(this),null;if((B=U(B,M))===0&&M.ended)return M.length===0&&x(this),null;var V,tt=M.needReadable;return m("need readable",tt),(M.length===0||M.length-B<M.highWaterMark)&&m("length less than watermark",tt=!0),M.ended||M.reading?m("reading or ended",tt=!1):tt&&(m("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(B=U(H,M))),(V=B>0?_(B,M):null)===null?(M.needReadable=!0,B=0):M.length-=B,M.length===0&&(M.ended||(M.needReadable=!0),H!==B&&M.ended&&x(this)),V!==null&&this.emit("data",V),V},I.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(B,M){var H=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=B;break;case 1:V.pipes=[V.pipes,B];break;default:V.pipes.push(B)}V.pipesCount+=1,m("pipe count=%d opts=%j",V.pipesCount,M);var tt=(!M||M.end!==!1)&&B!==i.stdout&&B!==i.stderr?J:ft;function F(it,at){m("onunpipe"),it===H&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,m("cleanup"),B.removeListener("close",st),B.removeListener("finish",pt),B.removeListener("drain",L),B.removeListener("error",lt),B.removeListener("unpipe",F),H.removeListener("end",J),H.removeListener("end",ft),H.removeListener("data",nt),N=!0,!V.awaitDrain||B._writableState&&!B._writableState.needDrain||L())}function J(){m("onend"),B.end()}V.endEmitted?l.nextTick(tt):H.once("end",tt),B.on("unpipe",F);var L=function(it){return function(){var at=it._readableState;m("pipeOnDrain",at.awaitDrain),at.awaitDrain&&at.awaitDrain--,at.awaitDrain===0&&c(it,"data")&&(at.flowing=!0,v(it))}}(H);B.on("drain",L);var N=!1,Y=!1;function nt(it){m("ondata"),Y=!1,B.write(it)!==!1||Y||((V.pipesCount===1&&V.pipes===B||V.pipesCount>1&&A(V.pipes,B)!==-1)&&!N&&(m("false write response, pause",V.awaitDrain),V.awaitDrain++,Y=!0),H.pause())}function lt(it){m("onerror",it),ft(),B.removeListener("error",lt),c(B,"error")===0&&B.emit("error",it)}function st(){B.removeListener("finish",pt),ft()}function pt(){m("onfinish"),B.removeListener("close",st),ft()}function ft(){m("unpipe"),H.unpipe(B)}return H.on("data",nt),function(it,at,bt){if(typeof it.prependListener=="function")return it.prependListener(at,bt);it._events&&it._events[at]?a(it._events[at])?it._events[at].unshift(bt):it._events[at]=[bt,it._events[at]]:it.on(at,bt)}(B,"error",lt),B.once("close",st),B.once("finish",pt),B.emit("pipe",H),V.flowing||(m("pipe resume"),H.resume()),B},I.prototype.unpipe=function(B){var M=this._readableState,H={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return B&&B!==M.pipes||(B||(B=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,B&&B.emit("unpipe",this,H)),this;if(!B){var V=M.pipes,tt=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var F=0;F<tt;F++)V[F].emit("unpipe",this,{hasUnpiped:!1});return this}var J=A(M.pipes,B);return J===-1||(M.pipes.splice(J,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),B.emit("unpipe",this,H)),this},I.prototype.on=function(B,M){var H=d.prototype.on.call(this,B,M);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var V=this._readableState;V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.emittedReadable=!1,V.reading?V.length&&W(this):l.nextTick(E,this))}return H},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var B=this._readableState;return B.flowing||(m("resume"),B.flowing=!0,function(M,H){H.resumeScheduled||(H.resumeScheduled=!0,l.nextTick(k,M,H))}(this,B)),this},I.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(B){var M=this,H=this._readableState,V=!1;for(var tt in B.on("end",function(){if(m("wrapped end"),H.decoder&&!H.ended){var J=H.decoder.end();J&&J.length&&M.push(J)}M.push(null)}),B.on("data",function(J){m("wrapped data"),H.decoder&&(J=H.decoder.write(J)),H.objectMode&&J==null||(H.objectMode||J&&J.length)&&(M.push(J)||(V=!0,B.pause()))}),B)this[tt]===void 0&&typeof B[tt]=="function"&&(this[tt]=function(J){return function(){return B[J].apply(B,arguments)}}(tt));for(var F=0;F<C.length;F++)B.on(C[F],this.emit.bind(this,C[F]));return this._read=function(J){m("wrapped _read",J),V&&(V=!1,B.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=_}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,r,s){r.exports=u;var i=t("./_stream_duplex"),o=Object.create(t("core-util-is"));function l(d,f){var h=this._transformState;h.transforming=!1;var p=h.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),p(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function u(d){if(!(this instanceof u))return new u(d);i.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",a)}function a(){var d=this;typeof this._flush=="function"?this._flush(function(f,h){c(d,f,h)}):c(this,null,null)}function c(d,f,h){if(f)return d.emit("error",f);if(h!=null&&d.push(h),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}o.inherits=t("inherits"),o.inherits(u,i),u.prototype.push=function(d,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,d,f)},u.prototype._transform=function(d,f,h){throw new Error("_transform() is not implemented")},u.prototype._write=function(d,f,h){var p=this._transformState;if(p.writecb=h,p.writechunk=d,p.writeencoding=f,!p.transforming){var y=this._readableState;(p.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},u.prototype._read=function(d){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},u.prototype._destroy=function(d,f){var h=this;i.prototype._destroy.call(this,d,function(p){f(p),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,r,s){(function(i,o,l){(function(){var u=t("process-nextick-args");function a(R){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(E,k,v){var _=E.entry;for(E.entry=null;_;){var x=_.callback;k.pendingcb--,x(v),_=_.next}k.corkedRequestsFree.next=E})(T,R)}}r.exports=j;var c,d=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?l:u.nextTick;j.WritableState=C;var f=Object.create(t("core-util-is"));f.inherits=t("inherits");var h={deprecate:t("util-deprecate")},p=t("./internal/streams/stream"),y=t("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,b=t("./internal/streams/destroy");function w(){}function C(R,T){c=c||t("./_stream_duplex"),R=R||{};var E=T instanceof c;this.objectMode=!!R.objectMode,E&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var k=R.highWaterMark,v=R.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:E&&(v||v===0)?v:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var x=R.decodeStrings===!1;this.decodeStrings=!x,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(A,B){var M=A._writableState,H=M.sync,V=M.writecb;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(M),B)(function(F,J,L,N,Y){--J.pendingcb,L?(u.nextTick(Y,N),u.nextTick(z,F,J),F._writableState.errorEmitted=!0,F.emit("error",N)):(Y(N),F._writableState.errorEmitted=!0,F.emit("error",N),z(F,J))})(A,M,H,B,V);else{var tt=U(M);tt||M.corked||M.bufferProcessing||!M.bufferedRequest||P(A,M),H?d(q,A,M,tt,V):q(A,M,tt,V)}})(T,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function j(R){if(c=c||t("./_stream_duplex"),!(g.call(j,this)||this instanceof c))return new j(R);this._writableState=new C(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),p.call(this)}function I(R,T,E,k,v,_,x){T.writelen=k,T.writecb=x,T.writing=!0,T.sync=!0,E?R._writev(v,T.onwrite):R._write(v,_,T.onwrite),T.sync=!1}function q(R,T,E,k){E||function(v,_){_.length===0&&_.needDrain&&(_.needDrain=!1,v.emit("drain"))}(R,T),T.pendingcb--,k(),z(R,T)}function P(R,T){T.bufferProcessing=!0;var E=T.bufferedRequest;if(R._writev&&E&&E.next){var k=T.bufferedRequestCount,v=new Array(k),_=T.corkedRequestsFree;_.entry=E;for(var x=0,S=!0;E;)v[x]=E,E.isBuf||(S=!1),E=E.next,x+=1;v.allBuffers=S,I(R,T,!0,T.length,v,"",_.finish),T.pendingcb++,T.lastBufferedRequest=null,_.next?(T.corkedRequestsFree=_.next,_.next=null):T.corkedRequestsFree=new a(T),T.bufferedRequestCount=0}else{for(;E;){var A=E.chunk,B=E.encoding,M=E.callback;if(I(R,T,!1,T.objectMode?1:A.length,A,B,M),E=E.next,T.bufferedRequestCount--,T.writing)break}E===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=E,T.bufferProcessing=!1}function U(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function W(R,T){R._final(function(E){T.pendingcb--,E&&R.emit("error",E),T.prefinished=!0,R.emit("prefinish"),z(R,T)})}function z(R,T){var E=U(T);return E&&(function(k,v){v.prefinished||v.finalCalled||(typeof k._final=="function"?(v.pendingcb++,v.finalCalled=!0,u.nextTick(W,k,v)):(v.prefinished=!0,k.emit("prefinish")))}(R,T),T.pendingcb===0&&(T.finished=!0,R.emit("finish"))),E}f.inherits(j,p),C.prototype.getBuffer=function(){for(var R=this.bufferedRequest,T=[];R;)T.push(R),R=R.next;return T},function(){try{Object.defineProperty(C.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(R){return!!g.call(this,R)||this===j&&R&&R._writableState instanceof C}})):g=function(R){return R instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(R,T,E){var k,v=this._writableState,_=!1,x=!v.objectMode&&(k=R,y.isBuffer(k)||k instanceof m);return x&&!y.isBuffer(R)&&(R=function(S){return y.from(S)}(R)),typeof T=="function"&&(E=T,T=null),x?T="buffer":T||(T=v.defaultEncoding),typeof E!="function"&&(E=w),v.ended?function(S,A){var B=new Error("write after end");S.emit("error",B),u.nextTick(A,B)}(this,E):(x||function(S,A,B,M){var H=!0,V=!1;return B===null?V=new TypeError("May not write null values to stream"):typeof B=="string"||B===void 0||A.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(S.emit("error",V),u.nextTick(M,V),H=!1),H}(this,v,R,E))&&(v.pendingcb++,_=function(S,A,B,M,H,V){if(!B){var tt=function(N,Y,nt){return N.objectMode||N.decodeStrings===!1||typeof Y!="string"||(Y=y.from(Y,nt)),Y}(A,M,H);M!==tt&&(B=!0,H="buffer",M=tt)}var F=A.objectMode?1:M.length;A.length+=F;var J=A.length<A.highWaterMark;if(J||(A.needDrain=!0),A.writing||A.corked){var L=A.lastBufferedRequest;A.lastBufferedRequest={chunk:M,encoding:H,isBuf:B,callback:V,next:null},L?L.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else I(S,A,!1,F,M,H,V);return J}(this,v,x,R,T,E)),_},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,R.writing||R.corked||R.bufferProcessing||!R.bufferedRequest||P(this,R))},j.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(R,T,E){E(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(R,T,E){var k=this._writableState;typeof R=="function"?(E=R,R=null,T=null):typeof T=="function"&&(E=T,T=null),R!=null&&this.write(R,T),k.corked&&(k.corked=1,this.uncork()),k.ending||function(v,_,x){_.ending=!0,z(v,_),x&&(_.finished?u.nextTick(x):v.once("finish",x)),_.ended=!0,v.writable=!1}(this,k,E)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),j.prototype.destroy=b.destroy,j.prototype._undestroy=b.undestroy,j.prototype._destroy=function(R,T){this.end(),T(R)}}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,r,s){var i=t("safe-buffer").Buffer,o=t("util");r.exports=function(){function l(){(function(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(u){var a={data:u,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},l.prototype.unshift=function(u){var a={data:u,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},l.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(u){if(this.length===0)return"";for(var a=this.head,c=""+a.data;a=a.next;)c+=u+a.data;return c},l.prototype.concat=function(u){if(this.length===0)return i.alloc(0);for(var a,c,d,f=i.allocUnsafe(u>>>0),h=this.head,p=0;h;)a=h.data,c=f,d=p,a.copy(c,d),p+=h.data.length,h=h.next;return f},l}(),o&&o.inspect&&o.inspect.custom&&(r.exports.prototype[o.inspect.custom]=function(){var l=o.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(t,r,s){var i=t("process-nextick-args");function o(l,u){l.emit("error",u)}r.exports={destroy:function(l,u){var a=this,c=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return c||d?(u?u(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,l)):i.nextTick(o,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(f){!u&&f?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,i.nextTick(o,a,f)):i.nextTick(o,a,f):u&&u(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,r,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(t,r,s){r.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,r,s){(s=r.exports=t("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=t("./lib/_stream_writable.js"),s.Duplex=t("./lib/_stream_duplex.js"),s.Transform=t("./lib/_stream_transform.js"),s.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,r,s){r.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,r,s){r.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,r,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(t,r,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,r,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,r,s){(function(i,o){(function(){var l=t("process/browser.js").nextTick,u=Function.prototype.apply,a=Array.prototype.slice,c={},d=0;function f(h,p){this._id=h,this._clearFn=p}s.setTimeout=function(){return new f(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(h,p){clearTimeout(h._idleTimeoutId),h._idleTimeout=p},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var p=h._idleTimeout;p>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},p))},s.setImmediate=typeof i=="function"?i:function(h){var p=d++,y=!(arguments.length<2)&&a.call(arguments,1);return c[p]=!0,l(function(){c[p]&&(y?h.apply(null,y):h.call(null),s.clearImmediate(p))}),p},s.clearImmediate=typeof o=="function"?o:function(h){delete c[h]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,r,s){(function(i){(function(){function o(l){try{if(!i.localStorage)return!1}catch{return!1}var u=i.localStorage[l];return u!=null&&String(u).toLowerCase()==="true"}r.exports=function(l,u){if(o("noDeprecation"))return l;var a=!1;return function(){if(!a){if(o("throwDeprecation"))throw new Error(u);o("traceDeprecation")?console.trace(u):console.warn(u),a=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,r,s){typeof Object.create=="function"?r.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(i,o){i.super_=o;var l=function(){};l.prototype=o.prototype,i.prototype=new l,i.prototype.constructor=i}},{}],526:[function(t,r,s){r.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(t,r,s){(function(i,o){(function(){var l=/%[sdj%]/g;s.format=function(v){if(!C(v)){for(var _=[],x=0;x<arguments.length;x++)_.push(c(arguments[x]));return _.join(" ")}x=1;for(var S=arguments,A=S.length,B=String(v).replace(l,function(H){if(H==="%%")return"%";if(x>=A)return H;switch(H){case"%s":return String(S[x++]);case"%d":return Number(S[x++]);case"%j":try{return JSON.stringify(S[x++])}catch{return"[Circular]"}default:return H}}),M=S[x];x<A;M=S[++x])b(M)||!q(M)?B+=" "+M:B+=" "+c(M);return B},s.deprecate=function(v,_){if(j(o.process))return function(){return s.deprecate(v,_).apply(this,arguments)};if(i.noDeprecation===!0)return v;var x=!1;return function(){if(!x){if(i.throwDeprecation)throw new Error(_);i.traceDeprecation?console.trace(_):console.error(_),x=!0}return v.apply(this,arguments)}};var u,a={};function c(v,_){var x={seen:[],stylize:f};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),g(_)?x.showHidden=_:_&&s._extend(x,_),j(x.showHidden)&&(x.showHidden=!1),j(x.depth)&&(x.depth=2),j(x.colors)&&(x.colors=!1),j(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=d),h(x,v,x.depth)}function d(v,_){var x=c.styles[_];return x?"\x1B["+c.colors[x][0]+"m"+v+"\x1B["+c.colors[x][1]+"m":v}function f(v,_){return v}function h(v,_,x){if(v.customInspect&&_&&W(_.inspect)&&_.inspect!==s.inspect&&(!_.constructor||_.constructor.prototype!==_)){var S=_.inspect(x,v);return C(S)||(S=h(v,S,x)),S}var A=function(L,N){if(j(N))return L.stylize("undefined","undefined");if(C(N)){var Y="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(Y,"string")}if(w(N))return L.stylize(""+N,"number");if(g(N))return L.stylize(""+N,"boolean");if(b(N))return L.stylize("null","null")}(v,_);if(A)return A;var B=Object.keys(_),M=function(L){var N={};return L.forEach(function(Y,nt){N[Y]=!0}),N}(B);if(v.showHidden&&(B=Object.getOwnPropertyNames(_)),U(_)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return p(_);if(B.length===0){if(W(_)){var H=_.name?": "+_.name:"";return v.stylize("[Function"+H+"]","special")}if(I(_))return v.stylize(RegExp.prototype.toString.call(_),"regexp");if(P(_))return v.stylize(Date.prototype.toString.call(_),"date");if(U(_))return p(_)}var V,tt="",F=!1,J=["{","}"];return m(_)&&(F=!0,J=["[","]"]),W(_)&&(tt=" [Function"+(_.name?": "+_.name:"")+"]"),I(_)&&(tt=" "+RegExp.prototype.toString.call(_)),P(_)&&(tt=" "+Date.prototype.toUTCString.call(_)),U(_)&&(tt=" "+p(_)),B.length!==0||F&&_.length!=0?x<0?I(_)?v.stylize(RegExp.prototype.toString.call(_),"regexp"):v.stylize("[Object]","special"):(v.seen.push(_),V=F?function(L,N,Y,nt,lt){for(var st=[],pt=0,ft=N.length;pt<ft;++pt)k(N,String(pt))?st.push(y(L,N,Y,nt,String(pt),!0)):st.push("");return lt.forEach(function(it){it.match(/^\d+$/)||st.push(y(L,N,Y,nt,it,!0))}),st}(v,_,x,M,B):B.map(function(L){return y(v,_,x,M,L,F)}),v.seen.pop(),function(L,N,Y){return L.reduce(function(nt,lt){return lt.indexOf(`
`)>=0,nt+lt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Y[0]+(N===""?"":N+`
 `)+" "+L.join(`,
  `)+" "+Y[1]:Y[0]+N+" "+L.join(", ")+" "+Y[1]}(V,tt,J)):J[0]+tt+J[1]}function p(v){return"["+Error.prototype.toString.call(v)+"]"}function y(v,_,x,S,A,B){var M,H,V;if((V=Object.getOwnPropertyDescriptor(_,A)||{value:_[A]}).get?H=V.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):V.set&&(H=v.stylize("[Setter]","special")),k(S,A)||(M="["+A+"]"),H||(v.seen.indexOf(V.value)<0?(H=b(x)?h(v,V.value,null):h(v,V.value,x-1)).indexOf(`
`)>-1&&(H=B?H.split(`
`).map(function(tt){return"  "+tt}).join(`
`).substr(2):`
`+H.split(`
`).map(function(tt){return"   "+tt}).join(`
`)):H=v.stylize("[Circular]","special")),j(M)){if(B&&A.match(/^\d+$/))return H;(M=JSON.stringify(""+A)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.substr(1,M.length-2),M=v.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=v.stylize(M,"string"))}return M+": "+H}function m(v){return Array.isArray(v)}function g(v){return typeof v=="boolean"}function b(v){return v===null}function w(v){return typeof v=="number"}function C(v){return typeof v=="string"}function j(v){return v===void 0}function I(v){return q(v)&&z(v)==="[object RegExp]"}function q(v){return typeof v=="object"&&v!==null}function P(v){return q(v)&&z(v)==="[object Date]"}function U(v){return q(v)&&(z(v)==="[object Error]"||v instanceof Error)}function W(v){return typeof v=="function"}function z(v){return Object.prototype.toString.call(v)}function R(v){return v<10?"0"+v.toString(10):v.toString(10)}s.debuglog=function(v){if(j(u)&&(u=i.env.NODE_DEBUG||""),v=v.toUpperCase(),!a[v])if(new RegExp("\\b"+v+"\\b","i").test(u)){var _=i.pid;a[v]=function(){var x=s.format.apply(s,arguments);console.error("%s %d: %s",v,_,x)}}else a[v]=function(){};return a[v]},s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=g,s.isNull=b,s.isNullOrUndefined=function(v){return v==null},s.isNumber=w,s.isString=C,s.isSymbol=function(v){return typeof v=="symbol"},s.isUndefined=j,s.isRegExp=I,s.isObject=q,s.isDate=P,s.isError=U,s.isFunction=W,s.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},s.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var v=new Date,_=[R(v.getHours()),R(v.getMinutes()),R(v.getSeconds())].join(":");return[v.getDate(),T[v.getMonth()],_].join(" ")}function k(v,_){return Object.prototype.hasOwnProperty.call(v,_)}s.log=function(){console.log("%s - %s",E(),s.format.apply(s,arguments))},s.inherits=t("inherits"),s._extend=function(v,_){if(!_||!q(_))return v;for(var x=Object.keys(_),S=x.length;S--;)v[x[S]]=_[x[S]];return v}}).call(this)}).call(this,t("_process"),typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return h.default}});var i=p(t("./v1.js")),o=p(t("./v3.js")),l=p(t("./v4.js")),u=p(t("./v5.js")),a=p(t("./nil.js")),c=p(t("./version.js")),d=p(t("./validate.js")),f=p(t("./stringify.js")),h=p(t("./parse.js"));function p(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,r,s){function i(h){return 14+(h+64>>>9<<4)+1}function o(h,p){const y=(65535&h)+(65535&p);return(h>>16)+(p>>16)+(y>>16)<<16|65535&y}function l(h,p,y,m,g,b){return o((w=o(o(p,h),o(m,b)))<<(C=g)|w>>>32-C,y);var w,C}function u(h,p,y,m,g,b,w){return l(p&y|~p&m,h,p,g,b,w)}function a(h,p,y,m,g,b,w){return l(p&m|y&~m,h,p,g,b,w)}function c(h,p,y,m,g,b,w){return l(p^y^m,h,p,g,b,w)}function d(h,p,y,m,g,b,w){return l(y^(p|~m),h,p,g,b,w)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var f=function(h){if(typeof h=="string"){const p=unescape(encodeURIComponent(h));h=new Uint8Array(p.length);for(let y=0;y<p.length;++y)h[y]=p.charCodeAt(y)}return function(p){const y=[],m=32*p.length;for(let g=0;g<m;g+=8){const b=p[g>>5]>>>g%32&255,w=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);y.push(w)}return y}(function(p,y){p[y>>5]|=128<<y%32,p[i(y)-1]=y;let m=1732584193,g=-271733879,b=-1732584194,w=271733878;for(let C=0;C<p.length;C+=16){const j=m,I=g,q=b,P=w;m=u(m,g,b,w,p[C],7,-680876936),w=u(w,m,g,b,p[C+1],12,-389564586),b=u(b,w,m,g,p[C+2],17,606105819),g=u(g,b,w,m,p[C+3],22,-1044525330),m=u(m,g,b,w,p[C+4],7,-176418897),w=u(w,m,g,b,p[C+5],12,1200080426),b=u(b,w,m,g,p[C+6],17,-1473231341),g=u(g,b,w,m,p[C+7],22,-45705983),m=u(m,g,b,w,p[C+8],7,1770035416),w=u(w,m,g,b,p[C+9],12,-1958414417),b=u(b,w,m,g,p[C+10],17,-42063),g=u(g,b,w,m,p[C+11],22,-1990404162),m=u(m,g,b,w,p[C+12],7,1804603682),w=u(w,m,g,b,p[C+13],12,-40341101),b=u(b,w,m,g,p[C+14],17,-1502002290),g=u(g,b,w,m,p[C+15],22,1236535329),m=a(m,g,b,w,p[C+1],5,-165796510),w=a(w,m,g,b,p[C+6],9,-1069501632),b=a(b,w,m,g,p[C+11],14,643717713),g=a(g,b,w,m,p[C],20,-373897302),m=a(m,g,b,w,p[C+5],5,-701558691),w=a(w,m,g,b,p[C+10],9,38016083),b=a(b,w,m,g,p[C+15],14,-660478335),g=a(g,b,w,m,p[C+4],20,-405537848),m=a(m,g,b,w,p[C+9],5,568446438),w=a(w,m,g,b,p[C+14],9,-1019803690),b=a(b,w,m,g,p[C+3],14,-187363961),g=a(g,b,w,m,p[C+8],20,1163531501),m=a(m,g,b,w,p[C+13],5,-1444681467),w=a(w,m,g,b,p[C+2],9,-51403784),b=a(b,w,m,g,p[C+7],14,1735328473),g=a(g,b,w,m,p[C+12],20,-1926607734),m=c(m,g,b,w,p[C+5],4,-378558),w=c(w,m,g,b,p[C+8],11,-2022574463),b=c(b,w,m,g,p[C+11],16,1839030562),g=c(g,b,w,m,p[C+14],23,-35309556),m=c(m,g,b,w,p[C+1],4,-1530992060),w=c(w,m,g,b,p[C+4],11,1272893353),b=c(b,w,m,g,p[C+7],16,-155497632),g=c(g,b,w,m,p[C+10],23,-1094730640),m=c(m,g,b,w,p[C+13],4,681279174),w=c(w,m,g,b,p[C],11,-358537222),b=c(b,w,m,g,p[C+3],16,-722521979),g=c(g,b,w,m,p[C+6],23,76029189),m=c(m,g,b,w,p[C+9],4,-640364487),w=c(w,m,g,b,p[C+12],11,-421815835),b=c(b,w,m,g,p[C+15],16,530742520),g=c(g,b,w,m,p[C+2],23,-995338651),m=d(m,g,b,w,p[C],6,-198630844),w=d(w,m,g,b,p[C+7],10,1126891415),b=d(b,w,m,g,p[C+14],15,-1416354905),g=d(g,b,w,m,p[C+5],21,-57434055),m=d(m,g,b,w,p[C+12],6,1700485571),w=d(w,m,g,b,p[C+3],10,-1894986606),b=d(b,w,m,g,p[C+10],15,-1051523),g=d(g,b,w,m,p[C+1],21,-2054922799),m=d(m,g,b,w,p[C+8],6,1873313359),w=d(w,m,g,b,p[C+15],10,-30611744),b=d(b,w,m,g,p[C+6],15,-1560198380),g=d(g,b,w,m,p[C+13],21,1309151649),m=d(m,g,b,w,p[C+4],6,-145523070),w=d(w,m,g,b,p[C+11],10,-1120210379),b=d(b,w,m,g,p[C+2],15,718787259),g=d(g,b,w,m,p[C+9],21,-343485551),m=o(m,j),g=o(g,I),b=o(b,q),w=o(w,P)}return[m,g,b,w]}(function(p){if(p.length===0)return[];const y=8*p.length,m=new Uint32Array(i(y));for(let g=0;g<y;g+=8)m[g>>5]|=(255&p[g/8])<<g%32;return m}(h),8*h.length))};s.default=f},{}],530:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=t("./validate.js"))&&i.__esModule?i:{default:i},l=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");let a;const c=new Uint8Array(16);return c[0]=(a=parseInt(u.slice(0,8),16))>>>24,c[1]=a>>>16&255,c[2]=a>>>8&255,c[3]=255&a,c[4]=(a=parseInt(u.slice(9,13),16))>>>8,c[5]=255&a,c[6]=(a=parseInt(u.slice(14,18),16))>>>8,c[7]=255&a,c[8]=(a=parseInt(u.slice(19,23),16))>>>8,c[9]=255&a,c[10]=(a=parseInt(u.slice(24,36),16))/1099511627776&255,c[11]=a/4294967296&255,c[12]=a>>>24&255,c[13]=a>>>16&255,c[14]=a>>>8&255,c[15]=255&a,c};s.default=l},{"./validate.js":541}],532:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,r,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)};const o=new Uint8Array(16)},{}],534:[function(t,r,s){function i(u,a,c,d){switch(u){case 0:return a&c^~a&d;case 1:return a^c^d;case 2:return a&c^a&d^c&d;case 3:return a^c^d}}function o(u,a){return u<<a|u>>>32-a}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(u){const a=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const p=unescape(encodeURIComponent(u));u=[];for(let y=0;y<p.length;++y)u.push(p.charCodeAt(y))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const d=u.length/4+2,f=Math.ceil(d/16),h=new Array(f);for(let p=0;p<f;++p){const y=new Uint32Array(16);for(let m=0;m<16;++m)y[m]=u[64*p+4*m]<<24|u[64*p+4*m+1]<<16|u[64*p+4*m+2]<<8|u[64*p+4*m+3];h[p]=y}h[f-1][14]=8*(u.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(u.length-1)&4294967295;for(let p=0;p<f;++p){const y=new Uint32Array(80);for(let j=0;j<16;++j)y[j]=h[p][j];for(let j=16;j<80;++j)y[j]=o(y[j-3]^y[j-8]^y[j-14]^y[j-16],1);let m=c[0],g=c[1],b=c[2],w=c[3],C=c[4];for(let j=0;j<80;++j){const I=Math.floor(j/20),q=o(m,5)+i(I,g,b,w)+C+a[I]+y[j]>>>0;C=w,w=b,b=o(g,30)>>>0,g=m,m=q}c[0]=c[0]+m>>>0,c[1]=c[1]+g>>>0,c[2]=c[2]+b>>>0,c[3]=c[3]+w>>>0,c[4]=c[4]+C>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};s.default=l},{}],535:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=t("./validate.js"))&&i.__esModule?i:{default:i};const l=[];for(let a=0;a<256;++a)l.push((a+256).toString(16).substr(1));var u=function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(l[a[c+0]]+l[a[c+1]]+l[a[c+2]]+l[a[c+3]]+"-"+l[a[c+4]]+l[a[c+5]]+"-"+l[a[c+6]]+l[a[c+7]]+"-"+l[a[c+8]]+l[a[c+9]]+"-"+l[a[c+10]]+l[a[c+11]]+l[a[c+12]]+l[a[c+13]]+l[a[c+14]]+l[a[c+15]]).toLowerCase();if(!(0,o.default)(d))throw TypeError("Stringified UUID is invalid");return d};s.default=u},{"./validate.js":541}],536:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(t("./rng.js")),o=l(t("./stringify.js"));function l(h){return h&&h.__esModule?h:{default:h}}let u,a,c=0,d=0;var f=function(h,p,y){let m=p&&y||0;const g=p||new Array(16);let b=(h=h||{}).node||u,w=h.clockseq!==void 0?h.clockseq:a;if(b==null||w==null){const U=h.random||(h.rng||i.default)();b==null&&(b=u=[1|U[0],U[1],U[2],U[3],U[4],U[5]]),w==null&&(w=a=16383&(U[6]<<8|U[7]))}let C=h.msecs!==void 0?h.msecs:Date.now(),j=h.nsecs!==void 0?h.nsecs:d+1;const I=C-c+(j-d)/1e4;if(I<0&&h.clockseq===void 0&&(w=w+1&16383),(I<0||C>c)&&h.nsecs===void 0&&(j=0),j>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=C,d=j,a=w,C+=122192928e5;const q=(1e4*(268435455&C)+j)%4294967296;g[m++]=q>>>24&255,g[m++]=q>>>16&255,g[m++]=q>>>8&255,g[m++]=255&q;const P=C/4294967296*1e4&268435455;g[m++]=P>>>8&255,g[m++]=255&P,g[m++]=P>>>24&15|16,g[m++]=P>>>16&255,g[m++]=w>>>8|128,g[m++]=255&w;for(let U=0;U<6;++U)g[m+U]=b[U];return p||(0,o.default)(g)};s.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(t("./v35.js")),o=l(t("./md5.js"));function l(a){return a&&a.__esModule?a:{default:a}}var u=(0,i.default)("v3",48,o.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(c,d,f){function h(p,y,m,g){if(typeof p=="string"&&(p=function(w){w=unescape(encodeURIComponent(w));const C=[];for(let j=0;j<w.length;++j)C.push(w.charCodeAt(j));return C}(p)),typeof y=="string"&&(y=(0,o.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+p.length);if(b.set(y),b.set(p,y.length),b=f(b),b[6]=15&b[6]|d,b[8]=63&b[8]|128,m){g=g||0;for(let w=0;w<16;++w)m[g+w]=b[w];return m}return(0,i.default)(b)}try{h.name=c}catch{}return h.DNS=u,h.URL=a,h},s.URL=s.DNS=void 0;var i=l(t("./stringify.js")),o=l(t("./parse.js"));function l(c){return c&&c.__esModule?c:{default:c}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(t("./rng.js")),o=l(t("./stringify.js"));function l(a){return a&&a.__esModule?a:{default:a}}var u=function(a,c,d){const f=(a=a||{}).random||(a.rng||i.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,c){d=d||0;for(let h=0;h<16;++h)c[d+h]=f[h];return c}return(0,o.default)(f)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(t("./v35.js")),o=l(t("./sha1.js"));function l(a){return a&&a.__esModule?a:{default:a}}var u=(0,i.default)("v5",80,o.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=t("./regex.js"))&&i.__esModule?i:{default:i},l=function(u){return typeof u=="string"&&o.default.test(u)};s.default=l},{"./regex.js":532}],542:[function(t,r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,o=(i=t("./validate.js"))&&i.__esModule?i:{default:i},l=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=l},{"./validate.js":541}],543:[function(t,r,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=i,s.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(t,r,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},s.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=i,s.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(t,r,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(o){return i(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(x3);var xk=x3.exports;const _k=fg(xk);async function Sk(n,e){var b;if(!n.grid)throw new Error("Project has no grid data");const{grid:t,palette:r,settings:s}=n,{includeColorLegend:i,cellSize:o,selection:l}=e,u=l?Math.min(l.startRow,l.endRow):0,a=l?Math.max(l.startRow,l.endRow):s.height-1,c=l?Math.min(l.startCol,l.endCol):0,f=(l?Math.max(l.startCol,l.endCol):s.width-1)-c+1,h=a-u+1,p=new _k.Workbook;p.creator="StitchFizzle",p.created=new Date;const y=p.addWorksheet("Chart",{views:[{showGridLines:!0}]}),m=new Map(r.map(w=>[w.id,w]));for(let w=1;w<=f;w++)y.getColumn(w).width=o;for(let w=0;w<h;w++){const C=y.getRow(w+1);C.height=o*5;for(let j=0;j<f;j++){const I=(b=t.cells[u+w])==null?void 0:b[c+j],q=C.getCell(j+1);if(I!=null&&I.colorId){const P=m.get(I.colorId);P&&(q.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF"+P.color.replace("#","")}},q.value=P.abbreviation,q.alignment={horizontal:"center",vertical:"middle"},q.font={size:8,color:{argb:kk(P.color)}})}q.border={top:{style:"thin",color:{argb:"FFCCCCCC"}},left:{style:"thin",color:{argb:"FFCCCCCC"}},bottom:{style:"thin",color:{argb:"FFCCCCCC"}},right:{style:"thin",color:{argb:"FFCCCCCC"}}}}}if(i&&r.length>0){const w=p.addWorksheet("Color Legend");w.getColumn(1).width=5,w.getColumn(2).width=20,w.getColumn(3).width=10;const C=w.getRow(1);C.getCell(1).value="Color",C.getCell(2).value="Name",C.getCell(3).value="Abbrev",C.font={bold:!0},r.forEach((j,I)=>{const q=w.getRow(I+2),P=q.getCell(1);P.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF"+j.color.replace("#","")}},P.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},q.getCell(2).value=j.name,q.getCell(3).value=j.abbreviation})}const g=await p.xlsx.writeBuffer();return new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}function kk(n){const e=n.replace("#",""),t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16);return(.299*t+.587*r+.114*s)/255>.5?"FF000000":"FFFFFFFF"}async function Ck(n,e){const t=await Sk(n,e),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`${n.name.replace(/[^a-zA-Z0-9-_]/g,"_")}.xlsx`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function Tk(){const n=be(U=>U.project),e=be(U=>U.selection),t=yn(U=>U.closeDialog),[r,s]=Te.useState("png"),[i,o]=Te.useState("medium"),[l,u]=Te.useState(1200),[a,c]=Te.useState(1),[d,f]=Te.useState(20),[h,p]=Te.useState(3),[y,m]=Te.useState(!0),[g,b]=Te.useState(!0),[w,C]=Te.useState(!1),[j,I]=Te.useState(!1);if(!n)return null;const q=!!e,P=async()=>{if(n){I(!0);try{const U=w&&e?{startRow:e.startRow,endRow:e.endRow,startCol:e.startCol,endCol:e.endCol}:void 0;switch(r){case"json":fS(n);break;case"png":await gS(n,{size:i,customWidth:i==="custom"?l:void 0,includeGridLines:y,includeLegend:g,backgroundColor:"#ffffff",selection:U});break;case"svg":vS(n,{cellSize:d,includeGridLines:y,includeLegend:g,backgroundColor:"#ffffff",selection:U});break;case"pdf":await wk(n,{pages:a,includeGridLines:y,includeLegend:g,backgroundColor:"#ffffff",selection:U});break;case"xlsx":await Ck(n,{includeColorLegend:g,cellSize:h,selection:U});break}t()}catch(U){console.error("Export failed:",U),alert("Export failed. Please try again.")}finally{I(!1)}}};return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-[420px] max-h-[90vh] overflow-y-auto",children:[Z.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Export Chart"}),Z.jsxs("div",{className:"mb-6",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Format"}),Z.jsx("div",{className:"grid grid-cols-5 gap-2",children:["json","png","svg","pdf","xlsx"].map(U=>Z.jsx("button",{onClick:()=>s(U),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${r===U?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:U.toUpperCase()},U))})]}),r==="png"&&Z.jsxs("div",{className:"mb-6 space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Size"}),Z.jsx("div",{className:"grid grid-cols-4 gap-2",children:["small","medium","large","custom"].map(U=>Z.jsx("button",{onClick:()=>o(U),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${i===U?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:U==="small"?"600px":U==="medium"?"1200px":U==="large"?"2000px":"Custom"},U))})]}),i==="custom"&&Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width (pixels)"}),Z.jsx("input",{type:"number",value:l,onChange:U=>u(Number(U.target.value)),min:100,max:1e4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r==="svg"&&Z.jsxs("div",{className:"mb-6",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cell Size (pixels)"}),Z.jsx("input",{type:"number",value:d,onChange:U=>f(Number(U.target.value)),min:5,max:100,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),r==="pdf"&&Z.jsxs("div",{className:"mb-6",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pages"}),Z.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,4,9,16].map(U=>Z.jsxs("button",{onClick:()=>c(U),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${a===U?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[U," ",U===1?"page":"pages"]},U))}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Multi-page exports split the chart across pages for detailed printing."})]}),r==="xlsx"&&Z.jsxs("div",{className:"mb-6",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cell Size (Excel units)"}),Z.jsx("input",{type:"number",value:h,onChange:U=>p(Number(U.target.value)),min:1,max:20,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Excel export creates a spreadsheet with colored cells. Great for printing or sharing."})]}),r!=="json"&&Z.jsxs("div",{className:"mb-6 space-y-3",children:[Z.jsxs("label",{className:"flex items-center gap-3",children:[Z.jsx("input",{type:"checkbox",checked:y,onChange:U=>m(U.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),Z.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Include grid lines"})]}),Z.jsxs("label",{className:"flex items-center gap-3",children:[Z.jsx("input",{type:"checkbox",checked:g,onChange:U=>b(U.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),Z.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Include color legend"})]}),q&&Z.jsxs("label",{className:"flex items-center gap-3",children:[Z.jsx("input",{type:"checkbox",checked:w,onChange:U=>C(U.target.checked),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),Z.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Export selection only"})]})]}),r==="json"&&Z.jsx("div",{className:"mb-6 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:Z.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"JSON exports the complete project including all grid data, colors, and settings. Use this format for backups and sharing."})}),Z.jsxs("div",{className:"flex gap-3",children:[Z.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),Z.jsx("button",{onClick:P,disabled:j,className:"flex-1 px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:j?"Exporting...":"Export"})]})]})})}function Ak(){const n=yn(p=>p.closeDialog),e=yn(p=>p.setView),t=Te.useRef(null),[r,s]=Te.useState(null),[i,o]=Te.useState(!1),[l,u]=Te.useState(!1),a=async p=>{s(null),u(!0);try{const y=await p.text(),m=dS(y);if(!m){s("Invalid file format. Please select a valid StitchFizzle JSON file."),u(!1);return}m.id=ga(),m.name=`${m.name} (imported)`,m.updatedAt=new Date,await Sh(m),await be.getState().loadProject(m.id)?(n(),e("editor")):s("Failed to load the imported project.")}catch(y){console.error("Import failed:",y),s("Failed to import file. Please check the file format.")}finally{u(!1)}},c=p=>{p.preventDefault(),o(!1);const y=p.dataTransfer.files[0];y&&y.name.endsWith(".json")?a(y):s("Please drop a JSON file.")},d=p=>{p.preventDefault(),o(!0)},f=()=>{o(!1)},h=p=>{var m;const y=(m=p.target.files)==null?void 0:m[0];y&&a(y)};return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 w-[420px]",children:[Z.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Import Project"}),Z.jsxs("div",{onDrop:c,onDragOver:d,onDragLeave:f,onClick:()=>{var p;return(p=t.current)==null?void 0:p.click()},className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-colors ${i?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[Z.jsx("div",{className:"text-4xl mb-3",children:""}),Z.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-1",children:"Drag & drop a JSON file here"}),Z.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"or click to browse"}),Z.jsx("input",{ref:t,type:"file",accept:".json",onChange:h,className:"hidden"})]}),r&&Z.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:Z.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})}),l&&Z.jsx("div",{className:"mt-4 text-center text-gray-600 dark:text-gray-300",children:"Importing..."}),Z.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Supported formats: StitchFizzle JSON (.json)"})}),Z.jsx("div",{className:"flex gap-3 mt-6",children:Z.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})})]})})}function Mk(n,e){if(!n.grid)throw new Error("Project has no grid data");const{grid:t,palette:r,settings:s,chartType:i}=n,{direction:o,includeRowNumbers:l,includeStitchCounts:u,format:a,c2cNotation:c}=e,d=new Map(r.map(g=>[g.id,g.abbreviation||g.name.substring(0,3)])),f=new Map(r.map(g=>[g.id,g.name])),h=[...t.cells];o==="bottom-to-top"&&h.reverse();const p=[];let y=0;const m=new Set;if(a==="markdown"){p.push(`# ${n.name}`),p.push(""),p.push(`Chart type: ${Nb(i)}`),p.push(`Size: ${s.width} x ${s.height}`),p.push(""),p.push("## Color Legend"),p.push("");for(const g of r)p.push(`- **${g.abbreviation||g.name.substring(0,3)}**: ${g.name}`);p.push(""),p.push("## Instructions"),p.push("")}else{p.push(n.name),p.push("-".repeat(n.name.length)),p.push(""),p.push(`Chart type: ${Nb(i)}`),p.push(`Size: ${s.width} x ${s.height}`),p.push(""),p.push("Color Legend:");for(const g of r)p.push(`  ${g.abbreviation||g.name.substring(0,3)} = ${g.name}`);p.push(""),p.push("Instructions:"),p.push("")}return i==="c2c"&&c?(p.push(...Ek(h,d,f,m,l,a)),y=h.reduce((g,b)=>g+b.filter(w=>w.colorId).length,0)):h.forEach((g,b)=>{const w=o==="bottom-to-top"?s.height-b:b+1,C=jk(g,d,m),j=g.filter(q=>q.colorId).length;y+=j;let I="";l&&(I+=a==="markdown"?`**Row ${w}:** `:`Row ${w}: `),I+=C,u&&j>0&&(I+=` (${j} stitches)`),p.push(I)}),p.push(""),a==="markdown"?(p.push("## Summary"),p.push(""),p.push(`- Total rows: ${s.height}`),p.push(`- Total stitches: ${y}`),p.push(`- Colors used: ${m.size}`)):(p.push("Summary:"),p.push(`  Total rows: ${s.height}`),p.push(`  Total stitches: ${y}`),p.push(`  Colors used: ${m.size}`)),{text:p.join(`
`),rowCount:s.height,totalStitches:y,colorsUsed:Array.from(m)}}function jk(n,e,t){const r=[];for(const s of n){const i=r[r.length-1];i&&i.color===s.colorId?i.count++:r.push({color:s.colorId,count:1}),s.colorId&&t.add(s.colorId)}return r.filter(s=>s.color!==null).map(s=>{const i=e.get(s.color)||"?";return s.count>1?`${s.count}${i}`:i}).join(", ")}function Ek(n,e,t,r,s,i){var c;const o=[],l=n.length,u=((c=n[0])==null?void 0:c.length)||0;let a=1;for(let d=l-1;d>=0;d--){const f=[];let h=d,p=0;for(;h<l&&p<u;){f.push({color:n[h][p].colorId});const b=n[h][p].colorId;b&&r.add(b),h++,p++}const y=Eb(f,e),m=a<=Math.min(l,u)?"Inc":"Dec";let g="";s&&(g+=i==="markdown"?`**Row ${a} (${m}):** `:`Row ${a} (${m}): `),g+=y,o.push(g),a++}for(let d=1;d<u;d++){const f=[];let h=0,p=d;for(;h<l&&p<u;){f.push({color:n[h][p].colorId});const g=n[h][p].colorId;g&&r.add(g),h++,p++}const y=Eb(f,e);let m="";s&&(m+=i==="markdown"?`**Row ${a} (Dec):** `:`Row ${a} (Dec): `),m+=y,o.push(m),a++}return o}function Eb(n,e){const t=[];for(const r of n){const s=t[t.length-1];s&&s.color===r.color?s.count++:t.push({color:r.color,count:1})}return t.filter(r=>r.color!==null).map(r=>{const s=e.get(r.color)||"?";return r.count>1?`${r.count}${s}`:s}).join(", ")}function Nb(n){return{c2c:"Corner to Corner (C2C)",colorwork:"Colorwork",filet:"Filet Crochet",mosaic:"Overlay Mosaic",freeform:"Freeform",tunisian:"Tunisian"}[n]}function Nk(n){return navigator.clipboard.writeText(n)}function Ok(n,e){const t=new Blob([n],{type:"text/plain"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}function Pk(){const n=be(u=>u.project),e=yn(u=>u.closeDialog),t=yn(u=>u.addToast),[r,s]=Te.useState({direction:"bottom-to-top",includeRowNumbers:!0,includeStitchCounts:!0,format:"plain",c2cNotation:(n==null?void 0:n.chartType)==="c2c"}),i=Te.useMemo(()=>{if(!n)return null;try{return Mk(n,r)}catch{return null}},[n,r]);if(!n)return null;const o=async()=>{i&&(await Nk(i.text),t("Copied to clipboard","success"))},l=()=>{if(i){const u=r.format==="markdown"?"md":"txt";Ok(i.text,`${n.name.replace(/[^a-zA-Z0-9-_]/g,"_")}_instructions.${u}`)}};return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-[700px] max-h-[90vh] flex flex-col",children:[Z.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:Z.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Written Instructions"})}),Z.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 space-y-4",children:[Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Direction"}),Z.jsxs("select",{value:r.direction,onChange:u=>s({...r,direction:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"bottom-to-top",children:"Bottom to Top"}),Z.jsx("option",{value:"top-to-bottom",children:"Top to Bottom"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Format"}),Z.jsxs("select",{value:r.format,onChange:u=>s({...r,format:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"plain",children:"Plain Text"}),Z.jsx("option",{value:"markdown",children:"Markdown"})]})]})]}),Z.jsxs("div",{className:"flex flex-wrap gap-4",children:[Z.jsxs("label",{className:"flex items-center gap-2",children:[Z.jsx("input",{type:"checkbox",checked:r.includeRowNumbers,onChange:u=>s({...r,includeRowNumbers:u.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),Z.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Row numbers"})]}),Z.jsxs("label",{className:"flex items-center gap-2",children:[Z.jsx("input",{type:"checkbox",checked:r.includeStitchCounts,onChange:u=>s({...r,includeStitchCounts:u.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),Z.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Stitch counts"})]}),n.chartType==="c2c"&&Z.jsxs("label",{className:"flex items-center gap-2",children:[Z.jsx("input",{type:"checkbox",checked:r.c2cNotation,onChange:u=>s({...r,c2cNotation:u.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500"}),Z.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"C2C diagonal notation"})]})]})]}),Z.jsx("div",{className:"flex-1 overflow-hidden p-4",children:i?Z.jsxs("div",{className:"h-full flex flex-col",children:[Z.jsx("div",{className:"flex items-center justify-between mb-2",children:Z.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i.rowCount," rows, ",i.totalStitches," stitches,"," ",i.colorsUsed.length," colors"]})}),Z.jsx("div",{className:"flex-1 overflow-auto",children:Z.jsx("pre",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-mono bg-gray-50 dark:bg-gray-900 p-4 rounded-lg h-full overflow-auto",children:i.text})})]}):Z.jsx("div",{className:"text-center text-gray-500 py-8",children:"Unable to generate instructions"})}),Z.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[Z.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"}),Z.jsx("div",{className:"flex-1"}),Z.jsxs("button",{onClick:o,disabled:!i,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 transition-colors flex items-center gap-2",children:[Z.jsx("span",{children:""})," Copy"]}),Z.jsxs("button",{onClick:l,disabled:!i,className:"px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors flex items-center gap-2",children:[Z.jsx("span",{children:""})," Download"]})]})]})})}function hg(n){let e=255,t=0,r=255,s=0,i=255,o=0;for(const[l,u,a]of n)e=Math.min(e,l),t=Math.max(t,l),r=Math.min(r,u),s=Math.max(s,u),i=Math.min(i,a),o=Math.max(o,a);return{colors:n,rMin:e,rMax:t,gMin:r,gMax:s,bMin:i,bMax:o}}function Lk(n){const e=n.rMax-n.rMin,t=n.gMax-n.gMin,r=n.bMax-n.bMin;let s;e>=t&&e>=r?s=0:t>=r?s=1:s=2,n.colors.sort((o,l)=>o[s]-l[s]);const i=Math.floor(n.colors.length/2);return[hg(n.colors.slice(0,i)),hg(n.colors.slice(i))]}function Rk(n){let e=0,t=0,r=0;for(const[i,o,l]of n.colors)e+=i,t+=o,r+=l;const s=n.colors.length;return[Math.round(e/s),Math.round(t/s),Math.round(r/s)]}function Dk(n,e){if(n.length===0)return[];if(n.length<=e){const r=new Set,s=[];for(const[i,o,l]of n){const u=`${i},${o},${l}`;r.has(u)||(r.add(u),s.push([i,o,l]))}return s}let t=[hg(n)];for(;t.length<e;){let r=0,s=0;for(let l=0;l<t.length;l++)t[l].colors.length>s&&(s=t[l].colors.length,r=l);if(s<=1)break;const[i,o]=Lk(t[r]);t.splice(r,1,i,o)}return t.map(Rk)}function Ik(n,e){const t=n[0]-e[0],r=n[1]-e[1],s=n[2]-e[2];return t*t+r*r+s*s}function Fk(n,e){let t=1/0,r=0;for(let s=0;s<e.length;s++){const i=Ik(n,e[s]);i<t&&(t=i,r=s)}return r}function Bk(n,e,t){return"#"+[n,e,t].map(r=>r.toString(16).padStart(2,"0")).join("")}async function zk(n,e){const{targetWidth:t,targetHeight:r,maxColors:s,rotation:i}=e,o=await Uk(n),l=document.createElement("canvas"),u=l.getContext("2d");let a=t,c=r;(i===90||i===270)&&(a=r,c=t),l.width=a,l.height=c,u.save(),i===90?(u.translate(a,0),u.rotate(90*Math.PI/180)):i===180?(u.translate(a,c),u.rotate(180*Math.PI/180)):i===270&&(u.translate(0,c),u.rotate(270*Math.PI/180));const d=i===90||i===270?r:t,f=i===90||i===270?t:r;u.drawImage(o,0,0,d,f),u.restore();const p=u.getImageData(0,0,a,c).data,y=[];for(let C=0;C<p.length;C+=4){const j=p[C],I=p[C+1],q=p[C+2];p[C+3]>128&&y.push([j,I,q])}const m=Dk(y,s),g=m.map((C,j)=>({id:ga(),color:Bk(C[0],C[1],C[2]),name:`Color ${j+1}`,abbreviation:`C${j+1}`})),b=[];let w=0;for(let C=0;C<c;C++){b[C]=[];for(let j=0;j<a;j++){const I=p[w],q=p[w+1],P=p[w+2],U=p[w+3];if(w+=4,U>128&&m.length>0){const W=Fk([I,q,P],m);b[C][j]={colorId:g[W].id,symbolId:null}}else b[C][j]={colorId:null,symbolId:null}}}return{cells:b,palette:g,width:a,height:c}}function Uk(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=t,r.src=URL.createObjectURL(n)})}function qk(){const n=yn(C=>C.closeDialog),e=yn(C=>C.setView),t=yn(C=>C.addToast),r=Te.useRef(null),s=Te.useRef(null),[i,o]=Te.useState(null),[l,u]=Te.useState(null),[a,c]=Te.useState(!1),[d,f]=Te.useState({targetWidth:50,targetHeight:50,maxColors:10,rotation:0}),[h,p]=Te.useState("Imported Chart"),[y,m]=Te.useState("colorwork");Te.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]);const g=C=>{var I;const j=(I=C.target.files)==null?void 0:I[0];if(j&&j.type.startsWith("image/")){o(j),l&&URL.revokeObjectURL(l),u(URL.createObjectURL(j));const q=j.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ");p(q||"Imported Chart")}},b=C=>{C.preventDefault();const j=C.dataTransfer.files[0];if(j&&j.type.startsWith("image/")){o(j),l&&URL.revokeObjectURL(l),u(URL.createObjectURL(j));const I=j.name.replace(/\.[^.]+$/,"").replace(/[-_]/g," ");p(I||"Imported Chart")}},w=async()=>{if(i){c(!0);try{const C=await zk(i,d),j=ga(),I=new Date,q={id:j,name:h,chartType:y,createdAt:I,updatedAt:I,settings:{width:C.width,height:C.height,gaugeH:1,gaugeV:1,gridLines:{show:!0,color:"#cccccc",thickness:1,highlight5:!0,highlight10:!0,highlight5Color:"#999999",highlight10Color:"#666666"},showNumbers:!0},grid:{cells:C.cells},palette:C.palette};await Sh(q),await be.getState().loadProject(j)&&(n(),e("editor"),t("Image imported successfully","success"))}catch(C){console.error("Import failed:",C),t("Failed to import image","error")}finally{c(!1)}}};return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-[600px] max-h-[90vh] overflow-y-auto",children:Z.jsxs("div",{className:"p-6",children:[Z.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Import Image"}),!i&&Z.jsxs("div",{onDrop:b,onDragOver:C=>C.preventDefault(),onClick:()=>{var C;return(C=r.current)==null?void 0:C.click()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 transition-colors",children:[Z.jsx("div",{className:"text-4xl mb-3",children:""}),Z.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-1",children:"Drag & drop an image here"}),Z.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"JPG, PNG, GIF supported"}),Z.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:g,className:"hidden"})]}),i&&Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("div",{className:"flex gap-4",children:[Z.jsxs("div",{className:"flex-1",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Original Image"}),Z.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-2 flex items-center justify-center h-40",children:l&&Z.jsx("img",{src:l,alt:"Preview",className:"max-h-full max-w-full object-contain",style:{transform:`rotate(${d.rotation}deg)`}})})]}),Z.jsxs("div",{className:"flex-1",children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Output Preview"}),Z.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-2 flex items-center justify-center h-40",children:[Z.jsx("canvas",{ref:s,className:"max-h-full max-w-full",style:{imageRendering:"pixelated"}}),Z.jsxs("div",{className:"text-sm text-gray-500",children:[d.targetWidth," x ",d.targetHeight," cells"]})]})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),Z.jsx("input",{type:"text",value:h,onChange:C=>p(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Chart Type"}),Z.jsxs("select",{value:y,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"colorwork",children:"Colorwork"}),Z.jsx("option",{value:"c2c",children:"Corner to Corner (C2C)"}),Z.jsx("option",{value:"filet",children:"Filet Crochet"}),Z.jsx("option",{value:"mosaic",children:"Overlay Mosaic"}),Z.jsx("option",{value:"tunisian",children:"Tunisian"})]})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width (cells)"}),Z.jsx("input",{type:"number",value:d.targetWidth,onChange:C=>f({...d,targetWidth:Math.max(1,Math.min(500,Number(C.target.value)))}),min:1,max:500,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height (cells)"}),Z.jsx("input",{type:"number",value:d.targetHeight,onChange:C=>f({...d,targetHeight:Math.max(1,Math.min(500,Number(C.target.value)))}),min:1,max:500,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Max Colors: ",d.maxColors]}),Z.jsx("input",{type:"range",value:d.maxColors,onChange:C=>f({...d,maxColors:Number(C.target.value)}),min:2,max:50,className:"w-full"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rotation"}),Z.jsx("div",{className:"flex gap-2",children:[0,90,180,270].map(C=>Z.jsxs("button",{onClick:()=>f({...d,rotation:C}),className:`flex-1 py-2 text-sm rounded-lg transition-colors ${d.rotation===C?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[C,""]},C))})]})]}),Z.jsx("button",{onClick:()=>{o(null),l&&(URL.revokeObjectURL(l),u(null))},className:"text-sm text-blue-500 hover:text-blue-600",children:"Choose different image"})]}),Z.jsxs("div",{className:"flex gap-3 mt-6",children:[Z.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),Z.jsx("button",{onClick:w,disabled:!i||a,className:"flex-1 px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Importing...":"Import"})]})]})})})}function $k(){const n=be(d=>d.project),e=n==null?void 0:n.progressTracker,t=be(d=>d.initProgressTracker),r=be(d=>d.setProgressRow),s=be(d=>d.nextProgressRow),i=be(d=>d.prevProgressRow),o=be(d=>d.updateProgressSettings),l=be(d=>d.clearProgressTracker);if(!n)return null;if(!e)return Z.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:Z.jsxs("div",{className:"text-center",children:[Z.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Progress Tracker"}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Track your progress through the chart row by row"}),Z.jsx("button",{onClick:t,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Enable Tracking"})]})});const u=e.currentRow,a=n.settings.height,c=Math.round((u+1)/a*100);return Z.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 space-y-4",children:[Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress Tracker"}),Z.jsx("button",{onClick:l,className:"text-xs text-gray-500 hover:text-red-500 transition-colors",title:"Disable tracking",children:"Disable"})]}),Z.jsxs("div",{className:"space-y-1",children:[Z.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[Z.jsxs("span",{children:["Row ",u+1," of ",a]}),Z.jsxs("span",{children:[c,"%"]})]}),Z.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:Z.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${c}%`}})})]}),Z.jsxs("div",{className:"flex items-center gap-2",children:[Z.jsx("button",{onClick:i,disabled:u<=0,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",title:"Previous row",children:Z.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),Z.jsx("input",{type:"number",value:u+1,onChange:d=>r(Number(d.target.value)-1),min:1,max:a,className:"flex-1 px-3 py-2 text-center text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),Z.jsx("button",{onClick:s,disabled:u>=a-1,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",title:"Next row",children:Z.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),Z.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Direction"}),Z.jsxs("select",{value:e.direction,onChange:d=>o({direction:d.target.value}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"horizontal",children:"Horizontal (rows)"}),Z.jsx("option",{value:"vertical",children:"Vertical (columns)"}),Z.jsx("option",{value:"diagonal",children:"Diagonal (C2C)"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Darken Mode"}),Z.jsxs("select",{value:e.darkenMode,onChange:d=>o({darkenMode:d.target.value}),className:"w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"done",children:"Darken completed rows"}),Z.jsx("option",{value:"todo",children:"Darken remaining rows"}),Z.jsx("option",{value:"except-current",children:"Darken all except current"}),Z.jsx("option",{value:"none",children:"No darkening"})]})]}),Z.jsxs("div",{children:[Z.jsxs("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:["Brightness: ",e.brightness,"%"]}),Z.jsx("input",{type:"range",value:e.brightness,onChange:d=>o({brightness:Number(d.target.value)}),min:10,max:90,className:"w-full"})]})]})]})}function Hk(){const n=yn(r=>r.closeDialog),e=ou(r=>r.settings),t=ou(r=>r.updateSettings);return Z.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:Z.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-[480px] max-h-[90vh] overflow-y-auto",children:Z.jsxs("div",{className:"p-6",children:[Z.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Settings"}),Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("section",{children:[Z.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"Appearance"}),Z.jsx("div",{className:"space-y-4",children:Z.jsxs("div",{className:"flex items-center justify-between",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dark Mode"}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Use dark theme for the interface"})]}),Z.jsx("button",{onClick:()=>t({darkMode:!e.darkMode}),className:`relative w-12 h-6 rounded-full transition-colors ${e.darkMode?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:Z.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${e.darkMode?"left-7":"left-1"}`})})]})})]}),Z.jsxs("section",{children:[Z.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"Preferences"}),Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Units"}),Z.jsxs("select",{value:e.units,onChange:r=>t({units:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"metric",children:"Metric (cm, mm)"}),Z.jsx("option",{value:"imperial",children:"Imperial (in)"})]})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Handedness"}),Z.jsxs("select",{value:e.handedness,onChange:r=>t({handedness:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[Z.jsx("option",{value:"right",children:"Right-handed"}),Z.jsx("option",{value:"left",children:"Left-handed"})]}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Affects row numbering direction in instructions"})]})]})]}),Z.jsxs("section",{children:[Z.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"Default New Chart Settings"}),Z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Width"}),Z.jsx("input",{type:"number",value:e.defaultGridWidth,onChange:r=>t({defaultGridWidth:Number(r.target.value)}),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Height"}),Z.jsx("input",{type:"number",value:e.defaultGridHeight,onChange:r=>t({defaultGridHeight:Number(r.target.value)}),min:1,max:1e3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gauge H"}),Z.jsx("input",{type:"number",value:e.defaultGaugeH,onChange:r=>t({defaultGaugeH:Number(r.target.value)}),min:.1,max:10,step:.1,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Gauge V"}),Z.jsx("input",{type:"number",value:e.defaultGaugeV,onChange:r=>t({defaultGaugeV:Number(r.target.value)}),min:.1,max:10,step:.1,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Gauge affects stitch proportions for non-square stitches"})]}),Z.jsxs("section",{children:[Z.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:"About"}),Z.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[Z.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"StitchFizzle v1.0.0"}),Z.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Free, open-source crochet chart creator. All data stored locally."}),Z.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline mt-2 inline-block",children:"View on GitHub"})]})]})]}),Z.jsx("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:Z.jsx("button",{onClick:n,className:"flex-1 px-4 py-2 text-white bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",children:"Done"})})]})})})}function Wk(){const n=be(m=>m.project),e=be(m=>m.setActiveTool),t=be(m=>m.undo),r=be(m=>m.redo),s=be(m=>m.saveCurrentProject),i=be(m=>m.setZoom),o=be(m=>m.zoom),l=be(m=>m.clearSelection),u=be(m=>m.copySelection),a=be(m=>m.pasteSelection),c=be(m=>m.fillSelection),d=be(m=>m.selection),f=be(m=>m.nextProgressRow),h=be(m=>m.prevProgressRow),p=n==null?void 0:n.progressTracker,y=yn(m=>m.view);Te.useEffect(()=>{const m=b=>{if(y!=="editor"||!n||b.target instanceof HTMLInputElement||b.target instanceof HTMLTextAreaElement)return;const w=b.ctrlKey||b.metaKey;if(!w&&!b.altKey&&!b.shiftKey)switch(b.key.toLowerCase()){case"d":b.preventDefault(),e("draw");break;case"e":b.preventDefault(),e("erase");break;case"f":b.preventDefault(),e("fill");break;case"s":b.preventDefault(),e("select");break;case"i":b.preventDefault(),e("eyedropper");break;case" ":b.preventDefault(),e("pan");break;case"escape":b.preventDefault(),l();break;case"delete":case"backspace":d&&(b.preventDefault(),c(null));break;case"arrowdown":p&&(b.preventDefault(),f());break;case"arrowup":p&&(b.preventDefault(),h());break}if(w)switch(b.key.toLowerCase()){case"z":b.preventDefault(),b.shiftKey?r():t();break;case"y":b.preventDefault(),r();break;case"s":b.preventDefault(),s();break;case"=":case"+":b.preventDefault(),i(o+.1);break;case"-":b.preventDefault(),i(o-.1);break;case"0":b.preventDefault(),i(1);break;case"c":d&&(b.preventDefault(),u());break;case"v":d&&(b.preventDefault(),a());break}},g=b=>{b.key===" "&&be.getState().activeTool==="pan"&&e("draw")};return window.addEventListener("keydown",m),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",g)}},[n,y,e,t,r,s,i,o,l,u,a,c,d,f,h,p])}const Vk=3e4;function Xk(){const n=be(s=>s.project),e=be(s=>s.isDirty),t=be(s=>s.saveCurrentProject),r=Te.useRef(null);Te.useEffect(()=>{if(!(!n||!e))return r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t(),console.log("Auto-saved project:",n.name)},Vk),()=>{r.current&&clearTimeout(r.current)}},[n,e,t]),Te.useEffect(()=>{const s=()=>{n&&e&&t()};return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s)}},[n,e,t])}function Yk(){const n=yn(s=>s.view),e=yn(s=>s.activeDialog),t=ou(s=>s.loadSettings),r=be(s=>s.project);return Te.useEffect(()=>{t()},[t]),Wk(),Xk(),Z.jsxs(Z6,{children:[n==="projects"&&Z.jsx(a_,{}),n==="editor"&&r&&Z.jsx(Gk,{}),e==="newProject"&&Z.jsx(c_,{}),e==="export"&&Z.jsx(Tk,{}),e==="import"&&Z.jsx(Ak,{}),e==="imageImport"&&Z.jsx(qk,{}),e==="writtenInstructions"&&Z.jsx(Pk,{}),e==="settings"&&Z.jsx(Hk,{})]})}function Gk(){const n=be(l=>l.project),e=be(l=>l.activeSymbolId),t=be(l=>l.setActiveSymbol),[r,s]=Te.useState(!0);if(!n)return null;const i=n.chartType==="freeform",o=l=>{t(l.id)};return Z.jsxs("div",{className:"flex h-full relative",children:[Z.jsx("button",{onClick:()=>s(!r),className:"md:hidden absolute top-2 left-2 z-50 w-10 h-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg flex items-center justify-center border border-gray-200 dark:border-gray-700",title:r?"Hide palette":"Show palette",children:Z.jsx("span",{className:"text-lg",children:r?"":""})}),Z.jsx("div",{className:`flex flex-col w-64 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 transition-all duration-300 ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 absolute md:relative h-full z-40`,children:i?Z.jsxs(Z.Fragment,{children:[Z.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[Z.jsx("div",{className:"h-48 border-b border-gray-200 dark:border-gray-700",children:Z.jsx(lS,{selectedSymbolId:e,onSelect:o})}),Z.jsx("div",{className:"flex-1 overflow-hidden",children:Z.jsx(lb,{})})]}),Z.jsx("div",{className:"h-48 border-t border-gray-200 dark:border-gray-700",children:Z.jsx(uS,{})})]}):Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:"flex-1 overflow-hidden",children:Z.jsx(lb,{})}),Z.jsx($k,{})]})}),r&&Z.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-30",onClick:()=>s(!1)}),Z.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[Z.jsx(nS,{}),Z.jsx("div",{className:"flex-1",children:i?Z.jsx(rS,{}):Z.jsx(tS,{})})]})]})}H5(document.getElementById("root")).render(Z.jsx(Te.StrictMode,{children:Z.jsx(Yk,{})}));export{ln as _,qr as c,fg as g};
